(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[792],{9838:(nt,ye,d)=>{"use strict";d.d(ye,{$9:()=>S,S9:()=>p,Vk:()=>e});var t=d(4438);let e=(()=>{class C{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275prov=t.jDH({token:C,factory:C.\u0275fac})}}return C})();class p{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let S=(()=>{class C{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return C})()},520:(nt,ye,d)=>{"use strict";d.d(ye,{W:()=>de});var t=d(177),e=d(1583),p=d(9417),S=d(779),C=d(534),w=d(8400),g=d(8939),h=d(1780),E=d(8455),v=d(7005),B=d(367),U=d(5731),a=d(4193),k=d(3665),O=d(7175),P=d(1993),W=d(8389),N=d(3843),H=d(7677),G=d(1683),z=d(4367),ce=d(4438);let de=(()=>{class Y{static{this.\u0275fac=function(I){return new(I||Y)}}static{this.\u0275mod=ce.$C({type:Y})}static{this.\u0275inj=ce.G2t({providers:[g.R],imports:[t.MD,p.YN,p.X1,w.qP,C.Ss,S.Q_,e.iI,h.h,E.p,v.XE,B.m,U.i,a.c,k.t,O.c,P.E,W.w,N.G,H.N,G.Y,z.N]})}}return Y})()},7275:(nt,ye,d)=>{"use strict";d.d(ye,{Q:()=>E});var t=d(177),e=d(1780),p=d(779),S=d(4193),C=d(8251),w=d(8389),g=d(7677),h=d(4438);let E=(()=>{class v{static{this.\u0275fac=function(a){return new(a||v)}}static{this.\u0275mod=h.$C({type:v})}static{this.\u0275inj=h.G2t({imports:[p.Q_,e.h,t.MD,C.h,S.c,w.w,g.N]})}}return v})()},4652:(nt,ye,d)=>{"use strict";d.d(ye,{T:()=>pe});var t=d(4438),e=d(4252),p=d(7921),S=d(6303),C=d(4549),w=d(1589),g=d(1780),h=d(9812),E=d(779),v=d(177),B=d(8577),U=d(7294),a=d(8698),k=d(8762);const O=["deleteCertModal"],P=[[["","addButton",""]]],W=["[addButton]"],N=K=>[K],H=()=>({animated:!1,backdrop:"static"});function G(K,he){if(1&K){const Oe=t.RV6();t.j41(0,"button",13),t.bIt("click",function(){t.eBV(Oe);const Fe=t.XpG(3);return t.Njj(Fe.openDeleteModal(Fe.certificates[0]))}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&K){const Oe=t.XpG(3);t.Y8G("disabled",Oe.deleteCertDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function z(K,he){if(1&K&&(t.j41(0,"app-action-bar",10),t.qex(1,11),t.SdG(2),t.DNE(3,G,3,4,"button",12),t.bVm(),t.k0s()),2&K){const Oe=t.XpG(2);t.R7$(3),t.Y8G("ngIf",(null==Oe.certificates?null:Oe.certificates.length)>0)}}function ce(K,he){1&K&&(t.j41(0,"div",14),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function de(K,he){1&K&&(t.j41(0,"div",15),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&K&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.NoCertificates")," "))}function Y(K,he){if(1&K&&(t.qex(0),t.j41(1,"app-form-row",16),t.nrm(2,"app-readonly",17),t.k0s(),t.j41(3,"app-form-row",16),t.nrm(4,"app-readonly",17),t.k0s(),t.j41(5,"app-form-row",18),t.nrm(6,"app-readonly",17)(7,"p",19),t.k0s(),t.bVm()),2&K){const Oe=t.XpG(2);t.R7$(),t.Y8G("label","Common.Subject"),t.R7$(),t.Y8G("values",t.eq3(11,N,Oe.readOnlyCertificate.subject))("fieldType",Oe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.Thumbprint"),t.R7$(),t.Y8G("values",t.eq3(13,N,Oe.readOnlyCertificate.thumbprint))("fieldType",Oe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("label","Common.ExpiresOn")("isLast",!0),t.R7$(),t.Y8G("values",t.eq3(15,N,Oe.readOnlyCertificate.expiration))("fieldType",Oe.ReadOnlyFieldType.Single),t.R7$(),t.Y8G("innerHTML",Oe.displayExpiry(null==Oe.readOnlyCertificate?null:Oe.readOnlyCertificate.expiration.MainText),t.npT)}}function Z(K,he){if(1&K&&(t.j41(0,"div",5),t.DNE(1,z,4,1,"app-action-bar",6)(2,ce,3,3,"div",7)(3,de,3,3,"div",8)(4,Y,8,17,"ng-container",9),t.k0s()),2&K){const Oe=t.XpG();t.R7$(),t.Y8G("ngIf",!Oe.isReadOnly),t.R7$(),t.Y8G("ngIf",Oe.deleteCertDisabled&&!Oe.isReadOnly),t.R7$(),t.Y8G("ngIf",(null==Oe.certificates?null:Oe.certificates.length)<1),t.R7$(),t.Y8G("ngIf",1==(null==Oe.certificates?null:Oe.certificates.length)&&Oe.readOnlyCertificate)}}function ne(K,he){if(1&K){const Oe=t.RV6();t.j41(0,"app-data-table",20),t.bIt("onDelete",function(Fe){t.eBV(Oe);const qe=t.XpG();return t.Njj(qe.openDeleteModal(Fe))}),t.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),t.k0s()}if(2&K){const Oe=t.XpG();t.Y8G("isReadOnly",Oe.isReadOnly)("rows",Oe.certificates)("norowslabel","Clients.NoCertificates")("actions",Oe.dataTableActions),t.R7$(),t.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),t.R7$(),t.Y8G("prop","expiration")("formatter",Oe.displayExpiry.bind(Oe))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function I(K,he){if(1&K){const Oe=t.RV6();t.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",29),t.bIt("click",function(){t.eBV(Oe);const Fe=t.XpG();return t.Njj(Fe.closeDeleteModal())}),t.nrm(9,"span",30),t.j41(10,"span",31),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",32),t.nrm(14,"p",33),t.nI1(15,"translate"),t.k0s(),t.nrm(16,"div",34),t.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),t.bIt("click",function(){t.eBV(Oe);const Fe=t.XpG();return t.Njj(Fe.removeCert())}),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"button",39),t.bIt("click",function(){t.eBV(Oe);const Fe=t.XpG();return t.Njj(Fe.closeDeleteModal())}),t.EFF(24),t.nI1(25,"translate"),t.k0s()()()()()()}2&K&&(t.Y8G("config",t.lJ4(16,H)),t.R7$(6),t.JRh(t.bMT(7,6,"Common.Delete.Confirm")),t.R7$(5),t.JRh(t.bMT(12,8,"Common.Close")),t.R7$(3),t.Y8G("innerHTML",t.bMT(15,10,"Common.Delete.Warning"),t.npT),t.R7$(7),t.JRh(t.bMT(22,12,"Common.Delete.Title")),t.R7$(3),t.JRh(t.bMT(25,14,"Common.Delete.No")))}let pe=(()=>{class K{set isReadOnly(Oe){this._isReadOnly=Oe||!1}get isReadOnly(){return this._isReadOnly}constructor(Oe,Ae){this.translateService=Oe,this.dataTableService=Ae,this.showSingle=!1,this.delete=new t.bkB,this.prettyDateTimePipe=new w.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Oe=>{this.openDeleteModal(Oe)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new p.b(this.certificates[0]):null}openDeleteModal(Oe){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Oe],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Oe){let Ae=C.c9.fromISO(Oe);const Fe=this.daysUntilExpiry(Ae);if(this.warnOfExpiry(Ae)){let qe='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return qe=qe.replace("{0}",this.translateService.instant("Common.ExpiresIn")),qe=qe.replace("{1}",Fe.toString()),qe=qe.replace("{2}",this.translateService.instant("Common.UntilExpiry")),qe}return this.prettyDateTimePipe.transform(Oe)}warnOfExpiry(Oe){return this.daysUntilExpiry(Oe)<=30&&this.daysUntilExpiry(Oe)>=1}daysUntilExpiry(Oe){const Ae=Oe.toMillis()-C.c9.now().toMillis();return Math.round(Ae/864e5)}get ReadOnlyFieldType(){return S.t}static{this.\u0275fac=function(Ae){return new(Ae||K)(t.rXU(g.c$),t.rXU(h.I))}}static{this.\u0275cmp=t.VBU({type:K,selectors:[["app-saml-cert-list"]],viewQuery:function(Ae,Fe){if(1&Ae&&t.GBs(O,5),2&Ae){let qe;t.mGM(qe=t.lsd())&&(Fe.deleteCertModal=qe.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[t.OA$],ngContentSelectors:W,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Ae,Fe){1&Ae&&(t.NAR(P),t.j41(0,"div",1),t.DNE(1,Z,5,4,"div",2)(2,ne,4,16,"app-data-table",3),t.k0s(),t.DNE(3,I,26,17,"div",4)),2&Ae&&(t.R7$(),t.Y8G("ngIf",Fe.showSingle),t.R7$(),t.Y8G("ngIf",!Fe.showSingle),t.R7$(),t.Y8G("ngIf",!Fe.isReadOnly))},dependencies:[E.hZ,v.bT,e.up,B.w,U.n,a.Y,k.O,g.D9],encapsulation:2,changeDetection:0})}}return K})()},5088:(nt,ye,d)=>{"use strict";d.d(ye,{E:()=>O});var t=d(9113),e=d(1744),p=d(1594),S=d(6799),C=d(4414),w=d(4438),g=d(5826),h=d(1780),E=d(177),v=d(7384);const B=(P,W)=>({"tw-btn-link":P,"tw-btn-success":W});function U(P,W){1&P&&(w.nrm(0,"app-simple-loader",7),w.nI1(1,"translate")),2&P&&w.Y8G("text",w.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function a(P,W){if(1&P&&(w.j41(0,"div",8)(1,"div")(2,"h2",9),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",10),w.EFF(6),w.k0s()()()),2&P){const N=w.XpG();w.R7$(3),w.JRh(w.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),w.R7$(3),w.JRh(N.getSuccessMessage())}}function k(P,W){if(1&P){const N=w.RV6();w.j41(0,"div",11)(1,"button",12),w.bIt("click",function(){w.eBV(N);const G=w.XpG();return w.Njj(G.downloadSecrets())}),w.EFF(2),w.nI1(3,"translate"),w.k0s()()}if(2&P){const N=w.XpG();w.R7$(),w.Y8G("disabled",N.disableButtons),w.R7$(),w.SpI(" ",w.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let O=(()=>{class P extends S.P{constructor(N,H,G){super(),this.clientImportService=N,this.importWizardService=H,this.translate=G,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,p.$)()).subscribe(N=>{const H=new t.SD;H.clients=[],H.protectedResources=[],N.forEach(G=>{if(G.selected){if(G.resourceType===e.ot.Client){const z=new t.Hh;z.useExistingSecrets=G.useExistingSecrets,z.useExistingCertificates=G.useExistingCertificates,z.resourceId=G.identifier,z.secrets=G.secrets,G.certificates&&(G.certificates.EncryptionCertificate&&(z.certificates.encryptionCertificate=G.certificates.EncryptionCertificate.base64Cert),G.certificates.SigningCertificates&&(z.certificates.signingCertificates=G.certificates.SigningCertificates.map(ce=>ce.base64Cert))),H.clients.push(z)}G.secrets&&G.secrets.length>0&&(this.canDownloadSecrets=!0)}G.resourceType===e.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(N,G,H.protectedResources),G.secrets&&G.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=H,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(N,H,G){H.dependantClients.forEach(z=>{const ce=N.find(de=>de.identifier===z.identifier);if(ce&&ce.selected){const de=new t.Hh;de.useExistingSecrets=H.useExistingSecrets,de.resourceId=H.identifier,de.secrets=H.secrets,G.push(de)}})}completeImport(){const N=this.getFileInStorage();this.clientImportService.completeImport(N,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},H=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const N=this.importConfiguration.clients.length;let H=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==N&&(H=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),H=H.replace("{0}",N)),H}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(C.M.importDownloadWarning)}static{this.\u0275fac=function(H){return new(H||P)(w.rXU(t.qJ),w.rXU(g.o),w.rXU(h.c$))}}static{this.\u0275cmp=w.VBU({type:P,selectors:[["app-complete-import"]],features:[w.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(H,G){1&H&&(w.DNE(0,U,2,3,"app-simple-loader",0),w.j41(1,"div",1),w.DNE(2,a,7,4,"div",2),w.k0s(),w.j41(3,"div",3)(4,"div",4),w.DNE(5,k,4,4,"div",5),w.j41(6,"button",6),w.bIt("click",function(){return G.goNext()}),w.EFF(7),w.nI1(8,"translate"),w.k0s()()()),2&H&&(w.Y8G("ngIf",G.isLoading),w.R7$(2),w.Y8G("ngIf",!G.isLoading),w.R7$(3),w.Y8G("ngIf",G.canDownloadSecrets),w.R7$(),w.Y8G("ngClass",w.l_i(8,B,G.canDownloadSecrets,!G.canDownloadSecrets))("disabled",G.disableButtons),w.R7$(),w.SpI(" ",w.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[E.YU,E.bT,v.d,h.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return P})()},8511:(nt,ye,d)=>{"use strict";d.r(ye),d.d(ye,{ClientModule:()=>Xi});var t=d(177),e=d(9417),p=d(1583),S=d(7005),C=d(779),w=d(534),g=d(1683),h=d(2261),E=d(983),v=d(6354),B=d(9437),U=d(8284),a=d(4438),k=d(9398),O=d(3577),P=d(5424);let W=(()=>{class Ie{constructor(_e,Je,gt){this.clientService=_e,this.clientCachingService=Je,this.errorService=gt}resolve(_e,Je){const gt=_e.paramMap.get("Id");return this.clientService.getClient(gt).pipe((0,v.T)(pn=>(this.clientCachingService.unsavedCache.next(pn),pn)),(0,B.W)(pn=>(404===pn.status?this.errorService.resourceNotFound(U.v.client):this.errorService.handleError(pn),(0,E.I)())))}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.KVO(k._),a.KVO(O.e),a.KVO(P.I))}}static{this.\u0275prov=a.jDH({token:Ie,factory:Ie.\u0275fac})}}return Ie})();var N=d(3384),H=d(4442),G=d(8892),z=d(8556),ce=d(2036),de=d(4193),Y=d(9475),Z=d(1993),ne=d(8251),I=d(6599),pe=d(8389),K=d(4367),he=d(1780),Oe=d(5731),Ae=d(3665),Fe=d(7175),qe=d(367),Me=d(9947),Te=d(6366),ge=d(5691),$e=d(9838),xe=d(7468),pt=d(7673),Le=d(1594),Ct=d(8173),ut=d(6701),hn=d(1626),mn=d(1068),Rt=function(Ie){return Ie.Client="Client",Ie.WsFed="WsFed",Ie.Saml="Saml",Ie}(Rt||{}),Dt=d(7263),q=d(9957),Q=d(9156),te=d(345),De=d(5794),Re=d(7499),at=d(3853),o=d(6719),ft=d(251),Ft=d(3680),_t=d(6728),lt=d(6406),Pt=d(7778);let tn=(()=>{class Ie{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return Ie})();var ct=d(8698),Lt=d(9550),Ce=d(2467);const le=["cloneClientModal"],j=["addClaimTypeModal"],ae=()=>({backdrop:"static",keyboard:"false"});function Ge(Ie,Nt){if(1&Ie&&(a.j41(0,"div",25)(1,"div"),a.EFF(2),a.k0s()()),2&Ie){const _e=a.XpG();a.R7$(2),a.JRh(_e.errorCode)}}function tt(Ie,Nt){if(1&Ie&&(a.j41(0,"app-form-row",16)(1,"app-form-toggle",26),a.nrm(2,"input",27),a.k0s()()),2&Ie){const _e=a.XpG();a.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",_e.clientType!==_e.clientTypes.Saml),a.R7$(),a.Y8G("id","cloneSecrets")}}function vt(Ie,Nt){1&Ie&&(a.j41(0,"app-form-row",16)(1,"app-form-toggle",26),a.nrm(2,"input",28),a.k0s()()),2&Ie&&(a.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),a.R7$(),a.Y8G("id","cloneCerts"))}let Bt=(()=>{class Ie{constructor(_e,Je,gt,pn,ni){this.clientsService=_e,this.fb=Je,this.localize=gt,this.router=pn,this.translate=ni,this.clientTypeKey=tn.Default,this.clientTypes=ut.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",e.k0.required],clientName:["",e.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=tn.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=tn.WsFed)}cloneClient(){const _e=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,_e).subscribe(Je=>{const gt=Je.headers.get("location");if(gt){this.clearForm();const pn=gt.lastIndexOf("/"),ni=gt.substring(pn+1),Di=[this.localize.translateRoute("/clients"),ni];this.router.navigate(Di)}},Je=>{this.errorCode=this.translate.instant(400===Je.status?`Errors.CloneClientError.${Je.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const _e=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Dt.Nl)(),clientName:_e,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Dt.Nl)()})}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(k._),a.rXU(e.ze),a.rXU(S.QG),a.rXU(p.Ix),a.rXU(he.c$))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-clone-client"]],viewQuery:function(Je,gt){if(1&Je&&(a.GBs(le,7),a.GBs(j,7)),2&Je){let pn;a.mGM(pn=a.lsd())&&(gt.cloneClientModal=pn.first),a.mGM(pn=a.lsd())&&(gt.addClaimTypeModal=pn.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(Je,gt){if(1&Je){const pn=a.RV6();a.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),a.EFF(6),a.nI1(7,"translate"),a.k0s(),a.j41(8,"button",6),a.bIt("click",function(){return a.eBV(pn),a.Njj(gt.clearForm())}),a.nrm(9,"span",7),a.j41(10,"span",8),a.EFF(11),a.nI1(12,"translate"),a.k0s()()(),a.j41(13,"div",9),a.DNE(14,Ge,3,1,"div",10),a.j41(15,"app-form-row",11),a.nI1(16,"keyToString"),a.j41(17,"div",12),a.nrm(18,"input",13),a.j41(19,"button",14),a.bIt("click",function(){return a.eBV(pn),a.Njj(gt.setRandomID())}),a.nrm(20,"span",15),a.j41(21,"span",8),a.EFF(22),a.nI1(23,"translate"),a.k0s()()()(),a.j41(24,"app-form-row",16),a.nrm(25,"input",17),a.k0s(),a.DNE(26,tt,3,5,"app-form-row",18)(27,vt,3,5,"app-form-row",18),a.k0s(),a.nrm(28,"div",19),a.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),a.bIt("click",function(){return a.eBV(pn),a.Njj(gt.cloneClient())}),a.EFF(33),a.nI1(34,"translate"),a.k0s()(),a.j41(35,"button",24),a.bIt("click",function(){return a.eBV(pn),a.Njj(gt.clearForm())}),a.EFF(36),a.nI1(37,"translate"),a.k0s()()()()()()}2&Je&&(a.Y8G("config",a.lJ4(30,ae)),a.R7$(6),a.JRh(a.bMT(7,18,"Clients.Clone.Title")),a.R7$(5),a.JRh(a.bMT(12,20,"Common.Close")),a.R7$(2),a.Y8G("formGroup",gt.newClientForm),a.R7$(),a.Y8G("ngIf",""!=gt.errorCode),a.R7$(),a.Y8G("id","cloneClientId")("label",a.bMT(16,22,gt.clientTypeKey))("help","Clients.IDHelp"),a.R7$(7),a.JRh(a.bMT(23,24,"Common.GenerateRandom")),a.R7$(2),a.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===gt.client.clientSecrets.length&&gt.clientType!==gt.clientTypes.Saml),a.R7$(2),a.Y8G("ngIf",0!==gt.client.clientSecrets.length),a.R7$(),a.Y8G("ngIf",gt.clientType===gt.clientTypes.Saml),a.R7$(5),a.Y8G("disabled",!gt.newClientForm.valid),a.R7$(),a.SpI(" ",a.bMT(34,26,"Common.Save")," "),a.R7$(3),a.JRh(a.bMT(37,28,"Common.Cancel")))},dependencies:[t.bT,e.me,e.Zm,e.BC,e.cb,e.j4,e.JD,ct.Y,Lt.m,C.hZ,he.D9,Ce.C],encapsulation:2})}}return Ie})();const ln=(Ie,Nt)=>({title:Ie,link:Nt}),sn=Ie=>[Ie];function Pn(Ie,Nt){1&Ie&&(a.j41(0,"option",29),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Nav.Saml")))}function $n(Ie,Nt){1&Ie&&(a.j41(0,"option",30),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.RelyingParty.Heading")))}function Vn(Ie,Nt){1&Ie&&(a.j41(0,"option",31),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.URLS.Title")))}function Mt(Ie,Nt){1&Ie&&(a.j41(0,"option",32),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Secrets")))}function On(Ie,Nt){1&Ie&&(a.j41(0,"option",33),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.CIBA")))}function Qt(Ie,Nt){1&Ie&&(a.j41(0,"span",34),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.SpI(" - ",a.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function mt(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",19),2&Ie&&a.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function St(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",19),2&Ie&&a.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function dt(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",19),2&Ie&&a.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ut(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",19),2&Ie&&a.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function rn(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",19),2&Ie&&a.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let Tn=(()=>{class Ie{constructor(_e,Je,gt,pn,ni,Di,gs,Sr,to,ki,Eo,vs,go,oo,To,us){this.clientsService=_e,this.clientCachingService=Je,this.relyingPartyCachingService=gt,this.serviceProviderCachingService=pn,this.samlClientService=ni,this.wsFedClientService=Di,this.clientViewService=gs,this.titleService=Sr,this.translate=to,this.errorService=ki,this.router=Eo,this.route=vs,this.toastr=go,this.localize=oo,this.dialogService=To,this.licenseService=us}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(_e=>{this.client=_e;const Je=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+$e.$9.SITE_TITLE;this.titleService.setTitle(Je),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(_e=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(_e=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,Le.$)()).subscribe({next:_e=>{this.licenseInfo=_e}})}checkSubmitEnabled(){const _e=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===_e.length||_e.some(Je=>!Je.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(_e){this.clientsService.deleteClient(_e).subscribe(Je=>{const gt=this.localize.translateRoute("/clients");this.router.navigate([gt]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},Je=>{const gt={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(Je,gt)&q.I.Toast)!==q.I.Toast&&this.toastr.error(gt.toastBody,gt.toastTitle)})}saveClient(){const _e=this.buildStreamArray();(0,xe.p)(_e).subscribe(Je=>{Je.some(pn=>pn instanceof hn.yz)?this.handleError(Je):this.handleSave(Je),this.checkSubmitEnabled()},Je=>{this.errorService.handleError(Je)})}buildStreamArray(){const _e=[];return this.clientCachingService.componentDirtyValidMap.size>0&&_e.push(this.clientsService.updateClient(this.client).pipe((0,v.T)(()=>Rt.Client),(0,B.W)(Je=>(0,pt.of)(Je)))),this.client.clientType===ut.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Le.$)()).subscribe(Je=>{const gt=JSON.parse(JSON.stringify(Je));gt.claimMappings=(0,Dt.Li)(Je.claimMappings),_e.push(this.wsFedClientService.updateRelyingParty(this.client.id,gt).pipe((0,v.T)(()=>Rt.WsFed),(0,B.W)(pn=>(0,pt.of)(pn))))}):this.client.clientType===ut.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Le.$)()).subscribe(Je=>{const gt=JSON.parse(JSON.stringify(Je));gt.claimMappings=(0,Dt.Li)(Je.claimMappings),_e.push(this.samlClientService.updateServiceProvider(this.client.id,gt).pipe((0,v.T)(()=>Rt.Saml),(0,B.W)(pn=>(0,pt.of)(pn))))}),_e}handleSave(_e){_e.forEach(Je=>{switch(Je){case Rt.WsFed:this.relyingPartyCachingService.onSave();break;case Rt.Saml:this.serviceProviderCachingService.onClientSave();break;case Rt.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(_e){const Je=_e.filter(gt=>gt instanceof hn.yz);Je.length===_e.length?this.errorService.handleError(Je[0]):400===Je[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(mn.R9(_e,Je))):this.errorService.handleError(Je[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(_e=>{_e&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(_e){this.router.navigate([_e],{relativeTo:this.route})}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(k._),a.rXU(O.e),a.rXU(Te.z),a.rXU(ge.d),a.rXU(Q.s),a.rXU(ce.c),a.rXU(Ct.q),a.rXU(te.hE),a.rXU(he.c$),a.rXU(P.I),a.rXU(p.Ix),a.rXU(p.nX),a.rXU(De.tw),a.rXU(S.QG),a.rXU(Re.o),a.rXU(at.X))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-edit-client"]],features:[a.Jv_([Ct.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(Je,gt){if(1&Je){const pn=a.RV6();a.j41(0,"app-title-bar",2),a.nI1(1,"translate"),a.nI1(2,"localize"),a.qex(3,3),a.j41(4,"div",4)(5,"label",5),a.EFF(6),a.nI1(7,"translate"),a.k0s(),a.j41(8,"div",6)(9,"select",7),a.bIt("change",function(Di){return a.eBV(pn),a.Njj(gt.mobRoute(Di.target.value))}),a.j41(10,"option",8),a.EFF(11),a.nI1(12,"translate"),a.k0s(),a.j41(13,"option",8),a.EFF(14),a.nI1(15,"translate"),a.k0s(),a.DNE(16,Pn,3,3,"option",9)(17,$n,3,3,"option",10)(18,Vn,3,3,"option",11)(19,Mt,3,3,"option",12),a.j41(20,"option",13),a.EFF(21),a.nI1(22,"translate"),a.k0s(),a.DNE(23,On,3,3,"option",14),a.j41(24,"option",15),a.EFF(25),a.nI1(26,"translate"),a.k0s(),a.j41(27,"option",16),a.EFF(28),a.nI1(29,"translate"),a.DNE(30,Qt,3,3,"span",17),a.k0s()()()(),a.j41(31,"app-custom-tabs",18),a.nrm(32,"app-custom-tab",19),a.DNE(33,mt,1,2,"app-custom-tab",20)(34,St,1,2,"app-custom-tab",20)(35,dt,1,2,"app-custom-tab",20)(36,Ut,1,2,"app-custom-tab",20),a.nrm(37,"app-custom-tab",19),a.DNE(38,rn,1,2,"app-custom-tab",20),a.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),a.k0s(),a.bVm(),a.k0s(),a.j41(41,"div",22),a.nrm(42,"router-outlet"),a.k0s(),a.j41(43,"app-button-bar")(44,"button",23),a.bIt("click",function(){return a.eBV(pn),a.Njj(gt.saveClient())}),a.j41(45,"span"),a.EFF(46),a.nI1(47,"translate"),a.k0s()(),a.j41(48,"button",24),a.bIt("click",function(){a.eBV(pn);const Di=a.sdS(57);return a.Njj(Di.show())}),a.j41(49,"span"),a.EFF(50),a.nI1(51,"translate"),a.k0s()(),a.qex(52,25),a.j41(53,"button",26),a.bIt("click",function(){a.eBV(pn);const Di=a.sdS(59);return a.Njj(Di.show())}),a.EFF(54),a.nI1(55,"translate"),a.k0s(),a.bVm(),a.k0s(),a.nrm(56,"app-clone-client",27,0),a.j41(58,"app-delete-confirmation-modal",28,1),a.bIt("delete",function(){return a.eBV(pn),a.Njj(gt.deleteClient(gt.client.id))}),a.k0s(),a.nrm(60,"app-can-deactivate")}if(2&Je){let pn,ni;a.Y8G("title",gt.client.clientName)("crumbs",a.eq3(63,sn,a.l_i(60,ln,a.bMT(1,38,"Nav.Clients"),a.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),a.R7$(6),a.JRh(a.bMT(7,42,"Nav.SubMenu")),a.R7$(5),a.SpI("",a.bMT(12,44,"Nav.SubMenu"),"..."),a.R7$(3),a.JRh(a.bMT(15,46,"Nav.Details")),a.R7$(2),a.Y8G("ngIf",gt.clientViewService.saml.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.wsFed.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.applicationUrls.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.secrets.display),a.R7$(2),a.JRh(a.bMT(22,48,"Nav.Resources")),a.R7$(2),a.Y8G("ngIf",gt.clientViewService.ciba.display),a.R7$(2),a.JRh(a.bMT(26,50,"Common.Advanced")),a.R7$(3),a.SpI(" ",a.bMT(29,52,"Nav.Audits")," "),a.R7$(2),a.Y8G("ngIf",null!==(pn=null==gt.licenseInfo?null:gt.licenseInfo.isStarterLicense())&&void 0!==pn&&pn),a.R7$(2),a.Y8G("tabTitle","Nav.Details")("tabValue","details"),a.R7$(),a.Y8G("ngIf",gt.clientViewService.saml.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.wsFed.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.applicationUrls.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.secrets.display),a.R7$(),a.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),a.R7$(),a.Y8G("ngIf",gt.clientViewService.ciba.display),a.R7$(),a.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),a.R7$(),a.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(ni=null==gt.licenseInfo?null:gt.licenseInfo.isStarterLicense())&&void 0!==ni&&ni),a.R7$(4),a.Y8G("disabled",gt.submitDisabled),a.R7$(2),a.JRh(a.bMT(47,54,"Common.SaveAll")),a.R7$(2),a.Y8G("disabled",gt.isCloneDisabled()),a.R7$(2),a.JRh(a.bMT(51,56,"Clients.Clone.Label")),a.R7$(4),a.JRh(a.bMT(55,58,"Common.Delete.Title")),a.R7$(2),a.Y8G("client",gt.client)("clientType",gt.client.clientType),a.R7$(2),a.Y8G("resourceName",gt.client.clientName)}},dependencies:[p.n3,t.bT,e.xH,e.y7,o.G,ft.v,Ft.z,_t.E,lt.z,Pt.w,Bt,he.D9,S.tl],encapsulation:2})}}return Ie})();var yn=d(1413),yi=d(8412),ii=d(9172),xt=d(1397),bt=d(1986);d(78),d(6772),d(1927);class Rn{constructor(Nt){this.id=Nt.id,this.clientId=Nt.clientId,this.clientName=Nt.clientName,this.description=Nt.description,this.enabled=Nt.enabled,this.selected=!1,this.nonEditable=Nt.nonEditable,this.clientType=Nt.clientType}}var li=d(4313),kn=d(6026),Cn=d(6976);class wi{static{this.RestrictedClientTypes=[ut.s.ServerSide,ut.s.ServerSidePKCE,ut.s.Native,ut.s.NativePKCE,ut.s.Device,ut.s.Saml,ut.s.WsFed,ut.s.LegacyClientSide]}}var Ri=d(7883),ri=d(7156),zi=d(7294),ti=d(7384),Gn=d(7329),Ei=d(7957),Vi=d(8575),Yn=d(9988);class Ni{constructor(Nt){this.clientType=Nt}}class rt{constructor(Nt){this.clientType=Nt}}let It=(()=>{class Ie{constructor(_e){this.fb=_e}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",e.k0.required]})}getStepSummary(){const _e=new Map;return _e.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===ut.s.BrowserBased||this.data.clientType===ut.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Dt.kI)(this.callbackUrlForm.get("callbackUrl").value),_e.set("corsurl",[this.corsUrl])),_e}getStepDTO(){const _e=this.getStepSummary(),Je={};return _e.forEach((gt,pn)=>{"corsurl"===pn&&(pn="allowedCorsOrigins"),"callbackUrl"===pn&&(pn="redirectUris"),Je[pn]=gt}),Je}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0),a.nrm(1,"p",1),a.nI1(2,"translate"),a.k0s(),a.j41(3,"form",2)(4,"app-form-row",3),a.nrm(5,"input",4),a.k0s()()),2&Je&&(a.R7$(),a.Y8G("innerHTML",a.bMT(2,6,"Clients.CallbackURL"),a.npT),a.R7$(2),a.Y8G("formGroup",gt.callbackUrlForm),a.R7$(),a.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[e.qT,e.me,e.BC,e.cb,e.j4,e.JD,ct.Y,he.D9],encapsulation:2})}}return Ie})();class Ye{constructor(Nt,_e=tn.Default){this.clientType=Nt,this.clientIdKey=_e}}function Zt(Ie,Nt){1&Ie&&(a.j41(0,"div")(1,"app-form-row",2),a.nrm(2,"input",13),a.k0s(),a.j41(3,"app-form-row",2),a.nrm(4,"input",14),a.k0s()()),2&Ie&&(a.R7$(),a.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),a.R7$(2),a.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function ht(Ie,Nt){1&Ie&&(a.j41(0,"app-form-row",10)(1,"app-form-toggle",15),a.nrm(2,"input",16),a.k0s()()),2&Ie&&(a.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),a.R7$(),a.Y8G("id","requireConsent"))}let Xt=(()=>{class Ie{constructor(_e){this.fb=_e,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[e.k0.required,e.k0.maxLength(100),e.k0.pattern(/^\S*$/)]],clientName:["",[e.k0.required,e.k0.maxLength(50)]],description:["",e.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===ut.s.Native||this.data.clientType===ut.s.NativePKCE||this.data.clientType===ut.s.BrowserBased||this.data.clientType===ut.s.LegacyClientSide||this.data.clientType===ut.s.ServerSide||this.data.clientType===ut.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new e.hs("",e.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new e.hs("",e.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new e.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Dt.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const _e=new Map;for(const Je in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(Je)&&_e.set("clientId"===Je?this.clientIdKey:Je,[this.descriptionForm.value[Je]]);return _e.delete("clientType"),_e}getStepDTO(){const _e=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(_e.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(_e.logoUri=null)),_e}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0)(1,"p"),a.EFF(2),a.nI1(3,"translate"),a.k0s()(),a.j41(4,"div",1)(5,"app-form-row",2),a.nI1(6,"keyToString"),a.j41(7,"div",3),a.nrm(8,"input",4),a.j41(9,"button",5),a.bIt("click",function(){return gt.setRandomID()}),a.nrm(10,"span",6),a.j41(11,"span",7),a.EFF(12),a.nI1(13,"translate"),a.k0s()()()(),a.j41(14,"app-form-row",2),a.nrm(15,"input",8),a.k0s(),a.DNE(16,Zt,5,6,"div",9),a.j41(17,"app-form-row",10)(18,"textarea",11),a.bIt("blur",function(){return gt.desFocus=!gt.desFocus})("focus",function(){return gt.desFocus=!gt.desFocus}),a.k0s()(),a.DNE(19,ht,3,5,"app-form-row",12),a.k0s()),2&Je&&(a.R7$(2),a.JRh(a.bMT(3,15,"Clients.EnterBasicDetails")),a.R7$(2),a.Y8G("formGroup",gt.descriptionForm),a.R7$(),a.Y8G("id","ClientId")("label",a.bMT(6,17,gt.clientIdKey))("help","Clients.IDHelp"),a.R7$(7),a.JRh(a.bMT(13,19,"Common.GenerateRandom")),a.R7$(2),a.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),a.R7$(2),a.Y8G("ngIf",gt.hasExtraFields),a.R7$(),a.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!gt.hasExtraFields),a.R7$(2),a.Y8G("ngIf",gt.hasExtraFields))},dependencies:[t.bT,e.me,e.Zm,e.BC,e.cb,e.j4,e.JD,ct.Y,Lt.m,he.D9,Ce.C],encapsulation:2})}}return Ie})();var $t=d(9767),an=d(9764);const gn=["secretPicker"];let Ue=(()=>{class Ie{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const _e=new Map;return _e.set("secrets",this.secrets.map(Je=>Je.type)),_e}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(_e=>{this.secretPicker.clientSecrets.push(_e)}),this.secretPicker.secretsRemoveStream.subscribe(_e=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(_e),1)})}filePickerStateChanged(_e){this.filePickerClosed=!_e}static{this.\u0275fac=function(Je){return new(Je||Ie)}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-client-secret-picker"]],viewQuery:function(Je,gt){if(1&Je&&a.GBs(gn,7),2&Je){let pn;a.mGM(pn=a.lsd())&&(gt.secretPicker=pn.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(Je,gt){if(1&Je){const pn=a.RV6();a.j41(0,"p",1),a.EFF(1),a.nI1(2,"translate"),a.k0s(),a.j41(3,"app-secret-picker",2,0),a.bIt("filepickerDisplayed",function(Di){return a.eBV(pn),a.Njj(gt.filePickerStateChanged(Di))}),a.k0s()}2&Je&&(a.R7$(),a.JRh(a.bMT(2,4,"Clients.NativeApp.Secrets")),a.R7$(2),a.Y8G("clientSecrets",gt.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[an.s,he.D9],encapsulation:2,data:{animation:[(0,$t.Ws)()]}})}}return Ie})();function Xe(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.SloEndpoints")))}function ot(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.AcsEndpoints")))}function Vt(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.ArsEndpoints")))}function _n(Ie,Nt){1&Ie&&(a.j41(0,"option",13),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Post")))}function bn(Ie,Nt){1&Ie&&(a.j41(0,"option",14),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Redirect")))}function In(Ie,Nt){1&Ie&&(a.j41(0,"option",15),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Artifact")))}function Dn(Ie,Nt){1&Ie&&(a.j41(0,"option",16),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Soap")))}let _i=(()=>{class Ie{constructor(_e){this.fb=_e}hosted(){}ngOnInit(){const _e=[e.k0.pattern("^https?://.*$")],Je=[];"ACSEndpoint"===this.data.endpointType&&(_e.push(e.k0.required),Je.push(e.k0.required)),this.endpointForm=this.fb.group({location:["",_e],index:[0,[e.k0.min(0),e.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",Je]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const _e=this.endpointForm.get("location"),Je=this.endpointForm.get("binding");this.valueChangesSub=_e.valueChanges.subscribe(gt=>{Je.setValidators(gt.length>0?e.k0.required:null),Je.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let _e,Je;switch(this.data.endpointType){case"SLOEndpoint":_e="SLOBindingType",Je="SLOEndpointIndex";break;case"ACSEndpoint":_e="ACSBindingType",Je="ACSEndpointIndex";break;default:_e="ARSBindingType",Je="ARSEndpointIndex"}const gt=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[_e]:this.endpointForm.get("binding").value,[Je]:gt}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0),a.DNE(1,Xe,3,3,"p",1)(2,ot,3,3,"p",1)(3,Vt,3,3,"p",1),a.k0s(),a.j41(4,"form",2)(5,"app-form-row",3),a.nrm(6,"input",4),a.k0s(),a.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),a.DNE(10,_n,3,3,"option",7)(11,bn,3,3,"option",8)(12,In,3,3,"option",9)(13,Dn,3,3,"option",10),a.k0s()()(),a.j41(14,"app-form-row",11),a.nrm(15,"input",12),a.k0s()()),2&Je&&(a.R7$(),a.Y8G("ngIf","SLOEndpoint"==gt.data.endpointType),a.R7$(),a.Y8G("ngIf","ACSEndpoint"==gt.data.endpointType),a.R7$(),a.Y8G("ngIf","ARSEndpoint"==gt.data.endpointType),a.R7$(),a.Y8G("formGroup",gt.endpointForm),a.R7$(),a.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==gt.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==gt.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),a.R7$(2),a.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),a.R7$(3),a.Y8G("ngIf","ARSEndpoint"!=gt.data.endpointType),a.R7$(),a.Y8G("ngIf","ARSEndpoint"!=gt.data.endpointType),a.R7$(),a.Y8G("ngIf","ARSEndpoint"!=gt.data.endpointType),a.R7$(),a.Y8G("ngIf","ARSEndpoint"==gt.data.endpointType),a.R7$(),a.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[t.bT,e.qT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.cb,e.VZ,e.j4,e.JD,ct.Y,he.D9],encapsulation:2})}}return Ie})(),Ti=(()=>{class Ie{constructor(_e){this.fb=_e}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",e.k0.pattern("^https?://.*$")]})}getStepSummary(){const _e="logoutUrl",Je=new Map,gt=this.logoutUrlForm.value[_e];return(0,Dt.gP)(gt)||Je.set(_e,[gt]),Je}getStepDTO(){const _e=this.logoutUrlForm.value.logoutUrl;return(0,Dt.gP)(_e)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[_e]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0),a.nrm(1,"p",1),a.nI1(2,"translate"),a.k0s(),a.j41(3,"form",2)(4,"app-form-row",3),a.nrm(5,"input",4),a.k0s()()),2&Je&&(a.R7$(),a.Y8G("innerHTML",a.bMT(2,6,"Clients.PostLogoutURL"),a.npT),a.R7$(2),a.Y8G("formGroup",gt.logoutUrlForm),a.R7$(),a.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[e.qT,e.me,e.BC,e.cb,e.j4,e.JD,ct.Y,he.D9],encapsulation:2})}}return Ie})(),mi=(()=>{class Ie{constructor(_e){this.fb=_e}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",e.k0.required],pollingInterval:["",e.k0.required]})}getStepSummary(){const _e=new Map;return _e.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),_e.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===ut.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,_e.set("cibaLifetime",[this.cibaLifetime.toString()]),_e.set("pollingInterval",[this.pollingInterval.toString()])),_e}getStepDTO(){const _e=this.getStepSummary(),Je={};return _e.forEach((gt,pn)=>{"cibaLifetime"===pn&&(pn="cibaLifetime"),"pollingInterval"===pn&&(pn="pollingInterval"),Je[pn]=gt[0]}),Je}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0),a.nrm(1,"p",1),a.nI1(2,"translate"),a.k0s(),a.j41(3,"form",2)(4,"app-form-row",3),a.nrm(5,"input",4),a.k0s(),a.j41(6,"app-form-row",5),a.nrm(7,"input",6),a.k0s()()),2&Je&&(a.R7$(),a.Y8G("innerHTML",a.bMT(2,9,"Clients.CIBAConfiguration"),a.npT),a.R7$(2),a.Y8G("formGroup",gt.cibaConfigForm),a.R7$(),a.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),a.R7$(2),a.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[e.qT,e.me,e.Q0,e.BC,e.cb,e.j4,e.JD,ct.Y,he.D9],encapsulation:2})}}return Ie})();const rr=["commonPicker"];let br=(()=>{class Ie{constructor(_e,Je){this.wizardResourceService=Je,this.resourceType=_e}hosted(){}ngOnInit(){}getStepSummary(){const Je=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(gt=>gt.name);return new Map([[this.resourceType,Je]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(gt=>gt.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(Je){a.QTQ()}}static{this.\u0275dir=a.FsC({type:Ie,viewQuery:function(Je,gt){if(1&Je&&a.GBs(rr,7),2&Je){let pn;a.mGM(pn=a.lsd())&&(gt.commonPicker=pn.first)}}})}}return Ie})();var ei=d(8261),hi=d(2653),mr=d(4354);function Oi(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Pr(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Br=(()=>{class Ie extends br{constructor(_e,Je){super("identityResources",Je),this.identityResourceService=_e,this.wizardResourceService=Je,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(_e=>{const Je=_e.find(gt=>"openid"===gt.name);Je&&(_e.splice(_e.indexOf(Je),1),this.assignedResources=[Je],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=_e})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(_e=>{this.resources=(0,Dt.Yt)(this.resources.slice(),_e);const Je=this.assignedResources.slice();this.assignedResources=Je.concat(_e),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(_e=>{const Je=this.resources;this.assignedResources=(0,Dt.Yt)(this.assignedResources.slice(),_e),this.resources=Je.concat(_e),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(ei.A),a.rXU(hi.f))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["wizard-identity-resource-picker"]],features:[a.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",1),a.DNE(1,Oi,3,3,"p",2)(2,Pr,3,3,"p",2),a.k0s(),a.nrm(3,"app-common-picker",3,0)),2&Je&&(a.R7$(),a.Y8G("ngIf","protectedResources"==gt.resourceType),a.R7$(),a.Y8G("ngIf","identityResources"==gt.resourceType),a.R7$(),a.Y8G("assignedInput",gt.assignedResources)("availableInput",gt.resources))},dependencies:[t.bT,mr.f,he.D9],encapsulation:2})}}return Ie})();var ds=d(5893);function Vs(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Ai(Ie,Nt){1&Ie&&(a.j41(0,"p"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Lr=(()=>{class Ie extends br{constructor(_e,Je){super("protectedResources",Je),this.protectedResourceService=_e,this.wizardResourceService=Je,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(_e=>{const Je=[];_e.forEach(gt=>{gt.scopes.forEach(pn=>{Je.find(ni=>ni.name==pn.name)||Je.push(pn)})}),this.resources=Je})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(_e=>{this.resources=(0,Dt.Yt)(this.resources.slice(),_e);const Je=this.assignedResources.slice();this.assignedResources=Je.concat(_e),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(_e=>{const Je=this.resources;this.assignedResources=(0,Dt.Yt)(this.assignedResources.slice(),_e),this.resources=Je.concat(_e),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(ds.x),a.rXU(hi.f))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["wizard-protected-resource-picker"]],features:[a.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",1),a.DNE(1,Vs,3,3,"p",2)(2,Ai,3,3,"p",2),a.k0s(),a.nrm(3,"app-common-picker",3,0)),2&Je&&(a.R7$(),a.Y8G("ngIf","protectedResources"==gt.resourceType),a.R7$(),a.Y8G("ngIf","identityResources"==gt.resourceType),a.R7$(),a.Y8G("assignedInput",gt.assignedResources)("availableInput",gt.resources))},dependencies:[t.bT,mr.f,he.D9],encapsulation:2})}}return Ie})();class ss extends Ei.p{constructor(){super(),this.nameComponentMap.set(Yn.$.SinglePageApplication,[new Gn.W(Xt,new Ye(ut.s.BrowserBased)),new Gn.W(It,new rt(ut.s.BrowserBased)),new Gn.W(Ti,new Ni(ut.s.BrowserBased)),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameComponentMap.set(Yn.$.LegacySinglePageApplication,[new Gn.W(Xt,new Ye(ut.s.LegacyClientSide)),new Gn.W(It,new rt(ut.s.LegacyClientSide)),new Gn.W(Ti,new Ni(ut.s.LegacyClientSide)),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameComponentMap.set(Yn.$.SamlApplication,[new Gn.W(Xt,new Ye(ut.s.Saml,tn.Saml)),new Gn.W(_i,{endpointType:"ACSEndpoint"}),new Gn.W(_i,{endpointType:"SLOEndpoint"}),new Gn.W(_i,{endpointType:"ARSEndpoint"}),new Gn.W(Br)]),this.nameComponentMap.set(Yn.$.WsFedApplication,[new Gn.W(Xt,new Ye(ut.s.WsFed,tn.WsFed)),new Gn.W(It,new rt(ut.s.WsFed)),new Gn.W(Br)]),this.nameComponentMap.set(Yn.$.DeviceApplication,[new Gn.W(Xt,new Ye(ut.s.Device)),new Gn.W(Lr,{}),new Gn.W(Br,{})]),this.nameComponentMap.set(Yn.$.RobotApplication,[new Gn.W(Xt,new Ye(ut.s.Machine)),new Gn.W(Lr,{}),new Gn.W(Ue,{})]),this.nameComponentMap.set(Yn.$.CIBARobotApplication,[new Gn.W(Xt,new Ye(ut.s.CIBAMachine)),new Gn.W(Br,{}),new Gn.W(Lr,{}),new Gn.W(Ue,{}),new Gn.W(mi,{})]),this.nameComponentMap.set(Yn.$.NativeApplication,[new Gn.W(Xt,new Ye(ut.s.Native)),new Gn.W(It,new rt(ut.s.Native)),new Gn.W(Ue,{}),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameComponentMap.set(Yn.$.PKCENativeApplication,[new Gn.W(Xt,new Ye(ut.s.NativePKCE)),new Gn.W(It,new rt(ut.s.NativePKCE)),new Gn.W(Ue,{}),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameComponentMap.set(Yn.$.WebApplication,[new Gn.W(Xt,new Ye(ut.s.ServerSide)),new Gn.W(It,new rt(ut.s.ServerSide)),new Gn.W(Ti,new Ni(ut.s.ServerSide)),new Gn.W(Ue,{}),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameComponentMap.set(Yn.$.PKCEWebApplication,[new Gn.W(Xt,new Ye(ut.s.ServerSidePKCE)),new Gn.W(It,new rt(ut.s.ServerSidePKCE)),new Gn.W(Ti,new Ni(ut.s.ServerSidePKCE)),new Gn.W(Ue,{}),new Gn.W(Br,{}),new Gn.W(Lr,{})]),this.nameTitleMap.set(Yn.$.SinglePageApplication,new Vi.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(Yn.$.LegacySinglePageApplication,new Vi.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(Yn.$.DeviceApplication,new Vi.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(Yn.$.RobotApplication,new Vi.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(Yn.$.CIBARobotApplication,new Vi.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(Yn.$.NativeApplication,new Vi.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Yn.$.PKCENativeApplication,new Vi.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(Yn.$.WebApplication,new Vi.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(Yn.$.PKCEWebApplication,new Vi.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(Yn.$.SamlApplication,new Vi.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(Yn.$.WsFedApplication,new Vi.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(Nt){return this.nameComponentMap.get(Nt)}getWizardTitle(Nt){return this.nameTitleMap.get(Nt)}}var kr=d(7425),Ds=d(9006),Er=d(1715);function Tr(Ie,Nt){}function Pi(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",17),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.nextTab())}),a.EFF(1),a.nI1(2,"translate"),a.k0s()}if(2&Ie){const _e=a.XpG();a.Y8G("disabled",!_e.canNext()),a.R7$(),a.JRh(a.bMT(2,2,"Common.Next"))}}function Xs(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",18),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.submit())}),a.EFF(1),a.nI1(2,"translate"),a.k0s()}2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Save")))}function gi(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",19),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.previousTab())}),a.EFF(1),a.nI1(2,"translate"),a.k0s()}2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Back")))}function _o(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",19),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.cancelWizard())}),a.EFF(1),a.nI1(2,"translate"),a.k0s()}2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Back")))}let Zn=(()=>{class Ie extends kr.g{constructor(_e,Je,gt,pn){super(),this.clientsService=_e,this.errorService=Je,this.toastr=gt,this.translate=pn,this.wizardProvider=new ss,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const _e=[];this.wizardSteps.forEach((Je,gt)=>{const ni=this.components.get(gt).instance.getStepSummary();null!=ni&&_e.push({stepName:`ClientStep${gt}`,stepData:ni})}),this.displaySummaryComponent(_e)}displaySummaryComponent(_e){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(Ds.b)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=_e,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Le.$)()).subscribe(Je=>{this.index=_e.findIndex(gt=>gt.stepName===Je),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let _e={};return this.wizardSteps.forEach((Je,gt)=>{const ni=this.components.get(gt).instance.getStepDTO();_e=Object.assign({},_e,ni)}),_e}submit(){const _e=this.getWizardDto();this.clientsService.addClient(_e).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+_e.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:Je=>{this.errorService.handleError(Je)}})}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(k._),a.rXU(P.I),a.rXU(De.tw),a.rXU(he.c$))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-client-wizard-host"]],features:[a.Jv_([k._]),a.Vt3],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0)(1,"h5",1),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"button",2),a.bIt("click",function(){return gt.hideWizard()}),a.nrm(5,"span",3),a.j41(6,"span",4),a.EFF(7),a.nI1(8,"translate"),a.k0s()()(),a.j41(9,"div",5),a.nrm(10,"div",6),a.k0s(),a.j41(11,"div",7),a.DNE(12,Tr,0,0,"ng-template",8),a.k0s(),a.nrm(13,"div",9),a.j41(14,"div",10)(15,"div",11)(16,"div",12),a.DNE(17,Pi,3,4,"button",13)(18,Xs,3,3,"button",14)(19,gi,3,3,"button",15)(20,_o,3,3,"button",15),a.k0s(),a.j41(21,"button",16),a.bIt("click",function(){return gt.cancelWizard()}),a.EFF(22),a.nI1(23,"translate"),a.k0s()()()),2&Je&&(a.R7$(),a.Y8G("id",gt.titleId),a.R7$(),a.JRh(a.bMT(3,11,gt.wizardTitles.setupTitle)),a.R7$(5),a.JRh(a.bMT(8,13,"Common.Close")),a.R7$(3),a.xc7("width",gt.progressPercent+"%"),a.BMQ("aria-valuenow",gt.progressPercent),a.R7$(7),a.Y8G("ngIf",gt.index<(null==gt.wizardSteps?null:gt.wizardSteps.length)),a.R7$(),a.Y8G("ngIf",gt.index==(null==gt.wizardSteps?null:gt.wizardSteps.length)),a.R7$(),a.Y8G("ngIf",gt.index>0),a.R7$(),a.Y8G("ngIf",gt.index<=0),a.R7$(2),a.JRh(a.bMT(23,15,"Common.Cancel")))},dependencies:[t.bT,Er.t,he.D9],encapsulation:2})}}return Ie})();const Ur=(Ie,Nt,_e,Je)=>({id:"spaBtn",btnId:"spaTestBtn",title:Ie,summary:Nt,icon:"fab fa-chrome",selected:_e,type:Je}),Ir=(Ie,Nt,_e,Je)=>({id:"webAppBtn",btnId:"webAppTestBtn",title:Ie,summary:Nt,icon:"fas fa-globe",selected:_e,type:Je}),Ar=(Ie,Nt,_e,Je)=>({id:"nativeBtn",btnId:"nativeTestBtn",title:Ie,summary:Nt,icon:"fas fa-mobile-alt",selected:_e,type:Je}),Dr=(Ie,Nt,_e,Je)=>({id:"robotBtn",btnId:"robotTestBtn",title:Ie,summary:Nt,icon:"fas fa-microchip",selected:_e,type:Je}),Nr=(Ie,Nt,_e,Je)=>({id:"deviceBtn",btnId:"deviceTestBtn",title:Ie,summary:Nt,icon:"fas fa-wifi",selected:_e,type:Je}),Vr=(Ie,Nt,_e,Je)=>({id:"samlBtn",btnId:"samlTestBtn",title:Ie,summary:Nt,icon:"fas fa-code",selected:_e,type:Je}),or=(Ie,Nt,_e,Je)=>({id:"wsfedBtn",btnId:"wsfedTestBtn",title:Ie,summary:Nt,icon:"far fa-id-card",selected:_e,type:Je}),Li=(Ie,Nt,_e,Je)=>({id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:Ie,summary:Nt,icon:"fab fa-chrome",selected:_e,type:Je}),si=(Ie,Nt,_e,Je)=>({id:"webAppBtn",btnId:"webAppTestBtn",title:Ie,summary:Nt,icon:"fas fa-globe",selected:_e,starterModeProtected:!0,type:Je}),jr=(Ie,Nt,_e,Je)=>({id:"nativeBtn",btnId:"nativeTestBtn",title:Ie,summary:Nt,icon:"fas fa-mobile-alt",selected:_e,starterModeProtected:!0,type:Je}),gr=(Ie,Nt,_e,Je)=>({id:"deviceBtn",btnId:"deviceTestBtn",title:Ie,summary:Nt,icon:"fas fa-wifi",selected:_e,starterModeProtected:!0,type:Je}),zr=(Ie,Nt,_e,Je)=>({id:"samlBtn",btnId:"samlTestBtn",title:Ie,summary:Nt,icon:"fas fa-code",selected:_e,starterModeProtected:!0,type:Je}),os=(Ie,Nt,_e,Je)=>({id:"wsfedBtn",btnId:"wsfedTestBtn",title:Ie,summary:Nt,icon:"far fa-id-card",selected:_e,starterModeProtected:!0,type:Je}),js=(Ie,Nt,_e,Je)=>({id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:Ie,summary:Nt,icon:"fab fa-chrome",selected:_e,starterModeProtected:!0,type:Je}),bo=(Ie,Nt)=>({"tw-bg-green-200":Ie,"tw-bg-primary-200":Nt}),bs=(Ie,Nt,_e)=>({"tw-bg-green-500":Ie,"tw-bg-primary-500":Nt,"tw-bg-grey-200":_e}),vr=(Ie,Nt,_e)=>({"tw-text-white":Ie,"tw-text-secondary-500":Nt,"tw-text-grey-400 group-hover:tw-text-grey-700":_e}),Cs=(Ie,Nt)=>({"fas fa-check tw-text-xl trans":Ie,"far fa-arrow-alt-circle-up tw-text-2xl":Nt}),Jr=(Ie,Nt,_e)=>({"tw-text-green-800":Ie,"tw-text-primary-800":Nt,"tw-text-navy-500":_e}),Wo=(Ie,Nt,_e)=>({"tw-text-green-600":Ie,"tw-text-primary-600":Nt,"tw-text-grey-600":_e}),Qr=(Ie,Nt,_e)=>({"tw-text-green-500":Ie,"tw-text-primary-500":Nt,"tw-text-grey-300":_e});function Yr(Ie,Nt){1&Ie&&a.eu8(0)}function Cr(Ie,Nt){1&Ie&&a.eu8(0)}function Rs(Ie,Nt){1&Ie&&a.eu8(0)}function Ws(Ie,Nt){1&Ie&&a.eu8(0)}function Co(Ie,Nt){1&Ie&&a.eu8(0)}function qs(Ie,Nt){1&Ie&&a.eu8(0)}function $s(Ie,Nt){1&Ie&&a.eu8(0)}function Js(Ie,Nt){1&Ie&&a.eu8(0)}function Or(Ie,Nt){if(1&Ie&&(a.j41(0,"div",30)(1,"ul",31),a.DNE(2,Yr,1,0,"ng-container",32),a.nI1(3,"translate"),a.nI1(4,"translate"),a.DNE(5,Cr,1,0,"ng-container",32),a.nI1(6,"translate"),a.nI1(7,"translate"),a.DNE(8,Rs,1,0,"ng-container",32),a.nI1(9,"translate"),a.nI1(10,"translate"),a.DNE(11,Ws,1,0,"ng-container",32),a.nI1(12,"translate"),a.nI1(13,"translate"),a.DNE(14,Co,1,0,"ng-container",32),a.nI1(15,"translate"),a.nI1(16,"translate"),a.DNE(17,qs,1,0,"ng-container",32),a.nI1(18,"translate"),a.nI1(19,"translate"),a.DNE(20,$s,1,0,"ng-container",32),a.nI1(21,"translate"),a.nI1(22,"translate"),a.DNE(23,Js,1,0,"ng-container",32),a.nI1(24,"translate"),a.nI1(25,"translate"),a.k0s()()),2&Ie){a.XpG();const _e=a.sdS(21),Je=a.XpG();a.R7$(2),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(48,Ur,a.bMT(3,16,"Clients.SPA.Title"),a.bMT(4,18,"Clients.SPA.Summary"),Je.activeType===Je.wizardTypes.SinglePageApplication,Je.wizardTypes.SinglePageApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(53,Ir,a.bMT(6,20,"Clients.WebApp.Title"),a.bMT(7,22,"Clients.WebApp.Summary"),Je.activeType===Je.wizardTypes.WebApplication||Je.activeType===Je.wizardTypes.PKCEWebApplication,Je.wizardTypes.PKCEWebApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(58,Ar,a.bMT(9,24,"Clients.NativeApp.Title"),a.bMT(10,26,"Clients.PKCENativeApp.Summary"),Je.activeType===Je.wizardTypes.PKCENativeApplication||Je.activeType==Je.wizardTypes.NativeApplication,Je.wizardTypes.PKCENativeApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(63,Dr,a.bMT(12,28,"Clients.MachineToMachine.Title"),a.bMT(13,30,"Clients.MachineToMachine.Summary"),Je.activeType===Je.wizardTypes.RobotApplication,Je.wizardTypes.RobotApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(68,Nr,a.bMT(15,32,"Clients.DeviceFlow.Title"),a.bMT(16,34,"Clients.DeviceFlow.Summary"),Je.activeType===Je.wizardTypes.DeviceApplication,Je.wizardTypes.DeviceApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(73,Vr,a.bMT(18,36,"Clients.Saml.Title"),a.bMT(19,38,"Clients.Saml.Summary"),Je.activeType===Je.wizardTypes.SamlApplication,Je.wizardTypes.SamlApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(78,or,a.bMT(21,40,"Clients.WsFed.Title"),a.bMT(22,42,"Clients.WsFed.Summary"),Je.activeType===Je.wizardTypes.WsFedApplication,Je.wizardTypes.WsFedApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(83,Li,a.bMT(24,44,"Clients.LegacySPA.Title"),a.bMT(25,46,"Clients.LegacySPA.Summary"),Je.activeType===Je.wizardTypes.LegacySinglePageApplication,Je.wizardTypes.LegacySinglePageApplication))}}function wr(Ie,Nt){1&Ie&&a.eu8(0)}function dr(Ie,Nt){1&Ie&&a.eu8(0)}function $r(Ie,Nt){1&Ie&&a.eu8(0)}function Zr(Ie,Nt){1&Ie&&a.eu8(0)}function Qs(Ie,Nt){1&Ie&&a.eu8(0)}function ua(Ie,Nt){1&Ie&&a.eu8(0)}function ws(Ie,Nt){1&Ie&&a.eu8(0)}function ui(Ie,Nt){1&Ie&&a.eu8(0)}function as(Ie,Nt){if(1&Ie&&(a.j41(0,"div",33)(1,"h6",34),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"ul",31),a.DNE(5,wr,1,0,"ng-container",32),a.nI1(6,"translate"),a.nI1(7,"translate"),a.DNE(8,dr,1,0,"ng-container",32),a.nI1(9,"translate"),a.nI1(10,"translate"),a.k0s(),a.j41(11,"h6",34),a.EFF(12),a.nI1(13,"translate"),a.k0s(),a.j41(14,"ul",31),a.DNE(15,$r,1,0,"ng-container",32),a.nI1(16,"translate"),a.nI1(17,"translate"),a.DNE(18,Zr,1,0,"ng-container",32),a.nI1(19,"translate"),a.nI1(20,"translate"),a.DNE(21,Qs,1,0,"ng-container",32),a.nI1(22,"translate"),a.nI1(23,"translate"),a.DNE(24,ua,1,0,"ng-container",32),a.nI1(25,"translate"),a.nI1(26,"translate"),a.DNE(27,ws,1,0,"ng-container",32),a.nI1(28,"translate"),a.nI1(29,"translate"),a.DNE(30,ui,1,0,"ng-container",32),a.nI1(31,"translate"),a.nI1(32,"translate"),a.k0s()()),2&Ie){a.XpG();const _e=a.sdS(21),Je=a.XpG();a.R7$(2),a.JRh(a.bMT(3,18,"StarterMode.Clients.Basic")),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(54,Ur,a.bMT(6,20,"Clients.SPA.Title"),a.bMT(7,22,"Clients.SPA.Summary"),Je.activeType===Je.wizardTypes.SinglePageApplication,Je.wizardTypes.SinglePageApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(59,Dr,a.bMT(9,24,"Clients.MachineToMachine.Title"),a.bMT(10,26,"Clients.MachineToMachine.Summary"),Je.activeType===Je.wizardTypes.RobotApplication,Je.wizardTypes.RobotApplication)),a.R7$(4),a.JRh(a.bMT(13,28,"StarterMode.Clients.Enterprise")),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(64,si,a.bMT(16,30,"Clients.WebApp.Title"),a.bMT(17,32,"Clients.WebApp.Summary"),Je.activeType===Je.wizardTypes.WebApplication||Je.activeType===Je.wizardTypes.PKCEWebApplication,Je.wizardTypes.PKCEWebApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(69,jr,a.bMT(19,34,"Clients.NativeApp.Title"),a.bMT(20,36,"Clients.PKCENativeApp.Summary"),Je.activeType===Je.wizardTypes.PKCENativeApplication||Je.activeType==Je.wizardTypes.NativeApplication,Je.wizardTypes.PKCENativeApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(74,gr,a.bMT(22,38,"Clients.DeviceFlow.Title"),a.bMT(23,40,"Clients.DeviceFlow.Summary"),Je.activeType===Je.wizardTypes.DeviceApplication,Je.wizardTypes.DeviceApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(79,zr,a.bMT(25,42,"Clients.Saml.Title"),a.bMT(26,44,"Clients.Saml.Summary"),Je.activeType===Je.wizardTypes.SamlApplication,Je.wizardTypes.SamlApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(84,os,a.bMT(28,46,"Clients.WsFed.Title"),a.bMT(29,48,"Clients.WsFed.Summary"),Je.activeType===Je.wizardTypes.WsFedApplication,Je.wizardTypes.WsFedApplication)),a.R7$(3),a.Y8G("ngTemplateOutlet",_e)("ngTemplateOutletContext",a.ziG(89,js,a.bMT(31,50,"Clients.LegacySPA.Title"),a.bMT(32,52,"Clients.LegacySPA.Summary"),Je.activeType===Je.wizardTypes.LegacySinglePageApplication,Je.wizardTypes.LegacySinglePageApplication))}}function Gs(Ie,Nt){if(1&Ie&&(a.j41(0,"option",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie){const _e=Nt.$implicit;a.Y8G("value",_e),a.R7$(),a.JRh(a.bMT(2,2,"Clients.WizardTypes."+_e))}}function Rr(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"form",35)(1,"app-form-row",36)(2,"div",37)(3,"select",38,2),a.bIt("change",function(){a.eBV(_e);const gt=a.sdS(4),pn=a.XpG(2);return a.Njj(pn.setActive(gt.value))}),a.DNE(5,Gs,3,4,"option",39),a.k0s()()()()}if(2&Ie){const _e=a.XpG(2);a.Y8G("formGroup",_e.webAppSelectForm),a.R7$(),a.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.R7$(4),a.Y8G("ngForOf",_e.webAppTypes)}}function Hs(Ie,Nt){if(1&Ie&&(a.j41(0,"option",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie){const _e=Nt.$implicit;a.Y8G("value",_e),a.R7$(),a.JRh(a.bMT(2,2,"Clients.WizardTypes."+_e))}}function Gr(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"form",41)(1,"app-form-row",36)(2,"div",37)(3,"select",42,3),a.bIt("change",function(){a.eBV(_e);const gt=a.sdS(4),pn=a.XpG(2);return a.Njj(pn.setActive(gt.value))}),a.DNE(5,Hs,3,4,"option",39),a.k0s()()()()}if(2&Ie){const _e=a.XpG(2);a.Y8G("formGroup",_e.robotAppSelectForm),a.R7$(),a.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.R7$(4),a.Y8G("ngForOf",_e.robotAppTypes)}}function Kr(Ie,Nt){if(1&Ie&&(a.j41(0,"option",40),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie){const _e=Nt.$implicit;a.Y8G("value",_e),a.R7$(),a.JRh(a.bMT(2,2,"Clients.WizardTypes."+_e))}}function Bn(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"form",43)(1,"app-form-row",36)(2,"div",37)(3,"select",44,4),a.bIt("change",function(){a.eBV(_e);const gt=a.sdS(4),pn=a.XpG(2);return a.Njj(pn.setActive(gt.value))}),a.DNE(5,Kr,3,4,"option",39),a.k0s()()()()}if(2&Ie){const _e=a.XpG(2);a.Y8G("formGroup",_e.nativeAppSelectForm),a.R7$(),a.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),a.R7$(4),a.Y8G("ngForOf",_e.nativeAppTypes)}}function ro(Ie,Nt){1&Ie&&(a.j41(0,"span",13),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Selected")))}function ps(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"li",45)(1,"input",46),a.bIt("click",function(){const gt=a.eBV(_e).type,pn=a.XpG(2);return a.Njj(pn.setActive(gt))}),a.k0s(),a.j41(2,"label",47),a.bIt("click",function(){const gt=a.eBV(_e).type,pn=a.XpG(2);return a.Njj(pn.setActive(gt))}),a.j41(3,"div",48)(4,"span",49),a.nrm(5,"span",49),a.k0s(),a.DNE(6,ro,3,3,"span",50),a.k0s(),a.j41(7,"div",51)(8,"span",52),a.EFF(9),a.k0s(),a.j41(10,"span",53),a.EFF(11),a.k0s()(),a.j41(12,"div",54),a.nrm(13,"span",49),a.k0s()()()}if(2&Ie){const _e=Nt.id,Je=Nt.btnId,gt=Nt.title,pn=Nt.summary,ni=Nt.icon,Di=Nt.selected,gs=Nt.type,Sr=Nt.starterModeProtected,to=a.XpG(2);a.FS9("id",_e),a.R7$(),a.FS9("id",Je),a.FS9("value",gs),a.Y8G("ngModel",to.activeType),a.R7$(),a.FS9("for",Je),a.Y8G("ngClass",a.l_i(18,bo,Di&&!Sr,Di&&Sr)),a.R7$(),a.Y8G("ngClass",a.sMw(21,bs,Di&&!Sr,Di&&Sr,!Di)),a.R7$(),a.Y8G("ngClass",a.sMw(25,vr,Di&&!Sr,Di&&Sr,!Di)),a.R7$(),a.Y8G("ngClass",a.l_i(29,Cs,!Sr,Sr)),a.R7$(),a.Y8G("ngIf",Di),a.R7$(2),a.Y8G("ngClass",a.sMw(32,Jr,Di&&!Sr,Di&&Sr,!Di)),a.R7$(),a.SpI(" ",gt," "),a.R7$(),a.Y8G("ngClass",a.sMw(36,Wo,Di&&!Sr,Di&&Sr,!Di)),a.R7$(),a.SpI(" ",pn," "),a.R7$(2),a.ZvI("",ni," tw-text-3xl tw-transition-all tw-ease-in-out"),a.Y8G("ngClass",a.sMw(40,Qr,Di&&!Sr,Di&&Sr,!Di))}}function Ve(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Home.Title")))}function He(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.SPA.Title")))}function ve(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.WebApp.Title")))}function it(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.NativeApp.Title")))}function jt(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.MachineToMachine.Title")))}function qn(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function Mi(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.DeviceFlow.Title")))}function ls(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.Saml.Title")))}function Hi(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.WsFed.Title")))}function jn(Ie,Nt){1&Ie&&(a.j41(0,"span"),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.LegacySPA.Title")))}function Be(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.Home.Description"),a.npT)}function Ze(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.SPA.Description"),a.npT)}function Et(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.WebApp.Description"),a.npT)}function kt(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.NativeApp.Description"),a.npT)}function zt(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.MachineToMachine.Description"),a.npT)}function Wt(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),a.npT)}function vn(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.DeviceFlow.Description"),a.npT)}function Hn(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.Saml.Description"),a.npT)}function xi(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.WsFed.Description"),a.npT)}function nn(Ie,Nt){1&Ie&&(a.nrm(0,"p",55),a.nI1(1,"translate")),2&Ie&&a.Y8G("innerHTML",a.bMT(1,1,"Clients.LegacySPA.Description"),a.npT)}function cr(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",56),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG(2);return a.Njj(gt.redirectToUpgrade())}),a.EFF(1),a.nI1(2,"translate"),a.k0s()}if(2&Ie){const _e=a.XpG(2);a.Y8G("disabled",!_e.protectedWizardTypeSelected),a.R7$(),a.JRh(a.bMT(2,2,"StarterMode.UpgradeAdminUI"))}}function cs(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div")(1,"div",6)(2,"h5",7),a.EFF(3),a.nI1(4,"translate"),a.k0s(),a.j41(5,"button",8),a.nI1(6,"translate"),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.hide())}),a.nrm(7,"span",9),a.k0s()(),a.j41(8,"div",10),a.nrm(9,"div",11,0),a.k0s(),a.j41(11,"div",12)(12,"p",13),a.EFF(13),a.nI1(14,"translate"),a.k0s(),a.DNE(15,Or,26,88,"div",14)(16,as,33,94,"div",15)(17,Rr,6,5,"form",16)(18,Gr,6,5,"form",17)(19,Bn,6,5,"form",18)(20,ps,14,44,"ng-template",null,1,a.C5r),a.j41(22,"div",19)(23,"h2",20),a.nrm(24,"span",21),a.DNE(25,Ve,3,3,"span",5)(26,He,3,3,"span",5)(27,ve,3,3,"span",5)(28,it,3,3,"span",5)(29,jt,3,3,"span",5)(30,qn,3,3,"span",5)(31,Mi,3,3,"span",5)(32,ls,3,3,"span",5)(33,Hi,3,3,"span",5)(34,jn,3,3,"span",5),a.k0s(),a.DNE(35,Be,2,3,"p",22)(36,Ze,2,3,"p",22)(37,Et,2,3,"p",22)(38,kt,2,3,"p",22)(39,zt,2,3,"p",22)(40,Wt,2,3,"p",22)(41,vn,2,3,"p",22)(42,Hn,2,3,"p",22)(43,xi,2,3,"p",22)(44,nn,2,3,"p",22),a.k0s()(),a.nrm(45,"div",23),a.j41(46,"div",24)(47,"div",25)(48,"div",26)(49,"button",27),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.choosePage())}),a.EFF(50),a.nI1(51,"translate"),a.k0s(),a.DNE(52,cr,3,4,"button",28),a.k0s(),a.j41(53,"button",29),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.hide())}),a.EFF(54),a.nI1(55,"translate"),a.k0s()()()()}if(2&Ie){const _e=a.XpG();a.R7$(2),a.Y8G("id",_e.titleId),a.R7$(),a.JRh(a.bMT(4,33,"Clients.Setup")),a.R7$(2),a.BMQ("aria-label",a.bMT(6,35,"Common.Close")),a.R7$(8),a.JRh(a.bMT(14,37,"Clients.SelectType")),a.R7$(2),a.Y8G("ngIf",!_e.isStarterMode),a.R7$(),a.Y8G("ngIf",_e.isStarterMode),a.R7$(),a.Y8G("ngIf",!_e.isStarterMode&&(_e.activeType===_e.wizardTypes.WebApplication||_e.activeType===_e.wizardTypes.PKCEWebApplication)),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.RobotApplication||_e.activeType===_e.wizardTypes.CIBARobotApplication),a.R7$(),a.Y8G("ngIf",!_e.isStarterMode&&(_e.activeType===_e.wizardTypes.NativeApplication||_e.activeType===_e.wizardTypes.PKCENativeApplication)),a.R7$(6),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.Home),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.SinglePageApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.WebApplication||_e.activeType===_e.wizardTypes.PKCEWebApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.NativeApplication||_e.activeType===_e.wizardTypes.PKCENativeApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.RobotApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.CIBARobotApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.DeviceApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.SamlApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.WsFedApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.LegacySinglePageApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.Home),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.SinglePageApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.WebApplication||_e.activeType===_e.wizardTypes.PKCEWebApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.NativeApplication||_e.activeType===_e.wizardTypes.PKCENativeApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.RobotApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.CIBARobotApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.DeviceApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.SamlApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.WsFedApplication),a.R7$(),a.Y8G("ngIf",_e.activeType===_e.wizardTypes.LegacySinglePageApplication),a.R7$(5),a.Y8G("disabled",_e.activeType===_e.wizardTypes.Home||_e.isStarterMode&&_e.protectedWizardTypeSelected),a.R7$(),a.JRh(a.bMT(51,39,"Common.Start")),a.R7$(2),a.Y8G("ngIf",_e.isStarterMode),a.R7$(2),a.JRh(a.bMT(55,41,"Common.Cancel"))}}function vi(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div")(1,"app-client-wizard-host",57),a.bIt("wizardCancel",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.onCancel())})("finish",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.onFinish())})("hide",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.hide())}),a.k0s()()}if(2&Ie){const _e=a.XpG();a.R7$(),a.Y8G("wizardName",_e.pageType)}}let Ln=(()=>{class Ie{constructor(_e,Je,gt,pn,ni){this.fb=_e,this.modalService=Je,this.licenseService=gt,this.router=pn,this.localizeRouter=ni,this.finish=new a.bkB,this.titleId=kn.R.TileId,this.pageType=Yn.$.Home,this.activeType=Yn.$.SinglePageApplication,this.showWizard=!1,this.wizardProvider=new ss,this.wizardTypes=Yn.$,this.webAppTypes=[Yn.$.PKCEWebApplication,Yn.$.WebApplication],this.robotAppTypes=[Yn.$.RobotApplication,Yn.$.CIBARobotApplication],this.nativeAppTypes=[Yn.$.PKCENativeApplication,Yn.$.NativeApplication],this.starterModeProtectedSetups=[Yn.$.WebApplication,Yn.$.PKCEWebApplication,Yn.$.PKCENativeApplication,Yn.$.NativeApplication,Yn.$.DeviceApplication,Yn.$.SamlApplication,Yn.$.WsFedApplication,Yn.$.LegacySinglePageApplication]}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,Le.$)()).subscribe(_e=>{this.isStarterMode=_e.isStarterLicense()}),this.setWebAppSelection(this.webAppTypes[0]),this.setRobotAppSelection(this.robotAppTypes[0]),this.setNativeAppSelection(this.nativeAppTypes[0])}setWebAppSelection(_e){(_e===Yn.$.WebApplication||_e===Yn.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:_e}))}setRobotAppSelection(_e){(_e===Yn.$.RobotApplication||_e===Yn.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:_e}))}setNativeAppSelection(_e){(_e===Yn.$.NativeApplication||_e===Yn.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:_e}))}redirectToUpgrade(){this.hide();const _e=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([_e],{queryParams:{feature:4}})}setActive(_e){this.isStarterMode&&(this.protectedWizardTypeSelected=this.starterModeProtectedSetups.includes(_e)),this.activeType=_e,this.setWebAppSelection(_e),this.setRobotAppSelection(_e),this.setNativeAppSelection(_e)}choosePage(){this.isStarterMode&&this.protectedWizardTypeSelected||(this.pageType=this.activeType,this.showWizard=!0)}onCancel(){this.pageType=Yn.$.Home,this.activeType=Yn.$.SinglePageApplication,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(kn.R.Id),this.modalService.onHidden.pipe((0,Le.$)()).subscribe(()=>{this.onCancel()})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(e.ze),a.rXU(C.I8),a.rXU(at.X),a.rXU(p.Ix),a.rXU(S.QG))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-client-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["commonTypeButton",""],["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body","scrollbars"],[1,"sr-only"],["id","defaultSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","starterModeSetupList","class","tw--mt-2 tw--ml-2 md:tw--mt-4 md:tw--ml-4",4,"ngIf"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"click","disabled"],["id","upgradeAdminUI","class","tw-btn tw-ml-4",3,"disabled","click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","starterModeSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],[3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],[3,"innerHTML"],["id","upgradeAdminUI",1,"tw-btn","tw-ml-4",3,"click","disabled"],[3,"wizardCancel","finish","hide","wizardName"]],template:function(Je,gt){1&Je&&a.DNE(0,cs,56,43,"div",5)(1,vi,2,1,"div",5),2&Je&&(a.Y8G("ngIf",gt.pageType===gt.wizardTypes.Home),a.R7$(),a.Y8G("ngIf",gt.showWizard))},dependencies:[t.YU,t.Sq,t.bT,t.T3,e.qT,e.xH,e.y7,e.me,e.wz,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,ct.Y,Zn,he.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ie})();var ar=d(1744),wo=d(1138),zs=d(2858),Fi=d(7212);class Zi extends ar.$R{set selected(Nt){this.isSelectable&&(this._selected=Nt)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==ar.jD.Duplicate&&this.resourceType===ar.ot.Client}constructor(Nt,_e=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=wo.r.DoNotSet,this.certificateAction=zs.AU.DoNotSet,this.identifier=Nt.identifier,this.resourceType=Nt.resourceType,this.resourceState=Nt.resourceState,this.displayType=Nt.displayType,this.displayName=Nt.displayName,this.conflicts=Nt.conflicts,this.dependantClients=Nt.dependantClients,this.hadSecrets=Nt.hadSecrets,this.hadCertificates=Nt.hadCertificates,this.existingHasSecrets=Nt.existingHasSecrets,this.existingHasCertificates=Nt.existingHasCertificates,this.selected=_e,this.certificates=new Fi.D}}var qr=d(9113),Ss=d(5826),nr=d(5088),Mo=d(7629),$i=d(6193);function so(Ie,Nt){if(1&Ie&&(a.j41(0,"div",7),a.nrm(1,"div",8),a.k0s()),2&Ie){const _e=a.XpG();a.R7$(),a.xc7("width",_e.progressComplete+"%"),a.BMQ("aria-valuenow",_e.progressComplete)}}function po(Ie,Nt){}let xo=(()=>{class Ie{constructor(_e){this.viewContainerRef=_e}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(a.c1b))}}static{this.\u0275dir=a.FsC({type:Ie,selectors:[["","appImportStepHost",""]]})}}return Ie})(),Fr=(()=>{class Ie{constructor(_e){this.importWizardController=_e,this.finish=new a.bkB,this.warning=new a.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(_e=>{_e?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const _e=this.importWizardController.getCurrentStep();let Je;if(_e.component===zs.zI){const gt=this.components.get(_e);this.wizardHost.viewContainerRef.detach(),Je=gt??this.wizardHost.viewContainerRef.createComponent(_e.component)}else Je=this.wizardHost.viewContainerRef.createComponent(_e.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(Je.hostView),Je.instance.data=_e.data,Je.instance.importWizardController=this.importWizardController,this.title=_e.stepTitle,this.components.set(_e,Je),this.updateProgressBar(),this.hideProgressBar=Je.instance.isWarningModal||Je.instance.hideProgressBar,this.warning.emit(Je.instance.isWarningModal)}closeButton(){const _e=this.importWizardController.getCurrentStep();_e.component!==nr.E?this.importWizardController.cancel():this.components.get(_e).instance.goNext()}getStepsProgressForCurrentStep(){const _e=this.importWizardController.getCurrentStep();if(_e.component===wo.u||_e.component===zs.zI){const Je=this.importWizardController.stepsCompleted.filter(pn=>pn.component===_e.component).length,gt=Je+this.importWizardController.stepsAhead.filter(pn=>pn.component===_e.component).length;return 1===gt?"":"("+(Je+1)+"/"+gt+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==Mo.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(_e=>{_e.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU($i.V))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-import-wizard-host"]],viewQuery:function(Je,gt){if(1&Je&&a.GBs(xo,7),2&Je){let pn;a.mGM(pn=a.lsd())&&(gt.wizardHost=pn.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(Je,gt){1&Je&&(a.j41(0,"div",0)(1,"h5",1),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"button",2),a.bIt("click",function(){return gt.closeButton()}),a.nrm(5,"span",3),a.j41(6,"span",4),a.EFF(7),a.nI1(8,"translate"),a.k0s()()(),a.DNE(9,so,2,3,"div",5),a.j41(10,"div"),a.DNE(11,po,0,0,"ng-template",6),a.k0s()),2&Je&&(a.R7$(2),a.Lme("",a.bMT(3,5,gt.title)," ",gt.progressStepString,""),a.R7$(2),a.Y8G("disabled",gt.disableCloseButton()),a.R7$(3),a.JRh(a.bMT(8,7,"Common.Close")),a.R7$(2),a.Y8G("ngIf",!gt.hideProgressBar))},dependencies:[t.bT,xo,he.D9],encapsulation:2})}}return Ie})();function As(Ie,Nt){1&Ie&&(a.nrm(0,"app-simple-loader",17),a.nI1(1,"translate")),2&Ie&&a.Y8G("text",a.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function Ms(Ie,Nt){if(1&Ie&&(a.j41(0,"div",23)(1,"div"),a.EFF(2),a.k0s()()),2&Ie){const _e=a.XpG(3);a.R7$(2),a.JRh(_e.errorCode)}}function na(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div")(1,"div",18)(2,"p"),a.EFF(3),a.nI1(4,"translate"),a.k0s()(),a.DNE(5,Ms,3,1,"div",19),a.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),a.bIt("change",function(gt){a.eBV(_e);const pn=a.XpG(2);return a.Njj(pn.handleFileInput(gt.target.files))}),a.k0s()()()()}if(2&Ie){const _e=a.XpG(2);a.R7$(3),a.JRh(a.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),a.R7$(2),a.Y8G("ngIf",""!=_e.errorCode),a.R7$(),a.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function Lo(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div")(1,"div",3)(2,"h5",4),a.EFF(3),a.nI1(4,"translate"),a.k0s(),a.j41(5,"button",5),a.nI1(6,"translate"),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.hide())}),a.nrm(7,"span",6),a.k0s()(),a.j41(8,"div",7),a.nrm(9,"div",8,0),a.k0s(),a.j41(11,"div",9),a.DNE(12,As,2,3,"app-simple-loader",10)(13,na,11,8,"div",2),a.k0s(),a.nrm(14,"div",11),a.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.startImport())}),a.EFF(19),a.nI1(20,"translate"),a.k0s()(),a.j41(21,"button",16),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.hide())}),a.EFF(22),a.nI1(23,"translate"),a.k0s()()()()}if(2&Ie){const _e=a.XpG();a.R7$(2),a.Y8G("id",_e.titleId),a.R7$(),a.JRh(a.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),a.R7$(2),a.Y8G("disabled",_e.disableButtons),a.BMQ("aria-label",a.bMT(6,12,"Common.Close")),a.R7$(7),a.Y8G("ngIf",_e.isLoading),a.R7$(),a.Y8G("ngIf",!_e.isLoading),a.R7$(5),a.Y8G("disabled",_e.disableButtons||null==_e.fileToUpload),a.R7$(),a.SpI(" ",a.bMT(20,14,"Common.Start")," "),a.R7$(2),a.Y8G("disabled",_e.disableButtons),a.R7$(),a.SpI(" ",a.bMT(23,16,"Common.Cancel")," ")}}function Aa(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div")(1,"app-import-wizard-host",24),a.bIt("warning",function(gt){a.eBV(_e);const pn=a.XpG();return a.Njj(pn.onWarning(gt))})("finish",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.onFinish())}),a.k0s()()}}let ko=(()=>{class Ie{constructor(_e,Je,gt,pn){this.translate=_e,this.clientImportService=Je,this.importWizardService=gt,this.modalService=pn,this.finish=new a.bkB,this.titleId=kn.R.TileId,this.wizardTypes=Yn.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(ni=>{this.reset(),null!=ni&&(this.errorCode=ni)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(_e){this.isWarningModal=_e}hide(){this.reset(),this.modalService.hide(kn.R.Id)}handleFileInput(_e){this.fileToUpload=_e.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(_e=>{this.clientImportService.validateImportFile(_e).subscribe(Je=>{try{JSON.parse(_e)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(_e);const gt=Je.importResources.map(pn=>new Zi(pn));this.importWizardService.cache.next(gt),this.isLoading=!1,this.showWizard=!0},Je=>{if(400===Je.status){this.reset();const gt=Je.error;this.errorCode=this.translate.instant(`Errors.${gt.errorCode}`),"ValidateImportError.WrongVersion"===gt.errorCode&&(this.errorCode=this.errorCode.replace("{0}",gt.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",gt.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(_e){this.storage.setItem("importFile",_e)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(he.c$),a.rXU(qr.qJ),a.rXU(Ss.o),a.rXU(C.I8))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(Je,gt){1&Je&&a.DNE(0,Lo,24,18,"div",2)(1,Aa,2,0,"div",2),2&Je&&(a.Y8G("ngIf",!gt.showWizard),a.R7$(),a.Y8G("ngIf",gt.showWizard))},dependencies:[t.bT,ti.d,ct.Y,Fr,he.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ie})();const Uo=(Ie,Nt)=>({"tw-alert":Ie,"tw-alert-warning":Nt}),yr=Ie=>({limit:Ie,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),ir=(Ie,Nt)=>({"fad fa-pencil":Ie,"fas fa-eye":Nt});function xs(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"app-client-wizard",12,0),a.bIt("finish",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.reload())}),a.k0s()}}function So(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"app-import-wizard",13,1),a.bIt("finish",function(){a.eBV(_e);const gt=a.XpG();return a.Njj(gt.reload())}),a.k0s()}}function No(Ie,Nt){if(1&Ie&&(a.j41(0,"div",14),a.nrm(1,"span",15),a.nI1(2,"translate"),a.k0s()),2&Ie){const _e=a.XpG();a.Y8G("ngClass",a.l_i(5,Uo,_e.limitReached,_e.overLimit)),a.R7$(),a.Y8G("innerHTML",a.i5U(2,2,"Common.QuotaLimit",a.eq3(8,yr,_e.licenseInfo.maxClients)),a.npT)}}function zo(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"div",22)(1,"label",23),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.j41(4,"select",24),a.mxI("ngModelChange",function(gt){a.eBV(_e);const pn=a.XpG(2);return a.DH7(pn.pageSize,gt)||(pn.pageSize=gt),a.Njj(gt)}),a.bIt("change",function(){a.eBV(_e);const gt=a.XpG(2);return a.Njj(gt.setPageLength(+gt.pageSize))}),a.j41(5,"option",25),a.EFF(6),a.nI1(7,"translate"),a.k0s(),a.j41(8,"option",26),a.EFF(9),a.nI1(10,"translate"),a.k0s(),a.j41(11,"option",27),a.EFF(12),a.nI1(13,"translate"),a.k0s()()()}if(2&Ie){const _e=a.XpG(2);a.R7$(2),a.Lme("",_e.pageSize," ",a.bMT(3,6,"Nav.PerPage"),""),a.R7$(2),a.R50("ngModel",_e.pageSize),a.R7$(2),a.SpI("25 ",a.bMT(7,8,"Nav.PerPage"),""),a.R7$(3),a.SpI("50 ",a.bMT(10,10,"Nav.PerPage"),""),a.R7$(3),a.SpI("100 ",a.bMT(13,12,"Nav.PerPage"),"")}}function Vo(Ie,Nt){1&Ie&&(a.j41(0,"span",31)(1,"span",9),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.nrm(4,"span",32),a.k0s()),2&Ie&&(a.R7$(2),a.JRh(a.bMT(3,1,"StarterMode.RequiresUpgrade")))}function jo(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",28),a.nI1(1,"translate"),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG(2),pn=a.sdS(5);return a.Njj(gt.showWizard(pn,!0))}),a.j41(2,"span")(3,"span",9),a.EFF(4),a.nI1(5,"translate"),a.k0s(),a.nrm(6,"span",29),a.k0s(),a.DNE(7,Vo,5,3,"span",30),a.k0s()}if(2&Ie){const _e=a.XpG(2);a.Y8G("tooltip",a.bMT(1,3,"Clients.Import.Import")),a.R7$(4),a.JRh(a.bMT(5,5,"Clients.Import.ImportClients")),a.R7$(3),a.Y8G("ngIf",_e.licenseInfo.isStarterLicense())}}function ia(Ie,Nt){if(1&Ie&&(a.j41(0,"span",37),a.EFF(1),a.k0s()),2&Ie){const _e=a.XpG(3);a.R7$(),a.JRh(_e.clientSelectedCount)}}function ms(Ie,Nt){1&Ie&&(a.j41(0,"span",38)(1,"span",9),a.EFF(2),a.nI1(3,"translate"),a.k0s(),a.nrm(4,"span",32),a.k0s()),2&Ie&&(a.R7$(2),a.JRh(a.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Mr(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"button",33),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG(2);return a.Njj(gt.exportClients())}),a.j41(1,"span")(2,"span",9),a.EFF(3),a.k0s(),a.nrm(4,"span",34),a.DNE(5,ia,2,1,"span",35),a.k0s(),a.DNE(6,ms,5,3,"span",36),a.k0s()}if(2&Ie){const _e=a.XpG(2);a.Y8G("tooltip",_e.currentExportTooltip),a.R7$(3),a.JRh(_e.currentExportText),a.R7$(2),a.Y8G("ngIf",_e.shouldDisplayCount),a.R7$(),a.Y8G("ngIf",_e.licenseInfo.isStarterLicense())}}function Ks(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"app-action-bar"),a.qex(1,16),a.DNE(2,zo,14,14,"div",17),a.bVm(),a.qex(3,18),a.j41(4,"button",19),a.bIt("click",function(){a.eBV(_e);const gt=a.XpG(),pn=a.sdS(3);return a.Njj(gt.showWizard(pn,gt.limitReached))}),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.DNE(7,jo,8,7,"button",20)(8,Mr,7,4,"button",21),a.bVm(),a.k0s()}if(2&Ie){const _e=a.XpG();a.R7$(2),a.Y8G("ngIf",(null==_e.pagedResult?null:_e.pagedResult.results.length)>0),a.R7$(2),a.Y8G("disabled",_e.limitReached),a.R7$(),a.SpI(" ",a.bMT(6,5,"Clients.Add")," "),a.R7$(2),a.Y8G("ngIf",_e.canImportExport),a.R7$(),a.Y8G("ngIf",_e.canImportExport)}}function Es(Ie,Nt){1&Ie&&a.nrm(0,"app-simple-loader")}function Ys(Ie,Nt){1&Ie&&(a.j41(0,"div",42)(1,"div"),a.EFF(2),a.nI1(3,"translate"),a.k0s()()),2&Ie&&(a.R7$(2),a.JRh(a.bMT(3,1,"Clients.None")))}function mo(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"th",49)(1,"label",50)(2,"input",51),a.bIt("change",function(){a.eBV(_e);const gt=a.XpG(3);return a.Njj(gt.toggleAllClients())}),a.mxI("ngModelChange",function(gt){a.eBV(_e);const pn=a.XpG(3);return a.DH7(pn.allClientsSelected,gt)||(pn.allClientsSelected=gt),a.Njj(gt)}),a.k0s()()()}if(2&Ie){const _e=a.XpG(3);a.R7$(2),a.R50("ngModel",_e.allClientsSelected)}}function hr(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"label",65)(1,"input",66),a.bIt("change",function(){a.eBV(_e);const gt=a.XpG(5);return a.Njj(gt.areAllClientsSelected())}),a.mxI("ngModelChange",function(gt){a.eBV(_e);const pn=a.XpG(2).$implicit;return a.DH7(pn.selected,gt)||(pn.selected=gt),a.Njj(gt)}),a.k0s()()}if(2&Ie){const _e=a.XpG(2).$implicit;a.FS9("for",_e.id),a.R7$(),a.FS9("id",_e.id),a.R50("ngModel",_e.selected)}}function Hr(Ie,Nt){if(1&Ie&&(a.j41(0,"td",63),a.DNE(1,hr,2,3,"label",64),a.k0s()),2&Ie){const _e=a.XpG().$implicit,Je=a.XpG(3);a.R7$(),a.Y8G("ngIf",!Je.isClientReadOnly(_e))}}function es(Ie,Nt){1&Ie&&(a.j41(0,"span",67)(1,"span",9),a.EFF(2),a.nI1(3,"translate"),a.k0s()()),2&Ie&&(a.R7$(2),a.JRh(a.bMT(3,1,"Common.Disabled")))}function Oo(Ie,Nt){1&Ie&&(a.j41(0,"span",68),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"Common.Disabled")," "))}function eo(Ie,Nt){1&Ie&&(a.j41(0,"span",69),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"Common.Reserved")," "))}function ks(Ie,Nt){1&Ie&&(a.j41(0,"span",9),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Edit")))}function Ts(Ie,Nt){1&Ie&&(a.j41(0,"span",9),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.View")))}function Fo(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"tr",52),a.DNE(1,Hr,2,1,"td",53),a.j41(2,"td",54),a.bIt("click",function(){const gt=a.eBV(_e).$implicit,pn=a.XpG(3);return a.Njj(pn.viewOrEditClient(gt))}),a.DNE(3,es,4,3,"span",55),a.j41(4,"b"),a.EFF(5),a.k0s()(),a.j41(6,"td",56),a.bIt("click",function(){const gt=a.eBV(_e).$implicit,pn=a.XpG(3);return a.Njj(pn.viewOrEditClient(gt))}),a.EFF(7),a.k0s(),a.j41(8,"td",57),a.bIt("click",function(){const gt=a.eBV(_e).$implicit,pn=a.XpG(3);return a.Njj(pn.viewOrEditClient(gt))}),a.DNE(9,Oo,3,3,"span",58)(10,eo,3,3,"span",59),a.k0s(),a.j41(11,"td",57),a.bIt("click",function(){const gt=a.eBV(_e).$implicit,pn=a.XpG(3);return a.Njj(pn.viewOrEditClient(gt))}),a.j41(12,"button",60),a.bIt("click",function(){const gt=a.eBV(_e).$implicit,pn=a.XpG(3);return a.Njj(pn.viewOrEditClient(gt))}),a.nrm(13,"span",61),a.DNE(14,ks,3,3,"span",62)(15,Ts,3,3,"span",62),a.k0s()()()}if(2&Ie){const _e=Nt.$implicit,Je=a.XpG(3);a.AVh("inactive",!_e.enabled||Je.isClientReadOnly(_e)),a.FS9("id",_e.clientName),a.R7$(),a.Y8G("ngIf",!Je.isIdentityServerManagerReadOnly),a.R7$(2),a.Y8G("ngIf",!_e.enabled),a.R7$(),a.AVh("tw-text-blue-500",!(null!=_e&&_e.nonEditable)),a.R7$(),a.SpI(" ",null==_e?null:_e.clientName," "),a.R7$(2),a.SpI(" ",null==_e?null:_e.description," "),a.R7$(2),a.Y8G("ngIf",!_e.enabled),a.R7$(),a.Y8G("ngIf",null==_e?null:_e.nonEditable),a.R7$(3),a.Y8G("ngClass",a.l_i(14,ir,!Je.isIdentityServerManagerReadOnly&&!Je.isClientReadOnly(_e),Je.isIdentityServerManagerReadOnly||Je.isClientReadOnly(_e))),a.R7$(),a.Y8G("ngIf",!Je.isIdentityServerManagerReadOnly&&!Je.isClientReadOnly(_e)),a.R7$(),a.Y8G("ngIf",Je.isIdentityServerManagerReadOnly||Je.isClientReadOnly(_e))}}function Ns(Ie,Nt){if(1&Ie&&(a.j41(0,"table",43)(1,"thead")(2,"tr"),a.DNE(3,mo,3,1,"th",44),a.j41(4,"th",45),a.EFF(5),a.nI1(6,"translate"),a.k0s(),a.j41(7,"th",46),a.EFF(8),a.nI1(9,"translate"),a.k0s(),a.j41(10,"th",47)(11,"span",9),a.EFF(12),a.nI1(13,"translate"),a.k0s()(),a.j41(14,"th",47)(15,"span",9),a.EFF(16),a.nI1(17,"translate"),a.k0s()()()(),a.j41(18,"tbody"),a.DNE(19,Fo,16,17,"tr",48),a.k0s()()),2&Ie){const _e=a.XpG(2);a.R7$(3),a.Y8G("ngIf",!_e.isIdentityServerManagerReadOnly),a.R7$(2),a.JRh(a.bMT(6,6,"Common.Name")),a.R7$(3),a.JRh(a.bMT(9,8,"Common.Description")),a.R7$(4),a.JRh(a.bMT(13,10,"Common.Reserved")),a.R7$(4),a.JRh(a.bMT(17,12,"Common.Actions")),a.R7$(3),a.Y8G("ngForOf",_e.allClients)}}function re(Ie,Nt){if(1&Ie){const _e=a.RV6();a.j41(0,"app-pager",70),a.bIt("onGoToPage",function(gt){a.eBV(_e);const pn=a.XpG(2);return a.Njj(pn.goToPage(gt))}),a.k0s()}if(2&Ie){const _e=a.XpG(2);a.Y8G("totalResults",null==_e.pagedResult?null:_e.pagedResult.totalCount)("currentPage",_e.page)("lastPage",null==_e.pagedResult?null:_e.pagedResult.pageCount)}}function Qe(Ie,Nt){if(1&Ie&&(a.qex(0),a.DNE(1,Ys,4,3,"div",39)(2,Ns,20,14,"table",40)(3,re,1,3,"app-pager",41),a.bVm()),2&Ie){const _e=a.XpG();a.R7$(),a.Y8G("ngIf",(null==_e.allClients?null:_e.allClients.length)<1),a.R7$(),a.Y8G("ngIf",(null==_e.allClients?null:_e.allClients.length)>0),a.R7$(),a.Y8G("ngIf",(null==_e.pagedResult?null:_e.pagedResult.results.length)>0&&!_e.isLoading)}}let Se=(()=>{class Ie extends li.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(_e,Je,gt,pn,ni,Di,gs,Sr,to,ki,Eo,vs){super(Sr,ni,!0),this.router=_e,this.errorService=Je,this.titleService=gt,this.clientsService=pn,this.translate=ni,this.localize=Di,this.exportService=gs,this.securityService=to,this.modalService=ki,this.localizeRouter=Eo,this.licenseService=vs,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new yn.B,this.pageSizeStream=new yn.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(_e){return this.term=_e,{searchTerm:_e,page:1,pageSize:this.pageSize}}ngOnInit(){const _e=this.translate.instant("Nav.Clients")+" - "+$e.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(_e),this.canImportExport=this.securityService.allView;const Je=this.pageStream.pipe((0,v.T)(ni=>(this.page=ni,{searchTerm:this.term,page:ni,pageSize:this.pageSize}))),gt=this.pageSizeStream.pipe((0,v.T)(ni=>(this.pageSize=ni,{searchTerm:this.term,page:this.page,pageSize:ni})));Je.pipe((0,yi.X)(gt),(0,yi.X)(this.searchSource),(0,yi.X)(this.enterKeySource),(0,ii.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,xt.Z)(ni=>(this.isLoading=!0,this.clientsService.getClients(ni.searchTerm,ni.page,ni.pageSize).pipe((0,bt.c)(200))))).subscribe({next:ni=>{this.pagedResult=ni,this.allClients=this.pagedResult.results.map(Di=>new Rn(Di)).sort((Di,gs)=>Number(gs.nonEditable)-Number(Di.nonEditable)),this.isLoading=!1},error:ni=>{this.errorService.handleError(ni),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,Le.$)()).subscribe(ni=>{this.licenseInfo=ni})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const _e=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([_e],{queryParams:{feature:Cn.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(_e,Je=!1){Je&&this.checkStarterMode()||this.modalService.show(_e,{id:kn.R.Id,ariaLabelledBy:kn.R.TileId,ariaDescribedby:kn.R.DescriptionId,backdrop:"static"})}goToPage(_e){this.pageStream.next(_e)}setPageLength(_e){this.page=1,this.pageSizeStream.next(_e)}viewOrEditClient(_e){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(_e)?this.viewClient(_e):this.editClient(_e)}viewClient(_e){const Je=this.localize.translateRoute("/clients/view");this.router.navigate([Je,_e.id])}editClient(_e){const Je=this.localize.translateRoute("/clients");this.router.navigate([Je,_e.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const _e=this.allClients.filter(Je=>Je.selected).map(Je=>Je.clientId);this.exportService.exportSelectedClients(_e)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(_e=>_e.selected||_e.nonEditable),this.clientSelectedCount=this.allClients.filter(_e=>_e.selected&&!_e.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(_e=>!_e.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let _e=!0;this.allClients.forEach(Je=>{!Je.nonEditable&&!Je.selected&&(_e=!1)}),this.allClients.forEach(Je=>{Je.nonEditable||(Je.selected=!_e)}),this.shouldDisplayCount=!1,this.clientSelectedCount=_e?0:this.allClients.filter(Je=>!Je.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!_e}get isIdentityServerManagerReadOnly(){return(0,Dt.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(_e){const Je=wi.RestrictedClientTypes.includes(_e.clientType);return _e.nonEditable||this.overLimit||Je&&this.licenseInfo.isStarterLicense()}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(p.Ix),a.rXU(P.I),a.rXU(te.hE),a.rXU(k._),a.rXU(he.c$),a.rXU(S.QG),a.rXU(G._),a.rXU(De.tw),a.rXU(Ri.i),a.rXU(C.I8),a.rXU(S.QG),a.rXU(at.X))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["ng-component"]],features:[a.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],["id","addClientComponent",3,"finish"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Je,gt){if(1&Je){const pn=a.RV6();a.nrm(0,"app-title-bar",2),a.nI1(1,"translate"),a.DNE(2,xs,2,0,"ng-template",null,0,a.C5r)(4,So,2,0,"ng-template",null,1,a.C5r),a.j41(6,"div",3),a.DNE(7,No,3,10,"div",4),a.j41(8,"div",5)(9,"div",6)(10,"label",7),a.nrm(11,"span",8),a.j41(12,"span",9),a.EFF(13),a.nI1(14,"translate"),a.k0s()(),a.j41(15,"input",10),a.nI1(16,"translate"),a.mxI("ngModelChange",function(Di){return a.eBV(pn),a.DH7(gt.searchTerm,Di)||(gt.searchTerm=Di),a.Njj(Di)}),a.bIt("keyup",function(Di){return a.eBV(pn),a.Njj(gt.search(Di))}),a.k0s()()(),a.DNE(17,Ks,9,7,"app-action-bar",11)(18,Es,1,0,"app-simple-loader",11)(19,Qe,4,3,"ng-container",11),a.k0s()}2&Je&&(a.Y8G("title",a.bMT(1,8,"Nav.Clients")),a.R7$(7),a.Y8G("ngIf",gt.limitReached),a.R7$(6),a.JRh(a.bMT(14,10,"Common.Search")),a.R7$(2),a.FS9("placeholder",a.bMT(16,12,"Clients.SearchPlaceholder")),a.R50("ngModel",gt.searchTerm),a.R7$(2),a.Y8G("ngIf",!gt.isLoading&&!gt.isIdentityServerManagerReadOnly),a.R7$(),a.Y8G("ngIf",gt.isLoading),a.R7$(),a.Y8G("ngIf",!gt.isLoading))},dependencies:[t.YU,t.Sq,t.bT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.vS,w.dg,Ft.z,ri.B,zi.n,ti.d,Ln,ko,he.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ie})();const je=(Ie,Nt)=>({title:Ie,link:Nt}),Tt=Ie=>[Ie];function cn(Ie,Nt){1&Ie&&(a.j41(0,"option",23),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Nav.Saml")))}function wn(Ie,Nt){1&Ie&&(a.j41(0,"option",24),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.RelyingParty.Heading")))}function oi(Ie,Nt){1&Ie&&(a.j41(0,"option",25),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Clients.URLS.Title")))}function sr(Ie,Nt){1&Ie&&(a.j41(0,"option",26),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.Secrets")))}function qi(Ie,Nt){1&Ie&&(a.j41(0,"option",27),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.JRh(a.bMT(2,1,"Common.CIBA")))}function Ki(Ie,Nt){1&Ie&&(a.j41(0,"span",28),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.SpI(" - ",a.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function Wi(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",17),2&Ie&&a.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function di(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",17),2&Ie&&a.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Yi(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",17),2&Ie&&a.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ii(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",17),2&Ie&&a.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function we(Ie,Nt){1&Ie&&a.nrm(0,"app-custom-tab",17),2&Ie&&a.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function L(Ie,Nt){1&Ie&&(a.j41(0,"span",29),a.EFF(1),a.nI1(2,"translate"),a.k0s()),2&Ie&&(a.R7$(),a.SpI(" ",a.bMT(2,1,"Common.Disabled")," "))}let me=(()=>{class Ie{constructor(_e,Je,gt,pn,ni,Di,gs,Sr){this.clientCachingService=_e,this.clientViewService=Je,this.titleService=gt,this.translate=pn,this.errorService=ni,this.licenseService=Di,this.router=gs,this.route=Sr}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(_e=>{this.client=_e;const Je=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+$e.$9.SITE_TITLE;this.titleService.setTitle(Je)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:_e=>this.licenseInfo=_e})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(_e){this.router.navigate([_e],{relativeTo:this.route})}static{this.\u0275fac=function(Je){return new(Je||Ie)(a.rXU(O.e),a.rXU(Ct.q),a.rXU(te.hE),a.rXU(he.c$),a.rXU(P.I),a.rXU(at.X),a.rXU(p.Ix),a.rXU(p.nX))}}static{this.\u0275cmp=a.VBU({type:Ie,selectors:[["app-view-client"]],features:[a.Jv_([Ct.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(Je,gt){if(1&Je&&(a.j41(0,"app-title-bar",0),a.nI1(1,"translate"),a.nI1(2,"localize"),a.qex(3,1),a.j41(4,"div",2)(5,"label",3),a.EFF(6),a.nI1(7,"translate"),a.k0s(),a.j41(8,"div",4)(9,"select",5),a.bIt("change",function(ni){return gt.mobRoute(ni.target.value)}),a.j41(10,"option",6),a.EFF(11),a.nI1(12,"translate"),a.k0s(),a.j41(13,"option",6),a.EFF(14),a.nI1(15,"translate"),a.k0s(),a.DNE(16,cn,3,3,"option",7)(17,wn,3,3,"option",8)(18,oi,3,3,"option",9)(19,sr,3,3,"option",10),a.j41(20,"option",11),a.EFF(21),a.nI1(22,"translate"),a.k0s(),a.DNE(23,qi,3,3,"option",12),a.j41(24,"option",13),a.EFF(25),a.nI1(26,"translate"),a.k0s(),a.j41(27,"option",14),a.EFF(28),a.nI1(29,"translate"),a.DNE(30,Ki,3,3,"span",15),a.k0s()()()(),a.j41(31,"app-custom-tabs",16),a.nrm(32,"app-custom-tab",17),a.DNE(33,Wi,1,2,"app-custom-tab",18)(34,di,1,2,"app-custom-tab",18)(35,Yi,1,2,"app-custom-tab",18)(36,Ii,1,2,"app-custom-tab",18),a.nrm(37,"app-custom-tab",17),a.DNE(38,we,1,2,"app-custom-tab",18),a.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),a.k0s(),a.bVm(),a.qex(41,20),a.DNE(42,L,3,3,"span",21),a.bVm(),a.k0s(),a.j41(43,"div",22),a.nrm(44,"router-outlet"),a.k0s()),2&Je){let pn,ni;a.Y8G("title",gt.client.clientName)("crumbs",a.eq3(52,Tt,a.l_i(49,je,a.bMT(1,33,"Nav.Clients"),a.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",gt.client.nonEditable),a.R7$(6),a.JRh(a.bMT(7,37,"Nav.SubMenu")),a.R7$(5),a.SpI("",a.bMT(12,39,"Nav.SubMenu"),"..."),a.R7$(3),a.JRh(a.bMT(15,41,"Nav.Details")),a.R7$(2),a.Y8G("ngIf",gt.clientViewService.saml.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.wsFed.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.applicationUrls.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.secrets.display),a.R7$(2),a.JRh(a.bMT(22,43,"Nav.Resources")),a.R7$(2),a.Y8G("ngIf",gt.clientViewService.ciba.display),a.R7$(2),a.JRh(a.bMT(26,45,"Common.Advanced")),a.R7$(3),a.SpI(" ",a.bMT(29,47,"Nav.Audits")," "),a.R7$(2),a.Y8G("ngIf",null!==(pn=null==gt.licenseInfo?null:gt.licenseInfo.isStarterLicense())&&void 0!==pn&&pn),a.R7$(2),a.Y8G("tabTitle","Nav.Details")("tabValue","details"),a.R7$(),a.Y8G("ngIf",gt.clientViewService.saml.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.wsFed.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.applicationUrls.display),a.R7$(),a.Y8G("ngIf",gt.clientViewService.secrets.display),a.R7$(),a.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),a.R7$(),a.Y8G("ngIf",gt.clientViewService.ciba.display),a.R7$(),a.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),a.R7$(),a.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(ni=null==gt.licenseInfo?null:gt.licenseInfo.isStarterLicense())&&void 0!==ni&&ni),a.R7$(2),a.Y8G("ngIf",!gt.client.enabled)}},dependencies:[p.n3,t.bT,Ft.z,o.G,ft.v,he.D9,S.tl],encapsulation:2})}}return Ie})();var st=d(3178),At=d(2892),Ht=d(8416),on=d(4446),un=d(8853);const An=[{path:"clients",component:Se,canActivate:[At.h,on._],data:{permissions:[st.a[st.a.IdentityServerManager],st.a[st.a.IdentityServerManagerReadOnly],st.a[st.a.AllReadOnly],st.a[st.a.All]]}},{path:"clients/:Id",component:Tn,loadChildren:()=>Promise.all([d.e(76),d.e(308)]).then(d.bind(d,6308)).then(Ie=>Ie.EditClientModule),canDeactivate:[Ht.M],resolve:{client:W},canActivate:[At.h,on._,un.a],data:{permissions:[st.a[st.a.IdentityServerManager],st.a[st.a.All]]}},{path:"clients/view/:Id",component:me,loadChildren:()=>Promise.all([d.e(76),d.e(908)]).then(d.bind(d,4908)).then(Ie=>Ie.ViewClientModule),resolve:{client:W},canActivate:[At.h,on._],data:{permissions:[st.a[st.a.IdentityServerManager],st.a[st.a.IdentityServerManagerReadOnly],st.a[st.a.AllReadOnly],st.a[st.a.All]]}}];let ci=(()=>{class Ie{static{this.\u0275fac=function(Je){return new(Je||Ie)}}static{this.\u0275mod=a.$C({type:Ie})}static{this.\u0275inj=a.G2t({imports:[p.iI.forChild(An),S.XE.forChild(An),p.iI]})}}return Ie})();var Qn=d(1466);let Xi=(()=>{class Ie{static{this.\u0275fac=function(Je){return new(Je||Ie)}}static{this.\u0275mod=a.$C({type:Ie})}static{this.\u0275inj=a.G2t({providers:[W,N.R,Qn.z,ce.c,Te.z,ge.d,z.S,H._,G._,h.V],imports:[ci,t.MD,p.iI,e.YN,g.Y,e.X1,w.Ss,C.Q_,he.h,S.XE,Y.F,Me.a,qe.m,Oe.i,de.c,Ae.t,Fe.c,Z.E,ne.h,pe.w,K.N,I.Y]})}}return Ie})()},6366:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>p});var t=d(4412),e=d(4438);let p=(()=>{class S{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},5691:(nt,ye,d)=>{"use strict";d.d(ye,{d:()=>p});var t=d(4412),e=d(4438);let p=(()=>{class S{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},2109:(nt,ye,d)=>{"use strict";d.d(ye,{J:()=>G,r:()=>H});var t=d(4304),e=d(9838),p=d(4438),S=d(9417),C=d(1583),w=d(345),g=d(5893),h=d(526),E=d(1780),v=d(4444),B=d(177),U=d(3680),a=d(7005);const k=(z,ce)=>({title:z,link:ce}),O=z=>[z],P=()=>["active"];function W(z,ce){1&z&&(p.j41(0,"span",21),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&z&&(p.R7$(),p.SpI(" ",p.bMT(2,1,"Common.Disabled")," "))}function N(z,ce){1&z&&(p.j41(0,"div",22),p.nrm(1,"router-outlet"),p.k0s())}function H(){return Object.assign(new t.P0,{closeOthers:!0})}let G=(()=>{class z{constructor(de,Y,Z,ne,I,pe,K,he){this.fb=de,this.route=Y,this.router=Z,this.titleService=ne,this.protectedResourceService=I,this.claimTypesService=pe,this.translate=K,this.scopesClaimService=he}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(de=>{this.protectedResource=de;const Y=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+e.$9.SITE_TITLE;this.titleService.setTitle(Y)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:de=>{this.scopesClaimService.setClaimTypes(de)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(de){this.router.navigate([de],{relativeTo:this.route})}static{this.\u0275fac=function(Y){return new(Y||z)(p.rXU(S.ze),p.rXU(C.nX),p.rXU(C.Ix),p.rXU(w.hE),p.rXU(g.x),p.rXU(h.X),p.rXU(E.c$),p.rXU(v.N))}}static{this.\u0275cmp=p.VBU({type:z,selectors:[["app-view-protectedresource"]],features:[p.Jv_([{provide:t.P0,useFactory:H}])],decls:53,vars:65,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","viewProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(Y,Z){1&Y&&(p.j41(0,"app-title-bar",0),p.nI1(1,"translate"),p.nI1(2,"localize"),p.qex(3,1),p.j41(4,"div",2)(5,"label",3),p.EFF(6),p.nI1(7,"translate"),p.k0s(),p.j41(8,"div",4)(9,"select",5),p.bIt("change",function(I){return Z.mobRoute(I.target.value)}),p.j41(10,"option",6),p.EFF(11),p.nI1(12,"translate"),p.k0s(),p.j41(13,"option",6),p.EFF(14),p.nI1(15,"translate"),p.k0s(),p.j41(16,"option",7),p.EFF(17),p.nI1(18,"translate"),p.k0s(),p.j41(19,"option",8),p.EFF(20),p.nI1(21,"translate"),p.k0s(),p.j41(22,"option",9),p.EFF(23),p.nI1(24,"translate"),p.k0s(),p.j41(25,"option",10),p.EFF(26),p.nI1(27,"translate"),p.k0s()()()(),p.j41(28,"ul",11),p.nI1(29,"translate"),p.j41(30,"li",12)(31,"button",13),p.EFF(32),p.nI1(33,"translate"),p.k0s()(),p.j41(34,"li",12)(35,"button",14),p.EFF(36),p.nI1(37,"translate"),p.k0s()(),p.j41(38,"li",12)(39,"button",15),p.EFF(40),p.nI1(41,"translate"),p.k0s()(),p.j41(42,"li",12)(43,"button",16),p.EFF(44),p.nI1(45,"translate"),p.k0s()(),p.j41(46,"li",12)(47,"button",17),p.EFF(48),p.nI1(49,"translate"),p.k0s()()(),p.bVm(),p.qex(50,18),p.DNE(51,W,3,3,"span",19),p.bVm(),p.k0s(),p.DNE(52,N,2,0,"div",20)),2&Y&&(p.Y8G("title",null==Z.protectedResource?null:Z.protectedResource.name)("crumbs",p.eq3(58,O,p.l_i(55,k,p.bMT(1,25,"ProtectedResources.Title"),p.bMT(2,27,"/protectedresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",Z.protectedResource.nonEditable),p.R7$(6),p.JRh(p.bMT(7,29,"Nav.SubMenu")),p.R7$(5),p.SpI("",p.bMT(12,31,"Nav.SubMenu"),"..."),p.R7$(3),p.JRh(p.bMT(15,33,"Nav.Details")),p.R7$(3),p.JRh(p.bMT(18,35,"Nav.Scopes")),p.R7$(3),p.JRh(p.bMT(21,37,"Nav.Claims")),p.R7$(3),p.JRh(p.bMT(24,39,"Nav.Secrets")),p.R7$(3),p.JRh(p.bMT(27,41,"Nav.Properties")),p.R7$(2),p.BMQ("aria-label",p.bMT(29,43,"Nav.SubMenu")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(60,P)),p.R7$(),p.JRh(p.bMT(33,45,"Nav.Details")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(61,P)),p.R7$(),p.JRh(p.bMT(37,47,"Nav.Scopes")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(62,P)),p.R7$(),p.JRh(p.bMT(41,49,"Nav.Claims")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(63,P)),p.R7$(),p.JRh(p.bMT(45,51,"Nav.Secrets")),p.R7$(3),p.Y8G("routerLinkActive",p.lJ4(64,P)),p.R7$(),p.JRh(p.bMT(49,53,"Nav.Properties")),p.R7$(3),p.Y8G("ngIf",!Z.protectedResource.enabled),p.R7$(),p.Y8G("ngIf",Z.protectedResource))},dependencies:[B.bT,C.n3,C.Wk,C.wQ,U.z,E.D9,a.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return z})()},4444:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>p});var t=d(2771),e=d(4438);let p=(()=>{class S{constructor(){this.cachedClaimTypes=new t.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(w){this.cachedClaimTypes.next(w)}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},7101:(nt,ye,d)=>{"use strict";d.r(ye),d.d(ye,{UsersModule:()=>It});var t=d(177),e=d(9417),p=d(1583),S=d(7005),C=d(779),w=d(534),g=d(1594),h=d(4438),E=d(5424),v=d(9196),B=d(3853),U=d(3680),a=d(1780);const k=(Ye,Zt)=>({title:Ye,link:Zt}),O=Ye=>[Ye],P=()=>["active"];function W(Ye,Zt){1&Ye&&(h.j41(0,"span",25)(1,"span",26),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.nrm(4,"span",27),h.k0s()),2&Ye&&(h.R7$(2),h.JRh(h.bMT(3,1,"StarterMode.RequiresUpgrade")))}function N(Ye,Zt){1&Ye&&(h.j41(0,"li",14)(1,"button",28),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&Ye&&(h.R7$(),h.Y8G("routerLinkActive",h.lJ4(4,P)),h.R7$(),h.JRh(h.bMT(3,2,"Nav.SessionManagement")))}function H(Ye,Zt){1&Ye&&(h.j41(0,"div",29)(1,"p"),h.EFF(2),h.nI1(3,"translate"),h.nI1(4,"translate"),h.k0s()()),2&Ye&&(h.R7$(2),h.Lme("",h.bMT(3,2,"Users.Delete.DeletedUser")," ",h.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let G=(()=>{class Ye{constructor(ht,Xt,$t,an,gn){this.r=ht,this.route=Xt,this.errorService=$t,this.configService=an,this.licenseService=gn}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ht=>{this.user=ht.user},error:ht=>{this.errorService.handleError(ht)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ht=>{this.showSessionManagement=ht.featureFlagOptions.sessionManagementEnabled},error:ht=>{this.errorService.handleError(ht)}}),this.licenseService.getLicenseInfo().pipe((0,g.$)()).subscribe({next:ht=>{this.licenseInfo=ht}})}mobRoute(ht){this.r.navigate([ht],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Xt){return new(Xt||Ye)(h.rXU(p.Ix),h.rXU(p.nX),h.rXU(E.I),h.rXU(v.w),h.rXU(B.X))}}static{this.\u0275cmp=h.VBU({type:Ye,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Xt,$t){1&Xt&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.nI1(2,"localize"),h.qex(3,1),h.j41(4,"div",2)(5,"label",3),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"div",4)(9,"select",5),h.bIt("change",function(gn){return $t.mobRoute(gn.target.value)}),h.j41(10,"option",6),h.EFF(11),h.nI1(12,"translate"),h.k0s(),h.j41(13,"option",6),h.EFF(14),h.nI1(15,"translate"),h.k0s(),h.j41(16,"option",7),h.EFF(17),h.nI1(18,"translate"),h.k0s(),h.j41(19,"option",8),h.EFF(20),h.nI1(21,"translate"),h.k0s(),h.j41(22,"option",9),h.EFF(23),h.nI1(24,"translate"),h.k0s(),h.j41(25,"option",10),h.EFF(26),h.nI1(27,"translate"),h.k0s(),h.j41(28,"option",11),h.EFF(29),h.nI1(30,"translate"),h.k0s(),h.j41(31,"option",12),h.EFF(32),h.nI1(33,"translate"),h.k0s()()()(),h.j41(34,"ul",13),h.nI1(35,"translate"),h.j41(36,"li",14)(37,"button",15),h.EFF(38),h.nI1(39,"translate"),h.k0s()(),h.j41(40,"li",14)(41,"button",16),h.EFF(42),h.nI1(43,"translate"),h.k0s()(),h.j41(44,"li",14)(45,"button",17),h.EFF(46),h.nI1(47,"translate"),h.k0s()(),h.j41(48,"li",14)(49,"button",18),h.EFF(50),h.nI1(51,"translate"),h.k0s()(),h.j41(52,"li",14)(53,"button",19),h.EFF(54),h.nI1(55,"translate"),h.k0s()(),h.j41(56,"li",14)(57,"button",20),h.EFF(58),h.nI1(59,"translate"),h.DNE(60,W,5,3,"span",21),h.k0s()(),h.DNE(61,N,4,5,"li",22),h.k0s(),h.bVm(),h.k0s(),h.j41(62,"div",23),h.DNE(63,H,5,6,"div",24),h.nrm(64,"router-outlet"),h.k0s()),2&Xt&&(h.Y8G("title",$t.user.firstName+" "+$t.user.lastName)("totpEnabled",$t.user.totpEnabled)("crumbs",h.eq3(68,O,h.l_i(65,k,h.bMT(1,29,"Nav.Users"),h.bMT(2,31,"/users"))))("hasTabs",!0),h.R7$(6),h.JRh(h.bMT(7,33,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(12,35,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(15,37,"Nav.Details")),h.R7$(3),h.JRh(h.bMT(18,39,"Nav.Roles")),h.R7$(3),h.JRh(h.bMT(21,41,"Nav.Additional Details")),h.R7$(3),h.JRh(h.bMT(24,43,"Nav.Applications")),h.R7$(3),h.JRh(h.bMT(27,45,"Nav.External Logins")),h.R7$(3),h.JRh(h.bMT(30,47,"Nav.Audits")),h.R7$(3),h.JRh(h.bMT(33,49,"Nav.SessionManagement")),h.R7$(2),h.BMQ("aria-label",h.bMT(35,51,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(70,P)),h.R7$(),h.JRh(h.bMT(39,53,"Nav.Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(71,P)),h.R7$(),h.JRh(h.bMT(43,55,"Nav.Roles")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(72,P)),h.R7$(),h.JRh(h.bMT(47,57,"Nav.Additional Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(73,P)),h.R7$(),h.JRh(h.bMT(51,59,"Nav.Applications")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(74,P)),h.R7$(),h.JRh(h.bMT(55,61,"Nav.External Logins")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(75,P)),h.R7$(),h.SpI(" ",h.bMT(59,63,"Nav.Audits")," "),h.R7$(2),h.Y8G("ngIf",null==$t.licenseInfo?null:$t.licenseInfo.isStarterLicense()),h.R7$(),h.Y8G("ngIf",$t.showSessionManagement),h.R7$(2),h.Y8G("ngIf",$t.user.isDeleted))},dependencies:[p.n3,p.Wk,p.wQ,t.bT,e.xH,e.y7,U.z,a.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ye})();var z=d(1413),ce=d(6354),de=d(8412),Y=d(9172),Z=d(1397),ne=d(1986),I=d(9838),pe=d(4313),K=d(7263),he=d(5602),Oe=d(345),Ae=d(5794),Fe=d(7883),qe=d(7156),Me=d(7294),Te=d(7384),ge=d(8698),$e=d(9550),xe=d(316),pt=d(6697),Le=function(Ye){return Ye[Ye.None=0]="None",Ye[Ye.Add=1]="Add",Ye[Ye.AddAnother=2]="AddAnother",Ye[Ye.AddAndConfigure=3]="AddAndConfigure",Ye}(Le||{}),Ct=d(4589),ut=d(526),hn=d(6801),mn=d(4701);const Rt=["claimsComponent"],Dt=["addUserModal"],q=()=>({animated:!1,backdrop:"static"});function Q(Ye,Zt){1&Ye&&(h.j41(0,"h2",37),h.nrm(1,"span",38),h.j41(2,"span",24),h.EFF(3),h.nI1(4,"translate"),h.k0s(),h.j41(5,"span")(6,"a",39),h.EFF(7),h.nI1(8,"translate"),h.k0s()()()),2&Ye&&(h.R7$(3),h.JRh(h.bMT(4,2,"Users.Password.DemoTitle")),h.R7$(4),h.SpI(" ",h.bMT(8,4,"Users.Password.DemoLink")," "))}function te(Ye,Zt){if(1&Ye&&(h.j41(0,"div")(1,"div",33),h.DNE(2,Q,9,6,"h2",34),h.j41(3,"app-form-row",16),h.nrm(4,"input",35),h.j41(5,"ul",36)(6,"li"),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"li"),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"li"),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"li"),h.EFF(16),h.nI1(17,"translate"),h.k0s(),h.j41(18,"li"),h.EFF(19),h.nI1(20,"translate"),h.k0s()()()()()),2&Ye){const ht=h.XpG();h.R7$(2),h.Y8G("ngIf",ht.isDemo),h.R7$(),h.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),h.R7$(4),h.JRh(h.bMT(8,9,"Users.Password.Requirements.1")),h.R7$(3),h.JRh(h.bMT(11,11,"Users.Password.Requirements.2")),h.R7$(3),h.JRh(h.bMT(14,13,"Users.Password.Requirements.3")),h.R7$(3),h.JRh(h.bMT(17,15,"Users.Password.Requirements.4")),h.R7$(3),h.JRh(h.bMT(20,17,"Users.Password.Requirements.5"))}}function De(Ye,Zt){1&Ye&&h.nrm(0,"span",40)}function Re(Ye,Zt){1&Ye&&h.nrm(0,"span",40)}function at(Ye,Zt){1&Ye&&h.nrm(0,"span",40)}let o=(()=>{class Ye{constructor(ht,Xt,$t,an,gn,Ue,Xe,ot,Vt,_n,bn){this.userService=ht,this.claimTypesService=Xt,this.errorService=$t,this.translate=an,this.router=gn,this.fb=Ue,this.toastr=Xe,this.localize=ot,this.securityService=Vt,this.healthCheckService=_n,this.configService=bn,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.requireEmail=!0,this.onSubmitted=new h.bkB,this.inFlight=!1,this.addButtonClick=Le,this.addClicked=Le.None}keydown(ht){"Enter"===ht.key&&"addUserSubmit"!==ht.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.configService.getConfig().pipe((0,pt.s)(1)).subscribe(ht=>{null!=ht.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ht.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===Ct.G.Demo||this.securityService.licenseType===Ct.G.Starter,this.isDemo&&(this.canCreatePassword=!0),this.requireEmail=ht.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ht=>{this.claimTypes=ht},ht=>{this.errorService.handleError(ht)})}addAnotherUser(){this.addAnother=!0,this.addClicked=Le.AddAnother,this.addUser()}addUser(ht){let Xt;this.addClicked===Le.None&&(this.addClicked=ht?Le.AddAndConfigure:Le.Add),Xt=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Xt,{claims:[]});for(const $t of this.claimsComponent.requiredClaims){if(null===$t.value)continue;let an=$t.value;"DateTime"===$t.format&&(an=$t.value),"Int"===$t.format&&(an=an.toString()),Xt.claims.push({claimTypeId:$t.typeId,value:an,type:$t.type})}!1===this.canCreatePassword&&(Xt.password=null),this.inFlight=!0,this.userService.addUser(Xt).subscribe($t=>{this.inFlight=!1,this.addClicked=Le.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const an=this.translate.instant("Notifications.AccountCreated"),gn=this.translate.instant("Users.Singular")+" "+Xt.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(an,gn),ht&&$t.headers.get("location")?this.addUserAndConfigure($t.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},$t=>{this.inFlight=!1,this.addClicked=Le.None,this.addAnother=!1,this.errorService.handleError($t)})}addUserAndConfigure(ht){const Xt=ht.lastIndexOf("/"),$t=ht.substring(Xt+1),an=[this.localize.translateRoute("/users"),$t];this.router.navigate(an)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,K.Zt)()]],email:["",this.requireEmail?xe.D:[]],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Xt){return new(Xt||Ye)(h.rXU(he.D),h.rXU(ut.X),h.rXU(E.I),h.rXU(a.c$),h.rXU(p.Ix),h.rXU(e.ze),h.rXU(Ae.tw),h.rXU(S.QG),h.rXU(Fe.i),h.rXU(hn.M),h.rXU(v.w))}}static{this.\u0275cmp=h.VBU({type:Ye,selectors:[["app-add-user"]],viewQuery:function(Xt,$t){if(1&Xt&&(h.GBs(Rt,7),h.GBs(Dt,7)),2&Xt){let an;h.mGM(an=h.lsd())&&($t.claimsComponent=an.first),h.mGM(an=h.lsd())&&($t.addUserModal=an.first)}},hostBindings:function(Xt,$t){1&Xt&&h.bIt("keydown",function(gn){return $t.keydown(gn)},!1,h.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:40,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(Xt,$t){if(1&Xt){const an=h.RV6();h.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"button",7),h.bIt("click",function(){return h.eBV(an),h.Njj($t.hide())}),h.nrm(9,"span",8),h.j41(10,"span",9),h.EFF(11),h.nI1(12,"translate"),h.k0s()()(),h.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),h.nrm(16,"input",13),h.k0s(),h.j41(17,"app-form-row",12),h.nrm(18,"input",14),h.k0s(),h.j41(19,"app-form-row",12),h.nrm(20,"input",15),h.k0s(),h.j41(21,"app-form-row",16),h.nrm(22,"input",17),h.k0s()(),h.nrm(23,"app-required-claims-form",18,1),h.j41(25,"form",19),h.DNE(26,te,21,19,"div",20),h.k0s()(),h.nrm(27,"div",21),h.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),h.bIt("click",function(){return h.eBV(an),h.Njj($t.addUser())}),h.EFF(33),h.nI1(34,"translate"),h.DNE(35,De,1,0,"span",27),h.k0s()(),h.j41(36,"span",28)(37,"button",29),h.bIt("click",function(){return h.eBV(an),h.Njj($t.addUser(!0))}),h.EFF(38),h.nI1(39,"translate"),h.DNE(40,Re,1,0,"span",27),h.k0s()(),h.j41(41,"span",30)(42,"button",31),h.bIt("click",function(){return h.eBV(an),h.Njj($t.addAnotherUser())}),h.EFF(43),h.nI1(44,"translate"),h.DNE(45,at,1,0,"span",27),h.k0s()()(),h.j41(46,"button",32),h.bIt("click",function(){return h.eBV(an),h.Njj($t.hide())}),h.EFF(47),h.nI1(48,"translate"),h.k0s()()()()()()}if(2&Xt){const an=h.sdS(24);h.Y8G("config",h.lJ4(39,q)),h.R7$(6),h.JRh(h.bMT(7,27,"Users.NewUser")),h.R7$(5),h.JRh(h.bMT(12,29,"Common.Close")),h.R7$(3),h.Y8G("formGroup",$t.addUserForm),h.R7$(),h.Y8G("id","FirstName")("label","Users.FirstName"),h.R7$(2),h.Y8G("id","LastName")("label","Users.LastName"),h.R7$(2),h.Y8G("id","Username")("label","Users.Username"),h.R7$(2),h.Y8G("id","Email")("label","Users.Email")("isLast",!$t.canCreatePassword),h.R7$(),h.BMQ("Required",$t.requireEmail),h.R7$(),h.Y8G("claimTypes",$t.claimTypes),h.R7$(2),h.Y8G("formGroup",$t.addUserForm),h.R7$(),h.Y8G("ngIf",$t.canCreatePassword),h.R7$(6),h.Y8G("disabled",!$t.addUserForm.valid||!an.isFormValid()||$t.inFlight),h.R7$(),h.SpI(" ",h.bMT(34,31,"Common.Save")," "),h.R7$(2),h.Y8G("ngIf",$t.inFlight&&$t.addClicked===$t.addButtonClick.Add),h.R7$(2),h.Y8G("disabled",$t.addAnother||!$t.addUserForm.valid||!an.isFormValid()||$t.inFlight),h.R7$(),h.SpI(" ",h.bMT(39,33,"Common.SaveAndConfigure")," "),h.R7$(2),h.Y8G("ngIf",$t.inFlight&&$t.addClicked===$t.addButtonClick.AddAndConfigure),h.R7$(2),h.Y8G("disabled",!$t.addUserForm.valid||!an.isFormValid()||$t.inFlight),h.R7$(),h.SpI(" ",h.bMT(44,35,"Common.SaveAndAdd")," "),h.R7$(2),h.Y8G("ngIf",$t.inFlight&&$t.addClicked===$t.addButtonClick.AddAnother),h.R7$(2),h.JRh(h.bMT(48,37,"Common.Cancel"))}},dependencies:[t.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,C.hZ,ge.Y,mn.u,a.D9],encapsulation:2})}}return Ye})();const ft=["addUserModal"],Ft=(Ye,Zt)=>({"tw-alert":Ye,"tw-alert-warning":Zt}),_t=Ye=>({limit:Ye,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),lt=(Ye,Zt)=>({"fad fa-pencil":Ye,"fas fa-eye":Zt});function Pt(Ye,Zt){if(1&Ye){const ht=h.RV6();h.j41(0,"app-add-user",30,1),h.bIt("onSubmitted",function($t){h.eBV(ht);const an=h.XpG();return h.Njj(an.onSubmitted($t))}),h.k0s()}}function tn(Ye,Zt){if(1&Ye&&(h.j41(0,"div",31),h.nrm(1,"span",32),h.nI1(2,"translate"),h.k0s()),2&Ye){const ht=h.XpG();h.Y8G("ngClass",h.l_i(5,Ft,ht.limitReached,ht.overLimit)),h.R7$(),h.Y8G("innerHTML",h.i5U(2,2,"Common.QuotaLimit",h.eq3(8,_t,ht.licenseInfo.maxUsers)),h.npT)}}function ct(Ye,Zt){1&Ye&&(h.j41(0,"span"),h.nrm(1,"span",33),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Ye&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"Auditing.ShowFilters")," "))}function Lt(Ye,Zt){1&Ye&&(h.j41(0,"span"),h.nrm(1,"span",34),h.EFF(2),h.nI1(3,"translate"),h.k0s()),2&Ye&&(h.R7$(2),h.SpI(" ",h.bMT(3,1,"Auditing.HideFilters")," "))}function Ce(Ye,Zt){if(1&Ye){const ht=h.RV6();h.j41(0,"div",38)(1,"label",39),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.j41(4,"select",40),h.mxI("ngModelChange",function($t){h.eBV(ht);const an=h.XpG(2);return h.DH7(an.pageSize,$t)||(an.pageSize=$t),h.Njj($t)}),h.bIt("change",function(){h.eBV(ht);const $t=h.XpG(2);return h.Njj($t.setPageLength(+$t.pageSize))}),h.j41(5,"option",41),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"option",42),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.j41(11,"option",43),h.EFF(12),h.nI1(13,"translate"),h.k0s()()()}if(2&Ye){const ht=h.XpG(2);h.R7$(2),h.Lme("",ht.pageSize," ",h.bMT(3,6,"Nav.PerPage"),""),h.R7$(2),h.R50("ngModel",ht.pageSize),h.R7$(2),h.SpI("25 ",h.bMT(7,8,"Nav.PerPage"),""),h.R7$(3),h.SpI("50 ",h.bMT(10,10,"Nav.PerPage"),""),h.R7$(3),h.SpI("100 ",h.bMT(13,12,"Nav.PerPage"),"")}}function le(Ye,Zt){if(1&Ye){const ht=h.RV6();h.qex(0,44),h.j41(1,"button",45),h.bIt("click",function(){h.eBV(ht);const $t=h.XpG(2);return h.Njj($t.addModal.show())}),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.bVm()}if(2&Ye){const ht=h.XpG(2);h.R7$(),h.Y8G("disabled",ht.limitReached),h.R7$(),h.SpI(" ",h.bMT(3,2,"Users.AddUser")," ")}}function j(Ye,Zt){if(1&Ye&&(h.j41(0,"app-action-bar"),h.qex(1,35),h.DNE(2,Ce,14,14,"div",36),h.bVm(),h.DNE(3,le,4,4,"ng-container",37),h.k0s()),2&Ye){const ht=h.XpG();h.R7$(2),h.Y8G("ngIf",(null==ht.pagedResult?null:ht.pagedResult.results.length)>0),h.R7$(),h.Y8G("ngIf",!ht.isUserManagerReadOnly)}}function ae(Ye,Zt){1&Ye&&h.nrm(0,"app-simple-loader")}function Ge(Ye,Zt){1&Ye&&(h.j41(0,"div",46)(1,"div"),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&Ye&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.NoUsersFound")))}function tt(Ye,Zt){1&Ye&&(h.j41(0,"span",67)(1,"span",9),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&Ye&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.Filter.Deleted")))}function vt(Ye,Zt){1&Ye&&(h.j41(0,"span",68)(1,"span",9),h.EFF(2),h.nI1(3,"translate"),h.k0s()()),2&Ye&&(h.R7$(2),h.JRh(h.bMT(3,1,"Users.Filter.Blocked")))}function Bt(Ye,Zt){1&Ye&&(h.j41(0,"span",69),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Ye&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Deleted")," "))}function ln(Ye,Zt){1&Ye&&(h.j41(0,"span",70),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Ye&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Blocked")," "))}function sn(Ye,Zt){1&Ye&&(h.j41(0,"span",9),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Ye&&(h.R7$(),h.JRh(h.bMT(2,1,"Common.Edit")))}function Pn(Ye,Zt){1&Ye&&(h.j41(0,"span",9),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Ye&&(h.R7$(),h.JRh(h.bMT(2,1,"Common.View")))}function $n(Ye,Zt){if(1&Ye){const ht=h.RV6();h.j41(0,"tr",54)(1,"td",55),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.DNE(2,tt,4,3,"span",56)(3,vt,4,3,"span",57),h.j41(4,"b",58),h.EFF(5),h.k0s()(),h.j41(6,"td",59),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.EFF(7),h.k0s(),h.j41(8,"td",60),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.EFF(9),h.k0s(),h.j41(10,"td",61),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.DNE(11,Bt,3,3,"span",62)(12,ln,3,3,"span",63),h.k0s(),h.j41(13,"td",61),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.j41(14,"button",64),h.bIt("click",function(){const $t=h.eBV(ht).$implicit,an=h.XpG(2);return h.Njj(an.viewOrEditUser($t))}),h.nrm(15,"span",65),h.j41(16,"span",9),h.EFF(17),h.nI1(18,"translate"),h.k0s(),h.DNE(19,sn,3,3,"span",66)(20,Pn,3,3,"span",66),h.k0s()()()}if(2&Ye){const ht=Zt.$implicit,Xt=h.XpG(2);h.AVh("inactive",ht.isBlocked||ht.isDeleted||Xt.overLimit),h.R7$(2),h.Y8G("ngIf",ht.isDeleted),h.R7$(),h.Y8G("ngIf",ht.isBlocked&&!ht.isDeleted),h.R7$(2),h.SpI(" ",ht.username," "),h.R7$(2),h.Lme(" ",ht.firstName," ",ht.lastName," "),h.R7$(2),h.SpI(" ",ht.email," "),h.R7$(2),h.Y8G("ngIf",ht.isDeleted),h.R7$(),h.Y8G("ngIf",ht.isBlocked&&!ht.isDeleted),h.R7$(3),h.Y8G("ngClass",h.l_i(16,lt,!Xt.isUserManagerReadOnly&&!Xt.overLimit,Xt.isUserManagerReadOnly||Xt.overLimit)),h.R7$(2),h.JRh(h.bMT(18,14,"Common.Edit")),h.R7$(2),h.Y8G("ngIf",!Xt.isUserManagerReadOnly&&!Xt.overLimit),h.R7$(),h.Y8G("ngIf",Xt.isUserManagerReadOnly||Xt.overLimit)}}function Vn(Ye,Zt){if(1&Ye&&(h.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),h.EFF(4),h.nI1(5,"translate"),h.k0s(),h.j41(6,"th",49),h.EFF(7),h.nI1(8,"translate"),h.k0s(),h.j41(9,"th",50),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"th",51)(13,"span",9),h.EFF(14),h.nI1(15,"translate"),h.k0s()(),h.j41(16,"th",51)(17,"span",9),h.EFF(18),h.nI1(19,"translate"),h.k0s()()()(),h.j41(20,"tbody",52),h.DNE(21,$n,21,19,"tr",53),h.k0s()()),2&Ye){const ht=h.XpG();h.R7$(4),h.SpI(" ",h.bMT(5,6,"Users.Username")," "),h.R7$(3),h.SpI(" ",h.bMT(8,8,"Users.FullName")," "),h.R7$(3),h.SpI(" ",h.bMT(11,10,"Users.Email")," "),h.R7$(4),h.JRh(h.bMT(15,12,"Common.Status")),h.R7$(4),h.JRh(h.bMT(19,14,"Common.Actions")),h.R7$(3),h.Y8G("ngForOf",ht.pagedResult.results)}}function Mt(Ye,Zt){if(1&Ye){const ht=h.RV6();h.j41(0,"app-pager",71),h.bIt("onGoToPage",function($t){h.eBV(ht);const an=h.XpG();return h.Njj(an.goToPage($t))}),h.k0s()}if(2&Ye){const ht=h.XpG();h.Y8G("totalResults",null==ht.pagedResult?null:ht.pagedResult.totalCount)("currentPage",ht.page)("lastPage",null==ht.pagedResult?null:ht.pagedResult.pageCount)}}let On=(()=>{class Ye extends pe.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ht,Xt,$t,an,gn,Ue,Xe,ot,Vt){super(Xe,gn,!0),this.router=ht,this.userService=Xt,this.errorService=$t,this.titleService=an,this.localize=Ue,this.securityService=ot,this.licenseService=Vt,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new z.B,this.advancedFilterStream=new z.B,this.pageStream=new z.B,this.pageSizeStream=new z.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${I.$9.SITE_TITLE}`),this.isLoading=!0;const ht=this.pageStream.pipe((0,ce.T)(Ue=>(this.page=Ue,{searchTerm:this.term,page:Ue,pageSize:this.pageSize,filters:this.activeFilters}))),Xt=this.pageSizeStream.pipe((0,ce.T)(Ue=>(this.pageSize=Ue,{searchTerm:this.term,page:this.page,pageSize:Ue,filters:this.activeFilters}))),$t=this.filterStream.pipe((0,ce.T)(Ue=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:Ue}))),an=this.advancedFilterStream.pipe((0,ce.T)(Ue=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:Ue})));ht.pipe((0,de.X)(Xt),(0,de.X)(this.searchSource),(0,de.X)($t),(0,de.X)(an),(0,de.X)(this.enterKeySource),(0,Y.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,Z.Z)(Ue=>(this.isLoading=!0,this.userService.getUsersLightweight(Ue.searchTerm,Ue.page,Ue.pageSize,Ue.filters,Ue.advancedFilters).pipe((0,ne.c)(200))))).subscribe({next:Ue=>{this.pagedResult=Ue,this.isLoading=!1},error:Ue=>{500===Ue.status?this.handleInternalServerError():this.errorService.handleError(Ue),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,g.$)()).subscribe({next:Ue=>{this.licenseInfo=Ue}})}mapSearchTerm(ht){return this.term=ht,{searchTerm:ht,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(ht){const Xt=this.localize.translateRoute("/users");this.router.navigate([Xt,ht.subject])}viewUser(ht){const Xt=this.localize.translateRoute("/users/view");this.router.navigate([Xt,ht.subject])}viewOrEditUser(ht){this.isUserManagerReadOnly||this.overLimit?this.viewUser(ht):this.editUser(ht)}goToPage(ht){this.pageStream.next(ht)}setPageLength(ht){this.page=1,this.pageSizeStream.next(ht)}filter(ht){if(this.activeFilters.includes(ht)){const Xt=this.activeFilters.indexOf(ht);this.activeFilters.splice(Xt,1)}else this.activeFilters.push(ht);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ht){if(this.activeAdvancedFilters.includes(ht)){const Xt=this.activeAdvancedFilters.indexOf(ht);this.activeAdvancedFilters.splice(Xt,1)}else this.activeAdvancedFilters.push(ht);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ht){return this.activeFilters.includes(ht)}onSubmitted(ht){ht&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,K.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(Xt){return new(Xt||Ye)(h.rXU(p.Ix),h.rXU(he.D),h.rXU(E.I),h.rXU(Oe.hE),h.rXU(a.c$),h.rXU(S.QG),h.rXU(Ae.tw),h.rXU(Fe.i),h.rXU(B.X))}}static{this.\u0275cmp=h.VBU({type:Ye,selectors:[["ng-component"]],viewQuery:function(Xt,$t){if(1&Xt&&h.GBs(ft,5),2&Xt){let an;h.mGM(an=h.lsd())&&($t.addModal=an.first)}},features:[h.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Xt,$t){if(1&Xt){const an=h.RV6();h.DNE(0,Pt,2,0,"app-add-user",2),h.j41(1,"div",3),h.DNE(2,tn,3,10,"div",4),h.j41(3,"div",5)(4,"div",6)(5,"label",7),h.nrm(6,"span",8),h.j41(7,"span",9),h.EFF(8),h.nI1(9,"translate"),h.k0s()(),h.j41(10,"input",10,0),h.nI1(12,"translate"),h.mxI("ngModelChange",function(Ue){return h.eBV(an),h.DH7($t.searchTerm,Ue)||($t.searchTerm=Ue),h.Njj(Ue)}),h.bIt("keyup",function(Ue){return h.eBV(an),h.Njj($t.search(Ue))}),h.k0s()(),h.j41(13,"button",11),h.bIt("click",function(){return h.eBV(an),h.Njj($t.showAdvancedFilters=!$t.showAdvancedFilters)}),h.DNE(14,ct,4,3,"span",12)(15,Lt,4,3,"span",12),h.k0s(),h.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),h.bIt("click",function(){return h.eBV(an),h.Njj($t.advancedFilter("claims"))}),h.k0s()()()()(),h.j41(23,"div",20)(24,"p",21),h.EFF(25),h.nI1(26,"translate"),h.k0s(),h.j41(27,"ul",22)(28,"li",23)(29,"button",24),h.bIt("click",function(){return h.eBV(an),h.Njj($t.filter("active"))}),h.EFF(30),h.nI1(31,"translate"),h.k0s()(),h.j41(32,"li",23)(33,"button",25),h.bIt("click",function(){return h.eBV(an),h.Njj($t.filter("blocked"))}),h.EFF(34),h.nI1(35,"translate"),h.k0s()(),h.j41(36,"li")(37,"button",26),h.bIt("click",function(){return h.eBV(an),h.Njj($t.filter("deleted"))}),h.EFF(38),h.nI1(39,"translate"),h.k0s()()()()(),h.nrm(40,"hr"),h.k0s()(),h.DNE(41,j,4,2,"app-action-bar",12)(42,ae,1,0,"app-simple-loader",12)(43,Ge,4,3,"div",27)(44,Vn,22,16,"table",28)(45,Mt,1,3,"app-pager",29),h.k0s()}2&Xt&&(h.Y8G("ngIf",!$t.isUserManagerReadOnly),h.R7$(2),h.Y8G("ngIf",$t.limitReached),h.R7$(6),h.JRh(h.bMT(9,25,"Common.Search")),h.R7$(2),h.FS9("placeholder",h.bMT(12,27,"Users.SearchPlaceholder")),h.R50("ngModel",$t.searchTerm),h.R7$(4),h.Y8G("ngIf",!$t.showAdvancedFilters),h.R7$(),h.Y8G("ngIf",$t.showAdvancedFilters),h.R7$(),h.Y8G("hidden",!$t.showAdvancedFilters),h.R7$(4),h.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),h.R7$(),h.Y8G("id","includeClaims"),h.R7$(4),h.JRh(h.bMT(26,29,"Auditing.Showing")),h.R7$(4),h.Y8G("ngClass",$t.isShowing("active")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(31,31,"Users.Filter.Active")," "),h.R7$(3),h.Y8G("ngClass",$t.isShowing("blocked")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(35,33,"Users.Filter.Blocked")," "),h.R7$(3),h.Y8G("ngClass",$t.isShowing("deleted")?"tw-btn":"tw-btn-link"),h.R7$(),h.SpI(" ",h.bMT(39,35,"Users.Filter.Deleted")," "),h.R7$(3),h.Y8G("ngIf",!$t.isLoading),h.R7$(),h.Y8G("ngIf",$t.isLoading),h.R7$(),h.Y8G("ngIf",(null==$t.pagedResult?null:$t.pagedResult.results.length)<1&&!$t.isLoading),h.R7$(),h.Y8G("ngIf",(null==$t.pagedResult?null:$t.pagedResult.results.length)>0&&!$t.isLoading),h.R7$(),h.Y8G("ngIf",(null==$t.pagedResult?null:$t.pagedResult.results.length)>0&&!$t.isLoading))},dependencies:[t.YU,t.Sq,t.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,qe.B,Me.n,Te.d,ge.Y,$e.m,o,a.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ye})();const Qt=()=>["active"];function mt(Ye,Zt){1&Ye&&(h.j41(0,"ul",10),h.nI1(1,"translate"),h.j41(2,"li",11)(3,"button",12),h.EFF(4),h.nI1(5,"translate"),h.k0s()(),h.j41(6,"li",11)(7,"button",13),h.EFF(8),h.nI1(9,"translate"),h.k0s()()()),2&Ye&&(h.BMQ("aria-label",h.bMT(1,5,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(11,Qt)),h.R7$(),h.JRh(h.bMT(5,7,"Nav.Users")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(12,Qt)),h.R7$(),h.JRh(h.bMT(9,9,"Nav.SessionManagement")))}let St=(()=>{class Ye{constructor(ht,Xt,$t){this.r=ht,this.route=Xt,this.configService=$t}ngOnInit(){this.configService.getConfig().subscribe(ht=>{this.showSessionManagement=ht.featureFlagOptions.sessionManagementEnabled})}mobRoute(ht){this.r.navigate([ht],{relativeTo:this.route})}static{this.\u0275fac=function(Xt){return new(Xt||Ye)(h.rXU(p.Ix),h.rXU(p.nX),h.rXU(v.w))}}static{this.\u0275cmp=h.VBU({type:Ye,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Xt,$t){1&Xt&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.qex(2,1),h.j41(3,"div",2)(4,"label",3),h.EFF(5),h.nI1(6,"translate"),h.k0s(),h.j41(7,"div",4)(8,"select",5),h.bIt("change",function(gn){return $t.mobRoute(gn.target.value)}),h.j41(9,"option",6),h.EFF(10),h.nI1(11,"translate"),h.k0s(),h.j41(12,"option",6),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"option",7),h.EFF(16),h.nI1(17,"translate"),h.k0s()()()(),h.DNE(18,mt,10,13,"ul",8),h.bVm(),h.k0s(),h.j41(19,"div",9),h.nrm(20,"router-outlet"),h.k0s()),2&Xt&&(h.Y8G("hasTabs",!0)("title",h.bMT(1,7,"Nav.Users")),h.R7$(5),h.JRh(h.bMT(6,9,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(11,11,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(14,13,"Nav.Users")),h.R7$(3),h.JRh(h.bMT(17,15,"Nav.SessionManagement")),h.R7$(2),h.Y8G("ngIf",$t.showSessionManagement))},dependencies:[p.n3,p.Wk,p.wQ,t.bT,e.xH,e.y7,U.z,a.D9],encapsulation:2})}}return Ye})();const dt=(Ye,Zt)=>({title:Ye,link:Zt}),Ut=Ye=>[Ye],rn=()=>["active"];function Tn(Ye,Zt){1&Ye&&(h.j41(0,"span",25),h.EFF(1),h.nI1(2,"translate"),h.k0s()),2&Ye&&(h.R7$(),h.SpI(" ",h.bMT(2,1,"Users.Filter.Blocked")," "))}function Jn(Ye,Zt){1&Ye&&(h.j41(0,"span",26)(1,"span",27),h.EFF(2),h.nI1(3,"translate"),h.k0s(),h.nrm(4,"span",28),h.k0s()),2&Ye&&(h.R7$(2),h.JRh(h.bMT(3,1,"StarterMode.RequiresUpgrade")))}function yn(Ye,Zt){1&Ye&&(h.j41(0,"div",29)(1,"p"),h.EFF(2),h.nI1(3,"translate"),h.nI1(4,"translate"),h.k0s()()),2&Ye&&(h.R7$(2),h.Lme("",h.bMT(3,2,"Users.Delete.DeletedUser")," ",h.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let yi=(()=>{class Ye{constructor(ht,Xt,$t,an){this.route=ht,this.router=Xt,this.errorService=$t,this.licenseService=an}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ht=>{this.user=ht.user},ht=>{this.errorService.handleError(ht)}),this.licenseService.getLicenseInfo().pipe((0,g.$)()).subscribe({next:ht=>{this.licenseInfo=ht}})}mobRoute(ht){this.router.navigate([ht],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Xt){return new(Xt||Ye)(h.rXU(p.nX),h.rXU(p.Ix),h.rXU(E.I),h.rXU(B.X))}}static{this.\u0275cmp=h.VBU({type:Ye,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Xt,$t){1&Xt&&(h.j41(0,"app-title-bar",0),h.nI1(1,"translate"),h.nI1(2,"localize"),h.qex(3,1),h.DNE(4,Tn,3,3,"span",2),h.bVm(),h.qex(5,3),h.j41(6,"div",4)(7,"label",5),h.EFF(8),h.nI1(9,"translate"),h.k0s(),h.j41(10,"div",6)(11,"select",7),h.bIt("change",function(gn){return $t.mobRoute(gn.target.value)}),h.j41(12,"option",8),h.EFF(13),h.nI1(14,"translate"),h.k0s(),h.j41(15,"option",8),h.EFF(16),h.nI1(17,"translate"),h.k0s(),h.j41(18,"option",9),h.EFF(19),h.nI1(20,"translate"),h.k0s(),h.j41(21,"option",10),h.EFF(22),h.nI1(23,"translate"),h.k0s(),h.j41(24,"option",11),h.EFF(25),h.nI1(26,"translate"),h.k0s(),h.j41(27,"option",12),h.EFF(28),h.nI1(29,"translate"),h.k0s(),h.j41(30,"option",13),h.EFF(31),h.nI1(32,"translate"),h.k0s()()()(),h.j41(33,"ul",14),h.nI1(34,"translate"),h.j41(35,"li",15)(36,"button",16),h.EFF(37),h.nI1(38,"translate"),h.k0s()(),h.j41(39,"li",15)(40,"button",17),h.EFF(41),h.nI1(42,"translate"),h.k0s()(),h.j41(43,"li",15)(44,"button",18),h.EFF(45),h.nI1(46,"translate"),h.k0s()(),h.j41(47,"li",15)(48,"button",19),h.EFF(49),h.nI1(50,"translate"),h.k0s()(),h.j41(51,"li",15)(52,"button",20),h.EFF(53),h.nI1(54,"translate"),h.k0s()(),h.j41(55,"li",15)(56,"button",21),h.EFF(57),h.nI1(58,"translate"),h.DNE(59,Jn,5,3,"span",22),h.k0s()()(),h.bVm(),h.k0s(),h.j41(60,"div",23),h.DNE(61,yn,5,6,"div",24),h.nrm(62,"router-outlet"),h.k0s()),2&Xt&&(h.Y8G("title",$t.user.firstName+" "+$t.user.lastName)("crumbs",h.eq3(65,Ut,h.l_i(62,dt,h.bMT(1,28,"Nav.Users"),h.bMT(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),h.R7$(4),h.Y8G("ngIf",$t.user.isBlocked),h.R7$(4),h.JRh(h.bMT(9,32,"Nav.SubMenu")),h.R7$(5),h.SpI("",h.bMT(14,34,"Nav.SubMenu"),"..."),h.R7$(3),h.JRh(h.bMT(17,36,"Nav.Details")),h.R7$(3),h.JRh(h.bMT(20,38,"Nav.Roles")),h.R7$(3),h.JRh(h.bMT(23,40,"Nav.Additional Details")),h.R7$(3),h.JRh(h.bMT(26,42,"Nav.Applications")),h.R7$(3),h.JRh(h.bMT(29,44,"Nav.External Logins")),h.R7$(3),h.JRh(h.bMT(32,46,"Nav.Audits")),h.R7$(2),h.BMQ("aria-label",h.bMT(34,48,"Nav.SubMenu")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(67,rn)),h.R7$(),h.JRh(h.bMT(38,50,"Nav.Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(68,rn)),h.R7$(),h.JRh(h.bMT(42,52,"Nav.Roles")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(69,rn)),h.R7$(),h.JRh(h.bMT(46,54,"Nav.Additional Details")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(70,rn)),h.R7$(),h.JRh(h.bMT(50,56,"Nav.Applications")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(71,rn)),h.R7$(),h.JRh(h.bMT(54,58,"Nav.External Logins")),h.R7$(3),h.Y8G("routerLinkActive",h.lJ4(72,rn)),h.R7$(),h.SpI(" ",h.bMT(58,60,"Nav.Audits")," "),h.R7$(2),h.Y8G("ngIf",$t.licenseInfo.isStarterLicense()),h.R7$(2),h.Y8G("ngIf",$t.user.isDeleted))},dependencies:[p.n3,p.Wk,p.wQ,t.bT,U.z,a.D9,S.tl],encapsulation:2})}}return Ye})();var ii=d(3178),xt=d(5358),bt=d(3218),Gt=d(2892),Kt=d(4811),en=d(4446),Rn=d(2633);const Sn=[{path:"users",component:St,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:On},{path:"sessions",component:xt.Z,canActivate:[bt.O]}],canActivate:[Gt.h,en._],data:{permissions:[ii.a[ii.a.UserManager],ii.a[ii.a.UserManagerReadOnly],ii.a[ii.a.AllReadOnly],ii.a[ii.a.All]]}},{path:"users/:Id",component:G,loadChildren:()=>Promise.all([d.e(76),d.e(866)]).then(d.bind(d,866)).then(Ye=>Ye.EditUsersModule),resolve:{user:Kt.M},canActivate:[Gt.h,en._,Rn.g],data:{permissions:[ii.a[ii.a.UserManager],ii.a[ii.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([d.e(76),d.e(855)]).then(d.bind(d,7236)).then(Ye=>Ye.ViewUserModule),component:yi,canActivate:[Gt.h,en._],resolve:{user:Kt.M},data:{permissions:[ii.a[ii.a.UserManager],ii.a[ii.a.UserManagerReadOnly],ii.a[ii.a.AllReadOnly],ii.a[ii.a.All]]}}];let li=(()=>{class Ye{static{this.\u0275fac=function(Xt){return new(Xt||Ye)}}static{this.\u0275mod=h.$C({type:Ye})}static{this.\u0275inj=h.G2t({imports:[p.iI.forChild(Sn),S.XE.forChild(Sn),p.iI]})}}return Ye})();var kn=d(1683),Cn=d(2571),wi=d(5663),Ri=d(9475),ri=d(367),zi=d(5731),ti=d(4193),Gn=d(3665),Ei=d(7175),Vi=d(8389),Yn=d(6599),Ni=d(520),rt=d(7677);let It=(()=>{class Ye{static{this.\u0275fac=function(Xt){return new(Xt||Ye)}}static{this.\u0275mod=h.$C({type:Ye})}static{this.\u0275inj=h.G2t({providers:[Kt.M,wi.Q],imports:[li,t.MD,e.YN,e.X1,C.Q_,kn.Y,a.h,Cn.A,w.Ss,S.XE,Ri.F,ri.m,zi.i,ti.c,Gn.t,Ei.c,Vi.w,Yn.Y,p.iI,xt.Z,Ni.W,rt.N]})}}return Ye})()},9865:(nt,ye,d)=>{"use strict";d.d(ye,{e:()=>t});let t=(()=>{class e{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return e})()},4861:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>t});let t=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},6026:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>t});let t=(()=>{class e{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return e})()},5928:(nt,ye,d)=>{"use strict";d.r(ye),d.d(ye,{DynamicAuthModule:()=>ee});var t=d(177),e=d(9417),p=d(1583),S=d(7005),C=d(1780),w=d(779),g=d(3816),h=d(534),E=d(8400),v=d(9947),B=d(7275),U=d(6366),a=d(5691),k=d(1683),O=d(2261),P=d(3384),W=d(4442),N=d(8892),H=d(8556),G=d(2036),z=d(4193),ce=d(9475),de=d(1993),Y=d(8455),Z=d(2571),ne=d(275),I=d(8251),pe=d(6599),K=d(8389),he=d(967),Oe=d(4367),Ae=d(6843),Fe=d(4179),qe=d(9945),Me=d(7175),Te=d(367),ge=d(5731),$e=d(1957),xe=d(9196),pt=d(7677),Le=d(3583),Ct=d(8407),ut=d(854),hn=d(1626),mn=d(2771),Rt=d(9568),Dt=d(6354),q=d(9437),Q=d(7673),te=function(R){return R[R.Query=0]="Query",R[R.FormPost=1]="FormPost",R[R.Fragment=2]="Fragment",R}(te||{}),De=function(R){return R.OIDC="oidc",R.SAML="saml2p",R.Enabled="enabled",R.Disabled="disabled",R}(De||{}),Re=function(R){return R.AuthCode="AuthCode",R.AuthCodePlusPkce="AuthCodePlusPkce",R}(Re||{});class at{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[Re.AuthCode,Re.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...at.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(be){return!this.RequiredScopes.includes(be)}static{this.ResponseModeMap=new Map([["query",te.Query],["form_post",te.FormPost],["fragment",te.Fragment]])}static{this.ResponseModeKey=be=>[...at.ResponseModeMap.entries()].filter(({1:se})=>se===be).map(([se])=>se)[0]}}var o=d(4438),ft=d(9564);let Ft=(()=>{class R{get cacheTimeout(){return at.DiscoveryDocCachingDuration}constructor(M,se){this.http=M,this.cacheTime=0,this.discoveryDoc=new mn.m(1),this.headers=se.setHeaders()}getDiscoveryDocument(M,se=!1){this.actionUrl=at.AdminUIOidcDiscoveryDocumentEndpoint;const fe=Date.now()-this.cacheTime>=this.cacheTimeout;if(!se&&(!M||this.previousAuthority===M&&!fe&&this.discoveryDoc))return this.discoveryDoc.asObservable();let Ot=new hn.Nl;return Ot=Ot.append("authority",M),this.http.get(this.actionUrl,{headers:this.headers,params:Ot}).pipe((0,Rt.t)(1),(0,Dt.T)(Fn=>(this.previousAuthority=M,this.cacheTime=Date.now(),this.discoveryDoc.next(Fn),Fn)),(0,q.W)(Fn=>(this.previousAuthority=M,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Q.of)(null))))}isValid(M){return this.getDiscoveryDocument(M,!0).pipe((0,Dt.T)(se=>!(!se||!se.issuer)))}supportedScopes(M){return this.getDiscoveryDocument(M).pipe((0,Dt.T)(se=>se?.scopes_supported??at.ScopeOptions))}validateMetadataUrl(M){this.actionUrl=at.AdminUISamlMetadataEndpoint;let se=new hn.Nl;return se=se.append("metadataUrl",M),this.http.get(this.actionUrl,{headers:this.headers,params:se}).pipe((0,Rt.t)(1),(0,Dt.T)(fe=>!0),(0,q.W)(fe=>(0,Q.of)(!1)))}static{this.\u0275fac=function(se){return new(se||R)(o.KVO(hn.Qq),o.KVO(ft.m))}}static{this.\u0275prov=o.jDH({token:R,factory:R.\u0275fac})}}return R})(),_t=(()=>{class R{constructor(){this.dtoObject={},this.summaryModels=[]}reset(){this.dtoObject={},this.summaryModels=[]}addToDto(M){this.dtoObject={...this.dtoObject,...M}}getDto(){return this.dtoObject}addSummary(M,se){const fe=this.summaryModels.findIndex(Fn=>Fn.stepName===M);-1===fe?this.summaryModels.push({stepName:M,stepData:se}):this.summaryModels[fe].stepData=se}getSummary(){return this.summaryModels}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275prov=o.jDH({token:R,factory:R.\u0275fac})}}return R})();var lt=d(1413),Pt=d(1594),tn=d(8412),ct=d(9172),Lt=d(1397),Ce=d(1986),le=d(3254),j=d(2542),ae=d(7263),Ge=d(4313),tt=d(9838),vt=d(6026),Bt=d(978),ln=d(9865),sn=d(5424),Pn=d(345),$n=d(7883),Vn=d(5794),Mt=d(3680),On=d(7294),Qt=d(7384),mt=d(7156),St=d(9988),dt=d(8698);let Ut=(()=>{class R{constructor(M,se){this.wizardDataService=M,this.fb=se}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.clientSecret=this.clientSecretForm.get("clientSecret").value,M}toSummaryMap(){const M=new Map;return M.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s()()),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.clientSecretForm),o.R7$(),o.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[e.qT,e.me,e.BC,e.cb,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();var rn=d(5568);function Tn(){return e.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function Jn(R){if((0,ae.hX)(R.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let be=(0,rn.parse)(R.value);return(0,ae.gP)(be.query)&&(0,ae.gP)(be.fragment)?"absolute"!==be.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,ae.gP)(be.error)?null:{invalidUri:be.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function yn(R,be){1&R&&(o.j41(0,"app-form-row",3),o.nrm(1,"input",11),o.k0s()),2&R&&o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function yi(R,be){if(1&R&&(o.j41(0,"option",12),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R){const M=be.$implicit;o.Y8G("value",M),o.R7$(),o.JRh(o.bMT(2,2,"DynamicAuth.Flows."+M))}}let ii=(()=>{class R{constructor(M,se,fe,Ot,Fn,Xn){this.wizardDataService=M,this.fb=se,this.configService=fe,this.translate=Ot,this.providerValidator=Fn,this.toastr=Xn,this.failedToContactAuthority=!1,this.allowedFlows=at.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var M=this.connectionForm.get("authority").value;this.providerValidator.isValid(M).subscribe(se=>{se||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let M={authority:["https://",[e.k0.required,e.k0.pattern("^https://.{1,}$")]],clientId:["",e.k0.required]};this.isRskDynamicAuth&&(M.callbackPath=["/oidc-scheme",[e.k0.required,Tn()]]),M.flow=[Re.AuthCodePlusPkce,[e.k0.required]],this.connectionForm=this.fb.group(M)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.authority=this.connectionForm.get("authority").value,M.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(M.callbackPath=this.connectionForm.get("callbackPath").value),M.flow=this.connectionForm.get("flow").value,M}toSummaryMap(){const M=new Map;return M.set("authority",[this.connectionForm.get("authority").value]),M.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&M.set("callbackPath",[this.connectionForm.get("callbackPath").value]),M.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze),o.rXU(xe.w),o.rXU(C.c$),o.rXU(Ft),o.rXU(Vn.tw))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),o.bIt("focusout",function(){return fe.tryReachAuthority()}),o.k0s()(),o.j41(6,"app-form-row",3),o.nrm(7,"input",5),o.k0s(),o.DNE(8,yn,2,3,"app-form-row",6),o.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),o.DNE(12,yi,3,4,"option",10),o.k0s()()()()),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.connectionForm),o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(2),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(2),o.Y8G("ngIf",fe.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),o.R7$(3),o.Y8G("ngForOf",fe.allowedFlows))},dependencies:[t.Sq,t.bT,e.qT,e.xH,e.y7,e.me,e.wz,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();var xt=d(1985),bt=d(5558),Gt=d(803);function Kt(R,be){if(1&R&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&R){const M=be.item;o.R7$(),o.JRh(M.length>20?o.brH(2,1,M,0,20)+"...":M)}}function en(R,be){1&R&&(o.j41(0,"div",16)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function Rn(R,be){1&R&&(o.j41(0,"span",20),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function Sn(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",21),o.bIt("click",function(){o.eBV(M);const fe=o.XpG().$implicit,Ot=o.XpG(2);return o.Njj(Ot.removeScope(fe))}),o.nrm(1,"span",22),o.j41(2,"span",13),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}if(2&R){const M=o.XpG().$implicit;o.Y8G("id","btnRemove"+M),o.R7$(3),o.JRh(o.bMT(4,2,"Common.Remove.Title"))}}function li(R,be){if(1&R&&(o.j41(0,"tr")(1,"td",17)(2,"span"),o.EFF(3),o.k0s()(),o.j41(4,"td"),o.DNE(5,Rn,3,3,"span",18),o.k0s(),o.j41(6,"td"),o.DNE(7,Sn,5,4,"button",19),o.k0s()()),2&R){const M=be.$implicit,se=o.XpG(2);o.R7$(3),o.JRh(M),o.R7$(2),o.Y8G("ngIf",!se.allowRemoveScope(M)),o.R7$(2),o.Y8G("ngIf",se.allowRemoveScope(M))}}function kn(R,be){if(1&R&&(o.j41(0,"div",9),o.DNE(1,en,4,3,"div",10),o.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),o.EFF(6),o.nI1(7,"translate"),o.k0s()(),o.j41(8,"th",14)(9,"span",13),o.EFF(10),o.nI1(11,"translate"),o.k0s()(),o.j41(12,"th",14)(13,"span",13),o.EFF(14),o.nI1(15,"translate"),o.k0s()()(),o.j41(16,"tbody"),o.DNE(17,li,8,3,"tr",15),o.k0s()()()),2&R){const M=o.XpG();o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",M.scopes.length<=0),o.R7$(5),o.JRh(o.bMT(7,6,"Common.Scope")),o.R7$(4),o.JRh(o.bMT(11,8,"Common.Reserved")),o.R7$(4),o.JRh(o.bMT(15,10,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",M.scopes)}}let Cn=(()=>{class R{constructor(M,se,fe,Ot,Fn){this.wizardDataService=M,this.toastrService=se,this.translateService=fe,this.fb=Ot,this.providerValidator=Fn,this.scopes=[...at.RequiredScopes],this.maxScopeLength=at.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new xt.c(M=>{let se=this.scopesForm.get("newScope").value;M.next(se)}).pipe((0,bt.n)(M=>this.providerValidator.supportedScopes().pipe((0,Dt.T)(se=>this.filterScopes(M,se)))))}filterScopes(M,se){const fe=!M;return se.filter(Ot=>!this.scopes.includes(Ot)&&(fe||Ot.includes(M)))}addScope(){var M=this.scopesForm.get("newScope").value;if(""!==M)if(this.scopes.includes(M)){const se=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(se)}else if(M.indexOf(" ")>=0){const se=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(se)}else this.scopes.push(M);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(M){const se=this.scopes.indexOf(M);if(-1!==se)this.scopes.splice(se,1);else{const fe=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(fe)}}allowRemoveScope(M){return at.AllowRemoveScope(M)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.scopes=this.scopes,M}toSummaryMap(){const M=new Map;return M.set("scopes",this.scopes),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(e.ze),o.rXU(Ft))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(se,fe){if(1&se){const Ot=o.RV6();o.j41(0,"div",1),o.nrm(1,"p",2),o.nI1(2,"translate"),o.k0s(),o.DNE(3,Kt,3,5,"ng-template",null,0,o.C5r),o.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),o.nrm(8,"input",6),o.nI1(9,"translate"),o.j41(10,"button",7),o.bIt("click",function(){return o.eBV(Ot),o.Njj(fe.addScope())}),o.EFF(11),o.nI1(12,"translate"),o.k0s()()(),o.DNE(13,kn,18,12,"div",8),o.k0s()}if(2&se){const Ot=o.sdS(4);o.R7$(),o.Y8G("innerHTML",o.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),o.npT),o.R7$(4),o.Y8G("formGroup",fe.scopesForm),o.R7$(),o.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),o.R7$(2),o.FS9("placeholder",o.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),o.Y8G("typeahead",fe.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Ot)("typeaheadMinLength",0)("maxlength",fe.maxScopeLength),o.R7$(3),o.SpI(" ",o.bMT(12,18,"Common.Add")," "),o.R7$(2),o.Y8G("ngIf",fe.scopes.length>0)}},dependencies:[t.Sq,t.bT,e.qT,e.me,e.BC,e.cb,e.tU,e.j4,e.JD,E.Xi,dt.Y,Gt.f,t.P9,C.D9],encapsulation:2})}}return R})(),Ri=(()=>{class R{constructor(M,se){this.wizardDataService=M,this.fb=se}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[e.k0.required,e.k0.pattern(/^[\d\w-]*$/)]],displayName:["",[e.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.scheme=this.nameRoleForm.get("scheme").value,M.displayName=this.nameRoleForm.get("displayName").value,M}toSummaryMap(){const M=new Map;return M.set("scheme",[this.nameRoleForm.get("scheme").value]),M.set("displayName",[this.nameRoleForm.get("displayName").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s(),o.j41(6,"app-form-row",5),o.nrm(7,"input",6),o.k0s()()),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.nameRoleForm),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(2),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();var ri=d(9550);function zi(R,be){if(1&R&&(o.j41(0,"span",10),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R){const M=o.XpG().$implicit;o.R7$(),o.SpI(" ",o.bMT(2,1,M.help)," ")}}function ti(R,be){if(1&R&&(o.j41(0,"li",5)(1,"label",6),o.nrm(2,"input",7),o.j41(3,"span",8),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.DNE(6,zi,3,3,"span",9),o.k0s()),2&R){const M=be.$implicit,se=be.index,fe=o.XpG();o.R7$(),o.FCK("for","",fe.id,"-item-",se,""),o.R7$(),o.FCK("id","",fe.id,"-item-",se,""),o.Y8G("value",M.value),o.R7$(2),o.JRh(o.bMT(5,9,M.name)),o.R7$(2),o.Y8G("ngIf",M.help)}}function Gn(R,be){if(1&R&&(o.j41(0,"li",5)(1,"label",6),o.nrm(2,"input",7),o.j41(3,"span",8),o.EFF(4),o.nI1(5,"translate"),o.nI1(6,"translate"),o.k0s()()()),2&R){const M=o.XpG();o.R7$(),o.Mz_("for","",M.id,"-item-custom"),o.R7$(),o.Mz_("id","",M.id,"-item-custom"),o.Y8G("value",M.customRadioValue),o.R7$(2),o.Lme("",o.bMT(5,7,"Common.Custom")," ",o.bMT(6,9,M.label),"")}}function Ei(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-form-row",11)(1,"input",12),o.nI1(2,"translate"),o.bIt("ngModelChange",function(fe){o.eBV(M);const Ot=o.XpG();return o.Njj(Ot.valueChanged.emit(fe))}),o.k0s()()}if(2&R){const M=o.XpG();o.Mz_("id","",M.id,"-custom"),o.Y8G("label","Common.Custom")("isLast",M.isLast),o.R7$(),o.Mz_("id","",M.id,"-item-value"),o.FS9("placeholder",o.bMT(2,8,M.placeholder)),o.Y8G("ngModel",M.value)}}let Vi=(()=>{class R{constructor(M){this.fb=M,this.listItems=[],this.allowCustom=!1,this.valueChanged=new o.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const M=this.listItems.some(se=>se.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[M]}),this.radioForm.get("radioVal").valueChanges.subscribe(se=>{this.valueChanged.emit(se===this.customRadioValue?"":se)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(se,fe){1&se&&(o.j41(0,"app-form-row",0)(1,"ul",1),o.nI1(2,"translate"),o.DNE(3,ti,7,11,"li",2)(4,Gn,7,11,"li",3),o.k0s()(),o.DNE(5,Ei,3,10,"app-form-row",4)),2&se&&(o.Mz_("id","",fe.id,"-options"),o.Y8G("label",fe.label)("help",fe.help)("isLast",!fe.showCustom()&&fe.isLast)("formGroup",fe.radioForm),o.R7$(),o.Mz_("id","",fe.id,"-options-list"),o.BMQ("aria-label",o.bMT(2,12,fe.label)),o.R7$(2),o.Y8G("ngForOf",fe.listItems),o.R7$(),o.Y8G("ngIf",fe.allowCustom),o.R7$(),o.Y8G("ngIf",fe.showCustom()))},dependencies:[e.me,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,t.Sq,t.bT,dt.Y,C.D9],encapsulation:2})}}return R})();function Yn(R,be){if(1&R&&(o.j41(0,"app-form-row",7)(1,"app-form-toggle",8),o.nrm(2,"input",9),o.k0s()()),2&R){const M=o.XpG(2);o.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!M.diffSignOut),o.R7$(),o.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function Ni(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-radio-list-input",10),o.bIt("valueChanged",function(fe){o.eBV(M);const Ot=o.XpG(2);return o.Njj(Ot.signInSchemeForm.get("outScheme").setValue(fe))}),o.k0s()}if(2&R){const M=o.XpG(2);o.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",M.options)("allowCustom",!0)("value",M.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function rt(R,be){if(1&R){const M=o.RV6();o.j41(0,"form",3)(1,"app-radio-list-input",4),o.bIt("valueChanged",function(fe){o.eBV(M);const Ot=o.XpG();return o.Njj(Ot.signInSchemeForm.get("scheme").setValue(fe))}),o.k0s(),o.DNE(2,Yn,3,7,"app-form-row",5)(3,Ni,1,6,"app-radio-list-input",6),o.k0s()}if(2&R){const M=o.XpG();o.Y8G("formGroup",M.signInSchemeForm),o.R7$(),o.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",M.options)("allowCustom",!0)("value",M.signInSchemeForm.get("scheme").value)("isLast",!1),o.R7$(),o.Y8G("ngIf",M.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",M.diffSignOut)}}let It=(()=>{class R{constructor(M,se,fe){this.wizardDataService=M,this.fb=se,this.configService=fe,this.isRskDynamicAuth=!1,this.options=at.SignInSchemeOptions,this.snippet=at.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Pt.$)()).subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,e.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(se=>{this.signInSchemeForm.get("outScheme").setValidators(se?[e.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,e.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const M={};return M.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(M.signOutScheme=this.signInSchemeForm.get("outScheme").value),M}toSummaryMap(){const M=new Map;return M.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&M.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze),o.rXU(xe.w))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.DNE(3,rt,4,9,"form",2)),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),o.npT),o.R7$(2),o.Y8G("ngIf",fe.signInSchemeForm))},dependencies:[t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m,Vi,C.D9],encapsulation:2})}}return R})();var Ye=d(7957),Zt=d(8575),ht=d(7329);function Xt(R,be){1&R&&(o.nrm(0,"span",8),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"Errors.PathValidation"),o.npT)}let $t=(()=>{class R{constructor(M,se,fe){this.wizardDataService=M,this.fb=se,this.configService=fe}ngOnInit(){this.configService.getConfig().pipe((0,Pt.$)()).subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let M=this.wizardDataService.getDto().scheme;(0,ae.gP)(M)&&(M="{scheme}");let fe={entityId:["",[e.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${M}`:`/federation/${M}/signin-saml`,[e.k0.required,Tn()]]};this.serviceProviderForm=this.fb.group(fe)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.entityId=this.serviceProviderForm.get("entityId").value,M.callbackPath=this.serviceProviderForm.get("callbackPath").value,M}toSummaryMap(){const M=new Map;return M.set("entityId",[this.serviceProviderForm.get("entityId").value]),M.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze),o.rXU(xe.w))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3),o.nrm(5,"input",4),o.k0s(),o.j41(6,"app-form-row",5),o.nrm(7,"input",6),o.DNE(8,Xt,2,3,"span",7),o.k0s()()),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.serviceProviderForm),o.R7$(),o.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),o.R7$(2),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),o.R7$(2),o.Y8G("ngIf",!fe.validCallbackPath()))},dependencies:[t.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();var an=d(6303),gn=d(1746);const Ue=["fileInput"];let Xe=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot,Fn){this.wizardDataService=M,this.fb=se,this.certService=fe,this.toastr=Ot,this.translate=Fn,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new gn.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}handleFileInput(M){this.selectedFile=M.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const M=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==M}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new gn.w(""),this.fileContent=void 0;const M=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,M,{next:se=>{this.fileName=new gn.w(this.selectedFile?.name),this.fileContent=se,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:se=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new gn.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const M={};return M.certFile=this.fileContent,M.certPassword=this.certForm.get("certPassword").value,M}toSummaryMap(){const M=new Map;return M.set("certFile",[this.selectedFile?.name]),M.set("certPassword",[this.certForm.get("certPassword").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze),o.rXU(O.V),o.rXU(Vn.tw),o.rXU(C.c$))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-signing-step"]],viewQuery:function(se,fe){if(1&se&&o.GBs(Ue,5),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.fileInputNative=Ot.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(se,fe){if(1&se){const Ot=o.RV6();o.j41(0,"div",1),o.nrm(1,"p",2),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),o.bIt("change",function(Xn){return o.eBV(Ot),o.Njj(fe.handleFileInput(Xn.target.files))}),o.k0s()()(),o.j41(9,"app-form-row",7),o.bIt("input",function(){return o.eBV(Ot),o.Njj(fe.requestCertValidation())}),o.nrm(10,"input",8),o.k0s(),o.j41(11,"app-form-row",9)(12,"button",10),o.bIt("click",function(){return o.eBV(Ot),o.Njj(fe.validateForm())}),o.EFF(13),o.nI1(14,"translate"),o.k0s(),o.j41(15,"button",11),o.bIt("click",function(){return o.eBV(Ot),o.Njj(fe.clearCertificateForm())}),o.EFF(16),o.nI1(17,"translate"),o.k0s()()()}2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.certForm),o.R7$(),o.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),o.R7$(),o.Y8G("readonly",fe.passwordDisabled),o.R7$(),o.Y8G("isLast",!0),o.R7$(),o.Y8G("disabled",fe.disableTestBtn()),o.R7$(),o.JRh(o.bMT(14,15,"Common.ValidateCert")),o.R7$(2),o.Y8G("disabled",fe.disableClearBtn()),o.R7$(),o.JRh(o.bMT(17,17,"Common.Clear")))},dependencies:[e.qT,e.me,e.BC,e.cb,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();var ot=d(7767);let Vt=(()=>{class R{constructor(M,se,fe,Ot,Fn){this.wizardDataService=M,this.fb=se,this.providerValidator=fe,this.translate=Ot,this.toastr=Fn,this.metadataAddrStream=new lt.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(M=>{this.providerValidator.validateMetadataUrl(M).subscribe(se=>{se?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const M=this.externalProviderForm.get("metadataAddress");M.invalid||this.metadataAddrStream.next(M.value)}showReachableError(){const M=this.externalProviderForm.get("metadataAddress");return!(0,ae.gP)(M.value)&&M.errors?.unreachableUrl}buildForm(){let M={metadataAddress:["https://",[e.k0.required,e.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(M)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}onNext(){this.wizardDataService.addSummary(this.data.stepName,this.toSummaryMap()),this.wizardDataService.addToDto(this.toStepDto())}hosted(){}toStepDto(){const M={};return M.metadataAddress=this.externalProviderForm.get("metadataAddress").value,M}toSummaryMap(){const M=new Map;return M.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),M}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(_t),o.rXU(e.ze),o.rXU(Ft),o.rXU(C.c$),o.rXU(ot.g))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.nrm(1,"p",1),o.nI1(2,"translate"),o.k0s(),o.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),o.nrm(6,"input",5),o.j41(7,"button",6),o.bIt("click",function(){return fe.tryMetadataAddr()}),o.j41(8,"span"),o.EFF(9),o.nI1(10,"translate"),o.k0s()()()()()),2&se&&(o.R7$(),o.Y8G("innerHTML",o.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),o.npT),o.R7$(2),o.Y8G("formGroup",fe.externalProviderForm),o.R7$(),o.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(3),o.Y8G("disabled",!fe.canNext()),o.R7$(2),o.JRh(o.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,C.D9],encapsulation:2})}}return R})();class _n extends Ye.p{constructor(be){super();var M=[new ht.W(Ri,{stepName:"NameRoleStepComponent"}),new ht.W(ii,{stepName:"ConnectionStepComponent"}),new ht.W(Cn,{stepName:"ScopesStepComponent"}),new ht.W(Ut,{stepName:"ClientSecretStepComponent"})];be&&M.push(new ht.W(It,{stepName:"SignInSchemeStepComponent"}));var se=[new ht.W(Ri,{stepName:"NameRoleStepComponent"}),new ht.W($t,{stepName:"ServiceProviderStepComponent"}),new ht.W(Xe,{stepName:"SigningStepComponent"}),new ht.W(Vt,{stepName:"ExternalProviderStepComponent"}),new ht.W(It,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(St.$.AddOidcDynamicAuth,M),this.nameComponentMap.set(St.$.AddSamlDynamicAuth,se),this.nameTitleMap.set(St.$.AddDynamicAuth,new Zt.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(St.$.AddOidcDynamicAuth,new Zt.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(St.$.AddSamlDynamicAuth,new Zt.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}var bn=d(7425),In=d(9006);let Dn=(()=>{class R{canNext(){return!1}hosted(){}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&se&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[C.D9],encapsulation:2})}}return R})();class _i extends Ye.p{getWizard(be){return[new ht.W(Dn)]}getWizardTitle(be){return new Zt.J("Empty Provider",`No step for wizard name: ${be}`)}}var Gi=d(1715);function Ti(R,be){}function mi(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",17),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.nextTab())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}if(2&R){const M=o.XpG();o.Y8G("disabled",!M.canNext()),o.R7$(),o.JRh(o.bMT(2,2,"Common.Next"))}}function rr(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.submit())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Common.Save")))}function br(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.previousTab())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Common.Back")))}function ei(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.cancelWizard())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Common.Back")))}let hi=(()=>{class R extends bn.g{constructor(M,se,fe,Ot,Fn,Xn){super(),this.errorService=M,this.toastr=se,this.translate=fe,this.dynamicAuthenticationService=Ot,this.wizardDataService=Xn,this.wizardProvider=new _i,this.components=new Map,Fn.getConfig().subscribe({next:bi=>{this.wizardProvider=new _n(bi.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk)},error:bi=>{this.errorService.handleError(bi)}}),this.wizardDataService.reset()}nextTab(){this.components.get(this.index).instance.onNext(),++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const M=this.wizardDataService.getSummary();this.displaySummaryComponent(M)}displaySummaryComponent(M){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(In.b)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.setInput("askIfEnabled",!0),this.summaryComponentRef.instance.summary=M,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,Pt.$)()).subscribe(se=>{this.index=M.findIndex(fe=>fe.stepName===se),this.displayComponentAtCurrentIndex()}),this.updateProgress()}submit(){const M=(0,le.jc)(this.getModel());this.dynamicAuthenticationService.createDynamicAuth(M).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${M.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.wizardDataService.reset()},error:se=>{this.errorService.handleError(se)}})}getModel(){const M=this.wizardName,se=this.wizardDataService.getDto(),fe=this.summaryComponentRef.instance.isEnabled();var Ot="";if(this.wizardName===St.$.AddOidcDynamicAuth&&(Ot=JSON.stringify({authority:se.authority,clientId:se.clientId,callbackPath:se.callbackPath,usePkce:se.flow==Re.AuthCodePlusPkce,scope:se.scopes,clientSecret:se.clientSecret,signInScheme:se.signInScheme})),this.wizardName===St.$.AddSamlDynamicAuth){var Fn={spEntityId:se.entityId,callbackPath:se.callbackPath,signAuthenticationRequests:!(0,ae.hX)(se.certFile)&&!(0,ae.hX)(se.certPassword),signingCertBase64:se.certFile,signingCertPassword:se.certPassword,signInScheme:se.signInScheme,idpMetadataAddress:se.metadataAddress};Ot=JSON.stringify(Fn)}return{type:j.EX.fromWizardType(M),scheme:se.scheme,displayName:se.displayName,enabled:fe,nonEditable:!1,options:Ot}}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(sn.I),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(Ct.v),o.rXU(xe.w),o.rXU(_t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-wizard-host"]],features:[o.Jv_([]),o.Vt3],decls:24,vars:17,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"h5",1),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"button",2),o.bIt("click",function(){return fe.hideWizard()}),o.nrm(5,"span",3),o.j41(6,"span",4),o.EFF(7),o.nI1(8,"translate"),o.k0s()()(),o.j41(9,"div",5),o.nrm(10,"div",6),o.k0s(),o.j41(11,"div",7),o.DNE(12,Ti,0,0,"ng-template",8),o.k0s(),o.nrm(13,"div",9),o.j41(14,"div",10)(15,"div",11)(16,"div",12),o.DNE(17,mi,3,4,"button",13)(18,rr,3,3,"button",14)(19,br,3,3,"button",15)(20,ei,3,3,"button",15),o.k0s(),o.j41(21,"button",16),o.bIt("click",function(){return fe.cancelWizard()}),o.EFF(22),o.nI1(23,"translate"),o.k0s()()()),2&se&&(o.R7$(),o.Y8G("id",fe.titleId),o.R7$(),o.JRh(o.bMT(3,11,fe.wizardTitles.setupTitle)),o.R7$(5),o.JRh(o.bMT(8,13,"Common.Close")),o.R7$(3),o.xc7("width",fe.progressPercent+"%"),o.BMQ("aria-valuenow",fe.progressPercent),o.R7$(7),o.Y8G("ngIf",fe.index<(null==fe.wizardSteps?null:fe.wizardSteps.length)),o.R7$(),o.Y8G("ngIf",fe.index==(null==fe.wizardSteps?null:fe.wizardSteps.length)),o.R7$(),o.Y8G("ngIf",fe.index>0),o.R7$(),o.Y8G("ngIf",fe.index<=0),o.R7$(2),o.JRh(o.bMT(23,15,"Common.Cancel")))},dependencies:[t.bT,Gi.t,C.D9],encapsulation:2})}}return R})();const mr=(R,be,M,se,fe)=>({id:"oidcBtn",btnId:"oidcTestBtn",title:R,summary:be,icon:"fab fa-openid",value:M,selected:se,type:fe}),Oi=(R,be,M,se,fe)=>({id:"samlBtn",btnId:"samlTestBtn",title:R,summary:be,icon:"fad fa-code",value:M,selected:se,type:fe}),Pr=(R,be)=>({"tw-bg-green-200":R,"hover:tw-shadow-md md:tw-pr-16":be}),Br=(R,be)=>({"tw-bg-green-500":R,"tw-bg-grey-200":be}),ds=(R,be)=>({"tw-text-white":R,"tw-text-grey-400 group-hover:tw-text-grey-700":be}),Vs=(R,be,M)=>({"tw-text-green-800":R,"tw-text-navy-500":be,"tw-text-grey-300":M}),Ai=(R,be,M)=>({"tw-text-green-600":R,"tw-text-grey-600":be,"tw-text-grey-600":M}),Lr=(R,be)=>({"tw-text-green-500":R,"tw-text-grey-300":be});function ss(R,be){1&R&&o.eu8(0)}function kr(R,be){1&R&&o.eu8(0)}function Ds(R,be){1&R&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function Er(R,be){1&R&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function Tr(R,be){1&R&&(o.nrm(0,"p",25),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),o.npT)}function Pi(R,be){1&R&&(o.nrm(0,"p",25),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),o.npT)}function Xs(R,be){1&R&&(o.j41(0,"span",37),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Clients.Selected")))}function gi(R,be){if(1&R){const M=o.RV6();o.j41(0,"li",26)(1,"input",27),o.bIt("click",function(){const fe=o.eBV(M),Ot=fe.type,Fn=fe.disabled,Xn=o.XpG(2);return o.Njj(!Fn&&Xn.setActive(Ot))}),o.k0s(),o.j41(2,"label",28),o.bIt("click",function(){const fe=o.eBV(M),Ot=fe.type,Fn=fe.disabled,Xn=o.XpG(2);return o.Njj(!Fn&&Xn.setActive(Ot))}),o.j41(3,"div",29),o.nrm(4,"span",30),o.DNE(5,Xs,3,3,"span",31),o.k0s(),o.j41(6,"div",32)(7,"span",33),o.EFF(8),o.k0s(),o.j41(9,"span",34),o.EFF(10),o.k0s()(),o.j41(11,"div",35),o.nrm(12,"span",36),o.k0s()()()}if(2&R){const M=be.id,se=be.btnId,fe=be.title,Ot=be.summary,Fn=be.icon,Xn=be.value,bi=be.selected,ns=be.disabled,hs=o.XpG(2);o.FS9("id",M),o.R7$(),o.FS9("id",se),o.FS9("value",Xn),o.Y8G("ngModel",hs.activeType),o.R7$(),o.FS9("for",se),o.Y8G("ngClass",o.l_i(17,Pr,bi,!ns)),o.R7$(),o.Y8G("ngClass",o.l_i(20,Br,bi,!bi)),o.R7$(),o.Y8G("ngClass",o.l_i(23,ds,bi,!bi)),o.R7$(),o.Y8G("ngIf",bi),o.R7$(2),o.Y8G("ngClass",o.sMw(26,Vs,bi,!bi,ns)),o.R7$(),o.SpI(" ",fe," "),o.R7$(),o.Y8G("ngClass",o.sMw(30,Ai,bi,!bi,ns)),o.R7$(),o.SpI(" ",Ot," "),o.R7$(2),o.ZvI("",Fn," tw-text-3xl tw-transition-all tw-ease-in-out"),o.Y8G("ngClass",o.l_i(34,Lr,bi,!bi))}}function _o(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",3)(1,"div",4)(2,"h5",5),o.EFF(3),o.nI1(4,"translate"),o.k0s(),o.j41(5,"button",6),o.nI1(6,"translate"),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.hide())}),o.nrm(7,"span",7),o.k0s()(),o.j41(8,"div",8),o.nrm(9,"div",9,0),o.k0s(),o.j41(11,"div",10)(12,"div",11)(13,"ul",12),o.DNE(14,ss,1,0,"ng-container",13),o.nI1(15,"translate"),o.nI1(16,"translate"),o.DNE(17,kr,1,0,"ng-container",13),o.nI1(18,"translate"),o.nI1(19,"translate"),o.k0s()(),o.j41(20,"div",14)(21,"h2",15),o.nrm(22,"span",16),o.DNE(23,Ds,3,3,"span",17)(24,Er,3,3,"span",17),o.k0s(),o.DNE(25,Tr,2,3,"p",18)(26,Pi,2,3,"p",18),o.k0s(),o.DNE(27,gi,13,37,"ng-template",null,1,o.C5r),o.k0s(),o.nrm(29,"div",19),o.j41(30,"div",20)(31,"div",21)(32,"div",22)(33,"button",23),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.choosePage())}),o.EFF(34),o.nI1(35,"translate"),o.k0s()(),o.j41(36,"button",24),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.hide())}),o.EFF(37),o.nI1(38,"translate"),o.k0s()()()()}if(2&R){const M=o.sdS(28),se=o.XpG();o.R7$(2),o.Y8G("id",se.titleId),o.R7$(),o.JRh(o.bMT(4,14,"DynamicAuth.Wizard.Title")),o.R7$(2),o.BMQ("aria-label",o.bMT(6,16,"Common.Close")),o.R7$(9),o.Y8G("ngTemplateOutlet",M)("ngTemplateOutletContext",o.s1E(30,mr,o.bMT(15,18,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name"),o.bMT(16,20,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title"),se.wizardTypes.AddOidcDynamicAuth,se.activeType===se.wizardTypes.AddOidcDynamicAuth,se.wizardTypes.AddOidcDynamicAuth)),o.R7$(3),o.Y8G("ngTemplateOutlet",M)("ngTemplateOutletContext",o.s1E(36,Oi,o.bMT(18,22,"DynamicAuth.Wizard.TypeSelectStep.SAML.Name"),o.bMT(19,24,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title"),se.wizardTypes.AddSamlDynamicAuth,se.activeType===se.wizardTypes.AddSamlDynamicAuth,se.wizardTypes.AddSamlDynamicAuth)),o.R7$(6),o.Y8G("ngIf",se.activeType===se.wizardTypes.AddOidcDynamicAuth),o.R7$(),o.Y8G("ngIf",se.activeType===se.wizardTypes.AddSamlDynamicAuth),o.R7$(),o.Y8G("ngIf",se.activeType===se.wizardTypes.AddOidcDynamicAuth),o.R7$(),o.Y8G("ngIf",se.activeType===se.wizardTypes.AddSamlDynamicAuth),o.R7$(7),o.Y8G("disabled",se.activeType===se.wizardTypes.Home),o.R7$(),o.JRh(o.bMT(35,26,"Common.Start")),o.R7$(3),o.JRh(o.bMT(38,28,"Common.Cancel"))}}function Zn(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",3)(1,"app-dynamic-auth-wizard-host",38),o.bIt("wizardCancel",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.onCancel())})("finish",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.onFinish())})("hide",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.hide())}),o.k0s()()}if(2&R){const M=o.XpG();o.R7$(),o.Y8G("wizardName",M.pageType)}}let Ur=(()=>{class R{constructor(M){this.modalService=M,this.finish=new o.bkB,this.titleId=vt.R.TileId,this.pageType=St.$.AddDynamicAuth,this.activeType=St.$.AddOidcDynamicAuth,this.showWizard=!1,this.wizardTypes=St.$}ngOnInit(){}ngOnDestroy(){this.hide()}getDescription(){return this.activeType==St.$.AddOidcDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.OidcHelp":this.activeType==St.$.AddSamlDynamicAuth?"DynamicAuth.Wizard.TypeSelectStep.SamlHelp":""}choosePage(){this.pageType=this.activeType,this.showWizard=!0}setActive(M){this.activeType=M}onCancel(){this.pageType=St.$.AddDynamicAuth,this.activeType=St.$.AddOidcDynamicAuth,this.showWizard=!1}onFinish(){this.finish.emit(),this.hide()}hide(){this.modalService.hide(vt.R.Id),this.modalService.onHidden.pipe((0,Pt.$)()).subscribe(()=>{this.onCancel()})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(w.I8))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["commonTypeButton",""],["class","",4,"ngIf"],[1,""],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar","aria-valuenow","2",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body","scrollbars"],[1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextModal",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[3,"innerHTML"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4",3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],[1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out",3,"click","for","ngClass"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"fas","fa-check","tw-text-xl","tw-transition-all","tw-ease-in-out",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],[1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],[3,"ngClass"],[1,"sr-only"],[3,"wizardCancel","finish","hide","wizardName"]],template:function(se,fe){1&se&&o.DNE(0,_o,39,42,"div",2)(1,Zn,2,1,"div",2),2&se&&(o.Y8G("ngIf",fe.pageType===fe.wizardTypes.AddDynamicAuth),o.R7$(),o.Y8G("ngIf",fe.showWizard))},dependencies:[t.YU,t.bT,t.T3,e.me,e.Fm,e.BC,e.vS,hi,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Ir=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),Ar=(R,be)=>({"fad fa-pencil":R,"fas fa-eye":be});function Dr(R,be){1&R&&(o.j41(0,"div",3),o.nrm(1,"app-title-bar",4),o.nI1(2,"translate"),o.j41(3,"div",5)(4,"div",6)(5,"p",7),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"ul",8)(9,"li")(10,"a",9),o.EFF(11),o.nI1(12,"translate"),o.k0s()(),o.j41(13,"li")(14,"a",10),o.EFF(15),o.nI1(16,"translate"),o.k0s()()()()()()),2&R&&(o.R7$(),o.Y8G("title",o.bMT(2,4,"DynamicAuth.Title.Generic")),o.R7$(5),o.JRh(o.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),o.R7$(5),o.JRh(o.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),o.R7$(4),o.JRh(o.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function Nr(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-dynamic-auth-wizard",17),o.bIt("finish",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.reload())}),o.k0s()}}function Vr(R,be){1&R&&(o.j41(0,"div",18)(1,"div",19),o.nrm(2,"span",20),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.Y8G("innerHTML",o.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",o.lJ4(4,Ir)),o.npT))}function or(R,be){1&R&&(o.j41(0,"span"),o.nrm(1,"span",38),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&R&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"Auditing.ShowFilters")," "))}function Li(R,be){1&R&&(o.j41(0,"span"),o.nrm(1,"span",39),o.EFF(2),o.nI1(3,"translate"),o.k0s()),2&R&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"Auditing.HideFilters")," "))}function si(R,be){if(1&R){const M=o.RV6();o.j41(0,"li",34)(1,"button",40),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(3);return o.Njj(fe.filter(fe.DynamicAuthFilters.Enabled))}),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}if(2&R){const M=o.XpG(3);o.R7$(),o.Y8G("ngClass",M.isShowing(M.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),o.R7$(),o.SpI(" ",o.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function jr(R,be){if(1&R){const M=o.RV6();o.j41(0,"li")(1,"button",41),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(3);return o.Njj(fe.filter(fe.DynamicAuthFilters.Disabled))}),o.EFF(2),o.nI1(3,"translate"),o.k0s()()}if(2&R){const M=o.XpG(3);o.R7$(),o.Y8G("ngClass",M.isShowing(M.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),o.R7$(),o.SpI(" ",o.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function gr(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",46)(1,"label",47),o.EFF(2),o.nI1(3,"translate"),o.k0s(),o.j41(4,"select",48),o.mxI("ngModelChange",function(fe){o.eBV(M);const Ot=o.XpG(4);return o.DH7(Ot.pageSize,fe)||(Ot.pageSize=fe),o.Njj(fe)}),o.bIt("change",function(){o.eBV(M);const fe=o.XpG(4);return o.Njj(fe.setPageLength(+fe.pageSize))}),o.j41(5,"option",49),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"option",50),o.EFF(9),o.nI1(10,"translate"),o.k0s(),o.j41(11,"option",51),o.EFF(12),o.nI1(13,"translate"),o.k0s()()()}if(2&R){const M=o.XpG(4);o.R7$(2),o.Lme("",M.pageSize," ",o.bMT(3,6,"Nav.PerPage"),""),o.R7$(2),o.R50("ngModel",M.pageSize),o.R7$(2),o.SpI("25 ",o.bMT(7,8,"Nav.PerPage"),""),o.R7$(3),o.SpI("50 ",o.bMT(10,10,"Nav.PerPage"),""),o.R7$(3),o.SpI("100 ",o.bMT(13,12,"Nav.PerPage"),"")}}function zr(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-action-bar"),o.qex(1,42),o.DNE(2,gr,14,14,"div",43),o.bVm(),o.qex(3,44),o.j41(4,"button",45),o.bIt("click",function(){o.eBV(M),o.XpG(2);const fe=o.sdS(9),Ot=o.XpG();return o.Njj(Ot.showWizard(fe))}),o.EFF(5),o.nI1(6,"translate"),o.k0s(),o.bVm(),o.k0s()}if(2&R){const M=o.XpG(3);o.R7$(2),o.Y8G("ngIf",(null==M.pagedResult?null:M.pagedResult.results.length)>0),o.R7$(3),o.SpI(" ",o.bMT(6,2,"Common.Add")," ")}}function os(R,be){1&R&&o.nrm(0,"app-simple-loader")}function js(R,be){1&R&&(o.j41(0,"div",55)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.JRh(o.bMT(3,1,"DynamicAuth.List.None")))}function bo(R,be){1&R&&(o.j41(0,"span",70)(1,"span",14),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.JRh(o.bMT(3,1,"Common.Disabled")))}function bs(R,be){1&R&&(o.j41(0,"span",71),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Disabled")," "))}function vr(R,be){1&R&&(o.j41(0,"span",72),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function Cs(R,be){if(1&R){const M=o.RV6();o.j41(0,"tr",61)(1,"td",62),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.DNE(2,bo,4,3,"span",63),o.j41(3,"b"),o.EFF(4),o.k0s()(),o.j41(5,"td",64),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.EFF(6),o.k0s(),o.j41(7,"td",64),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.j41(8,"code"),o.EFF(9),o.k0s()(),o.j41(10,"td",65),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.DNE(11,bs,3,3,"span",66)(12,vr,3,3,"span",67),o.k0s(),o.j41(13,"td",65),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.j41(14,"button",68),o.bIt("click",function(){const fe=o.eBV(M).$implicit,Ot=o.XpG(5);return o.Njj(Ot.viewOrEditDynamicAuth(fe))}),o.nrm(15,"span",69),o.j41(16,"span",14),o.EFF(17),o.nI1(18,"translate"),o.k0s()()()()}if(2&R){const M=be.$implicit,se=o.XpG(5);o.AVh("inactive",!M.enabled||(null==M?null:M.nonEditable)),o.FS9("id",M.scheme),o.R7$(2),o.Y8G("ngIf",!M.enabled),o.R7$(),o.AVh("tw-text-blue-500",!(null!=M&&M.nonEditable)),o.R7$(),o.SpI(" ",null==M?null:M.scheme," "),o.R7$(2),o.SpI(" ",null==M?null:M.displayName," "),o.R7$(3),o.JRh(se.typeStr(null==M?null:M.type)),o.R7$(2),o.Y8G("ngIf",!M.enabled),o.R7$(),o.Y8G("ngIf",null==M?null:M.nonEditable),o.R7$(3),o.Y8G("ngClass",o.l_i(15,Ar,!se.isReadOnly&&!M.nonEditable,se.isReadOnly||M.nonEditable)),o.R7$(2),o.JRh(o.bMT(18,13,"Common.Edit"))}}function Jr(R,be){if(1&R&&(o.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),o.EFF(4),o.nI1(5,"translate"),o.k0s(),o.j41(6,"th",58),o.EFF(7),o.nI1(8,"translate"),o.k0s(),o.j41(9,"th",58),o.EFF(10),o.nI1(11,"translate"),o.k0s(),o.j41(12,"th",59)(13,"span",14),o.EFF(14),o.nI1(15,"translate"),o.k0s()(),o.j41(16,"th",59)(17,"span",14),o.EFF(18),o.nI1(19,"translate"),o.k0s()()()(),o.j41(20,"tbody"),o.DNE(21,Cs,19,18,"tr",60),o.k0s()()),2&R){const M=o.XpG(4);o.R7$(4),o.SpI(" ",o.bMT(5,6,"Common.Scheme")," "),o.R7$(3),o.SpI(" ",o.bMT(8,8,"Common.Name")," "),o.R7$(3),o.SpI(" ",o.bMT(11,10,"Common.Type")," "),o.R7$(4),o.JRh(o.bMT(15,12,"Common.Status")),o.R7$(4),o.JRh(o.bMT(19,14,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",M.dynamicAuths)}}function Wo(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-pager",73),o.bIt("onGoToPage",function(fe){o.eBV(M);const Ot=o.XpG(4);return o.Njj(Ot.goToPage(fe))}),o.k0s()}if(2&R){const M=o.XpG(4);o.Y8G("totalResults",null==M.pagedResult?null:M.pagedResult.totalCount)("currentPage",M.page)("lastPage",null==M.pagedResult?null:M.pagedResult.pageCount)}}function Qr(R,be){if(1&R&&(o.qex(0),o.DNE(1,js,4,3,"div",52)(2,Jr,22,16,"table",53)(3,Wo,1,3,"app-pager",54),o.bVm()),2&R){const M=o.XpG(3);o.R7$(),o.Y8G("ngIf",(null==M.dynamicAuths?null:M.dynamicAuths.length)<1),o.R7$(),o.Y8G("ngIf",(null==M.dynamicAuths?null:M.dynamicAuths.length)>0),o.R7$(),o.Y8G("ngIf",(null==M.pagedResult?null:M.pagedResult.results.length)>0&&!M.isLoading)}}function Yr(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),o.nrm(4,"span",25),o.j41(5,"span",14),o.EFF(6),o.nI1(7,"translate"),o.k0s()(),o.j41(8,"input",26),o.nI1(9,"translate"),o.mxI("ngModelChange",function(fe){o.eBV(M);const Ot=o.XpG(2);return o.DH7(Ot.searchTerm,fe)||(Ot.searchTerm=fe),o.Njj(fe)}),o.bIt("keyup",function(fe){o.eBV(M);const Ot=o.XpG(2);return o.Njj(Ot.search(fe))}),o.k0s()(),o.j41(10,"button",27),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.showAdvancedFilters=!fe.showAdvancedFilters)}),o.DNE(11,or,4,3,"span",28)(12,Li,4,3,"span",28),o.k0s(),o.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),o.EFF(17),o.nI1(18,"translate"),o.k0s(),o.j41(19,"ul",33)(20,"li",34)(21,"button",35),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.filter(fe.DynamicAuthFilters.OIDC))}),o.EFF(22),o.nI1(23,"translate"),o.k0s()(),o.j41(24,"li",34)(25,"button",36),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.filter(fe.DynamicAuthFilters.SAML))}),o.EFF(26),o.nI1(27,"translate"),o.k0s()(),o.DNE(28,si,4,4,"li",37)(29,jr,4,4,"li",28),o.k0s()()(),o.nrm(30,"hr"),o.k0s()(),o.DNE(31,zr,7,4,"app-action-bar",28)(32,os,1,0,"app-simple-loader",28)(33,Qr,4,3,"ng-container",28),o.k0s()}if(2&R){const M=o.XpG(2);o.R7$(6),o.JRh(o.bMT(7,16,"Common.Search")),o.R7$(2),o.FS9("placeholder",o.bMT(9,18,"DynamicAuth.SearchPlaceholder")),o.R50("ngModel",M.searchTerm),o.R7$(3),o.Y8G("ngIf",!M.showAdvancedFilters),o.R7$(),o.Y8G("ngIf",M.showAdvancedFilters),o.R7$(),o.Y8G("hidden",!M.showAdvancedFilters),o.R7$(4),o.JRh(o.bMT(18,20,"Auditing.Showing")),o.R7$(4),o.Y8G("ngClass",M.isShowing(M.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),o.R7$(),o.SpI(" ",o.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),o.R7$(3),o.Y8G("ngClass",M.isShowing(M.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),o.R7$(),o.SpI(" ",o.bMT(27,24,"DynamicAuth.Filters.SAML")," "),o.R7$(2),o.Y8G("ngIf",!M.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",!M.isRskDynamicAuth),o.R7$(2),o.Y8G("ngIf",!M.isLoading&&!M.isReadOnly),o.R7$(),o.Y8G("ngIf",M.isLoading),o.R7$(),o.Y8G("ngIf",!M.isLoading)}}function Cr(R,be){if(1&R&&(o.j41(0,"div",11)(1,"app-title-bar",4),o.nI1(2,"translate"),o.j41(3,"a",12),o.nrm(4,"span",13),o.j41(5,"span",14),o.EFF(6),o.nI1(7,"translate"),o.k0s()()(),o.DNE(8,Nr,1,0,"ng-template",null,0,o.C5r)(10,Vr,4,5,"div",15)(11,Yr,34,26,"div",16),o.k0s()),2&R){const M=o.XpG();o.R7$(),o.Y8G("title",o.bMT(2,5,M.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),o.R7$(2),o.Y8G("href",M.LinkConstants.EnablingDynamicAuth,o.B4B),o.R7$(3),o.JRh(o.bMT(7,7,"Common.Help")),o.R7$(4),o.Y8G("ngIf",!M.schemaHealthy),o.R7$(),o.Y8G("ngIf",M.schemaHealthy)}}let Rs=(()=>{class R extends Ge.if{get DynamicAuthFilters(){return De}get isReadOnly(){return(0,ae.ci)(this.securityService.userPermissions)}get LinkConstants(){return ln.e}typeStr(M){return j.EX[M]}constructor(M,se,fe,Ot,Fn,Xn,bi,ns,hs,Yo){super(Xn,bi,!0),this.configService=M,this.errorService=se,this.titleService=fe,this.dynamicAuthenticationService=Ot,this.securityService=Fn,this.router=ns,this.localize=hs,this.modalService=Yo,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new lt.B,this.pageStream=new lt.B,this.pageSizeStream=new lt.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(M){this.modalService.show(M,{id:vt.R.Id,ariaLabelledBy:vt.R.TileId,ariaDescribedby:vt.R.DescriptionId,backdrop:"static"})}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(M){return this.term=M,{searchTerm:M,page:1,pageSize:this.pageSize}}ngOnInit(){const M=this.translate.instant("Nav.DynamicAuth")+" - "+tt.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(M),this.configService.getConfig().subscribe({next:se=>{this.dynamicAuthIsNotConfigured=(0,ae.hX)(se.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=se.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk},error:se=>{this.errorService.handleError(se)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Pt.$)()).subscribe({next:se=>{this.schemaHealthy=se,this.schemaHealthy&&this.triggerPageLoad()},error:se=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:se.status}))}})}triggerPageLoad(){const M=this.filterStream.pipe((0,Dt.T)(Ot=>(this.activeFilters=Ot,{filters:Ot,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),se=this.pageStream.pipe((0,Dt.T)(Ot=>(this.page=Ot,{filters:this.activeFilters,searchTerm:this.term,page:Ot,pageSize:this.pageSize}))),fe=this.pageSizeStream.pipe((0,Dt.T)(Ot=>(this.pageSize=Ot,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:Ot})));se.pipe((0,tn.X)(fe),(0,tn.X)(this.searchSource),(0,tn.X)(M),(0,tn.X)(this.enterKeySource),(0,ct.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,Lt.Z)(Ot=>{this.isLoading=!0;const Fn=Ot.filters.join(" ");return this.dynamicAuthenticationService.get(Ot.searchTerm,Ot.page,Ot.pageSize,Fn).pipe((0,Ce.c)(200))})).subscribe({next:Ot=>{this.pagedResult=Ot,this.dynamicAuths=this.pagedResult.results.map(Fn=>(0,le.lH)(Fn)).sort((Fn,Xn)=>Number(Xn.nonEditable)-Number(Fn.nonEditable)),this.isLoading=!1},error:Ot=>{500===Ot.status?this.handleInternalServerError():this.errorService.handleError(Ot),this.isLoading=!1}})}filter(M){if(this.activeFilters.includes(M)){const se=this.activeFilters.indexOf(M);this.activeFilters.splice(se,1)}else this.activeFilters.push(M);this.filterStream.next(this.activeFilters)}isShowing(M){return this.activeFilters.includes(M)}goToPage(M){this.pageStream.next(M)}setPageLength(M){this.page=1,this.pageSizeStream.next(M)}viewOrEditDynamicAuth(M){const fe=this.localize.translateRoute(`${this.isReadOnly||M.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${M.scheme}`);this.router.navigateByUrl(fe)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(xe.w),o.rXU(sn.I),o.rXU(Pn.hE),o.rXU(Ct.v),o.rXU($n.i),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(p.Ix),o.rXU(S.QG),o.rXU(w.I8))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["ng-component"]],features:[o.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthWizardModal",3,"finish"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(se,fe){1&se&&o.DNE(0,Dr,17,12,"div",1)(1,Cr,12,9,"div",2),2&se&&(o.Y8G("ngIf",fe.dynamicAuthIsNotConfigured),o.R7$(),o.Y8G("ngIf",!fe.dynamicAuthIsNotConfigured))},dependencies:[t.YU,t.Sq,t.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,Mt.z,On.n,Qt.d,mt.B,Ur,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var Ws=d(3806),Co=d(1258),qs=d(4754),$s=d(1560),Js=d(3899),Or=d(8762),wr=d(4692);const dr=["updateClientSecretButton"],$r=R=>[R];function Zr(R,be){1&R&&(o.j41(0,"app-form-row",15)(1,"app-form-toggle",16),o.nrm(2,"input",17),o.k0s()()),2&R&&(o.Y8G("id","Enabled")("label","Common.Enabled"),o.R7$(),o.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function Qs(R,be){if(1&R&&(o.j41(0,"div",10),o.DNE(1,Zr,3,5,"app-form-row",11),o.j41(2,"app-form-row",12),o.nrm(3,"app-readonly",13),o.nI1(4,"readOnlyValue"),o.k0s(),o.j41(5,"app-form-row",12),o.nrm(6,"input",14),o.k0s()()),2&R){const M=o.XpG(2);o.R7$(),o.Y8G("ngIf",!M.isRskDynamicAuth),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(11,$r,o.bMT(4,9,M.dynamicAuth.scheme))),o.R7$(2),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function ua(R,be){1&R&&(o.j41(0,"app-form-row",12),o.nrm(1,"input",25),o.k0s()),2&R&&o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function ws(R,be){if(1&R&&(o.j41(0,"option",26),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R){const M=be.$implicit;o.Y8G("value",M),o.R7$(),o.JRh(o.bMT(2,2,"DynamicAuth.Flows."+M))}}function ui(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",18)(1,"app-form-row",12)(2,"input",19),o.bIt("focusout",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.tryReachAuthority())}),o.k0s()(),o.j41(3,"app-form-row",12),o.nrm(4,"input",20),o.k0s(),o.DNE(5,ua,2,3,"app-form-row",21),o.j41(6,"app-form-row",12)(7,"div",22)(8,"select",23),o.DNE(9,ws,3,4,"option",24),o.k0s()()()()}if(2&R){const M=o.XpG(2);o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(2),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(2),o.Y8G("ngIf",M.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.R7$(3),o.Y8G("ngForOf",M.allowedFlows)}}function as(R,be){1&R&&(o.j41(0,"app-form-row",31)(1,"app-form-toggle",16),o.nrm(2,"input",32),o.k0s()()),2&R&&(o.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),o.R7$(),o.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function Gs(R,be){1&R&&(o.j41(0,"app-form-row",12)(1,"app-row-bar",28),o.nrm(2,"input",33),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),o.R7$(2),o.FS9("placeholder",o.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function Rr(R,be){if(1&R&&(o.j41(0,"div",27)(1,"app-form-row",12)(2,"app-row-bar",28),o.nrm(3,"input",29),o.nI1(4,"translate"),o.k0s()(),o.DNE(5,as,3,6,"app-form-row",30)(6,Gs,4,6,"app-form-row",21),o.k0s()),2&R){const M=o.XpG(2);o.R7$(),o.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),o.R7$(2),o.FS9("placeholder",o.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),o.R7$(2),o.Y8G("ngIf",M.isRskDynamicAuth||M.dynamicAuth.type==M.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",(M.isRskDynamicAuth||M.dynamicAuth.type==M.dynamicAuthTypes.SAML)&&M.formGroup.get("signInSchemeForm.differentSignOut").value)}}function Hs(R,be){if(1&R&&(o.j41(0,"div")(1,"app-form-row",34),o.nrm(2,"app-lifetime-picker",35),o.k0s()()),2&R){const M=o.XpG(2);o.R7$(),o.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.R7$(),o.Y8G("buttons",M.defaultToleranceTimes)}}function Gr(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",36)(1,"app-form-row",34)(2,"div",37),o.nrm(3,"app-readonly",13),o.j41(4,"button",38,0),o.nI1(6,"translate"),o.bIt("click",function(){o.eBV(M);const fe=o.XpG(2);return o.Njj(fe.openClientSecretModal())}),o.nrm(7,"span",39),o.j41(8,"span",40),o.EFF(9),o.nI1(10,"translate"),o.k0s()()()()()}if(2&R){const M=o.XpG(2);o.R7$(),o.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),o.R7$(2),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(12,$r,M.displaySecret)),o.R7$(),o.Y8G("tooltip",o.bMT(6,8,"DynamicAuth.UpdateClientSecret.Title")),o.R7$(5),o.JRh(o.bMT(10,10,"Common.Edit"))}}function Kr(R,be){if(1&R&&(o.j41(0,"form",4),o.DNE(1,Qs,7,13,"div",5)(2,ui,10,11,"div",6)(3,Rr,7,8,"div",7)(4,Hs,3,5,"div",8)(5,Gr,11,14,"div",9),o.k0s()),2&R){const M=o.XpG();o.Y8G("formGroup",M.formGroup),o.R7$(),o.Y8G("ngIf",M.formGroup.get("detailsForm")),o.R7$(),o.Y8G("ngIf",M.formGroup.get("connectionForm")&&M.dynamicAuth.type==M.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",M.formGroup.get("signInSchemeForm")&&(M.isRskDynamicAuth||M.dynamicAuth.type==M.dynamicAuthTypes.SAML)),o.R7$(),o.Y8G("ngIf",M.formGroup.get("timeComparisonTolerance")&&(M.isRskDynamicAuth||M.dynamicAuth.type==M.dynamicAuthTypes.SAML)),o.R7$(),o.Y8G("ngIf",M.formGroup.get("secretForm")&&M.dynamicAuth.type==M.dynamicAuthTypes.OIDC)}}function Bn(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-custom-modal",41),o.bIt("onCancel",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.cancelClientSecretModal())})("onSave",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.addNewClientSecretToFormGroup())}),o.j41(1,"form",4)(2,"p",42),o.EFF(3),o.nI1(4,"translate"),o.k0s(),o.nrm(5,"input",43),o.k0s()()}if(2&R){const M=o.XpG();o.Y8G("title","DynamicAuth.UpdateClientSecret.Title")("modalId",M.updateClientSecretModalId)("actions",M.updateClientSecretModalActions)("saveText","DynamicAuth.UpdateClientSecret.Confirm"),o.R7$(),o.Y8G("formGroup",M.formClientSecret),o.R7$(2),o.SpI("",o.bMT(4,6,"DynamicAuth.UpdateClientSecret.Description"),":")}}let ro=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot,Fn,Xn,bi,ns){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe,this.configService=Ot,this.providerValidator=Fn,this.translate=Xn,this.toastr=bi,this.modalService=ns,this.dynamicAuthTypes=j.EX,this.isDeleting=!1,this.allowedFlows=at.FlowTypes,this.samlSignInSchemeCodeFrag=at.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=at.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1,this.updateClientSecretModalActions=[Co.N.Save],this.updateClientSecretModalId="updateClientSecretModal"}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:Ws.u.Minutes},{duration:5,unit:Ws.u.Minutes},{duration:10,unit:Ws.u.Minutes}],this.configService.getConfig().subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk},error:M=>{this.errorService.handleError(M)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{switch(this.dynamicAuth=M,this.dynamicAuth.type){case j.EX.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case j.EX.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[e.k0.required]]})}buildOidcForms(){this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.displaySecret=new gn.w(this.oidcOptions.clientSecret);let M={authority:[this.oidcOptions.authority,[e.k0.required,e.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[e.k0.required]],flow:[this.oidcOptions.usePkce?Re.AuthCodePlusPkce:Re.AuthCode,[e.k0.required]]};this.isRskDynamicAuth&&(M.callbackPath=[this.oidcOptions.callbackPath,[e.k0.required,Tn()]]);let se={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(M),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(se.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[e.k0.required]],differentSignOut:[!(0,ae.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),se.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(fe=>{fe&&se.signInSchemeForm.get("signOutScheme").setValidators([e.k0.required])})),this.formGroup=this.fb.group(se)}buildSamlForms(){this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[e.k0.required]],differentSignOut:[!(0,ae.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let M=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(M).subscribe(se=>{se||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:M=>{let fe,se={...this.dynamicAuth};se=this.updateDetails(se),this.dynamicAuth.type===j.EX.OIDC?(fe={...this.oidcOptions},fe=this.updateConnection(fe),fe=this.updateSignInScheme(fe),fe=this.updateSecret(fe)):this.dynamicAuth.type===j.EX.SAML&&(fe={...this.samlOptions},fe=this.updateSignInScheme(fe),fe=this.updateTimeComparisonTolerance(fe)),se.options=JSON.stringify(fe),this.dynamicAuthCacheService.unsavedCache.next(se)}}),this.dynamicAuth.type===j.EX.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(M=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(M){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...M,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(M){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let se={...M,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==Re.AuthCodePlusPkce};return this.isRskDynamicAuth&&(se.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),se}updateSignInScheme(M){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==j.EX.OIDC)return M;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let se={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===j.EX.SAML||this.isRskDynamicAuth){let fe=this.formGroup.get("signInSchemeForm.differentSignOut").value,Ot=this.formGroup.get("signInSchemeForm.signOutScheme").value;se.signOutScheme=fe?Ot:null}return{...M,...se}}updateSecret(M){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let se=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new gn.w(se),{...M,clientSecret:se}}updateTimeComparisonTolerance(M){let se=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",se.valid),{...M,timeComparisonTolerance:se.value}}setTimeComparisonTolerance(M){this.formGroup.controls.timeComparisonTolerance.setValue(M)}checkTimeComparisonToleranceSelected(M){return M==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let M=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:M}),this.formClientSecret.controls.newClientSecret.setValue(null)}openClientSecretModal(){this.modalService.showById(this.updateClientSecretModalId,this.updateClientSecretButtonRef)}cancelClientSecretModal(){this.modalService.hideById(this.updateClientSecretModalId)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t),o.rXU(xe.w),o.rXU(Ft),o.rXU(C.c$),o.rXU(Vn.tw),o.rXU(qs.B))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(se,fe){if(1&se&&o.GBs(dr,5),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.updateClientSecretButtonRef=Ot.first)}},decls:3,vars:2,consts:[["addClientSecretButton",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"title","modalId","actions","saveText","onCancel","onSave",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"click","tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],[3,"onCancel","onSave","title","modalId","actions","saveText"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"]],template:function(se,fe){1&se&&(o.j41(0,"div",1),o.DNE(1,Kr,6,6,"form",2),o.k0s(),o.DNE(2,Bn,6,8,"app-custom-modal",3)),2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&(fe.oidcOptions||fe.samlOptions)),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.oidcOptions))},dependencies:[t.Sq,t.bT,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.YS,e.j4,e.JD,e.$R,h.dg,$s.T,dt.Y,ri.m,Gt.f,Js.G,Or.O,wr.u,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();function ps(R,be){1&R&&(o.j41(0,"div")(1,"app-form-row",3),o.nrm(2,"input",7),o.k0s()()),2&R&&(o.R7$(),o.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function Ve(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.DNE(4,ps,3,4,"div",6),o.k0s()),2&R){const M=o.XpG();o.Y8G("formGroup",M.idpAdvancedForm),o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!M.idpAdvancedForm.get("allowIdpInitiatedSso").value),o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("ngIf",M.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let He=(()=>{class R{constructor(M,se,fe){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:M=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var se={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.dynamicAuthCacheService.unsavedCache.next(fe)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[e.k0.required]]})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,Ve,5,9,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.idpAdvancedForm))},dependencies:[t.bT,e.qT,e.me,e.Zm,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,ri.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();function ve(R,be){if(1&R){const M=o.RV6();o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"div",7),o.nrm(6,"input",8),o.j41(7,"button",9),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.tryMetadataAddr())}),o.j41(8,"span"),o.EFF(9),o.nI1(10,"translate"),o.k0s()()()()()}if(2&R){const M=o.XpG();o.Y8G("formGroup",M.idpDetailsForm),o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(5),o.JRh(o.bMT(10,12,"Common.ValidateMetadata"))}}let it=(()=>{class R{constructor(M,se,fe,Ot,Fn,Xn){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe,this.providerValidator=Ot,this.translate=Fn,this.toastr=Xn,this.metadataAddrStream=new mn.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,ae.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:M=>{this.errorService.handleError(M)}}),this.metadataAddrStream.subscribe(M=>{this.providerValidator.validateMetadataUrl(M).subscribe(se=>{se?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:M=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var M={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[e.k0.required,e.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(M)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var M={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const se={...this.dynamicAuth,options:JSON.stringify(M)};this.dynamicAuthCacheService.unsavedCache.next(se)}tryMetadataAddr(){const M=this.idpDetailsForm.get("idpMetadataAddress");M.invalid||this.metadataAddrStream.next(M.value)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t),o.rXU(Ft),o.rXU(C.c$),o.rXU(ot.g))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,ve,11,14,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.idpDetailsForm))},dependencies:[t.bT,e.qT,e.me,e.Zm,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,ri.m,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var jt=d(6719),qn=d(251);const Mi=["AdvancedTabs"];let ls=(()=>{class R{constructor(){}ngOnInit(){}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(se,fe){if(1&se&&o.GBs(Mi,7),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.advancedTabs=Ot.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.k0s()(),o.j41(4,"div",3),o.nrm(5,"router-outlet"),o.k0s()),2&se&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[p.n3,jt.G,qn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();function Hi(R,be){if(1&R&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&R){const M=be.item;o.R7$(),o.JRh(M.length>20?o.brH(2,1,M,0,20)+"...":M)}}function jn(R,be){1&R&&(o.j41(0,"div",11)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function Be(R,be){1&R&&(o.j41(0,"span",21),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Common.Reserved")," "))}function Ze(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",22),o.bIt("click",function(){o.eBV(M);const fe=o.XpG().$implicit,Ot=o.XpG(3);return o.Njj(Ot.removeScope(fe))}),o.nrm(1,"span",23),o.j41(2,"span",15),o.EFF(3),o.nI1(4,"translate"),o.k0s()()}2&R&&(o.R7$(3),o.JRh(o.bMT(4,1,"Common.Delete.Title")))}function Et(R,be){if(1&R&&(o.j41(0,"tr")(1,"td",18)(2,"span"),o.EFF(3),o.k0s()(),o.j41(4,"td"),o.DNE(5,Be,3,3,"span",19),o.k0s(),o.j41(6,"td"),o.DNE(7,Ze,5,3,"button",20),o.k0s()()),2&R){const M=be.$implicit,se=o.XpG(3);o.R7$(3),o.JRh(M),o.R7$(2),o.Y8G("ngIf",!se.allowRemoveScope(M)),o.R7$(2),o.Y8G("ngIf",se.allowRemoveScope(M))}}function kt(R,be){if(1&R&&(o.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),o.EFF(4),o.nI1(5,"translate"),o.k0s()(),o.j41(6,"th",16)(7,"span",15),o.EFF(8),o.nI1(9,"translate"),o.k0s()(),o.j41(10,"th",16)(11,"span",15),o.EFF(12),o.nI1(13,"translate"),o.k0s()()(),o.j41(14,"tbody"),o.DNE(15,Et,8,3,"tr",17),o.k0s()()),2&R){const M=o.XpG(2);o.R7$(4),o.JRh(o.bMT(5,4,"Common.Scope")),o.R7$(4),o.JRh(o.bMT(9,6,"Common.Reserved")),o.R7$(4),o.JRh(o.bMT(13,8,"Common.Actions")),o.R7$(3),o.Y8G("ngForOf",M.currentScopes())}}function zt(R,be){if(1&R){const M=o.RV6();o.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),o.nrm(3,"input",6),o.nI1(4,"translate"),o.j41(5,"button",7),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.addScope())}),o.EFF(6),o.nI1(7,"translate"),o.k0s()()(),o.j41(8,"div",8),o.DNE(9,jn,4,3,"div",9)(10,kt,16,10,"table",10),o.k0s()()}if(2&R){const M=o.XpG(),se=o.sdS(1);o.Y8G("formGroup",M.scopesForm),o.R7$(),o.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),o.R7$(2),o.FS9("placeholder",o.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),o.Y8G("typeahead",M.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",se)("typeaheadMinLength",0)("maxlength",M.maxScopeLength),o.R7$(3),o.SpI(" ",o.bMT(7,17,"Common.Add")," "),o.R7$(2),o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",M.currentScopes().length<=0),o.R7$(),o.Y8G("ngIf",M.currentScopes().length>0)}}let Wt=(()=>{class R{constructor(M,se,fe,Ot,Fn,Xn){this.fb=M,this.errorService=se,this.toastr=fe,this.translateService=Ot,this.dynamicAuthChachService=Fn,this.providerValidator=Xn,this.newScope="",this.dynamicAuthTypes=j.EX,this.isDeleting=!1,this.maxScopeLength=at.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}}),this.options=new xt.c(M=>{let se=this.scopesForm.get("newScope").value;M.next(se)}).pipe((0,bt.n)(M=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,Dt.T)(se=>this.filterScopes(M,se)))))}filterScopes(M,se){const fe=!M;return se.filter(Ot=>!this.currentScopes().includes(Ot)&&(fe||Ot.includes(M)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:M=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const se={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},fe={...this.dynamicAuth,options:JSON.stringify(se)};this.dynamicAuthChachService.unsavedCache.next(fe)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const M=this.scopesForm.controls.newScope.value,se=this.scopesForm.controls.scopes.value;""!==M?M.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):se.includes(M)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...se,M]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(M){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(fe=>fe!==M))}currentScopes(){const M=this.scopesForm.controls.scopes;return M?M.value:[]}allowRemoveScope(M){return at.AllowRemoveScope(M)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(Le.t),o.rXU(Ft))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(se,fe){1&se&&(o.DNE(0,Hi,3,5,"ng-template",null,0,o.C5r),o.j41(2,"div",1),o.DNE(3,zt,11,19,"form",2),o.k0s()),2&se&&(o.R7$(3),o.Y8G("ngIf",fe.dynamicAuth))},dependencies:[t.Sq,t.bT,e.qT,e.me,e.BC,e.cb,e.tU,e.j4,e.JD,dt.Y,Gt.f,E.Xi,t.P9,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var vn=d(4572);function Hn(R,be){1&R&&(o.nrm(0,"span",12),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function xi(R,be){1&R&&(o.nrm(0,"span",13),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function nn(R,be){1&R&&(o.nrm(0,"span",14),o.nI1(1,"translate")),2&R&&o.Y8G("innerHTML",o.bMT(1,1,"DynamicAuth.PathValidation"),o.npT)}function cr(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3),o.nrm(2,"input",4),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"input",5),o.DNE(5,Hn,2,3,"span",6),o.k0s(),o.j41(6,"app-form-row",3),o.nrm(7,"input",7),o.DNE(8,xi,2,3,"span",8),o.k0s(),o.j41(9,"app-form-row",9),o.nrm(10,"input",10),o.DNE(11,nn,2,3,"span",11),o.k0s()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.spDetailsForm),o.R7$(),o.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.R7$(2),o.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.R7$(2),o.Y8G("ngIf",!M.validMetadataPath()),o.R7$(),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.R7$(2),o.Y8G("ngIf",!M.validCallbackPath()),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),o.R7$(2),o.Y8G("ngIf",!M.validSignedOutPath())}}let cs=(()=>{class R{constructor(M,se,fe,Ot){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe,this.configService=Ot}ngOnInit(){(0,vn.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()),this.configService.getConfig().pipe((0,Pt.$)())]).subscribe({next:([M,se])=>{this.dynamicAuth=M,this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.isRskDynamicAuth=se.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:M=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var se={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.dynamicAuthCacheService.unsavedCache.next(fe)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let M={spEntityId:[this.samlOptions.spEntityId,[e.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[e.k0.required,Tn()]],callbackPath:[this.samlOptions.callbackPath,[e.k0.required,Tn()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Tn()]]};this.spDetailsForm=this.fb.group(M)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t),o.rXU(xe.w))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,cr,12,17,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.spDetailsForm))},dependencies:[t.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var vi=d(8114),Ln=d(4652);function ar(R,be){if(1&R&&(o.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),o.nrm(3,"input",17),o.k0s()()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.spRequestForm),o.R7$(),o.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.R7$(),o.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function wo(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",18),o.bIt("click",function(){o.eBV(M),o.XpG();const fe=o.sdS(7);return o.Njj(fe.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.AddCert")," "))}function zs(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(M),o.XpG();const fe=o.sdS(7);return o.Njj(fe.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let Fi=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot,Fn,Xn,bi){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe,this.toastr=Ot,this.translate=Fn,this.certService=Xn,this.dynamicAuthService=bi,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new gn.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:M=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var se={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(fe)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(M){this.selectedFile=M.item(0)}updateSigningCert(){this.fileName=new gn.w("");const M=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,M,{next:se=>{this.fileName=new gn.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,se,M).subscribe(fe=>{this.certificateDescription=[fe],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(fe)})},error:se=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},M=>{this.errorService.handleError(M)})}updateSigninCertInCache(M){var se={...this.samlOptions,signingCertificateDto:M};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.dynamicAuthCacheService.unsavedCache.next(fe)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(O.V),o.rXU(Ct.v))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(se,fe){if(1&se){const Ot=o.RV6();o.j41(0,"div",2),o.DNE(1,ar,4,7,"form",3),o.j41(2,"app-saml-cert-list",4),o.bIt("delete",function(){return o.eBV(Ot),o.Njj(fe.removeSigningCert())}),o.qex(3,5),o.DNE(4,wo,3,3,"button",6)(5,zs,3,3,"button",7),o.bVm(),o.k0s(),o.j41(6,"app-confirmation-modal",8,0),o.bIt("confirm",function(){return o.eBV(Ot),o.Njj(fe.updateSigningCert())}),o.qex(8,9),o.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),o.bIt("change",function(Xn){return o.eBV(Ot),o.Njj(fe.handleFileInput(Xn.target.files))}),o.k0s()()(),o.j41(15,"app-form-row",14),o.nrm(16,"input",15),o.k0s()(),o.bVm(),o.k0s()()}2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.spRequestForm),o.R7$(),o.Y8G("certificates",fe.certificateDescription)("showSingle",!0)("deleteCertDisabled",fe.canDeleteCert),o.R7$(2),o.Y8G("ngIf",fe.certificateDescription.length<1),o.R7$(),o.Y8G("ngIf",fe.certificateDescription.length>0),o.R7$(),o.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),o.R7$(3),o.Y8G("formGroup",fe.certForm),o.R7$(),o.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,e.qT,e.me,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m,vi.B,Ln.T,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();function Zi(R,be){if(1&R&&(o.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),o.nrm(3,"input",17),o.k0s()(),o.j41(4,"app-form-row",11)(5,"app-form-toggle",16),o.nrm(6,"input",18),o.k0s()()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.spResponseForm),o.R7$(),o.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.R7$(),o.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.R7$(),o.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function qr(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",19),o.bIt("click",function(){o.eBV(M),o.XpG();const fe=o.sdS(7);return o.Njj(fe.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.AddCert")," "))}function Ss(R,be){if(1&R){const M=o.RV6();o.j41(0,"button",20),o.bIt("click",function(){o.eBV(M),o.XpG();const fe=o.sdS(7);return o.Njj(fe.show())}),o.EFF(1),o.nI1(2,"translate"),o.k0s()}2&R&&(o.R7$(),o.SpI(" ",o.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let nr=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot,Fn,Xn,bi){this.fb=M,this.errorService=se,this.dynamicAuthCacheService=fe,this.toastr=Ot,this.translate=Fn,this.certService=Xn,this.dynamicAuthService=bi,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new gn.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.samlOptions=(0,le.Q0)(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:M=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var se={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(fe)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(M){this.selectedFile=M.item(0)}updateEncryptionCert(){this.fileName=new gn.w("");const M=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,M,{next:se=>{this.fileName=new gn.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,se,M).subscribe(fe=>{this.certificateDescription=[fe],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(fe)})},error:se=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},M=>{this.errorService.handleError(M)})}updateEncryptionCertInCache(M){var se={...this.samlOptions,encryptionCertificateDto:M};const fe={...this.dynamicAuth,options:JSON.stringify(se)};this.dynamicAuthCacheService.unsavedCache.next(fe)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(sn.I),o.rXU(Le.t),o.rXU(Vn.tw),o.rXU(C.c$),o.rXU(O.V),o.rXU(Ct.v))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(se,fe){if(1&se){const Ot=o.RV6();o.j41(0,"div",2),o.DNE(1,Zi,7,13,"form",3),o.j41(2,"app-saml-cert-list",4),o.bIt("delete",function(){return o.eBV(Ot),o.Njj(fe.removeEncryptionCert())}),o.qex(3,5),o.DNE(4,qr,3,3,"button",6)(5,Ss,3,3,"button",7),o.bVm(),o.k0s(),o.j41(6,"app-confirmation-modal",8,0),o.bIt("confirm",function(){return o.eBV(Ot),o.Njj(fe.updateEncryptionCert())}),o.qex(8,9),o.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),o.bIt("change",function(Xn){return o.eBV(Ot),o.Njj(fe.handleFileInput(Xn.target.files))}),o.k0s()()(),o.j41(15,"app-form-row",14),o.nrm(16,"input",15),o.k0s()(),o.bVm(),o.k0s()()}2&se&&(o.R7$(),o.Y8G("ngIf",fe.dynamicAuth&&fe.spResponseForm),o.R7$(),o.Y8G("certificates",fe.certificateDescription)("showSingle",!0)("deleteCertDisabled",fe.canDeleteCert),o.R7$(2),o.Y8G("ngIf",fe.certificateDescription.length<1),o.R7$(),o.Y8G("ngIf",fe.certificateDescription.length>0),o.R7$(),o.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),o.R7$(3),o.Y8G("formGroup",fe.certForm),o.R7$(),o.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),o.R7$(5),o.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[t.bT,e.qT,e.me,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m,vi.B,Ln.T,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Mo=["AdvancedTabs"];let $i=(()=>{class R{constructor(){}ngOnInit(){}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(se,fe){if(1&se&&o.GBs(Mo,7),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.advancedTabs=Ot.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.k0s()(),o.j41(5,"div",3),o.nrm(6,"router-outlet"),o.k0s()),2&se&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Request")("tabValue","request"),o.R7$(),o.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[p.n3,jt.G,qn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var so=d(7499),po=d(6728),xo=d(6406),Fr=d(7778);const As=(R,be)=>({title:R,link:be}),Ms=R=>[R];function na(R,be){1&R&&o.nrm(0,"app-custom-tab",3),2&R&&o.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function Lo(R,be){1&R&&o.nrm(0,"app-custom-tab",3),2&R&&o.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function Aa(R,be){1&R&&o.nrm(0,"app-custom-tab",3),2&R&&o.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function ko(R,be){1&R&&o.nrm(0,"app-custom-tab",3),2&R&&o.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let Uo=(()=>{class R{constructor(M,se,fe,Ot,Fn,Xn,bi,ns,hs,Yo){this.r=M,this.route=se,this.localize=fe,this.titleService=Ot,this.translate=Fn,this.toastr=Xn,this.errorService=bi,this.dynamicAuthService=ns,this.dynamicAuthCachService=hs,this.dialogService=Yo,this.dynamicAuthTypes=j.EX,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:M=>{this.dynamicAuth=M;const se=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+tt.$9.SITE_TITLE;if(this.titleService.setTitle(se),this.checkSubmitEnabled(),this.dynamicAuth.type==j.EX.OIDC&&this.isFirstCall){var fe=(0,le.yx)(this.dynamicAuth.options);this.oldSecret=fe.clientSecret,this.isFirstCall=!1}},error:M=>{this.errorService.handleError(M)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(M=>{M&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const M=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===M.length||M.some(se=>!se)}mobRoute(M){this.r.navigate([M],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==j.EX.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth((0,le.jc)(this.dynamicAuth)).subscribe({next:M=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next((0,le.lH)(M)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:M=>{this.errorService.handleError(M)}}))}deleteDynamicAuth(M){this.dynamicAuthService.deleteDynamicAuth(M).subscribe({next:se=>{const fe=this.localize.translateRoute("/dynamic-auth");this.r.navigate([fe]),this.toastr.success(`${M} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:se=>{this.errorService.handleError(se)}})}setOidcClientSecret(){var M=(0,le.yx)(this.dynamicAuth.options);this.oldSecret==M.clientSecret&&(M.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(M)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(p.Ix),o.rXU(p.nX),o.rXU(S.QG),o.rXU(Pn.hE),o.rXU(C.c$),o.rXU(Vn.tw),o.rXU(sn.I),o.rXU(Ct.v),o.rXU(Le.t),o.rXU(so.o))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(se,fe){if(1&se){const Ot=o.RV6();o.j41(0,"app-title-bar",1),o.nI1(1,"translate"),o.nI1(2,"localize"),o.qex(3,2),o.j41(4,"app-custom-tabs"),o.nrm(5,"app-custom-tab",3),o.DNE(6,na,1,2,"app-custom-tab",4)(7,Lo,1,2,"app-custom-tab",4)(8,Aa,1,2,"app-custom-tab",4)(9,ko,1,2,"app-custom-tab",4),o.k0s(),o.bVm(),o.k0s(),o.j41(10,"div",5),o.nrm(11,"router-outlet"),o.k0s(),o.j41(12,"app-button-bar")(13,"button",6),o.bIt("click",function(){return o.eBV(Ot),o.Njj(fe.saveDynamicAuth())}),o.j41(14,"span"),o.EFF(15),o.nI1(16,"translate"),o.k0s()(),o.qex(17,7),o.j41(18,"button",8),o.bIt("click",function(){o.eBV(Ot);const Xn=o.sdS(22);return o.Njj(Xn.show())}),o.EFF(19),o.nI1(20,"translate"),o.k0s(),o.bVm(),o.k0s(),o.j41(21,"app-delete-confirmation-modal",9,0),o.bIt("delete",function(){return o.eBV(Ot),o.Njj(fe.deleteDynamicAuth(fe.dynamicAuth.scheme))}),o.nrm(23,"app-can-deactivate"),o.k0s()}2&se&&(o.Y8G("title",fe.dynamicAuth.displayName)("crumbs",o.eq3(24,Ms,o.l_i(21,As,o.bMT(1,13,"Nav.DynamicAuth"),o.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),o.R7$(5),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML),o.R7$(4),o.Y8G("disabled",fe.saveDisabled),o.R7$(2),o.JRh(o.bMT(16,17,"Common.SaveAll")),o.R7$(4),o.JRh(o.bMT(20,19,"Common.Delete.Title")),o.R7$(2),o.Y8G("resourceName",fe.dynamicAuth.displayName))},dependencies:[p.n3,t.bT,jt.G,qn.v,po.E,Mt.z,xo.z,Fr.w,C.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var yr=d(7921);const ir=R=>[R];function xs(R,be){if(1&R&&(o.j41(0,"app-form-row",4),o.nrm(1,"app-readonly",3),o.k0s()),2&R){const M=o.XpG(2);o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(5,ir,M.optionsDictionary.callbackPath))}}function So(R,be){if(1&R&&(o.j41(0,"div",8)(1,"app-form-row",4),o.nrm(2,"app-readonly",3),o.k0s(),o.j41(3,"app-form-row",4),o.nrm(4,"app-readonly",3),o.k0s(),o.DNE(5,xs,2,7,"app-form-row",9),o.j41(6,"app-form-row",4),o.nrm(7,"app-readonly",3),o.k0s()()),2&R){const M=o.XpG();o.R7$(),o.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(16,ir,M.optionsDictionary.authority)),o.R7$(),o.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(18,ir,M.optionsDictionary.clientId)),o.R7$(),o.Y8G("ngIf",M.isRskDynamicAuth),o.R7$(),o.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(20,ir,M.optionsDictionary.flow))}}function No(R,be){if(1&R&&(o.j41(0,"div",10)(1,"app-form-row",11),o.nrm(2,"app-readonly",3),o.k0s(),o.j41(3,"app-form-row",4),o.nrm(4,"app-readonly",3),o.k0s(),o.j41(5,"app-form-row",12),o.nrm(6,"app-readonly",3),o.k0s()()),2&R){const M=o.XpG();o.R7$(),o.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(16,ir,M.optionsDictionary.signInScheme)),o.R7$(),o.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(18,ir,M.optionsDictionary.signOutScheme)),o.R7$(),o.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.LifetimePicker)("values",o.eq3(20,ir,M.optionsDictionary.timeComparisonTolerance))}}function zo(R,be){if(1&R&&(o.j41(0,"div",13)(1,"app-form-row",12),o.nrm(2,"app-readonly",3),o.k0s()()),2&R){const M=o.XpG();o.R7$(),o.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(6,ir,M.optionsDictionary.clientSecret))}}let Vo=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot){this.errorService=M,this.dynamicAuthChachService=se,this.configService=fe,this.translate=Ot,this.dynamicAuthTypes=j.EX,this.snippet=at.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk},error:M=>{this.errorService.handleError(M)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{switch(this.dynamicAuthType=M.type,this.dynamicAuthDictionary=new yr.b(M),this.dynamicAuthType){case j.EX.OIDC:this.setOidcOptions(M.options);break;case j.EX.SAML:this.setSamlOptions(M.options)}},error:M=>{this.errorService.handleError(M)}})}setOidcOptions(M){let se={...(0,le.yx)(M)};se.flow=this.translate.instant("DynamicAuth.Flows."+(se.usePkce?Re.AuthCodePlusPkce:Re.AuthCode)),this.optionsDictionary=new yr.b(se)}setSamlOptions(M){const se=(0,le.Q0)(M);this.optionsDictionary=new yr.b(se)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(sn.I),o.rXU(Le.t),o.rXU(xe.w),o.rXU(C.c$))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),o.nrm(3,"app-readonly",3),o.k0s(),o.j41(4,"app-form-row",4),o.nrm(5,"app-readonly",3),o.k0s(),o.j41(6,"app-form-row",4),o.nrm(7,"app-readonly",3),o.k0s()(),o.DNE(8,So,8,22,"div",5)(9,No,7,22,"div",6)(10,zo,3,8,"div",7),o.k0s()),2&se&&(o.R7$(2),o.Y8G("id","Enabled")("label","Common.Enabled"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(17,ir,fe.dynamicAuthDictionary.enabled)),o.R7$(),o.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(19,ir,fe.dynamicAuthDictionary.scheme)),o.R7$(),o.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(21,ir,fe.dynamicAuthDictionary.displayName)),o.R7$(),o.Y8G("ngIf",fe.dynamicAuthType==fe.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth||fe.dynamicAuthType==fe.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",fe.dynamicAuthType==fe.dynamicAuthTypes.OIDC))},dependencies:[t.bT,dt.Y,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const jo=R=>[R];let ia=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCacheService=M}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{var se=(0,le.Q0)(M.options);this.idpAdvancedDictionary=new yr.b({allowIdpInitiatedSso:se.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:se.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(11,jo,fe.idpAdvancedDictionary.allowIdpInitiatedSso)),o.R7$(),o.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,jo,fe.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[dt.Y,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const ms=R=>[R];let Mr=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCacheService=M}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{var se=(0,le.Q0)(M.options);this.idpDetailsDictionary=new yr.b({requireValidMetadataSignature:se.requireValidMetadataSignature,idpMetadataAddr:se.idpMetadataAddress})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(11,ms,fe.idpDetailsDictionary.requireValidMetadataSignature)),o.R7$(),o.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,ms,fe.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[dt.Y,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Ks=["AdvancedTabs"];let Es=(()=>{class R{constructor(){}ngOnInit(){}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(se,fe){if(1&se&&o.GBs(Ks,7),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.advancedTabs=Ot.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),o.k0s()(),o.j41(4,"div",3),o.nrm(5,"router-outlet"),o.k0s()),2&se&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[p.n3,jt.G,qn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();function Ys(R,be){if(1&R&&(o.j41(0,"span"),o.EFF(1),o.nI1(2,"slice"),o.k0s()),2&R){const M=be.item;o.R7$(),o.JRh(M.length>20?o.brH(2,1,M,0,20)+"...":M)}}function mo(R,be){1&R&&(o.j41(0,"div",5)(1,"div"),o.EFF(2),o.nI1(3,"translate"),o.k0s()()),2&R&&(o.R7$(2),o.SpI(" ",o.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function hr(R,be){if(1&R&&(o.j41(0,"tr")(1,"td",11)(2,"span",12),o.EFF(3),o.k0s()()()),2&R){const M=be.$implicit;o.R7$(3),o.JRh(M)}}function Hr(R,be){if(1&R&&(o.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),o.EFF(4),o.nI1(5,"translate"),o.k0s()()(),o.j41(6,"tbody"),o.DNE(7,hr,4,1,"tr",10),o.k0s()()),2&R){const M=o.XpG();o.R7$(4),o.JRh(o.bMT(5,2,"Common.Scope")),o.R7$(3),o.Y8G("ngForOf",M.oidcOptions.scope)}}let es=(()=>{class R{constructor(M,se){this.errorService=M,this.dynamicAuthChachService=se,this.newScope="",this.dynamicAuthTypes=j.EX,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options)},error:M=>{this.errorService.handleError(M)}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(sn.I),o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(se,fe){1&se&&(o.DNE(0,Ys,3,5,"ng-template",null,0,o.C5r),o.j41(2,"div",1)(3,"div",2),o.DNE(4,mo,4,3,"div",3)(5,Hr,8,4,"table",4),o.k0s()()),2&se&&(o.R7$(3),o.Y8G("id","Scopes"),o.R7$(),o.Y8G("ngIf",fe.oidcOptions.scope.length<=0),o.R7$(),o.Y8G("ngIf",fe.oidcOptions.scope.length>0))},dependencies:[t.Sq,t.bT,t.P9,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Oo=R=>[R];let eo=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCacheService=M}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{var se=(0,le.Q0)(M.options);this.spDetailsDictionary=new yr.b({entityId:se.spEntityId,metaDataAddr:se.spMetadataAddress,callbackPath:se.callbackPath,signOutCallbackPath:se.signedOutCallbackPath})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",1),o.nrm(6,"app-readonly",2),o.k0s(),o.j41(7,"app-form-row",3),o.nrm(8,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(21,Oo,fe.spDetailsDictionary.entityId)),o.R7$(),o.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(23,Oo,fe.spDetailsDictionary.metaDataAddr)),o.R7$(),o.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(25,Oo,fe.spDetailsDictionary.callbackPath)),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(27,Oo,fe.spDetailsDictionary.signOutCallbackPath)))},dependencies:[dt.Y,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const ks=R=>[R];let Ts=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCacheService=M}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{var se=(0,le.Q0)(M.options);this.spRequestDictionary=new yr.b({signAuthenticationRequests:se.signAuthenticationRequests}),this.certificateDescription=se.signingCertificateDto?[se.signingCertificateDto]:[]}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.nrm(3,"app-saml-cert-list",3),o.k0s()),2&se&&(o.R7$(),o.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(8,ks,fe.spRequestDictionary.signAuthenticationRequests)),o.R7$(),o.Y8G("certificates",fe.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[dt.Y,Ln.T,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Fo=R=>[R];let Ns=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCacheService=M}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{var se=(0,le.Q0)(M.options);this.spResponseDictionary=new yr.b({requireSignedAssertions:se.requireSignedAssertions,requireEncryptedAssertions:se.requireEncryptedAssertions}),this.certificateDescription=se.encryptionCertificateDto?[se.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.nrm(5,"app-saml-cert-list",3),o.k0s()),2&se&&(o.R7$(),o.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,Fo,fe.spResponseDictionary.requireSignedAssertions)),o.R7$(),o.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(15,Fo,fe.spResponseDictionary.requireEncryptedAssertions)),o.R7$(),o.Y8G("certificates",fe.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[dt.Y,Ln.T,Or.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const re=["AdvancedTabs"];let Qe=(()=>{class R{constructor(){}ngOnInit(){}static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(se,fe){if(1&se&&o.GBs(re,7),2&se){let Ot;o.mGM(Ot=o.lsd())&&(fe.advancedTabs=Ot.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-custom-tabs",1),o.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),o.k0s()(),o.j41(5,"div",3),o.nrm(6,"router-outlet"),o.k0s()),2&se&&(o.R7$(),o.Y8G("pillMode",!0),o.R7$(),o.Y8G("tabTitle","Nav.Details")("tabValue","details"),o.R7$(),o.Y8G("tabTitle","Nav.Request")("tabValue","request"),o.R7$(),o.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[p.n3,jt.G,qn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();const Se=(R,be)=>({title:R,link:be}),je=R=>[R],Tt=()=>["active"];function cn(R,be){1&R&&(o.j41(0,"option",19),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.Scopes")))}function wn(R,be){1&R&&(o.j41(0,"option",20),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.Advanced")))}function oi(R,be){1&R&&(o.j41(0,"option",21),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.SP")))}function sr(R,be){1&R&&(o.j41(0,"option",22),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.R7$(),o.JRh(o.bMT(2,1,"Nav.IdP")))}function qi(R,be){1&R&&(o.j41(0,"button",23),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.Y8G("routerLinkActive",o.lJ4(4,Tt)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.Scopes")))}function Ki(R,be){1&R&&(o.j41(0,"button",24),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.Y8G("routerLinkActive",o.lJ4(4,Tt)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.Advanced")))}function Wi(R,be){1&R&&(o.j41(0,"button",25),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.Y8G("routerLinkActive",o.lJ4(4,Tt)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.SP")))}function di(R,be){1&R&&(o.j41(0,"button",26),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R&&(o.Y8G("routerLinkActive",o.lJ4(4,Tt)),o.R7$(),o.JRh(o.bMT(2,2,"Nav.IdP")))}let Yi=(()=>{class R{constructor(M,se,fe,Ot,Fn,Xn){this.r=M,this.route=se,this.titleService=fe,this.translate=Ot,this.errorService=Fn,this.dynamicAuthCachService=Xn,this.dynamicAuthTypes=j.EX}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M;const se=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+tt.$9.SITE_TITLE;this.titleService.setTitle(se)},error:M=>{this.errorService.handleError(M)}})}mobRoute(M){this.r.navigate([M],{relativeTo:this.route})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(p.Ix),o.rXU(p.nX),o.rXU(Pn.hE),o.rXU(C.c$),o.rXU(sn.I),o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(se,fe){1&se&&(o.j41(0,"app-title-bar",0),o.nI1(1,"translate"),o.nI1(2,"localize"),o.qex(3,1),o.j41(4,"div",2)(5,"label",3),o.EFF(6),o.nI1(7,"translate"),o.k0s(),o.j41(8,"div",4)(9,"select",5),o.bIt("change",function(Fn){return fe.mobRoute(Fn.target.value)}),o.j41(10,"option",6),o.EFF(11),o.nI1(12,"translate"),o.k0s(),o.DNE(13,cn,3,3,"option",7)(14,wn,3,3,"option",8)(15,oi,3,3,"option",9)(16,sr,3,3,"option",10),o.k0s()()(),o.j41(17,"ul",11),o.nI1(18,"translate"),o.j41(19,"li",12)(20,"button",13),o.EFF(21),o.nI1(22,"translate"),o.k0s()(),o.j41(23,"li",12),o.DNE(24,qi,3,5,"button",14),o.k0s(),o.j41(25,"li",12),o.DNE(26,Ki,3,5,"button",15),o.k0s(),o.j41(27,"li",12),o.DNE(28,Wi,3,5,"button",16),o.k0s(),o.j41(29,"li",12),o.DNE(30,di,3,5,"button",17),o.k0s()(),o.bVm(),o.k0s(),o.j41(31,"div",18),o.nrm(32,"router-outlet"),o.k0s()),2&se&&(o.Y8G("title",fe.dynamicAuth.displayName)("crumbs",o.eq3(33,je,o.l_i(30,Se,o.bMT(1,18,"Nav.DynamicAuth"),o.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",fe.dynamicAuth.nonEditable),o.R7$(6),o.JRh(o.bMT(7,22,"Nav.SubMenu")),o.R7$(5),o.JRh(o.bMT(12,24,"Nav.Details")),o.R7$(2),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML),o.R7$(),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML),o.R7$(),o.BMQ("aria-label",o.bMT(18,26,"Nav.SubMenu")),o.R7$(3),o.Y8G("routerLinkActive",o.lJ4(35,Tt)),o.R7$(),o.JRh(o.bMT(22,28,"Nav.Details")),o.R7$(3),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(2),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.OIDC),o.R7$(2),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML),o.R7$(2),o.Y8G("ngIf",fe.dynamicAuth.type==fe.dynamicAuthTypes.SAML))},dependencies:[p.n3,p.Wk,p.wQ,t.bT,e.xH,e.y7,Mt.z,C.D9,S.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return R})();var Ii=d(3178),we=d(4855),L=d(2892),me=d(8416),Pe=d(6923),st=d(4446);function At(R,be){1&R&&(o.j41(0,"app-form-row",3)(1,"app-form-toggle",4),o.nrm(2,"input",7),o.k0s()()),2&R&&(o.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),o.R7$(),o.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Ht(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.DNE(4,At,3,7,"app-form-row",6),o.k0s()),2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!M.isRskDynamicAuth),o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("ngIf",M.isRskDynamicAuth)}}let on=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe,Ot){this.fb=M,this.configService=se,this.dynamicAuthCache=fe,this.errorService=Ot}ngOnInit(){this.configService.getConfig().pipe((0,Pt.$)()).subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){let M={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(M.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(M)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:M=>{let se={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(se.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(se)})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(xe.w),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,Ht,5,9,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m],encapsulation:2})}}return R})();function un(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"app-form-toggle",4),o.nrm(6,"input",7),o.k0s()()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.R7$(),o.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),o.R7$(),o.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let An=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe){this.fb=M,this.dynamicAuthCache=se,this.errorService=fe}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:M=>{let se={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(se)})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,un,7,14,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m],encapsulation:2})}}return R})();function ci(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6),o.nrm(5,"app-lifetime-picker",7),o.k0s()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),o.R7$(),o.Y8G("buttons",M.metadataRefreshIntervalButtons)}}let Qn=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe){this.fb=M,this.dynamicAuthCache=se,this.errorService=fe,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[e.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:M=>{let se={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(se)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:Ws.u.Hour},{duration:12,unit:Ws.u.Hours},{duration:1,unit:Ws.u.Day}]}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,ci,6,12,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,$s.T,dt.Y,ri.m],encapsulation:2})}}return R})();function Xi(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),o.nrm(3,"input",5),o.k0s()(),o.j41(4,"app-form-row",6)(5,"app-form-toggle",4),o.nrm(6,"input",7),o.k0s()()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),o.R7$(2),o.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.R7$(),o.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let Ie=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe){this.fb=M,this.dynamicAuthCache=se,this.errorService=fe}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:M=>{let se={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(se)})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,Xi,7,14,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,ri.m],encapsulation:2})}}return R})();function Nt(R,be){1&R&&o.nrm(0,"app-custom-tab",2),2&R&&o.Y8G("tabTitle","Common.Request")("tabValue","request")}function _e(R,be){1&R&&o.nrm(0,"app-custom-tab",2),2&R&&o.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function Je(R,be){1&R&&o.nrm(0,"app-custom-tab",2),2&R&&o.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function gt(R,be){1&R&&o.nrm(0,"app-custom-tab",2),2&R&&o.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function pn(R,be){1&R&&o.nrm(0,"app-custom-tab",2),2&R&&o.Y8G("tabTitle","Common.Other")("tabValue","other")}let ni=(()=>{class R{constructor(M){this.configService=M}ngOnInit(){this.configService.getConfig().subscribe({next:M=>{this.isRskDynamicAuth=M.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(xe.w))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(se,fe){1&se&&(o.j41(0,"app-custom-tabs",0),o.DNE(1,Nt,1,2,"app-custom-tab",1),o.nrm(2,"app-custom-tab",2),o.DNE(3,_e,1,2,"app-custom-tab",1)(4,Je,1,2,"app-custom-tab",1)(5,gt,1,2,"app-custom-tab",1)(6,pn,1,2,"app-custom-tab",1),o.k0s(),o.j41(7,"div",3),o.nrm(8,"router-outlet"),o.k0s()),2&se&&(o.Y8G("pillMode",!0)("hidden",!fe.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth),o.R7$(),o.Y8G("tabTitle","Common.Claims")("tabValue","claims"),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth))},dependencies:[p.n3,t.bT,jt.G,qn.v],encapsulation:2})}}return R})();function Di(R,be){if(1&R&&(o.j41(0,"form",2)(1,"app-form-row",3),o.nrm(2,"input",4),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"input",5),o.k0s(),o.j41(5,"app-form-row",6),o.nrm(6,"input",7),o.k0s()()),2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),o.R7$(2),o.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),o.R7$(2),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let gs=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se,fe){this.fb=M,this.dynamicAuthCache=se,this.errorService=fe}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[e.k0.required,Tn()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[e.k0.required,Tn()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[e.k0.required,Tn()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:M=>{let se={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(se)})}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,Di,7,8,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,dt.Y],encapsulation:2})}}return R})();const Sr=R=>[R];function to(R,be){if(1&R&&(o.j41(0,"app-form-row",1),o.nrm(1,"app-readonly",2),o.k0s()),2&R){const M=o.XpG();o.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",M.ReadOnlyFieldType.Single)("values",o.eq3(6,Sr,M.optionsDictionary.mapInboundClaims))}}let ki=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M,se){this.configService=M,this.dynamicAuthCache=se}ngOnInit(){(0,vn.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()),this.configService.getConfig().pipe((0,Pt.$)())]).subscribe({next:([M,se])=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options)),this.isRskDynamicAuth=se.featureFlagOptions.dynamicAuthenticationFlag==Bt.U.Rsk}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(xe.w),o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.DNE(3,to,2,8,"app-form-row",3),o.k0s()),2&se&&(o.R7$(),o.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!fe.isRskDynamicAuth),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(7,Sr,fe.optionsDictionary.getClaimsFromUserInfoEndpoint)),o.R7$(),o.Y8G("ngIf",fe.isRskDynamicAuth))},dependencies:[t.bT,dt.Y,Or.O],encapsulation:2})}}return R})();const Eo=R=>[R];let vs=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCache=M}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options))}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",3),o.nrm(6,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,Eo,fe.optionsDictionary.remoteSignOutPath)),o.R7$(),o.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(15,Eo,fe.optionsDictionary.signedOutRedirectUri)),o.R7$(),o.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(17,Eo,fe.optionsDictionary.signedOutCallbackPath)))},dependencies:[dt.Y,Or.O],encapsulation:2})}}return R})();const go=R=>[R];let oo=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCache=M}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options))}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(11,go,fe.optionsDictionary.refreshOnIssuerKeyNotFound)),o.R7$(),o.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,go,fe.optionsDictionary.metadataRefreshInterval)))},dependencies:[dt.Y,Or.O],encapsulation:2})}}return R})();const To=R=>[R];let us=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCache=M}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options))}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(11,To,fe.optionsDictionary.saveTokens)),o.R7$(),o.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,To,fe.optionsDictionary.useTokenLifetime)))},dependencies:[dt.Y,Or.O],encapsulation:2})}}return R})();const Ma=R=>[R];let ts=(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCache=M}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options))}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",3),o.nrm(4,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(11,Ma,fe.optionsDictionary.skipUnrecognizedRequests)),o.R7$(),o.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(13,Ma,fe.optionsDictionary.disableTelemetry)))},dependencies:[dt.Y,Or.O],encapsulation:2})}}return R})();var Os=d(7970),il=d(2292);function Ca(R,be){if(1&R){const M=o.RV6();o.j41(0,"div",6)(1,"div",7),o.nrm(2,"input",8),o.j41(3,"button",9),o.bIt("click",function(){o.eBV(M);const fe=o.XpG();return o.Njj(fe.onAdd())}),o.nrm(4,"span",10),o.j41(5,"span",11),o.EFF(6),o.nI1(7,"translate"),o.k0s()()()()}if(2&R){const M=o.XpG();o.R7$(2),o.FS9("id",M.id+"-newValue-input"),o.R7$(),o.FS9("id",M.id+"-newValue-button"),o.Y8G("disabled",M.addDisabled),o.R7$(3),o.JRh(o.bMT(7,4,"Common.Add"))}}function Ko(R,be){if(1&R){const M=o.RV6();o.j41(0,"app-pill-list",12),o.bIt("onDelete",function(fe){o.eBV(M);const Ot=o.XpG();return o.Njj(Ot.onDelete(fe))}),o.k0s()}if(2&R){const M=o.XpG();o.Y8G("readonly",M.reserved)("id",M.id)("values",M.value)}}function Po(R,be){if(1&R&&(o.j41(0,"span",13),o.EFF(1),o.k0s()),2&R){const M=o.XpG();o.R7$(),o.JRh(M.valueLimitMsg)}}function xa(R,be){if(1&R&&(o.j41(0,"span",14),o.EFF(1),o.nI1(2,"translate"),o.k0s()),2&R){const M=be.$implicit;o.R7$(),o.Lme("",M.key,": ",o.bMT(2,2,M.value),"")}}let xl=(()=>{class R{get newValue(){return this.form.get("newValue")?.value}set newValue(M){this.form.get("newValue").setValue(M)}get errors(){let M=this.form.get("newValue");return M.dirty?M?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(M,se){this.fb=M,this.tranlate=se,this.id=(0,ae.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.onChange=fe=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(M){this.value=M}registerOnChange(M){this.onChange=M}registerOnTouched(M){this.onTouched=M}setDisabledState(M){this.disabled=M}validate(M){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(M){this.value.splice(M,1),this.onChange(this.value)}isNullOrEmpty(M){return!M||null!==M.match(/^ *$/)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(C.c$))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators"},features:[o.Jv_([{provide:e.kq,useExisting:(0,o.Rfq)(()=>R),multi:!0},{provide:e.cz,useExisting:(0,o.Rfq)(()=>R),multi:!0}])],decls:8,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list","tw-mb-5"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],["class","tw-alert-danger tw-mb-4","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger","tw-mb-4"]],template:function(se,fe){1&se&&(o.j41(0,"form",0),o.DNE(1,Ca,8,6,"div",1),o.j41(2,"div",2),o.DNE(3,Ko,1,3,"app-pill-list",3)(4,Po,2,1,"span",4),o.k0s(),o.j41(5,"div"),o.DNE(6,xa,3,4,"span",5),o.nI1(7,"keyvalue"),o.k0s()()),2&se&&(o.Y8G("formGroup",fe.form),o.R7$(),o.Y8G("ngIf",!fe.reserved),o.R7$(2),o.Y8G("ngIf",fe.value.length<=fe.valueLimit||!fe.reserved),o.R7$(),o.Y8G("ngIf",fe.value.length>fe.valueLimit&&fe.reserved),o.R7$(2),o.Y8G("ngForOf",o.bMT(7,5,fe.errors)))},dependencies:[t.Sq,t.bT,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,il.L,t.lG,C.D9],encapsulation:2})}}return R})();function We(R,be){if(1&R&&(o.j41(0,"li",21)(1,"label",22),o.nrm(2,"input",23),o.j41(3,"span"),o.EFF(4),o.nI1(5,"translate"),o.k0s()()()),2&R){const M=be.$implicit,se=o.XpG(2);o.Y8G("id",M.value+"-prompt"),o.R7$(),o.Y8G("for",M.value+"-checkbox"),o.R7$(),o.Y8G("id",M.value+"-checkbox")("formControlName",M.value),o.BMQ("disabled",se.promptDisabled(M.value)),o.R7$(2),o.JRh(o.bMT(5,6,M.displayName))}}function f(R,be){1&R&&o.nrm(0,"app-freetext-list-input",24)}function b(R,be){if(1&R){const M=o.RV6();o.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),o.bIt("newValue",function(fe){o.eBV(M);const Ot=o.XpG();return o.Njj(Ot.updateResponseMode(fe))}),o.k0s(),o.j41(4,"a",6),o.nrm(5,"span",7),o.j41(6,"span",8),o.EFF(7),o.nI1(8,"translate"),o.k0s()()()(),o.j41(9,"app-form-row",3)(10,"ul",9),o.DNE(11,We,6,8,"li",10),o.j41(12,"li",11)(13,"label",12),o.nrm(14,"input",13),o.j41(15,"span"),o.EFF(16),o.nI1(17,"translate"),o.k0s()()()(),o.nrm(18,"br"),o.DNE(19,f,1,0,"app-freetext-list-input",14),o.j41(20,"p",15)(21,"span",16),o.EFF(22,"Preview:"),o.k0s(),o.j41(23,"span",17)(24,"span",18),o.EFF(25),o.k0s()()()(),o.j41(26,"app-form-row",19),o.nrm(27,"app-freetext-list-input",20),o.k0s()()}if(2&R){const M=o.XpG();o.Y8G("formGroup",M.form),o.R7$(),o.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),o.R7$(2),o.Y8G("id","ResponseMode")("options",M.responseModeOptions)("value",M.form.get("responseMode").value),o.R7$(),o.Y8G("href",M.LinkConstants.AdvOthDynamicAuth,o.B4B),o.R7$(3),o.JRh(o.bMT(8,22,"Common.Help")),o.R7$(2),o.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),o.R7$(2),o.Y8G("ngForOf",M.promptOptions),o.R7$(3),o.BMQ("disabled",M.promptDisabled("")),o.R7$(2),o.JRh(o.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),o.R7$(3),o.Y8G("ngIf",M.form.get("useOther").value&&!M.promptDisabled("other")),o.R7$(6),o.SpI(" '",M.generatePromptString(),"' "),o.R7$(),o.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),o.R7$(),o.Y8G("validators",M.ResourceValidators)}}class x{constructor(be,M){this.displayName=be,this.value=M}}const ue=R=>[R],ze=[{path:"dynamic-auth",component:Rs,canActivate:[L.h,st._,we.F,Pe.q],data:{permissions:[Ii.a[Ii.a.IdentityServerManager],Ii.a[Ii.a.IdentityServerManagerReadOnly],Ii.a[Ii.a.AllReadOnly],Ii.a[Ii.a.All]]}},{path:"dynamic-auth/:Scheme",component:Uo,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:ro},{path:"scopes",component:Wt},{path:"advanced",component:ni,children:[{path:"request",component:(()=>{class R{get ReadOnlyFieldType(){return an.t}get LinkConstants(){return ln.e}get ResourceValidators(){return[Jn]}constructor(M,se,fe){this.fb=M,this.dynamicAuthCache=se,this.errorService=fe,this.responseModeOptions=Object.keys(te).filter(Ot=>isNaN(Number(Ot))),this.promptOptions=[new x("DynamicAuth.Prompt.Values.None","none"),new x("DynamicAuth.Prompt.Values.Login","login"),new x("DynamicAuth.Prompt.Values.Consent","consent"),new x("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.dynamicAuth=M,this.oidcOptions=(0,le.yx)(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:M=>{this.errorService.handleError(M)}})}buildForm(){let M=at.ResponseModeMap.get(this.oidcOptions.responseMode);const se=this.promptOptions.map(Xn=>Xn.value),fe=(0,ae.hr)(this.oidcOptions.prompt),Ot=fe.filter(Xn=>!se.includes(Xn));let Fn={responseMode:[te[M],[]],resource:[(0,ae.hr)(this.oidcOptions.resource),[]],useOther:[Ot.length>0,[]],otherPrompts:[Ot,[]]};for(let Xn of this.promptOptions)Fn[Xn.value]=[fe?.includes(Xn.value)??!1,[]];this.form=this.fb.group(Fn)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:M=>{let se=te[this.form.get("responseMode").value],fe=at.ResponseModeKey(se),Ot={...this.oidcOptions,responseMode:fe,prompt:this.generatePromptString(),resource:(0,ae.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(Ot)})}})}generatePromptString(){let M=[];if(this.form.get("none").value)return"none";for(let se of this.promptOptions)this.form.get(se.value).value&&M.push(se.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(se=>M.push(se)),(0,ae.Nj)(M)}promptDisabled(M){const se=this.form.get("none").value;return!("none"===M||!se)||null}updateResponseMode(M){this.form.get("responseMode").setValue(M)}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(e.ze),o.rXU(Le.t),o.rXU(sn.I))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(se,fe){1&se&&(o.j41(0,"div",0),o.DNE(1,b,28,26,"form",1),o.k0s()),2&se&&(o.R7$(),o.Y8G("ngIf",fe.form))},dependencies:[t.Sq,t.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,dt.Y,Gt.f,Os.j,xl,C.D9],encapsulation:2})}}return R})()},{path:"claims",component:on},{path:"signOut",component:gs},{path:"metadata",component:Qn},{path:"tokens",component:An},{path:"other",component:Ie}]},{path:"sp",component:$i,children:[{path:"details",component:cs},{path:"request",component:Fi},{path:"response",component:nr}]},{path:"idp",component:ls,children:[{path:"details",component:it},{path:"advanced",component:He}]}],resolve:{dynamicAuth:ut.q},canDeactivate:[me.M],canActivate:[L.h,st._,we.F,Pe.q],data:{permissions:[Ii.a[Ii.a.IdentityServerManager],Ii.a[Ii.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:Yi,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Vo},{path:"scopes",component:es},{path:"advanced",component:ni,children:[{path:"request",component:(()=>{class R{get ReadOnlyFieldType(){return an.t}constructor(M){this.dynamicAuthCache=M}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Pt.$)()).subscribe({next:M=>{this.optionsDictionary=new yr.b((0,le.yx)(M.options))}})}static{this.\u0275fac=function(se){return new(se||R)(o.rXU(Le.t))}}static{this.\u0275cmp=o.VBU({type:R,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(se,fe){1&se&&(o.j41(0,"div",0)(1,"app-form-row",1),o.nrm(2,"app-readonly",2),o.k0s(),o.j41(3,"app-form-row",1),o.nrm(4,"app-readonly",2),o.k0s(),o.j41(5,"app-form-row",3),o.nrm(6,"app-readonly",2),o.k0s()()),2&se&&(o.R7$(),o.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(16,ue,fe.optionsDictionary.responseMode)),o.R7$(),o.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(18,ue,fe.optionsDictionary.prompt)),o.R7$(),o.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),o.R7$(),o.Y8G("fieldType",fe.ReadOnlyFieldType.Single)("values",o.eq3(20,ue,fe.optionsDictionary.resource)))},dependencies:[dt.Y,Or.O],encapsulation:2})}}return R})()},{path:"claims",component:ki},{path:"signOut",component:vs},{path:"metadata",component:oo},{path:"tokens",component:us},{path:"other",component:ts}]},{path:"sp",component:Qe,children:[{path:"details",component:eo},{path:"request",component:Ts},{path:"response",component:Ns}]},{path:"idp",component:Es,children:[{path:"details",component:Mr},{path:"advanced",component:ia}]}],resolve:{dynamicAuth:ut.q},canActivate:[L.h,st._,we.F,Pe.q],data:{permissions:[Ii.a[Ii.a.IdentityServerManager],Ii.a[Ii.a.IdentityServerManagerReadOnly],Ii.a[Ii.a.AllReadOnly],Ii.a[Ii.a.All]]}}];let A=(()=>{class R{static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275mod=o.$C({type:R})}static{this.\u0275inj=o.G2t({imports:[p.iI.forChild(ze),S.XE.forChild(ze),p.iI]})}}return R})();var $=d(3843);let V=(()=>{class R{static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275mod=o.$C({type:R})}static{this.\u0275inj=o.G2t({imports:[t.MD,e.YN,e.X1,K.w,C.h,$.G]})}}return R})(),ee=(()=>{class R{static{this.\u0275fac=function(se){return new(se||R)}}static{this.\u0275mod=o.$C({type:R})}static{this.\u0275inj=o.G2t({providers:[ut.q,P.R,G.c,U.z,a.d,H.S,W._,N._,O.V,Ct.v,Le.t,xe.w,Ft,_t],imports:[A,t.MD,p.iI,e.YN,k.Y,e.X1,g.jr,ne.W,h.Ss,w.Q_,Fe.z,Z.A,C.h,Y.p,S.XE,ce.F,he.M,v.a,Te.m,z.c,Me.c,de.E,I.h,K.w,Oe.N,qe.f,pe.Y,Ae.l,B.Q,ge.i,E.qP,$e.U,pt.N,V]})}}return R})()},3254:(nt,ye,d)=>{"use strict";d.d(ye,{Q0:()=>C,jc:()=>p,lH:()=>e,yx:()=>S});var t=d(2542);function e(g){return{...g,type:t.EX[g.type]}}function p(g){return{...g,type:t.EX[g.type]}}function S(g){return JSON.parse(g)}function C(g){return JSON.parse(g)}},2542:(nt,ye,d)=>{"use strict";d.d(ye,{EX:()=>e});var g,t=d(9988),e=function(g){return g[g.OIDC=0]="OIDC",g[g.SAML=1]="SAML",g}(e||{});(g=e||(e={})).fromWizardType=function h(E){switch(E){case t.$.AddOidcDynamicAuth:return g.OIDC;case t.$.AddSamlDynamicAuth:return g.SAML}}},854:(nt,ye,d)=>{"use strict";d.d(ye,{q:()=>v});var t=d(6354),e=d(9437),p=d(983),S=d(8284),C=d(3254),w=d(4438),g=d(8407),h=d(3583),E=d(5424);let v=(()=>{class B{constructor(a,k,O){this.dynamicAuthService=a,this.changeCachingService=k,this.errorService=O}resolve(a,k){return this.dynamicAuthService.getDynamicAuth(a.params.Scheme).pipe((0,t.T)(P=>{let W;return P&&(W=(0,C.lH)(P),this.changeCachingService.unsavedCache.next(W)),W}),(0,e.W)((P,W)=>(404===P.status?this.errorService.resourceNotFound(S.v.dynamicAuth):this.errorService.handleError(P),(0,p.I)())))}static{this.\u0275fac=function(k){return new(k||B)(w.KVO(g.v),w.KVO(h.t),w.KVO(E.I))}}static{this.\u0275prov=w.jDH({token:B,factory:B.\u0275fac})}}return B})()},8407:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>w});var t=d(1626),e=d(6354),p=d(7263),S=d(4438),C=d(9564);let w=(()=>{class g{constructor(E,v){this.http=E,this.actionUrl="DynamicAuthentication",this.headers=v.setHeaders()}get(E,v,B,U){let a=new t.Nl;return(0,p.gP)(E)||(a=a.append("scheme",E)),v&&(a=a.append("page",v)),B&&(a=a.append("pageSize",B)),(0,p.gP)(U)||(a=a.append("filters",U)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}createDynamicAuth(E){return this.http.post(this.actionUrl,E,{headers:this.headers})}getDynamicAuth(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}updateDynamicAuth(E){return this.http.put(`${this.actionUrl}/${E.scheme}`,E,{headers:this.headers})}deleteDynamicAuth(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}replaceSigningCert(E,v,B){return this.http.put(`${this.actionUrl}/${E}/saml/sp/signing-certificate`,{certBase64:v,certPassword:B},{headers:this.headers})}removeSigningCert(E){return this.http.delete(`${this.actionUrl}/${E}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(E,v,B){return this.http.put(`${this.actionUrl}/${E}/saml/sp/encryption-certificate`,{certBase64:v,certPassword:B},{headers:this.headers})}removeEncryptionCert(E){return this.http.delete(`${this.actionUrl}/${E}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,e.T)(v=>v.isValid??!1))}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(t.Qq),S.KVO(C.m))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},5358:(nt,ye,d)=>{"use strict";d.d(ye,{Z:()=>De});var t=d(9417),e=d(1583),p=d(4549),S=d(1626),C=d(7263),w=d(4438),g=d(9564);let h=(()=>{class Re{constructor(o,ft){this.http=o,this.headersService=ft,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(o,ft,Ft,_t,lt,Pt,tn){let ct=new S.Nl;return null!=o&&(ct=ct.append("query",o)),(0,C.gP)(_t)||(ct=ct.append("sort",_t)),ft&&(ct=ct.append("created",ft)),Ft&&(ct=ct.append("expires",Ft)),lt&&(ct=ct.append("page",String(lt))),Pt&&(ct=ct.append("pageSize",String(Pt))),tn&&(ct=ct.append("filterExpired",String(tn))),ct}getSessions(o,ft,Ft,_t,lt,Pt,tn){const ct=this.buildParams(o,ft,Ft,_t,lt,Pt,tn);return this.http.get(this.actionUrl,{headers:this.headers,params:ct})}deleteSession(o){return this.http.delete(`${this.actionUrl}/${o}`,{headers:this.headers})}static{this.\u0275fac=function(ft){return new(ft||Re)(w.KVO(S.Qq),w.KVO(g.m))}}static{this.\u0275prov=w.jDH({token:Re,factory:Re.\u0275fac})}}return Re})();var E=d(177),v=d(1780),B=d(5731),U=d(1683),a=d(1413),k=d(8359),O=d(7175),P=d(1594),W=d(9172),N=d(1397),H=d(6599),G=d(8251),z=d(8577),ce=d(4252),de=d(4367),Y=d(1258),Z=d(7185),ne=d(2390);class I{constructor(at,o,ft,Ft,_t,lt){this.query=at,this.page=o,this.pageSize=ft,this.sortCriteria=Ft,this.fromDate=_t,this.toDate=lt}}class pe{constructor(at){this.query=at.query,this.page=at.page,this.pageSize=at.pageSize,this.sortCriteria=at.sortCriteria,this.fromDate=at.fromDate?.toString(),this.toDate=at.toDate?.toString()}}var K=function(Re){return Re.ByUser="user",Re.ByUserDescending="-user",Re.ByScheme="scheme",Re.BySchemeDescending="-scheme",Re.ByCreated="created",Re.ByCreatedDescending="-created",Re.ByExpires="expires",Re.ByExpiresDescending="-expires",Re.ByRenewed="renewed",Re.ByRenewedDescending="-renewed",Re}(K||{}),he=d(923),Oe=d(7005),Ae=d(9812),Fe=d(4754),qe=d(7883),Me=d(5424),Te=d(3488),ge=d(7156),$e=d(7384),xe=d(6536),pt=d(3899);const Le=Re=>[Re];function Ct(Re,at){1&Re&&(w.j41(0,"span",34),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&Re&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"Auditing.FromDateWarning")," "))}function ut(Re,at){1&Re&&(w.j41(0,"span",35),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&Re&&(w.R7$(),w.SpI(" ",w.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function hn(Re,at){1&Re&&(w.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),w.nrm(4,"input",39,2),w.nI1(6,"translate"),w.nI1(7,"translate"),w.k0s()()()()),2&Re&&(w.R7$(4),w.BMQ("placeholder",w.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",w.bMT(7,4,"Auditing.AddFilterTerm")))}function mn(Re,at){1&Re&&(w.j41(0,"p",40),w.nrm(1,"span",41),w.EFF(2),w.nI1(3,"translate"),w.k0s()),2&Re&&(w.R7$(2),w.SpI(" ",w.bMT(3,1,"Auditing.UpdateWarning")," "))}function Rt(Re,at){1&Re&&w.nrm(0,"app-simple-loader")}function Dt(Re,at){1&Re&&(w.j41(0,"div",42)(1,"div"),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&Re&&(w.R7$(2),w.JRh(w.bMT(3,1,"SessionManagement.NoSessionsFound")))}function q(Re,at){if(1&Re&&w.nrm(0,"app-data-table-column",48),2&Re){const o=w.XpG(2);w.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",o.sortingEnum.None)}}function Q(Re,at){if(1&Re&&(w.j41(0,"app-data-table",43),w.DNE(1,q,1,5,"app-data-table-column",44),w.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),w.k0s()),2&Re){const o=w.XpG();w.Y8G("rows",o.pagedResult.results)("actions",o.dataTableActions),w.R7$(),w.Y8G("ngIf",!o.resourceOnly()),w.R7$(),w.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),w.R7$(),w.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",o.dateColumn(o.DatePipeNames.prettyDateTime)),w.R7$(),w.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",o.dateColumn(o.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",o.sortingEnum.Descending),w.R7$(),w.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",o.dateColumn(o.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function te(Re,at){if(1&Re){const o=w.RV6();w.j41(0,"app-pager",49),w.bIt("onGoToPage",function(Ft){w.eBV(o);const _t=w.XpG();return w.Njj(_t.goToPage(Ft))}),w.k0s()}if(2&Re){const o=w.XpG();w.Y8G("totalResults",null==o.pagedResult?null:o.pagedResult.totalCount)("currentPage",o.filterForm.get("page").value)("lastPage",null==o.pagedResult?null:o.pagedResult.pageCount)}}let De=(()=>{class Re{resourceOnly(){return!(0,C.gP)(this.resourceName)}constructor(o,ft,Ft,_t,lt,Pt,tn,ct,Lt,Ce){this.sessionManagementService=o,this.localizeRouter=ft,this.router=Ft,this.fb=_t,this.activatedRoute=lt,this.dataTableService=Pt,this.modalService=tn,this.securityService=ct,this.errorService=Lt,this.systemClock=Ce,this.isLoading=!1,this.sortingEnum=ne.uy,this.filterHasChanged=!1,this.sessionStream=new a.B,this.dateColumn=(le,j)=>new z.$(le,j),this.DatePipeNames=he.N,this.dataTableActions=[ce.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=Y.N,this.deleteModalType=Z.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new k.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,C.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[ce.AA.Delete],this.activatedRoute.parent.url.pipe((0,P.$)()).subscribe({next:o=>{this.resourceName=o[1]?.path??"",this.initDataSource()},error:o=>this.errorService.handleError(o)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(o=>{this.sortResults(o)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(o=>{this.openDeleteModal(this.pagedResult.results[o])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,W.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,N.Z)(ft=>(this.isLoading=!0,this.sessionManagementService.getSessions(ft.query||"",ft.fromDate?.toString(),ft.toDate?.toString(),ft.sortCriteria||"-when",ft.page,ft.pageSize,this.resourceOnly())))).subscribe(ft=>{this.isLoading=!1,this.pagedResult={totalCount:ft.totalCount,pageSize:ft.pageSize,currentPage:ft.currentPage,pageCount:ft.pageCount,results:ft.results.map(Ft=>new ne.j2(Ft,this.translatedRoute))}})}applyForm(o){o&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const ft=this.filterForm.value;this.filterForm.patchValue({fromDate:ft.fromDate,toDate:ft.toDate}),this.sessionStream.next(ft),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new pe(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(o){this.filterForm.patchValue({page:o}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:K.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(o){this.sessionToDelete=o,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:o=>{this.errorService.handleError(o)}})}sortResults(o){const ft=this.activatedRoute.snapshot.queryParams,Ft=(0,C.gP)(ft?.fromDate)?this.systemClock.now().minus({month:1}):p.c9.fromISO(ft.fromDate),_t=(0,C.gP)(ft?.toDate)?this.systemClock.now().plus({month:1}):p.c9.fromISO(ft.toDate),lt=new I(ft.query,ft.page,ft.pageSize,this.getSortFromColumnName(o.prop,ft.sortCriteria),Ft,_t),Pt=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:lt.sortCriteria}),this.sessionStream.next(lt),this.filterHasChanged=Pt,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new pe(lt)}),this.dataTableService.sortCompletedEvent.next(o.prop)}getSortFromColumnName(o,ft){switch(o){case"user":return ft===K.ByUserDescending?K.ByUser:K.ByUserDescending;case"expires":return ft===K.ByExpiresDescending?K.ByExpires:K.ByExpiresDescending;default:return K.ByExpiresDescending}}setupFilterForm(o){const ft=(0,C.gP)(o?.fromDate)?this.systemClock.now().minus({month:1}):p.c9.fromISO(o.fromDate),Ft=(0,C.gP)(o?.toDate)?this.systemClock.now().plus({month:1}):p.c9.fromISO(o.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ft,[C.TO]],toDate:[Ft],query:[this.resourceName||""],page:[o?.page||1],pageSize:[o?.pageSize>1e3?1e3:o?.pageSize||25],sortCriteria:[o?.sortCriteria||K.ByExpiresDescending]},{validators:C.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(ft){return new(ft||Re)(w.rXU(h),w.rXU(Oe.QG),w.rXU(e.Ix),w.rXU(t.ok),w.rXU(e.nX),w.rXU(Ae.I),w.rXU(Fe.B),w.rXU(qe.i),w.rXU(Me.I),w.rXU(Te.F))}}static{this.\u0275cmp=w.VBU({type:Re,selectors:[["app-sessionmanagement"]],standalone:!0,features:[w.Jv_([h]),w.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ft,Ft){if(1&ft){const _t=w.RV6();w.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.j41(9,"div"),w.nrm(10,"app-date-time",10),w.DNE(11,Ct,3,3,"span",11),w.k0s()()(),w.j41(12,"div",7)(13,"div",8)(14,"label",12),w.EFF(15),w.nI1(16,"translate"),w.k0s(),w.j41(17,"div"),w.nrm(18,"app-date-time",13),w.DNE(19,ut,3,3,"span",14),w.k0s()()(),w.j41(20,"div",15)(21,"div",8)(22,"label",16),w.EFF(23),w.nI1(24,"translate"),w.k0s(),w.j41(25,"div",17)(26,"select",18,0)(28,"option",19),w.EFF(29,"25 "),w.k0s(),w.j41(30,"option",19),w.EFF(31,"50"),w.k0s(),w.j41(32,"option",19),w.EFF(33,"100"),w.k0s()()()()()(),w.DNE(34,hn,8,6,"div",20),w.j41(35,"div",21),w.nrm(36,"input",22,1),w.j41(38,"button",23),w.bIt("click",function(){return w.eBV(_t),w.Njj(Ft.applyForm(!0))}),w.EFF(39),w.nI1(40,"translate"),w.k0s(),w.j41(41,"button",24),w.bIt("click",function(){return w.eBV(_t),w.Njj(Ft.resetForm())}),w.EFF(42),w.nI1(43,"translate"),w.k0s(),w.DNE(44,mn,4,3,"p",25),w.k0s()()(),w.DNE(45,Rt,1,0,"app-simple-loader",26)(46,Dt,4,3,"div",27)(47,Q,6,19,"app-data-table",28)(48,te,1,3,"app-pager",29),w.k0s(),w.j41(49,"app-custom-modal",30),w.bIt("onCancel",function(){return w.eBV(_t),w.Njj(Ft.closeDeleteModal())})("onDelete",function(){return w.eBV(_t),w.Njj(Ft.removeSession())}),w.j41(50,"div",31)(51,"p",32),w.EFF(52),w.nI1(53,"translate"),w.k0s(),w.nrm(54,"p",33),w.nI1(55,"translate"),w.k0s()()}if(2&ft){let _t;w.R7$(),w.Y8G("formGroup",Ft.filterForm),w.R7$(6),w.JRh(w.bMT(8,26,"SessionManagement.Created")),w.R7$(3),w.Y8G("displayType","datetime"),w.R7$(),w.Y8G("ngIf",Ft.filterForm.get("fromDate").hasError("dateInFuture")),w.R7$(4),w.JRh(w.bMT(16,28,"SessionManagement.Expires")),w.R7$(3),w.Y8G("displayType","datetime"),w.R7$(),w.Y8G("ngIf",Ft.filterForm.hasError("fromDateIsAfterToDate")),w.R7$(4),w.JRh(w.bMT(24,30,"Auditing.ResultsPerPage")),w.R7$(5),w.Y8G("value",25),w.R7$(2),w.Y8G("value",50),w.R7$(2),w.Y8G("value",100),w.R7$(2),w.Y8G("ngIf",!Ft.resourceOnly()),w.R7$(4),w.Y8G("disabled",(null==Ft.filterForm?null:Ft.filterForm.errors)||(null==(_t=Ft.filterForm.get("fromDate"))?null:_t.hasError("dateInFuture"))),w.R7$(),w.SpI(" ",w.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),w.R7$(3),w.SpI(" ",w.bMT(43,34,"Auditing.Reset")," "),w.R7$(2),w.Y8G("ngIf",Ft.filterHasChanged),w.R7$(),w.Y8G("ngIf",Ft.isLoading),w.R7$(),w.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)<1&&!Ft.isLoading),w.R7$(),w.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0),w.R7$(),w.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0&&!Ft.isLoading),w.R7$(),w.Y8G("title","Settings.Keys.DeleteKey")("modalId",Ft.deleteModalId)("actions",w.eq3(40,Le,Ft.modelActions.Delete))("modalType",Ft.deleteModalType),w.R7$(3),w.JRh(w.bMT(53,36,"Common.Delete.AreYouSureSimple")),w.R7$(2),w.Y8G("innerHTML",w.bMT(55,38,"Common.Delete.Warning"),w.npT)}},dependencies:[E.MD,E.bT,v.h,v.D9,e.iI,B.i,ge.B,U.Y,O.c,$e.d,t.X1,t.qT,t.xH,t.y7,t.me,t.wz,t.BC,t.cb,t.j4,t.JD,H.Y,xe.Z,G.h,ce.up,z.w,de.N,pt.G],encapsulation:2})}}return Re})()},2390:(nt,ye,d)=>{"use strict";d.d(ye,{j2:()=>e,uy:()=>t});var t=function(S){return S[S.None=0]="None",S[S.Ascending=1]="Ascending",S[S.Descending=2]="Descending",S}(t||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(C,w){this.sort=t.None,this.sessionId=C.sessionId,this.scheme=C.scheme,this.created=C.created,this.expires=C.expires,this.renewed=C.renewed,this.user=C.user.name??C.user.identifier,this.link={identifier:C.user.identifier,routeForLink:w}}}},5517:(nt,ye,d)=>{"use strict";d.d(ye,{H:()=>g});var t=d(1594),e=d(6354),p=d(4438),S=d(3853),C=d(1583),w=d(7005);let g=(()=>{class h{constructor(v,B,U){this.licenseService=v,this.router=B,this.localizeRouter=U}canActivate(v,B){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,e.T)(U=>{if(U.isStarterLicense())return!0;{const a=this.localizeRouter.translateRoute("/home");this.router.navigate([a])}}))}static{this.\u0275fac=function(B){return new(B||h)(p.KVO(S.X),p.KVO(C.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac})}}return h})()},4446:(nt,ye,d)=>{"use strict";d.d(ye,{_:()=>g});var t=d(1594),e=d(6354),p=d(4438),S=d(3853),C=d(1583),w=d(7005);let g=(()=>{class h{constructor(v,B,U){this.licenseService=v,this.router=B,this.localizeRouter=U}canActivate(v,B){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,e.T)(U=>{if(!U.isExpectingStarterConsent())return!0;{const a=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([a])}}))}static{this.\u0275fac=function(B){return new(B||h)(p.KVO(S.X),p.KVO(C.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac})}}return h})()},6923:(nt,ye,d)=>{"use strict";d.d(ye,{q:()=>h});var t=d(1594),e=d(6354),p=d(6976),S=d(4438),C=d(3853),w=d(1583),g=d(7005);let h=(()=>{class E{constructor(B,U,a){this.licenseService=B,this.router=U,this.localizeRouter=a,this.featureMap=new Map([["dynamic-auth",p.p.DynamicAuthentication],["auditing",p.p.Auditing],["clientaudits",p.p.Auditing],["useraudits",p.p.Auditing]])}canActivate(B,U){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,e.T)(a=>{if(!a.isStarterLicense())return!0;{const k=this.localizeRouter.translateRoute("/starter-mode/teaser");let O=p.p.None,P=U.url;for(let W of this.featureMap.entries())if(P.includes(W[0])){O=W[1];break}this.router.navigate([k],{queryParams:{feature:O}})}}))}static{this.\u0275fac=function(U){return new(U||E)(S.KVO(C.X),S.KVO(w.Ix),S.KVO(g.QG))}}static{this.\u0275prov=S.jDH({token:E,factory:E.\u0275fac})}}return E})()},8853:(nt,ye,d)=>{"use strict";d.d(ye,{a:()=>g});var t=d(1594),e=d(6354),p=d(4438),S=d(3853),C=d(1583),w=d(7005);let g=(()=>{class h{constructor(v,B,U){this.licenseService=v,this.router=B,this.localizeRouter=U}canActivate(v,B){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,e.T)(U=>{if(!U.overClientLimit)return!0;{let k=B.url.split("/clients/")[1];const O=[this.localizeRouter.translateRoute("/clients/view/"+k)];this.router.navigate(O)}}))}static{this.\u0275fac=function(B){return new(B||h)(p.KVO(S.X),p.KVO(C.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac})}}return h})()},2633:(nt,ye,d)=>{"use strict";d.d(ye,{g:()=>g});var t=d(1594),e=d(6354),p=d(4438),S=d(3853),C=d(1583),w=d(7005);let g=(()=>{class h{constructor(v,B,U){this.licenseService=v,this.router=B,this.localizeRouter=U}canActivate(v,B){return this.licenseService.getLicenseInfo().pipe((0,t.$)(),(0,e.T)(U=>{if(!U.overUserLimit)return!0;{let k=B.url.split("/users/")[1];const O=[this.localizeRouter.translateRoute("/users/view/"+k)];this.router.navigate(O)}}))}static{this.\u0275fac=function(B){return new(B||h)(p.KVO(S.X),p.KVO(C.Ix),p.KVO(w.QG))}}static{this.\u0275prov=p.jDH({token:h,factory:h.\u0275fac})}}return h})()},9624:(nt,ye,d)=>{"use strict";d.r(ye),d.d(ye,{StarterModeModule:()=>Me});var t=d(1583),e=d(7005),p=d(6976),S=d(4438),C=d(1780),w=d(3680),g=d(6406);let h=(()=>{class Te{constructor($e,xe,pt){this.route=$e,this.translate=xe,this.router=pt,this.featureMap=new Map([[p.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[p.p.Auditing,this.translate.instant("Auditing.Title")],[p.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[p.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe($e=>{this.generateDescription()})}generateDescription(){const $e=+this.route.snapshot.queryParamMap.get("feature");if($e in p.p&&$e!=p.p.None){const pt=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get($e),this.preFeatureDescription=pt[0],this.postFeatureDescription=pt[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(xe){return new(xe||Te)(S.rXU(t.nX),S.rXU(C.c$),S.rXU(t.Ix))}}static{this.\u0275cmp=S.VBU({type:Te,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(xe,pt){1&xe&&(S.nrm(0,"app-title-bar",0),S.nI1(1,"translate"),S.j41(2,"div",1)(3,"div",2)(4,"p",3),S.EFF(5),S.j41(6,"strong"),S.EFF(7),S.k0s(),S.EFF(8),S.k0s(),S.j41(9,"ul",4)(10,"li"),S.EFF(11),S.nI1(12,"translate"),S.k0s(),S.j41(13,"li"),S.EFF(14),S.nI1(15,"translate"),S.k0s(),S.j41(16,"li"),S.EFF(17),S.nI1(18,"translate"),S.k0s(),S.j41(19,"li"),S.EFF(20),S.nI1(21,"translate"),S.k0s(),S.j41(22,"li"),S.EFF(23),S.nI1(24,"translate"),S.k0s(),S.j41(25,"li"),S.EFF(26),S.nI1(27,"translate"),S.k0s(),S.j41(28,"li"),S.EFF(29),S.nI1(30,"translate"),S.k0s()()()(),S.j41(31,"app-button-bar")(32,"a",5)(33,"span"),S.EFF(34),S.nI1(35,"translate"),S.k0s()(),S.j41(36,"a",6)(37,"span"),S.EFF(38),S.nI1(39,"translate"),S.k0s()()()),2&xe&&(S.Y8G("title",S.bMT(1,13,"StarterMode.Teaser.Title")),S.R7$(5),S.SpI("",pt.preFeatureDescription," "),S.R7$(2),S.JRh(pt.featureDescription),S.R7$(),S.SpI(" ",pt.postFeatureDescription,""),S.R7$(3),S.JRh(S.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),S.R7$(3),S.JRh(S.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),S.R7$(3),S.JRh(S.bMT(21,21,"StarterMode.Teaser.Features.Audits")),S.R7$(3),S.JRh(S.bMT(24,23,"StarterMode.Teaser.Features.Access")),S.R7$(3),S.JRh(S.bMT(27,25,"StarterMode.Teaser.Features.Import")),S.R7$(3),S.JRh(S.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),S.R7$(5),S.JRh(S.bMT(35,29,"StarterMode.UpgradeAdminUI")),S.R7$(4),S.JRh(S.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[w.z,g.z,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Te})();var E=d(1594),v=d(3178),B=d(7773),U=d(1626),a=d(9564);let k=(()=>{class Te{constructor($e,xe){this.http=$e,this.headersService=xe,this.headers=new U.Lr,this.actionUrl="StarterMode",this.headers=xe.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(xe){return new(xe||Te)(S.KVO(U.Qq),S.KVO(a.m))}}static{this.\u0275prov=S.jDH({token:Te,factory:Te.\u0275fac})}}return Te})();var O=d(5794),P=d(1339),W=d(177),N=d(8114);function H(Te,ge){1&Te&&(S.j41(0,"div",13)(1,"p",14)(2,"span"),S.EFF(3),S.nI1(4,"translate"),S.k0s()()()),2&Te&&(S.R7$(3),S.JRh(S.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let G=(()=>{class Te{constructor($e,xe,pt,Le,Ct){this.translate=$e,this.permissionService=xe,this.starterModeConsentService=pt,this.toastr=Le,this.authService=Ct}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,E.$)()).subscribe($e=>{$e.permissions.includes(v.a.All)&&(this.isAdmin=!0)})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,E.$)()).subscribe({next:()=>{this.authService.logoff()},error:$e=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}static{this.\u0275fac=function(xe){return new(xe||Te)(S.rXU(C.c$),S.rXU(B.n),S.rXU(k),S.rXU(O.tw),S.rXU(P.u))}}static{this.\u0275cmp=S.VBU({type:Te,selectors:[["ng-component"]],decls:51,vars:49,consts:[["confirmStarterModeModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(xe,pt){if(1&xe){const Le=S.RV6();S.nrm(0,"app-title-bar",1),S.nI1(1,"translate"),S.j41(2,"div",2),S.DNE(3,H,5,3,"div",3),S.j41(4,"div",4)(5,"p"),S.EFF(6),S.nI1(7,"translate"),S.k0s(),S.j41(8,"ul",5)(9,"li"),S.EFF(10),S.nI1(11,"translate"),S.k0s(),S.j41(12,"li"),S.EFF(13),S.nI1(14,"translate"),S.k0s(),S.j41(15,"li"),S.EFF(16),S.nI1(17,"translate"),S.k0s(),S.j41(18,"li"),S.EFF(19),S.nI1(20,"translate"),S.k0s(),S.j41(21,"li"),S.EFF(22),S.nI1(23,"translate"),S.k0s(),S.j41(24,"li"),S.EFF(25),S.nI1(26,"translate"),S.k0s(),S.j41(27,"li"),S.EFF(28),S.nI1(29,"translate"),S.k0s()()()(),S.j41(30,"app-button-bar")(31,"a",6)(32,"span"),S.EFF(33),S.nI1(34,"translate"),S.k0s()(),S.j41(35,"button",7),S.bIt("click",function(){S.eBV(Le);const ut=S.sdS(44);return S.Njj(ut.show())}),S.j41(36,"span"),S.EFF(37),S.nI1(38,"translate"),S.k0s()(),S.j41(39,"a",8)(40,"span"),S.EFF(41),S.nI1(42,"translate"),S.k0s()()(),S.j41(43,"app-confirmation-modal",9,0),S.bIt("confirm",function(){return S.eBV(Le),S.Njj(pt.giveConsentToStarterMode())}),S.qex(45,10),S.j41(46,"p",11),S.EFF(47),S.nI1(48,"translate"),S.k0s(),S.nrm(49,"p",12),S.nI1(50,"translate"),S.bVm(),S.k0s()}2&xe&&(S.Y8G("title",S.bMT(1,21,"StarterMode.Consent.Title")),S.R7$(3),S.Y8G("ngIf",!pt.isAdmin),S.R7$(3),S.JRh(S.bMT(7,23,"StarterMode.Consent.Description")),S.R7$(4),S.JRh(S.bMT(11,25,"StarterMode.Consent.Features.Authentication")),S.R7$(3),S.JRh(S.bMT(14,27,"StarterMode.Consent.Features.Users")),S.R7$(3),S.JRh(S.bMT(17,29,"StarterMode.Consent.Features.Clients")),S.R7$(3),S.JRh(S.bMT(20,31,"StarterMode.Consent.Features.ClientFlows")),S.R7$(3),S.JRh(S.bMT(23,33,"StarterMode.Consent.Features.Import")),S.R7$(3),S.JRh(S.bMT(26,35,"StarterMode.Consent.Features.Audits")),S.R7$(3),S.JRh(S.bMT(29,37,"StarterMode.Consent.Features.DynamicAuth")),S.R7$(5),S.JRh(S.bMT(34,39,"StarterMode.UpgradeAdminUI")),S.R7$(2),S.Y8G("disabled",!pt.isAdmin),S.R7$(2),S.JRh(S.bMT(38,41,"StarterMode.ConfirmStarterMode")),S.R7$(4),S.JRh(S.bMT(42,43,"StarterMode.ExtendDemo")),S.R7$(2),S.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),S.R7$(4),S.JRh(S.bMT(48,45,"StarterMode.ConfirmationModal.Description")),S.R7$(2),S.Y8G("innerHTML",S.bMT(50,47,"StarterMode.ConfirmationModal.Warning"),S.npT))},dependencies:[W.bT,w.z,g.z,N.B,C.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Te})();var z=d(5517),ce=d(2892),de=d(6354),Y=d(3853);let Z=(()=>{class Te{constructor($e,xe,pt){this.licenseService=$e,this.router=xe,this.localizeRouter=pt}canActivate($e,xe){return this.licenseService.getLicenseInfo().pipe((0,E.$)(),(0,de.T)(pt=>{if(pt.isExpectingStarterConsent())return!0;{const Le=this.localizeRouter.translateRoute("/home");this.router.navigate([Le])}}))}static{this.\u0275fac=function(xe){return new(xe||Te)(S.KVO(Y.X),S.KVO(t.Ix),S.KVO(e.QG))}}static{this.\u0275prov=S.jDH({token:Te,factory:Te.\u0275fac})}}return Te})();var ne=d(4446);const I=[{path:"starter-mode/teaser",component:h,canActivate:[ce.h,ne._,z.H]},{path:"starter-mode/consent",component:G,canActivate:[ce.h,Z]}];let pe=(()=>{class Te{static{this.\u0275fac=function(xe){return new(xe||Te)}}static{this.\u0275mod=S.$C({type:Te})}static{this.\u0275inj=S.G2t({providers:[z.H],imports:[t.iI.forChild(I),e.XE.forChild(I),t.iI]})}}return Te})();var K=d(367),he=d(779),Oe=d(1993),Ae=d(8853),Fe=d(2633),qe=d(4367);let Me=(()=>{class Te{static{this.\u0275fac=function(xe){return new(xe||Te)}}static{this.\u0275mod=S.$C({type:Te})}static{this.\u0275inj=S.G2t({providers:[k,Z,z.H,Ae.a,Fe.g],imports:[t.iI,pe,C.h,K.m,he.Q_,Oe.E,qe.N]})}}return Te})()},7921:(nt,ye,d)=>{"use strict";d.d(ye,{b:()=>e});var t=d(1746);class e{constructor(S){Object.keys(S).forEach(w=>{this[w]=e.toReadOnlyValue(S[w])})}}(e||(e={})).toReadOnlyValue=function S(C){let w=C;return"boolean"==typeof C&&(w=w?"Yes":"No"),C instanceof Date&&(w=w?"Yes":"No"),C instanceof Array&&(w=C.join(", ").trimEnd()),new t.w(w)}},4866:(nt,ye,d)=>{"use strict";d.d(ye,{A:()=>e});var e,t=d(3806);!function(p){const S=new Map([[t.u.Minute,60],[t.u.Minutes,60],[t.u.Hour,3600],[t.u.Hours,3600],[t.u.Day,86400],[t.u.Days,86400],[t.u.Week,604800],[t.u.Weeks,604800],[t.u.Month,2629743],[t.u.Months,2629743],[t.u.Year,31556926],[t.u.Years,31556926],[t.u.Unlimited,null]]);p.getUnitMap=function C(){return S}}(e||(e={}))},6303:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>t});var t=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(t||{})},1746:(nt,ye,d)=>{"use strict";d.d(ye,{w:()=>t});class t{constructor(p,S){this.MainText=p,this.HelpText=S??null}}},1927:(nt,ye,d)=>{"use strict";d.d(ye,{K:()=>t});var t=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(t||{})},6701:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>t});var t=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(t||{})},3806:(nt,ye,d)=>{"use strict";d.d(ye,{u:()=>t});var t=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(t||{})},6976:(nt,ye,d)=>{"use strict";d.d(ye,{p:()=>t});var t=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(t||{})},6772:(nt,ye,d)=>{"use strict";d.d(ye,{H:()=>t});var t=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(t||{})},78:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>t});var t=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(t||{})},9988:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>t});var t=function(e){return e.Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",e}(t||{})},9957:(nt,ye,d)=>{"use strict";d.d(ye,{I:()=>t});var t=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(t||{})},4589:(nt,ye,d)=>{"use strict";d.d(ye,{G:()=>t});var t=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(t||{})},8284:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>t});var t=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e}(t||{})},4491:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>t});let t=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>t});var t=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(t||{})},7185:(nt,ye,d)=>{"use strict";d.d(ye,{q:()=>t});var t=function(e){return e.Default="Default",e.Warning="Warning",e}(t||{})},3178:(nt,ye,d)=>{"use strict";d.d(ye,{a:()=>t});var t=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(t||{})},632:(nt,ye,d)=>{"use strict";d.d(ye,{H:()=>t});class t{constructor(){this.enabled=!0,this.name="",this.displayName="",this.description="",this.required=!1,this.emphasize=!1,this.userClaims=[],this.showInDiscoveryDocument=!0,this.isFinalInstanceOnResource=!0,this.shared=!1,this.properties=[]}}},785:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>e});var t=d(9838);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new t.S9).SharedSecret}}},1088:(nt,ye,d)=>{"use strict";d.d(ye,{Q:()=>p});var t=d(3806),e=d(4866);class p{constructor(C){this.unitMap=e.A.getUnitMap(),this.formatSeconds(C)}formatSeconds(C){return this.years=Math.floor(C/this.unitMap.get(t.u.Years)),C-=this.years*this.unitMap.get(t.u.Years),this.months=Math.floor(C/this.unitMap.get(t.u.Month)),C-=this.months*this.unitMap.get(t.u.Month),this.weeks=Math.floor(C/this.unitMap.get(t.u.Weeks)),C-=this.weeks*this.unitMap.get(t.u.Weeks),this.days=Math.floor(C/this.unitMap.get(t.u.Days)),C-=this.days*this.unitMap.get(t.u.Days),this.hours=Math.floor(C/this.unitMap.get(t.u.Hours)),C-=this.hours*this.unitMap.get(t.u.Hours),this.minutes=Math.floor(C/this.unitMap.get(t.u.Minute)),C-=this.minutes*this.unitMap.get(t.u.Minute),this.seconds=C,this}}},978:(nt,ye,d)=>{"use strict";d.d(ye,{D:()=>e,U:()=>t});var t=function(p){return p[p.Disabled=0]="Disabled",p[p.Duende=1]="Duende",p[p.Rsk=2]="Rsk",p}(t||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7212:(nt,ye,d)=>{"use strict";d.d(ye,{D:()=>t});class t{constructor(){this.SigningCertificates=[]}}},1744:(nt,ye,d)=>{"use strict";d.d(ye,{$R:()=>t,XF:()=>w,jD:()=>p,ot:()=>e});class t{}var e=function(g){return g.Client="Client",g.ClaimType="ClaimType",g.IdentityResource="IdentityResource",g.ProtectedResource="ProtectedResource",g}(e||{}),p=function(g){return g.New="New",g.Duplicate="Duplicate",g.Conflicted="Conflicted",g}(p||{}),w=function(g){return g.Importing="Importing",g.Existing="Existing",g}(w||{})},590:(nt,ye,d)=>{"use strict";d.d(ye,{n:()=>e});var t=d(1744);let e=(()=>{class p{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(C){switch(C){case t.ot.Client:return this.client;case t.ot.IdentityResource:case t.ot.ProtectedResource:return this.resource;case t.ot.ClaimType:return this.claimType}}}return p})()},7957:(nt,ye,d)=>{"use strict";d.d(ye,{p:()=>t});class t{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(p){return this.nameComponentMap.get(p)}getWizardTitle(p){return this.nameTitleMap.get(p)}}},8575:(nt,ye,d)=>{"use strict";d.d(ye,{J:()=>t});class t{constructor(p,S){this.setupTitle=p,this.summaryTitle=S}}},7329:(nt,ye,d)=>{"use strict";d.d(ye,{W:()=>t});class t{constructor(p,S){this.component=p,this.data=S,S||(S={})}}},923:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>t});var t=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(t||{})},1589:(nt,ye,d)=>{"use strict";d.d(ye,{El:()=>C,r7:()=>S,sp:()=>p});var t=d(7263),e=d(4438);let p=(()=>{class w{transform(h){return(0,t.KU)(h,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:w,pure:!0})}}return w})(),S=(()=>{class w{transform(h){return(0,t.KU)(h,"LLL dd yyyy T")}static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:w,pure:!0})}}return w})(),C=(()=>{class w{transform(h){return(0,t.KU)(h,"LLL dd yyyy")}static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:w,pure:!0})}}return w})()},1683:(nt,ye,d)=>{"use strict";d.d(ye,{Y:()=>S});var t=d(177),e=d(1780),p=d(4438);let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[t.MD,e.h]})}}return C})()},4692:(nt,ye,d)=>{"use strict";d.d(ye,{u:()=>p});var t=d(1746),e=d(4438);let p=(()=>{class S{transform(w,g){return new t.w(w)}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:S,pure:!0})}}return S})()},2467:(nt,ye,d)=>{"use strict";d.d(ye,{C:()=>e});var t=d(4438);let e=(()=>{class p{constructor(){this.map=new Map,this.map.set("description","Common.Description"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(C,w){return this.map.get(C)}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275pipe=t.EJ8({name:"keyToString",type:p,pure:!0})}}return p})()},6807:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>p});var t=d(4438),e=d(7883);let p=(()=>{class S{constructor(w){this.securityService=w}notAllowedToEditClaim(w){return!this.securityService.allView&&this.isPolicyClaim(w)}isPolicyClaim(w){if(void 0!==w){const g=this.securityService.policyClaims;for(let h=0;h<g.length;h++)if(g[h].type===w.type&&g[h].value===w.value)return!0;return!1}}static{this.\u0275fac=function(g){return new(g||S)(t.KVO(e.i))}}static{this.\u0275prov=t.jDH({token:S,factory:S.\u0275fac})}}return S})()},2972:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>S});var t=d(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var p=d(4438);let S=(()=>{class C{constructor(){this.viewConfig=new e,this.viewConfig$=new t.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},1339:(nt,ye,d)=>{"use strict";d.d(ye,{u:()=>C});var t=d(7263),e=d(4438),p=d(1626),S=d(2972);let C=(()=>{class w{constructor(h,E){this.http=h,this.appComponentViewService=E,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const v=(0,t.$_)();this.actionUrl="auth",this.authUrl=`${v}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(E){return new(E||w)(e.KVO(p.Qq),e.KVO(S.X))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},6888:(nt,ye,d)=>{"use strict";d.d(ye,{W:()=>e});var t=d(4438);let e=(()=>{class p{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const C=this.storage.getItem(this.countKey);let w=C?Number(C):0;return w=isNaN(w)?0:w,w}set retryCount(C){(C=isNaN(C)?0:C)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,C.toString())}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},2734:(nt,ye,d)=>{"use strict";d.d(ye,{x:()=>S});var t=d(1626),e=d(7263),p=d(4438);let S=(()=>{class C{buildParams(g,h,E,v,B,U,a,k){let O=new t.Nl;return O=this.addStringParam(O,"auditAction",g?.auditAction),O=this.addStringParam(O,"subject",g?.subject),O=this.addStringParam(O,"resource",g?.resourceName),O=this.addStringParam(O,"source",g?.source),O=this.addAnyParam(O,"success",a),O=this.addStringParam(O,"sort",U),O=this.addStringParam(O,"to",E),O=this.addStringParam(O,"from",h),O=this.addAnyParam(O,"page",v),O=this.addAnyParam(O,"pageSize",B),(0,e.hX)(k)||(O=this.addAnyParam(O,"bySubject",k)),O}addAnyParam(g,h,E){return(0,e.hX)(E)?g:g.append(h,String(E))}addStringParam(g,h,E){return(0,e.gP)(E)?g:g.append(h,E)}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac})}}return C})()},3583:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>p});var t=d(4412),e=d(4438);let p=(()=>{class S{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},2261:(nt,ye,d)=>{"use strict";d.d(ye,{V:()=>xl});var t=d(467);class e{}var p=d(5955);function C(We,f,b){var x;return We instanceof Object&&null!==(x=We[f])&&void 0!==x?x:b}function w(We,f=0,b=We.byteLength-f,x=!1){let J="";for(const ue of new Uint8Array(We,f,b)){const Ee=ue.toString(16).toUpperCase();1===Ee.length&&(J+="0"),J+=Ee,x&&(J+=" ")}return J.trim()}function g(We,f,b,x){return f instanceof ArrayBuffer?f.byteLength?b<0?(We.error="Wrong parameter: inputOffset less than zero",!1):x<0?(We.error="Wrong parameter: inputLength less than zero",!1):!(f.byteLength-b-x<0&&(We.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(We.error="Wrong parameter: inputBuffer has zero length",!1):(We.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function h(We,f){let b=0;if(1===We.length)return We[0];for(let x=We.length-1;x>=0;x--)b+=We[We.length-1-x]*Math.pow(2,f*x);return b}function E(We,f,b=-1){const x=b;let J=We,ue=0,Ee=Math.pow(2,f);for(let ze=1;ze<8;ze++){if(We<Ee){let A;if(x<0)A=new ArrayBuffer(ze),ue=ze;else{if(x<ze)return new ArrayBuffer(0);A=new ArrayBuffer(x),ue=x}const $=new Uint8Array(A);for(let V=ze-1;V>=0;V--){const ee=Math.pow(2,V*f);$[ue-V-1]=Math.floor(J/ee),J-=$[ue-V-1]*ee}return A}Ee*=Math.pow(2,f)}return new ArrayBuffer(0)}function v(...We){let f=0,b=0;for(const ue of We)f+=ue.byteLength;const x=new ArrayBuffer(f),J=new Uint8Array(x);for(const ue of We)J.set(new Uint8Array(ue),b),b+=ue.byteLength;return x}function B(...We){let f=0,b=0;for(const ue of We)f+=ue.length;const x=new ArrayBuffer(f),J=new Uint8Array(x);for(const ue of We)J.set(ue,b),b+=ue.length;return J}function U(){const We=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===We[0]&&128&We[1]||0===We[0]&&!(128&We[1]))&&this.warnings.push("Needlessly long format");const f=new ArrayBuffer(this.valueHex.byteLength),b=new Uint8Array(f);for(let ze=0;ze<this.valueHex.byteLength;ze++)b[ze]=0;b[0]=128&We[0];const x=h(b,8),J=new ArrayBuffer(this.valueHex.byteLength),ue=new Uint8Array(J);for(let ze=0;ze<this.valueHex.byteLength;ze++)ue[ze]=We[ze];return ue[0]&=127,h(ue,8)-x}function a(We){const f=We<0?-1*We:We;let b=128;for(let x=1;x<8;x++){if(f<=b){if(We<0){const ze=E(b-f,8,x);return new Uint8Array(ze)[0]|=128,ze}let J=E(f,8,x),ue=new Uint8Array(J);if(128&ue[0]){const Ee=J.slice(0),ze=new Uint8Array(Ee);J=new ArrayBuffer(J.byteLength+1),ue=new Uint8Array(J);for(let A=0;A<Ee.byteLength;A++)ue[A+1]=ze[A];ue[0]=0}return J}b*=Math.pow(2,8)}return new ArrayBuffer(0)}function k(We,f){if(We.byteLength!==f.byteLength)return!1;const b=new Uint8Array(We),x=new Uint8Array(f);for(let J=0;J<b.length;J++)if(b[J]!==x[J])return!1;return!0}function O(We,f){const b=We.toString(10);if(f<b.length)return"";const x=f-b.length,J=new Array(x);for(let Ee=0;Ee<x;Ee++)J[Ee]="0";return J.join("").concat(b)}const P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",W="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function N(We,f=!1,b=!1,x=!1){let J=0,ue=0,Ee=0,ze="";const A=f?W:P;if(x){let $=0;for(let V=0;V<We.length;V++)if(0!==We.charCodeAt(V)){$=V;break}We=We.slice($)}for(;J<We.length;){const $=We.charCodeAt(J++);J>=We.length&&(ue=1);const V=We.charCodeAt(J++);J>=We.length&&(Ee=1);const ee=We.charCodeAt(J++),R=$>>2,be=(3&$)<<4|V>>4;let M=(15&V)<<2|ee>>6,se=63&ee;1===ue?M=se=64:1===Ee&&(se=64),ze+=b?64===M?`${A.charAt(R)}${A.charAt(be)}`:64===se?`${A.charAt(R)}${A.charAt(be)}${A.charAt(M)}`:`${A.charAt(R)}${A.charAt(be)}${A.charAt(M)}${A.charAt(se)}`:`${A.charAt(R)}${A.charAt(be)}${A.charAt(M)}${A.charAt(se)}`}return ze}function H(We,f=!1,b=!1){const x=f?W:P;function J(A){for(let $=0;$<64;$++)if(x.charAt($)===A)return $;return 64}function ue(A){return 64===A?0:A}let Ee=0,ze="";for(;Ee<We.length;){const A=J(We.charAt(Ee++)),$=Ee>=We.length?0:J(We.charAt(Ee++)),V=Ee>=We.length?0:J(We.charAt(Ee++)),ee=Ee>=We.length?0:J(We.charAt(Ee++)),R=ue(A)<<2|ue($)>>4,be=(15&ue($))<<4|ue(V)>>2,M=(3&ue(V))<<6|ue(ee);ze+=String.fromCharCode(R),64!==V&&(ze+=String.fromCharCode(be)),64!==ee&&(ze+=String.fromCharCode(M))}if(b){let $=-1;for(let V=ze.length-1;V>=0;V--)if(0!==ze.charCodeAt(V)){$=V;break}ze=-1!==$?ze.slice(0,$+1):""}return ze}function G(We){let f="";const b=new Uint8Array(We);for(const x of b)f+=String.fromCharCode(x);return f}function z(We){const f=We.length,b=new ArrayBuffer(f),x=new Uint8Array(b);for(let J=0;J<f;J++)x[J]=We.charCodeAt(J);return b}const ce=Math.log(2);function de(We){const f=Math.log(We)/ce,b=Math.floor(f),x=Math.round(f);return b===x?b:x}function Y(We,f){for(const b of f)delete We[b]}function Z(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ne(We){let f=0,b=0;for(let J=0;J<We.length;J++)f+=We[J].byteLength;const x=new Uint8Array(f);for(let J=0;J<We.length;J++){const ue=We[J];x.set(new Uint8Array(ue),b),b+=ue.byteLength}return x.buffer}function I(We,f,b,x){return f instanceof Uint8Array?f.byteLength?b<0?(We.error="Wrong parameter: inputOffset less than zero",!1):x<0?(We.error="Wrong parameter: inputLength less than zero",!1):!(f.byteLength-b-x<0&&(We.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(We.error="Wrong parameter: inputBuffer has zero length",!1):(We.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class pe{constructor(){this.items=[]}write(f){this.items.push(f)}final(){return ne(this.items)}}const K=[new Uint8Array([1])],he="0123456789",Oe="name",Ae="valueHexView",Ct=new ArrayBuffer(0),ut=new Uint8Array(0),hn="EndOfContent",mn="OCTET STRING",Rt="BIT STRING";function Dt(We){var f;return(f=class extends We{constructor(...x){var J;super(...x);const ue=x[0]||{};this.isHexOnly=null!==(J=ue.isHexOnly)&&void 0!==J&&J,this.valueHexView=ue.valueHex?p._H.toUint8Array(ue.valueHex):ut}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(x){this.valueHexView=new Uint8Array(x)}fromBER(x,J,ue){const Ee=x instanceof ArrayBuffer?new Uint8Array(x):x;if(!I(this,Ee,J,ue))return-1;const ze=J+ue;return this.valueHexView=Ee.subarray(J,ze),this.valueHexView.length?(this.blockLength=ue,ze):(this.warnings.push("Zero buffer length"),J)}toBER(x=!1){return this.isHexOnly?x?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",Ct)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:p.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",f}let q=(()=>{class We{constructor({blockLength:b=0,error:x="",warnings:J=[],valueBeforeDecode:ue=ut}={}){this.blockLength=b,this.error=x,this.warnings=J,this.valueBeforeDecodeView=p._H.toUint8Array(ue)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(b){this.valueBeforeDecodeView=new Uint8Array(b)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:p.U$.ToHex(this.valueBeforeDecodeView)}}}return We.NAME="baseBlock",We})(),Q=(()=>{class We extends q{fromBER(b,x,J){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(b,x){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return We.NAME="valueBlock",We})(),te=(()=>{class We extends(Dt(q)){constructor({idBlock:b={}}={}){var x,J,ue,Ee;super(),b?(this.isHexOnly=null!==(x=b.isHexOnly)&&void 0!==x&&x,this.valueHexView=b.valueHex?p._H.toUint8Array(b.valueHex):ut,this.tagClass=null!==(J=b.tagClass)&&void 0!==J?J:-1,this.tagNumber=null!==(ue=b.tagNumber)&&void 0!==ue?ue:-1,this.isConstructed=null!==(Ee=b.isConstructed)&&void 0!==Ee&&Ee):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(b=!1){let x=0;switch(this.tagClass){case 1:x|=0;break;case 2:x|=64;break;case 3:x|=128;break;case 4:x|=192;break;default:return this.error="Unknown tag class",Ct}if(this.isConstructed&&(x|=32),this.tagNumber<31&&!this.isHexOnly){const ue=new Uint8Array(1);if(!b){let Ee=this.tagNumber;Ee&=31,x|=Ee,ue[0]=x}return ue.buffer}if(!this.isHexOnly){const ue=E(this.tagNumber,7),Ee=new Uint8Array(ue),ze=ue.byteLength,A=new Uint8Array(ze+1);if(A[0]=31|x,!b){for(let $=0;$<ze-1;$++)A[$+1]=128|Ee[$];A[ze]=Ee[ze-1]}return A.buffer}const J=new Uint8Array(this.valueHexView.byteLength+1);if(J[0]=31|x,!b){const ue=this.valueHexView;for(let Ee=0;Ee<ue.length-1;Ee++)J[Ee+1]=128|ue[Ee];J[this.valueHexView.byteLength]=ue[ue.length-1]}return J.buffer}fromBER(b,x,J){const ue=p._H.toUint8Array(b);if(!I(this,ue,x,J))return-1;const Ee=ue.subarray(x,x+J);if(0===Ee.length)return this.error="Zero buffer length",-1;switch(192&Ee[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~Ee[0]),this.isHexOnly=!1;const A=31&Ee[0];if(31!==A)this.tagNumber=A,this.blockLength=1;else{let $=1,V=this.valueHexView=new Uint8Array(255),ee=255;for(;128&Ee[$];){if(V[$-1]=127&Ee[$],$++,$>=Ee.length)return this.error="End of input reached before message was fully decoded",-1;if($===ee){ee+=255;const be=new Uint8Array(ee);for(let M=0;M<V.length;M++)be[M]=V[M];V=this.valueHexView=new Uint8Array(ee)}}this.blockLength=$+1,V[$-1]=127&Ee[$];const R=new Uint8Array($);for(let be=0;be<$;be++)R[be]=V[be];V=this.valueHexView=new Uint8Array($),V.set(R),this.blockLength<=9?this.tagNumber=h(V,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return x+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return We.NAME="identificationBlock",We})(),De=(()=>{class We extends q{constructor({lenBlock:b={}}={}){var x,J,ue;super(),this.isIndefiniteForm=null!==(x=b.isIndefiniteForm)&&void 0!==x&&x,this.longFormUsed=null!==(J=b.longFormUsed)&&void 0!==J&&J,this.length=null!==(ue=b.length)&&void 0!==ue?ue:0}fromBER(b,x,J){const ue=p._H.toUint8Array(b);if(!I(this,ue,x,J))return-1;const Ee=ue.subarray(x,x+J);if(0===Ee.length)return this.error="Zero buffer length",-1;if(255===Ee[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===Ee[0],this.isIndefiniteForm)return this.blockLength=1,x+this.blockLength;if(this.longFormUsed=!!(128&Ee[0]),!1===this.longFormUsed)return this.length=Ee[0],this.blockLength=1,x+this.blockLength;const ze=127&Ee[0];if(ze>8)return this.error="Too big integer",-1;if(ze+1>Ee.length)return this.error="End of input reached before message was fully decoded",-1;const A=x+1,$=ue.subarray(A,A+ze);return 0===$[ze-1]&&this.warnings.push("Needlessly long encoded length"),this.length=h($,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ze+1,x+this.blockLength}toBER(b=!1){let x,J;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return x=new ArrayBuffer(1),!1===b&&(J=new Uint8Array(x),J[0]=128),x;if(this.longFormUsed){const ue=E(this.length,8);if(ue.byteLength>127)return this.error="Too big length",Ct;if(x=new ArrayBuffer(ue.byteLength+1),b)return x;const Ee=new Uint8Array(ue);J=new Uint8Array(x),J[0]=128|ue.byteLength;for(let ze=0;ze<ue.byteLength;ze++)J[ze+1]=Ee[ze];return x}return x=new ArrayBuffer(1),!1===b&&(J=new Uint8Array(x),J[0]=this.length),x}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return We.NAME="lengthBlock",We})();const Re={};let at=(()=>{class We extends q{constructor({name:b="",optional:x=!1,primitiveSchema:J,...ue}={},Ee){super(ue),this.name=b,this.optional=x,J&&(this.primitiveSchema=J),this.idBlock=new te(ue),this.lenBlock=new De(ue),this.valueBlock=Ee?new Ee(ue):new Q(ue)}fromBER(b,x,J){const ue=this.valueBlock.fromBER(b,x,this.lenBlock.isIndefiniteForm?J:this.lenBlock.length);return-1===ue?(this.error=this.valueBlock.error,ue):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ue)}toBER(b,x){const J=x||new pe;x||o(this);const ue=this.idBlock.toBER(b);if(J.write(ue),this.lenBlock.isIndefiniteForm)J.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(b,J),J.write(new ArrayBuffer(2));else{const Ee=this.valueBlock.toBER(b);this.lenBlock.length=Ee.byteLength;const ze=this.lenBlock.toBER(b);J.write(ze),J.write(Ee)}return x?Ct:J.final()}toJSON(){const b={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(b.primitiveSchema=this.primitiveSchema.toJSON()),b}toString(b="ascii"){return"ascii"===b?this.onAsciiEncoding():p.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${p.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(b){return this===b||b instanceof this.constructor&&k(this.toBER(),b.toBER())}}return We.NAME="BaseBlock",We})();function o(We){if(We instanceof Re.Constructed)for(const f of We.valueBlock.value)o(f)&&(We.lenBlock.isIndefiniteForm=!0);return!!We.lenBlock.isIndefiniteForm}let ft=(()=>{class We extends at{constructor({value:b="",...x}={},J){super(x,J),b&&this.fromString(b)}getValue(){return this.valueBlock.value}setValue(b){this.valueBlock.value=b}fromBER(b,x,J){const ue=this.valueBlock.fromBER(b,x,this.lenBlock.isIndefiniteForm?J:this.lenBlock.length);return-1===ue?(this.error=this.valueBlock.error,ue):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ue)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return We.NAME="BaseStringBlock",We})(),Ft=(()=>{class We extends(Dt(Q)){constructor({isHexOnly:b=!0,...x}={}){super(x),this.isHexOnly=b}}return We.NAME="PrimitiveValueBlock",We})();class lt extends at{constructor(f={}){super(f,Ft),this.idBlock.isConstructed=!1}}function tn(We,f=0,b=We.length){const x=f;let J=new at({},Q);const ue=new q;if(!I(ue,We,f,b))return J.error=ue.error,{offset:-1,result:J};if(!We.subarray(f,f+b).length)return J.error="Zero buffer length",{offset:-1,result:J};let ze=J.idBlock.fromBER(We,f,b);if(J.idBlock.warnings.length&&J.warnings.concat(J.idBlock.warnings),-1===ze)return J.error=J.idBlock.error,{offset:-1,result:J};if(ze=J.lenBlock.fromBER(We,f=ze,b-=J.idBlock.blockLength),J.lenBlock.warnings.length&&J.warnings.concat(J.lenBlock.warnings),-1===ze)return J.error=J.lenBlock.error,{offset:-1,result:J};if(f=ze,b-=J.lenBlock.blockLength,!J.idBlock.isConstructed&&J.lenBlock.isIndefiniteForm)return J.error="Indefinite length form used for primitive encoding form",{offset:-1,result:J};let A=at;if(1===J.idBlock.tagClass){if(J.idBlock.tagNumber>=37&&!1===J.idBlock.isHexOnly)return J.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:J};switch(J.idBlock.tagNumber){case 0:if(J.idBlock.isConstructed&&J.lenBlock.length>0)return J.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:J};A=Re.EndOfContent;break;case 1:A=Re.Boolean;break;case 2:A=Re.Integer;break;case 3:A=Re.BitString;break;case 4:A=Re.OctetString;break;case 5:A=Re.Null;break;case 6:A=Re.ObjectIdentifier;break;case 10:A=Re.Enumerated;break;case 12:A=Re.Utf8String;break;case 13:A=Re.RelativeObjectIdentifier;break;case 14:A=Re.TIME;break;case 15:return J.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:J};case 16:A=Re.Sequence;break;case 17:A=Re.Set;break;case 18:A=Re.NumericString;break;case 19:A=Re.PrintableString;break;case 20:A=Re.TeletexString;break;case 21:A=Re.VideotexString;break;case 22:A=Re.IA5String;break;case 23:A=Re.UTCTime;break;case 24:A=Re.GeneralizedTime;break;case 25:A=Re.GraphicString;break;case 26:A=Re.VisibleString;break;case 27:A=Re.GeneralString;break;case 28:A=Re.UniversalString;break;case 29:A=Re.CharacterString;break;case 30:A=Re.BmpString;break;case 31:A=Re.DATE;break;case 32:A=Re.TimeOfDay;break;case 33:A=Re.DateTime;break;case 34:A=Re.Duration;break;default:{const $=J.idBlock.isConstructed?new Re.Constructed:new Re.Primitive;$.idBlock=J.idBlock,$.lenBlock=J.lenBlock,$.warnings=J.warnings,J=$}}}else A=J.idBlock.isConstructed?Re.Constructed:Re.Primitive;return J=function Pt(We,f){if(We instanceof f)return We;const b=new f;return b.idBlock=We.idBlock,b.lenBlock=We.lenBlock,b.warnings=We.warnings,b.valueBeforeDecodeView=We.valueBeforeDecodeView,b}(J,A),ze=J.fromBER(We,f,J.lenBlock.isIndefiniteForm?b:J.lenBlock.length),J.valueBeforeDecodeView=We.subarray(x,x+J.blockLength),{offset:ze,result:J}}function ct(We){if(!We.byteLength){const f=new at({},Q);return f.error="Input buffer has zero length",{offset:-1,result:f}}return tn(p._H.toUint8Array(We).slice(),0,We.byteLength)}function Lt(We,f){return We?1:f}Re.Primitive=lt,lt.NAME="PRIMITIVE";let Ce=(()=>{class We extends Q{constructor({value:b=[],isIndefiniteForm:x=!1,...J}={}){super(J),this.value=b,this.isIndefiniteForm=x}fromBER(b,x,J){const ue=p._H.toUint8Array(b);if(!I(this,ue,x,J))return-1;if(this.valueBeforeDecodeView=ue.subarray(x,x+J),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),x;let Ee=x;for(;Lt(this.isIndefiniteForm,J)>0;){const ze=tn(ue,Ee,J);if(-1===ze.offset)return this.error=ze.result.error,this.warnings.concat(ze.result.warnings),-1;if(Ee=ze.offset,this.blockLength+=ze.result.blockLength,J-=ze.result.blockLength,this.value.push(ze.result),this.isIndefiniteForm&&ze.result.constructor.NAME===hn)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===hn?this.value.pop():this.warnings.push("No EndOfContent block encoded")),Ee}toBER(b,x){const J=x||new pe;for(let ue=0;ue<this.value.length;ue++)this.value[ue].toBER(b,J);return x?Ct:J.final()}toJSON(){const b={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const x of this.value)b.value.push(x.toJSON());return b}}return We.NAME="ConstructedValueBlock",We})();class j extends at{constructor(f={}){super(f,Ce),this.idBlock.isConstructed=!0}fromBER(f,b,x){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const J=this.valueBlock.fromBER(f,b,this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),J)}onAsciiEncoding(){const f=[];for(const x of this.valueBlock.value)f.push(x.toString("ascii").split("\n").map(J=>`  ${J}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return f.length?`${b} :\n${f.join("\n")}`:`${b} :`}}Re.Constructed=j,j.NAME="CONSTRUCTED";let ae=(()=>{class We extends Q{fromBER(b,x,J){return x}toBER(b){return Ct}}return We.override="EndOfContentValueBlock",We})();class tt extends at{constructor(f={}){super(f,ae),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}Re.EndOfContent=tt,tt.NAME=hn;class Bt extends at{constructor(f={}){super(f,Q),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(f,b,x){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=x,b+x>f.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+x}toBER(f,b){const x=new ArrayBuffer(2);if(!f){const J=new Uint8Array(x);J[0]=5,J[1]=0}return b&&b.write(x),x}onAsciiEncoding(){return`${this.constructor.NAME}`}}Re.Null=Bt,Bt.NAME="NULL";let ln=(()=>{class We extends(Dt(Q)){constructor({value:b,...x}={}){super(x),this.valueHexView=x.valueHex?p._H.toUint8Array(x.valueHex):new Uint8Array(1),b&&(this.value=b)}get value(){for(const b of this.valueHexView)if(b>0)return!0;return!1}set value(b){this.valueHexView[0]=b?255:0}fromBER(b,x,J){const ue=p._H.toUint8Array(b);return I(this,ue,x,J)?(this.valueHexView=ue.subarray(x,x+J),J>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,U.call(this),this.blockLength=J,x+J):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return We.NAME="BooleanValueBlock",We})();class Pn extends at{constructor(f={}){super(f,ln),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(f){this.valueBlock.value=f}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}Re.Boolean=Pn,Pn.NAME="BOOLEAN";let $n=(()=>{class We extends(Dt(Ce)){constructor({isConstructed:b=!1,...x}={}){super(x),this.isConstructed=b}fromBER(b,x,J){let ue=0;if(this.isConstructed){if(this.isHexOnly=!1,ue=Ce.prototype.fromBER.call(this,b,x,J),-1===ue)return ue;for(let Ee=0;Ee<this.value.length;Ee++){const ze=this.value[Ee].constructor.NAME;if(ze===hn){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ze!==mn)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ue=super.fromBER(b,x,J),this.blockLength=J;return ue}toBER(b,x){return this.isConstructed?Ce.prototype.toBER.call(this,b,x):b?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return We.NAME="OctetStringValueBlock",We})();class Mt extends at{constructor({idBlock:f={},lenBlock:b={},...x}={}){var J,ue;null!==(J=x.isConstructed)&&void 0!==J||(x.isConstructed=!(null===(ue=x.value)||void 0===ue||!ue.length)),super({idBlock:{isConstructed:x.isConstructed,...f},lenBlock:{...b,isIndefiniteForm:!!x.isIndefiniteForm},...x},$n),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(f,b,x){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===x)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const ue=(f instanceof ArrayBuffer?new Uint8Array(f):f).subarray(b,b+x);try{if(ue.byteLength){const Ee=tn(ue,0,ue.byteLength);-1!==Ee.offset&&Ee.offset===x&&(this.valueBlock.value=[Ee.result])}}catch{}}return super.fromBER(f,b,x)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?j.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${p.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const f=[];for(const b of this.valueBlock.value)b instanceof Mt&&f.push(b.valueBlock.valueHexView);return p._H.concat(f)}}Re.OctetString=Mt,Mt.NAME=mn;let On=(()=>{class We extends(Dt(Ce)){constructor({unusedBits:b=0,isConstructed:x=!1,...J}={}){super(J),this.unusedBits=b,this.isConstructed=x,this.blockLength=this.valueHexView.byteLength}fromBER(b,x,J){if(!J)return x;let ue=-1;if(this.isConstructed){if(ue=Ce.prototype.fromBER.call(this,b,x,J),-1===ue)return ue;for(const A of this.value){const $=A.constructor.NAME;if($===hn){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if($!==Rt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const V=A.valueBlock;if(this.unusedBits>0&&V.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=V.unusedBits}return ue}const Ee=p._H.toUint8Array(b);if(!I(this,Ee,x,J))return-1;const ze=Ee.subarray(x,x+J);if(this.unusedBits=ze[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const A=ze.subarray(1);try{if(A.byteLength){const $=tn(A,0,A.byteLength);-1!==$.offset&&$.offset===J-1&&(this.value=[$.result])}}catch{}}return this.valueHexView=ze.subarray(1),this.blockLength=ze.length,x+J}toBER(b,x){if(this.isConstructed)return Ce.prototype.toBER.call(this,b,x);if(b)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return Ct;const J=new Uint8Array(this.valueHexView.length+1);return J[0]=this.unusedBits,J.set(this.valueHexView,1),J.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return We.NAME="BitStringValueBlock",We})();var St;class mt extends at{constructor({idBlock:f={},lenBlock:b={},...x}={}){var J,ue;null!==(J=x.isConstructed)&&void 0!==J||(x.isConstructed=!(null===(ue=x.value)||void 0===ue||!ue.length)),super({idBlock:{isConstructed:x.isConstructed,...f},lenBlock:{...b,isIndefiniteForm:!!x.isIndefiniteForm},...x},On),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(f,b,x){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(f,b,x)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return j.prototype.onAsciiEncoding.call(this);{const f=[],b=this.valueBlock.valueHexView;for(const J of b)f.push(J.toString(2).padStart(8,"0"));const x=f.join("");return`${this.constructor.NAME} : ${x.substring(0,x.length-this.valueBlock.unusedBits)}`}}}function dt(We,f){const b=new Uint8Array([0]),x=new Uint8Array(We),J=new Uint8Array(f);let ue=x.slice(0);const Ee=ue.length-1,ze=J.slice(0),A=ze.length-1;let $=0,ee=0;for(let R=A<Ee?Ee:A;R>=0;R--,ee++)$=1==ee<ze.length?ue[Ee-ee]+ze[A-ee]+b[0]:ue[Ee-ee]+b[0],b[0]=$/10,1==ee>=ue.length?ue=B(new Uint8Array([$%10]),ue):ue[Ee-ee]=$%10;return b[0]>0&&(ue=B(b,ue)),ue}function Ut(We){if(We>=K.length)for(let f=K.length;f<=We;f++){const b=new Uint8Array([0]);let x=K[f-1].slice(0);for(let J=x.length-1;J>=0;J--){const ue=new Uint8Array([(x[J]<<1)+b[0]]);b[0]=ue[0]/10,x[J]=ue[0]%10}b[0]>0&&(x=B(b,x)),K.push(x)}return K[We]}function rn(We,f){let b=0;const x=new Uint8Array(We),J=new Uint8Array(f),ue=x.slice(0),Ee=ue.length-1,ze=J.slice(0),A=ze.length-1;let $,V=0;for(let ee=A;ee>=0;ee--,V++)$=ue[Ee-V]-ze[A-V]-b,1==$<0?(b=1,ue[Ee-V]=$+10):(b=0,ue[Ee-V]=$);if(b>0)for(let ee=Ee-A+1;ee>=0;ee--,V++){if($=ue[Ee-V]-b,!($<0)){b=0,ue[Ee-V]=$;break}b=1,ue[Ee-V]=$+10}return ue.slice()}Re.BitString=mt,mt.NAME=Rt;class Tn extends(Dt(Q)){constructor({value:f,...b}={}){super(b),this._valueDec=0,b.valueHex&&this.setValueHex(),void 0!==f&&(this.valueDec=f)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=U.call(this)))}set valueDec(f){this._valueDec=f,this.isHexOnly=!1,this.valueHexView=new Uint8Array(a(f))}get valueDec(){return this._valueDec}fromDER(f,b,x,J=0){const ue=this.fromBER(f,b,x);if(-1===ue)return ue;const Ee=this.valueHexView;return 0===Ee[0]&&128&Ee[1]?this.valueHexView=Ee.subarray(1):0!==J&&Ee.length<J&&(J-Ee.length>1&&(J=Ee.length+1),this.valueHexView=Ee.subarray(J-Ee.length)),ue}toDER(f=!1){const b=this.valueHexView;switch(!0){case!!(128&b[0]):{const x=new Uint8Array(this.valueHexView.length+1);x[0]=0,x.set(b,1),this.valueHexView=x}break;case 0===b[0]&&!(128&b[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(f)}fromBER(f,b,x){const J=super.fromBER(f,b,x);return-1===J||this.setValueHex(),J}toBER(f){return f?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const f=8*this.valueHexView.length-1;let J,b=new Uint8Array(8*this.valueHexView.length/3),x=0;const ue=this.valueHexView;let Ee="",ze=!1;for(let A=ue.byteLength-1;A>=0;A--){J=ue[A];for(let $=0;$<8;$++)1&~J||(x===f?(b=rn(Ut(x),b),Ee="-"):b=dt(b,Ut(x))),x++,J>>=1}for(let A=0;A<b.length;A++)b[A]&&(ze=!0),ze&&(Ee+=he.charAt(b[A]));return!1===ze&&(Ee+=he.charAt(0)),Ee}}St=Tn,Tn.NAME="IntegerValueBlock",Object.defineProperty(St.prototype,"valueHex",{set:function(We){this.valueHexView=new Uint8Array(We),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class yn extends at{constructor(f={}){super(f,Tn),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return Z(),BigInt(this.valueBlock.toString())}static fromBigInt(f){Z();const b=BigInt(f),x=new pe,J=b.toString(16).replace(/^-/,""),ue=new Uint8Array(p.U$.FromHex(J));if(b<0){const ze=new Uint8Array(ue.length+(128&ue[0]?1:0));ze[0]|=128;const $=BigInt(`0x${p.U$.ToHex(ze)}`)+b,V=p._H.toUint8Array(p.U$.FromHex($.toString(16)));V[0]|=128,x.write(V)}else 128&ue[0]&&x.write(new Uint8Array([0])),x.write(ue);return new yn({valueHex:x.final()})}convertToDER(){const f=new yn({valueHex:this.valueBlock.valueHexView});return f.valueBlock.toDER(),f}convertFromDER(){return new yn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}Re.Integer=yn,yn.NAME="INTEGER";class ii extends yn{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}Re.Enumerated=ii,ii.NAME="ENUMERATED";let xt=(()=>{class We extends(Dt(Q)){constructor({valueDec:b=-1,isFirstSid:x=!1,...J}={}){super(J),this.valueDec=b,this.isFirstSid=x}fromBER(b,x,J){if(!J)return x;const ue=p._H.toUint8Array(b);if(!I(this,ue,x,J))return-1;const Ee=ue.subarray(x,x+J);this.valueHexView=new Uint8Array(J);for(let A=0;A<J&&(this.valueHexView[A]=127&Ee[A],this.blockLength++,128&Ee[A]);A++);const ze=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)ze[A]=this.valueHexView[A];return this.valueHexView=ze,128&Ee[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),x+this.blockLength)}set valueBigInt(b){Z();let x=BigInt(b).toString(2);for(;x.length%7;)x="0"+x;const J=new Uint8Array(x.length/7);for(let ue=0;ue<J.length;ue++)J[ue]=parseInt(x.slice(7*ue,7*ue+7),2)+(ue+1<J.length?128:0);this.fromBER(J.buffer,0,J.length)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ue=this.valueHexView,Ee=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)Ee[ze]=128|ue[ze];return Ee[this.blockLength-1]=ue[this.blockLength-1],Ee.buffer}const x=E(this.valueDec,7);if(0===x.byteLength)return this.error="Error during encoding SID value",Ct;const J=new Uint8Array(x.byteLength);if(!b){const ue=new Uint8Array(x),Ee=x.byteLength-1;for(let ze=0;ze<Ee;ze++)J[ze]=128|ue[ze];J[Ee]=ue[Ee]}return J}toString(){let b="";if(this.isHexOnly)b=p.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let x=this.valueDec;this.valueDec<=39?b="0.":this.valueDec<=79?(b="1.",x-=40):(b="2.",x-=80),b+=x.toString()}else b=this.valueDec.toString();return b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return We.NAME="sidBlock",We})(),bt=(()=>{class We extends Q{constructor({value:b="",...x}={}){super(x),this.value=[],b&&this.fromString(b)}fromBER(b,x,J){let ue=x;for(;J>0;){const Ee=new xt;if(ue=Ee.fromBER(b,ue,J),-1===ue)return this.blockLength=0,this.error=Ee.error,ue;0===this.value.length&&(Ee.isFirstSid=!0),this.blockLength+=Ee.blockLength,J-=Ee.blockLength,this.value.push(Ee)}return ue}toBER(b){const x=[];for(let J=0;J<this.value.length;J++){const ue=this.value[J].toBER(b);if(0===ue.byteLength)return this.error=this.value[J].error,Ct;x.push(ue)}return ne(x)}fromString(b){this.value=[];let x=0,J=0,ue="",Ee=!1;do{if(J=b.indexOf(".",x),ue=-1===J?b.substring(x):b.substring(x,J),x=J+1,Ee){const ze=this.value[0];let A=0;switch(ze.valueDec){case 0:break;case 1:A=40;break;case 2:A=80;break;default:return void(this.value=[])}const $=parseInt(ue,10);if(isNaN($))return;ze.valueDec=$+A,Ee=!1}else{const ze=new xt;if(ue>Number.MAX_SAFE_INTEGER){Z();const A=BigInt(ue);ze.valueBigInt=A}else if(ze.valueDec=parseInt(ue,10),isNaN(ze.valueDec))return;this.value.length||(ze.isFirstSid=!0,Ee=!0),this.value.push(ze)}}while(-1!==J)}toString(){let b="",x=!1;for(let J=0;J<this.value.length;J++){x=this.value[J].isHexOnly;let ue=this.value[J].toString();0!==J&&(b=`${b}.`),x?(ue=`{${ue}}`,this.value[J].isFirstSid?b=`2.{${ue} - 80}`:b+=ue):b+=ue}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let x=0;x<this.value.length;x++)b.sidArray.push(this.value[x].toJSON());return b}}return We.NAME="ObjectIdentifierValueBlock",We})();class Kt extends at{constructor(f={}){super(f,bt),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(f){this.valueBlock.fromString(f)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Re.ObjectIdentifier=Kt,Kt.NAME="OBJECT IDENTIFIER";let en=(()=>{class We extends(Dt(q)){constructor({valueDec:b=0,...x}={}){super(x),this.valueDec=b}fromBER(b,x,J){if(0===J)return x;const ue=p._H.toUint8Array(b);if(!I(this,ue,x,J))return-1;const Ee=ue.subarray(x,x+J);this.valueHexView=new Uint8Array(J);for(let A=0;A<J&&(this.valueHexView[A]=127&Ee[A],this.blockLength++,128&Ee[A]);A++);const ze=new Uint8Array(this.blockLength);for(let A=0;A<this.blockLength;A++)ze[A]=this.valueHexView[A];return this.valueHexView=ze,128&Ee[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),x+this.blockLength)}toBER(b){if(this.isHexOnly){if(b)return new ArrayBuffer(this.valueHexView.byteLength);const ue=this.valueHexView,Ee=new Uint8Array(this.blockLength);for(let ze=0;ze<this.blockLength-1;ze++)Ee[ze]=128|ue[ze];return Ee[this.blockLength-1]=ue[this.blockLength-1],Ee.buffer}const x=E(this.valueDec,7);if(0===x.byteLength)return this.error="Error during encoding SID value",Ct;const J=new Uint8Array(x.byteLength);if(!b){const ue=new Uint8Array(x),Ee=x.byteLength-1;for(let ze=0;ze<Ee;ze++)J[ze]=128|ue[ze];J[Ee]=ue[Ee]}return J.buffer}toString(){let b="";return b=this.isHexOnly?p.U$.ToHex(this.valueHexView):this.valueDec.toString(),b}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return We.NAME="relativeSidBlock",We})(),Rn=(()=>{class We extends Q{constructor({value:b="",...x}={}){super(x),this.value=[],b&&this.fromString(b)}fromBER(b,x,J){let ue=x;for(;J>0;){const Ee=new en;if(ue=Ee.fromBER(b,ue,J),-1===ue)return this.blockLength=0,this.error=Ee.error,ue;this.blockLength+=Ee.blockLength,J-=Ee.blockLength,this.value.push(Ee)}return ue}toBER(b,x){const J=[];for(let ue=0;ue<this.value.length;ue++){const Ee=this.value[ue].toBER(b);if(0===Ee.byteLength)return this.error=this.value[ue].error,Ct;J.push(Ee)}return ne(J)}fromString(b){this.value=[];let x=0,J=0,ue="";do{J=b.indexOf(".",x),ue=-1===J?b.substring(x):b.substring(x,J),x=J+1;const Ee=new en;if(Ee.valueDec=parseInt(ue,10),isNaN(Ee.valueDec))return!0;this.value.push(Ee)}while(-1!==J);return!0}toString(){let b="",x=!1;for(let J=0;J<this.value.length;J++){x=this.value[J].isHexOnly;let ue=this.value[J].toString();0!==J&&(b=`${b}.`),x&&(ue=`{${ue}}`),b+=ue}return b}toJSON(){const b={...super.toJSON(),value:this.toString(),sidArray:[]};for(let x=0;x<this.value.length;x++)b.sidArray.push(this.value[x].toJSON());return b}}return We.NAME="RelativeObjectIdentifierValueBlock",We})();class li extends at{constructor(f={}){super(f,Rn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(f){this.valueBlock.fromString(f)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}Re.RelativeObjectIdentifier=li,li.NAME="RelativeObjectIdentifier";class Cn extends j{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}Re.Sequence=Cn,Cn.NAME="SEQUENCE";class Ri extends j{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}Re.Set=Ri,Ri.NAME="SET";let ri=(()=>{class We extends(Dt(Q)){constructor({...b}={}){super(b),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return We.NAME="StringValueBlock",We})(),zi=(()=>{class We extends ri{}return We.NAME="SimpleStringValueBlock",We})(),ti=(()=>{class We extends ft{constructor({...b}={}){super(b,zi)}fromBuffer(b){this.valueBlock.value=String.fromCharCode.apply(null,p._H.toUint8Array(b))}fromString(b){const x=b.length,J=this.valueBlock.valueHexView=new Uint8Array(x);for(let ue=0;ue<x;ue++)J[ue]=b.charCodeAt(ue);this.valueBlock.value=b}}return We.NAME="SIMPLE STRING",We})(),Gn=(()=>{class We extends ti{fromBuffer(b){this.valueBlock.valueHexView=p._H.toUint8Array(b);try{this.valueBlock.value=p.U$.ToUtf8String(b)}catch(x){this.warnings.push(`Error during "decodeURIComponent": ${x}, using raw string`),this.valueBlock.value=p.U$.ToBinary(b)}}fromString(b){this.valueBlock.valueHexView=new Uint8Array(p.U$.FromUtf8String(b)),this.valueBlock.value=b}}return We.NAME="Utf8StringValueBlock",We})();class Vi extends Gn{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}Re.Utf8String=Vi,Vi.NAME="UTF8String";let Yn=(()=>{class We extends ti{fromBuffer(b){this.valueBlock.value=p.U$.ToUtf16String(b),this.valueBlock.valueHexView=p._H.toUint8Array(b)}fromString(b){this.valueBlock.value=b,this.valueBlock.valueHexView=new Uint8Array(p.U$.FromUtf16String(b))}}return We.NAME="BmpStringValueBlock",We})();class rt extends Yn{constructor({...f}={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}Re.BmpString=rt,rt.NAME="BMPString";let It=(()=>{class We extends ti{fromBuffer(b){const x=ArrayBuffer.isView(b)?b.slice().buffer:b.slice(0),J=new Uint8Array(x);for(let ue=0;ue<J.length;ue+=4)J[ue]=J[ue+3],J[ue+1]=J[ue+2],J[ue+2]=0,J[ue+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(x))}fromString(b){const x=b.length,J=this.valueBlock.valueHexView=new Uint8Array(4*x);for(let ue=0;ue<x;ue++){const Ee=E(b.charCodeAt(ue),8),ze=new Uint8Array(Ee);if(ze.length>4)continue;const A=4-ze.length;for(let $=ze.length-1;$>=0;$--)J[4*ue+$+A]=ze[$]}this.valueBlock.value=b}}return We.NAME="UniversalStringValueBlock",We})();class Zt extends It{constructor({...f}={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}Re.UniversalString=Zt,Zt.NAME="UniversalString";class Xt extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}Re.NumericString=Xt,Xt.NAME="NumericString";class an extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}Re.PrintableString=an,an.NAME="PrintableString";class Ue extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}Re.TeletexString=Ue,Ue.NAME="TeletexString";class ot extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}Re.VideotexString=ot,ot.NAME="VideotexString";class _n extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}Re.IA5String=_n,_n.NAME="IA5String";class In extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}Re.GraphicString=In,In.NAME="GraphicString";class _i extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}Re.VisibleString=_i,_i.NAME="VisibleString";class Ti extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}Re.GeneralString=Ti,Ti.NAME="GeneralString";class rr extends ti{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}Re.CharacterString=rr,rr.NAME="CharacterString";class ei extends _i{constructor({value:f,valueDate:b,...x}={}){if(super(x),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,f){this.fromString(f),this.valueBlock.valueHexView=new Uint8Array(f.length);for(let J=0;J<f.length;J++)this.valueBlock.valueHexView[J]=f.charCodeAt(J)}b&&(this.fromDate(b),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(f){this.fromString(String.fromCharCode.apply(null,p._H.toUint8Array(f)))}toBuffer(){const f=this.toString(),b=new ArrayBuffer(f.length),x=new Uint8Array(b);for(let J=0;J<f.length;J++)x[J]=f.charCodeAt(J);return b}fromDate(f){this.year=f.getUTCFullYear(),this.month=f.getUTCMonth()+1,this.day=f.getUTCDate(),this.hour=f.getUTCHours(),this.minute=f.getUTCMinutes(),this.second=f.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(f){const x=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(f);if(null===x)return void(this.error="Wrong input string for conversion");const J=parseInt(x[1],10);this.year=J>=50?1900+J:2e3+J,this.month=parseInt(x[2],10),this.day=parseInt(x[3],10),this.hour=parseInt(x[4],10),this.minute=parseInt(x[5],10),this.second=parseInt(x[6],10)}toString(f="iso"){if("iso"===f){const b=new Array(7);return b[0]=O(this.year<2e3?this.year-1900:this.year-2e3,2),b[1]=O(this.month,2),b[2]=O(this.day,2),b[3]=O(this.hour,2),b[4]=O(this.minute,2),b[5]=O(this.second,2),b[6]="Z",b.join("")}return super.toString(f)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}Re.UTCTime=ei,ei.NAME="UTCTime";class mr extends ei{constructor(f={}){var b;super(f),null!==(b=this.millisecond)&&void 0!==b||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(f){super.fromDate(f),this.millisecond=f.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(f){let Ee,b=!1,x="",J="",ue=0,ze=0,A=0;if("Z"===f[f.length-1])x=f.substring(0,f.length-1),b=!0;else{const ee=new Number(f[f.length-1]);if(isNaN(ee.valueOf()))throw new Error("Wrong input string for conversion");x=f}if(b){if(-1!==x.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==x.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let ee=1,R=x.indexOf("+"),be="";if(-1===R&&(R=x.indexOf("-"),ee=-1),-1!==R){if(be=x.substring(R+1),x=x.substring(0,R),2!==be.length&&4!==be.length)throw new Error("Wrong input string for conversion");let M=parseInt(be.substring(0,2),10);if(isNaN(M.valueOf()))throw new Error("Wrong input string for conversion");if(ze=ee*M,4===be.length){if(M=parseInt(be.substring(2,4),10),isNaN(M.valueOf()))throw new Error("Wrong input string for conversion");A=ee*M}}}let $=x.indexOf(".");if(-1===$&&($=x.indexOf(",")),-1!==$){const ee=new Number(`0${x.substring($)}`);if(isNaN(ee.valueOf()))throw new Error("Wrong input string for conversion");ue=ee.valueOf(),J=x.substring(0,$)}else J=x;switch(!0){case 8===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})/gi,-1!==$)throw new Error("Wrong input string for conversion");break;case 10===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==$){let ee=60*ue;this.minute=Math.floor(ee),ee=60*(ee-this.minute),this.second=Math.floor(ee),ee=1e3*(ee-this.second),this.millisecond=Math.floor(ee)}break;case 12===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==$){let ee=60*ue;this.second=Math.floor(ee),ee=1e3*(ee-this.second),this.millisecond=Math.floor(ee)}break;case 14===J.length:Ee=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==$&&(this.millisecond=Math.floor(1e3*ue));break;default:throw new Error("Wrong input string for conversion")}const V=Ee.exec(J);if(null===V)throw new Error("Wrong input string for conversion");for(let ee=1;ee<V.length;ee++)switch(ee){case 1:this.year=parseInt(V[ee],10);break;case 2:this.month=parseInt(V[ee],10);break;case 3:this.day=parseInt(V[ee],10);break;case 4:this.hour=parseInt(V[ee],10)+ze;break;case 5:this.minute=parseInt(V[ee],10)+A;break;case 6:this.second=parseInt(V[ee],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const ee=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=ee.getUTCFullYear(),this.month=ee.getUTCMonth(),this.day=ee.getUTCDay(),this.hour=ee.getUTCHours(),this.minute=ee.getUTCMinutes(),this.second=ee.getUTCSeconds(),this.millisecond=ee.getUTCMilliseconds()}}toString(f="iso"){if("iso"===f){const b=[];return b.push(O(this.year,4)),b.push(O(this.month,2)),b.push(O(this.day,2)),b.push(O(this.hour,2)),b.push(O(this.minute,2)),b.push(O(this.second,2)),0!==this.millisecond&&(b.push("."),b.push(O(this.millisecond,3))),b.push("Z"),b.join("")}return super.toString(f)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}Re.GeneralizedTime=mr,mr.NAME="GeneralizedTime";class Pr extends Vi{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}Re.DATE=Pr,Pr.NAME="DATE";class ds extends Vi{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}Re.TimeOfDay=ds,ds.NAME="TimeOfDay";class Ai extends Vi{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}Re.DateTime=Ai,Ai.NAME="DateTime";class ss extends Vi{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}Re.Duration=ss,ss.NAME="Duration";class Ds extends Vi{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}Re.TIME=Ds,Ds.NAME="TIME";class Er{constructor({name:f="",optional:b=!1}={}){this.name=f,this.optional=b}}class Tr extends Er{constructor({value:f=[],...b}={}){super(b),this.value=f}}class Pi extends Er{constructor({value:f=new Er,local:b=!1,...x}={}){super(x),this.value=f,this.local=b}}class Xs{constructor({data:f=ut}={}){this.dataView=p._H.toUint8Array(f)}get data(){return this.dataView.slice().buffer}set data(f){this.dataView=p._H.toUint8Array(f)}fromBER(f,b,x){const J=b+x;return this.dataView=p._H.toUint8Array(f).subarray(b,J),J}toBER(f){return this.dataView.slice().buffer}}function gi(We,f,b){if(b instanceof Tr){for(let ue=0;ue<b.value.length;ue++)if(gi(We,f,b.value[ue]).verified)return{verified:!0,result:We};{const ue={verified:!1,result:{error:"Wrong values for Choice type"}};return b.hasOwnProperty(Oe)&&(ue.name=b.name),ue}}if(b instanceof Er)return b.hasOwnProperty(Oe)&&(We[b.name]=f),{verified:!0,result:We};if(!(We instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(f instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(b instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in b))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const x=b.idBlock.toBER(!1);if(0===x.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===b.idBlock.fromBER(x,0,x.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===b.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagClass!==f.idBlock.tagClass)return{verified:!1,result:We};if(!1===b.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.tagNumber!==f.idBlock.tagNumber)return{verified:!1,result:We};if(!1===b.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isConstructed!==f.idBlock.isConstructed)return{verified:!1,result:We};if(!("isHexOnly"in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(b.idBlock.isHexOnly!==f.idBlock.isHexOnly)return{verified:!1,result:We};if(b.idBlock.isHexOnly){if(!(Ae in b.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ue=b.idBlock.valueHexView,Ee=f.idBlock.valueHexView;if(ue.length!==Ee.length)return{verified:!1,result:We};for(let ze=0;ze<ue.length;ze++)if(ue[ze]!==Ee[1])return{verified:!1,result:We}}if(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(We[b.name]=f)),b instanceof Re.Constructed){let ue=0,Ee={verified:!1,result:{error:"Unknown error"}},ze=b.valueBlock.value.length;if(ze>0&&b.valueBlock.value[0]instanceof Pi&&(ze=f.valueBlock.value.length),0===ze)return{verified:!0,result:We};if(0===f.valueBlock.value.length&&0!==b.valueBlock.value.length){let A=!0;for(let $=0;$<b.valueBlock.value.length;$++)A=A&&(b.valueBlock.value[$].optional||!1);return A?{verified:!0,result:We}:(b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete We[b.name]),We.error="Inconsistent object length",{verified:!1,result:We})}for(let A=0;A<ze;A++)if(A-ue>=f.valueBlock.value.length){if(!1===b.valueBlock.value[A].optional){const $={verified:!1,result:We};return We.error="Inconsistent length between ASN.1 data and schema",b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete We[b.name],$.name=b.name)),$}}else if(b.valueBlock.value[0]instanceof Pi){if(Ee=gi(We,f.valueBlock.value[A],b.valueBlock.value[0].value),!1===Ee.verified){if(!b.valueBlock.value[0].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete We[b.name]),Ee;ue++}if(Oe in b.valueBlock.value[0]&&b.valueBlock.value[0].name.length>0){let $={};$="local"in b.valueBlock.value[0]&&b.valueBlock.value[0].local?f:We,typeof $[b.valueBlock.value[0].name]>"u"&&($[b.valueBlock.value[0].name]=[]),$[b.valueBlock.value[0].name].push(f.valueBlock.value[A])}}else if(Ee=gi(We,f.valueBlock.value[A-ue],b.valueBlock.value[A]),!1===Ee.verified){if(!b.valueBlock.value[A].optional)return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&delete We[b.name]),Ee;ue++}if(!1===Ee.verified){const A={verified:!1,result:We};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete We[b.name],A.name=b.name)),A}return{verified:!0,result:We}}if(b.primitiveSchema&&Ae in f.valueBlock){const ue=tn(f.valueBlock.valueHexView);if(-1===ue.offset){const Ee={verified:!1,result:ue.result};return b.name&&(b.name=b.name.replace(/^\s+|\s+$/g,""),b.name&&(delete We[b.name],Ee.name=b.name)),Ee}return gi(We,ue.result,b.primitiveSchema)}return{verified:!0,result:We}}class Zn{constructor(f={}){this.algorithmId=C(f,"algorithmId",Zn.defaultValues("algorithmId")),"algorithmParams"in f&&(this.algorithmParams=C(f,"algorithmParams",Zn.defaultValues("algorithmParams"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"algorithmId":return"";case"algorithmParams":return new Er;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"algorithmId":return""===b;case"algorithmParams":return b instanceof Er;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",optional:b.optional||!1,value:[new Kt({name:b.algorithmIdentifier||""}),new Er({name:b.algorithmParams||"",optional:!0})]})}fromSchema(f){Y(f,["algorithm","params"]);const b=gi(f,f,Zn.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=b.result.algorithm.valueBlock.toString(),"params"in b.result&&(this.algorithmParams=b.result.params)}toSchema(){const f=[];return f.push(new Kt({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof Er)&&f.push(this.algorithmParams),new Cn({value:f})}toJSON(){const f={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof Er)&&(f.algorithmParams=this.algorithmParams.toJSON()),f}isEqual(f){return f instanceof Zn&&this.algorithmId===f.algorithmId&&("algorithmParams"in this?"algorithmParams"in f&&JSON.stringify(this.algorithmParams)===JSON.stringify(f.algorithmParams):!("algorithmParams"in f))}}let Ur=(()=>{class We{static register(b,x,J){this.namedCurves[b.toLowerCase()]=this.namedCurves[x]={name:b,id:x,size:J}}static find(b){return this.namedCurves[b.toLowerCase()]||null}}return We.namedCurves={},We})();Ur.register("P-256","1.2.840.10045.3.1.7",32),Ur.register("P-384","1.3.132.0.34",48),Ur.register("P-521","1.3.132.0.35",66),Ur.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Ur.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Ur.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class Ir{constructor(f={}){this.x=C(f,"x",Ir.defaultValues("x")),this.y=C(f,"y",Ir.defaultValues("y")),this.namedCurve=C(f,"namedCurve",Ir.defaultValues("namedCurve")),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"x":case"y":return k(b,Ir.defaultValues(f));case"namedCurve":return""===b;default:throw new Error(`Invalid member name for ECCPublicKey class: ${f}`)}}static schema(f={}){return new Xs}fromSchema(f){if(!(f instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(f)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const x=Ur.find(this.namedCurve);if(!x)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const J=x.size;if(f.byteLength!==2*J+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=f.slice(1,J+1),this.y=f.slice(1+J,2*J+1)}toSchema(){return new Xs({data:v(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const f=Ur.find(this.namedCurve);return{crv:f?f.name:this.namedCurve,x:N(G(this.x),!0,!0,!1),y:N(G(this.y),!0,!0,!1)}}fromJSON(f){let b=0;if(!("crv"in f))throw new Error('Absent mandatory parameter "crv"');{const x=Ur.find(f.crv);x&&(this.namedCurve=x.id,b=x.size)}if(!("x"in f))throw new Error('Absent mandatory parameter "x"');{const x=z(H(f.x,!0));if(x.byteLength<b){this.x=new ArrayBuffer(b);const J=new Uint8Array(this.x),ue=new Uint8Array(x);J.set(ue,1)}else this.x=x.slice(0,b)}if(!("y"in f))throw new Error('Absent mandatory parameter "y"');{const x=z(H(f.y,!0));if(x.byteLength<b){this.y=new ArrayBuffer(b);const J=new Uint8Array(this.y),ue=new Uint8Array(x);J.set(ue,1)}else this.y=x.slice(0,b)}}}class Ar{constructor(f={}){this.modulus=C(f,"modulus",Ar.defaultValues("modulus")),this.publicExponent=C(f,"publicExponent",Ar.defaultValues("publicExponent")),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"modulus":case"publicExponent":return new yn;default:throw new Error(`Invalid member name for RSAPublicKey class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new yn({name:b.modulus||""}),new yn({name:b.publicExponent||""})]})}fromSchema(f){Y(f,["modulus","publicExponent"]);const b=gi(f,f,Ar.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent}toSchema(){return new Cn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:N(G(this.modulus.valueBlock.valueHex),!0,!0,!0),e:N(G(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(f){if(!("n"in f))throw new Error('Absent mandatory parameter "n"');{const b=z(H(f.n,!0));this.modulus=new yn({valueHex:b.slice(0,Math.pow(2,de(b.byteLength)))})}if(!("e"in f))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new yn({valueHex:z(H(f.e,!0)).slice(0,3)})}}class Dr{constructor(f={}){this.algorithm=C(f,"algorithm",Dr.defaultValues("algorithm")),this.subjectPublicKey=C(f,"subjectPublicKey",Dr.defaultValues("subjectPublicKey")),"parsedKey"in f&&(this.parsedKey=C(f,"parsedKey",Dr.defaultValues("parsedKey"))),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"algorithm":return new Zn;case"subjectPublicKey":return new mt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[Zn.schema(b.algorithm||{}),new mt({name:b.subjectPublicKey||""})]})}fromSchema(f){Y(f,["algorithm","subjectPublicKey"]);const b=gi(f,f,Dr.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new Zn({schema:b.result.algorithm}),this.subjectPublicKey=b.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Kt.blockName())try{this.parsedKey=new Ir({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const x=ct(this.subjectPublicKey.valueBlock.valueHex);if(-1!==x.offset)try{this.parsedKey=new Ar({schema:x.result})}catch{}}}}toSchema(){return new Cn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const f={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":f.kty="EC";break;case"1.2.840.113549.1.1.1":f.kty="RSA"}const b=this.parsedKey.toJSON();for(const x of Object.keys(b))f[x]=b[x];return f}fromJSON(f){if("kty"in f){switch(f.kty.toUpperCase()){case"EC":this.parsedKey=new Ir({json:f}),this.algorithm=new Zn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Kt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Ar({json:f}),this.algorithm=new Zn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${f.kty}`)}this.subjectPublicKey=new mt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(f){let b=Promise.resolve();const x=this;if(typeof f>"u")return Promise.reject("Need to provide publicKey input parameter");const J=Jr();return typeof J>"u"?Promise.reject("Unable to create WebCrypto object"):(b=b.then(()=>J.exportKey("spki",f)),b=b.then(ue=>{const Ee=ct(ue);try{x.fromSchema(Ee.result)}catch{return Promise.reject("Error during initializing object from schema")}},ue=>Promise.reject(`Error during exporting public key: ${ue}`)),b)}}class Nr{constructor(f={}){this.type=C(f,"type",Nr.defaultValues("type")),this.values=C(f,"values",Nr.defaultValues("values")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"type":return""===b;case"values":return 0===b.length;default:throw new Error(`Invalid member name for Attribute class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.type||""}),new Ri({name:b.setName||"",value:[new Pi({name:b.values||"",value:new Er})]})]})}fromSchema(f){Y(f,["type","values"]);const b=gi(f,f,Nr.schema({names:{type:"type",values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=b.result.type.valueBlock.toString(),this.values=b.result.values}toSchema(){return new Cn({value:[new Kt({value:this.type}),new Ri({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,f=>f.toJSON())}}}class Vr{constructor(f={}){this.version=C(f,"version",Vr.defaultValues("version")),this.privateKey=C(f,"privateKey",Vr.defaultValues("privateKey")),"namedCurve"in f&&(this.namedCurve=C(f,"namedCurve",Vr.defaultValues("namedCurve"))),"publicKey"in f&&(this.publicKey=C(f,"publicKey",Vr.defaultValues("publicKey"))),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"version":return 1;case"privateKey":return new Mt;case"namedCurve":return"";case"publicKey":return new Ir;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"version":return b===Vr.defaultValues(f);case"privateKey":return b.isEqual(Vr.defaultValues(f));case"namedCurve":return""===b;case"publicKey":return Ir.compareWithDefault("namedCurve",b.namedCurve)&&Ir.compareWithDefault("x",b.x)&&Ir.compareWithDefault("y",b.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new yn({name:b.version||""}),new Mt({name:b.privateKey||""}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Kt({name:b.namedCurve||""})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new mt({name:b.publicKey||""})]})]})}fromSchema(f){Y(f,["version","privateKey","namedCurve","publicKey"]);const b=gi(f,f,Vr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=b.result.version.valueBlock.valueDec,this.privateKey=b.result.privateKey,"namedCurve"in b.result&&(this.namedCurve=b.result.namedCurve.valueBlock.toString()),"publicKey"in b.result){const x={schema:b.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(x.namedCurve=this.namedCurve),this.publicKey=new Ir(x)}}toSchema(){const f=[new yn({value:this.version}),this.privateKey];return"namedCurve"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[new Kt({value:this.namedCurve})]})),"publicKey"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:1},value:[new mt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new Cn({value:f})}toJSON(){if(!("namedCurve"in this)||Vr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let f="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":f="P-256";break;case"1.3.132.0.34":f="P-384";break;case"1.3.132.0.35":f="P-521"}const b={crv:f,d:N(G(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const x=this.publicKey.toJSON();b.x=x.x,b.y=x.y}return b}fromJSON(f){let b=0;if(!("crv"in f))throw new Error('Absent mandatory parameter "crv"');switch(f.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",b=32;break;case"P-384":this.namedCurve="1.3.132.0.34",b=48;break;case"P-521":this.namedCurve="1.3.132.0.35",b=66}if(!("d"in f))throw new Error('Absent mandatory parameter "d"');{const x=z(H(f.d,!0));if(x.byteLength<b){const J=new ArrayBuffer(b),ue=new Uint8Array(J),Ee=new Uint8Array(x);ue.set(Ee,1),this.privateKey=new Mt({valueHex:J})}else this.privateKey=new Mt({valueHex:x.slice(0,b)})}"x"in f&&"y"in f&&(this.publicKey=new Ir({json:f}))}}class or{constructor(f={}){this.prime=C(f,"prime",or.defaultValues("prime")),this.exponent=C(f,"exponent",or.defaultValues("exponent")),this.coefficient=C(f,"coefficient",or.defaultValues("coefficient")),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"prime":case"exponent":case"coefficient":return new yn;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new yn({name:b.prime||""}),new yn({name:b.exponent||""}),new yn({name:b.coefficient||""})]})}fromSchema(f){Y(f,["prime","exponent","coefficient"]);const b=gi(f,f,or.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=b.result.prime.convertFromDER(),this.exponent=b.result.exponent.convertFromDER(),this.coefficient=b.result.coefficient.convertFromDER()}toSchema(){return new Cn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:N(G(this.prime.valueBlock.valueHex),!0,!0),d:N(G(this.exponent.valueBlock.valueHex),!0,!0),t:N(G(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(f){if(!("r"in f))throw new Error('Absent mandatory parameter "r"');if(this.prime=new yn({valueHex:z(H(f.r,!0))}),!("d"in f))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new yn({valueHex:z(H(f.d,!0))}),!("t"in f))throw new Error('Absent mandatory parameter "t"');this.coefficient=new yn({valueHex:z(H(f.t,!0))})}}class Li{constructor(f={}){this.version=C(f,"version",Li.defaultValues("version")),this.modulus=C(f,"modulus",Li.defaultValues("modulus")),this.publicExponent=C(f,"publicExponent",Li.defaultValues("publicExponent")),this.privateExponent=C(f,"privateExponent",Li.defaultValues("privateExponent")),this.prime1=C(f,"prime1",Li.defaultValues("prime1")),this.prime2=C(f,"prime2",Li.defaultValues("prime2")),this.exponent1=C(f,"exponent1",Li.defaultValues("exponent1")),this.exponent2=C(f,"exponent2",Li.defaultValues("exponent2")),this.coefficient=C(f,"coefficient",Li.defaultValues("coefficient")),"otherPrimeInfos"in f&&(this.otherPrimeInfos=C(f,"otherPrimeInfos",Li.defaultValues("otherPrimeInfos"))),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new yn;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new yn({name:b.version||""}),new yn({name:b.modulus||""}),new yn({name:b.publicExponent||""}),new yn({name:b.privateExponent||""}),new yn({name:b.prime1||""}),new yn({name:b.prime2||""}),new yn({name:b.exponent1||""}),new yn({name:b.exponent2||""}),new yn({name:b.coefficient||""}),new Cn({optional:!0,value:[new Pi({name:b.otherPrimeInfosName||"",value:or.schema(b.otherPrimeInfo||{})})]})]})}fromSchema(f){Y(f,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const b=gi(f,f,Li.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=b.result.version.valueBlock.valueDec,this.modulus=b.result.modulus.convertFromDER(256),this.publicExponent=b.result.publicExponent,this.privateExponent=b.result.privateExponent.convertFromDER(256),this.prime1=b.result.prime1.convertFromDER(128),this.prime2=b.result.prime2.convertFromDER(128),this.exponent1=b.result.exponent1.convertFromDER(128),this.exponent2=b.result.exponent2.convertFromDER(128),this.coefficient=b.result.coefficient.convertFromDER(128),"otherPrimeInfos"in b.result&&(this.otherPrimeInfos=Array.from(b.result.otherPrimeInfos,x=>new or({schema:x})))}toSchema(){const f=[];return f.push(new yn({value:this.version})),f.push(this.modulus.convertToDER()),f.push(this.publicExponent),f.push(this.privateExponent.convertToDER()),f.push(this.prime1.convertToDER()),f.push(this.prime2.convertToDER()),f.push(this.exponent1.convertToDER()),f.push(this.exponent2.convertToDER()),f.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&f.push(new Cn({value:Array.from(this.otherPrimeInfos,b=>b.toSchema())})),new Cn({value:f})}toJSON(){const f={n:N(G(this.modulus.valueBlock.valueHex),!0,!0,!0),e:N(G(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:N(G(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:N(G(this.prime1.valueBlock.valueHex),!0,!0,!0),q:N(G(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:N(G(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:N(G(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:N(G(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(f.oth=Array.from(this.otherPrimeInfos,b=>b.toJSON())),f}fromJSON(f){if(!("n"in f))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new yn({valueHex:z(H(f.n,!0,!0))}),!("e"in f))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new yn({valueHex:z(H(f.e,!0,!0))}),!("d"in f))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new yn({valueHex:z(H(f.d,!0,!0))}),!("p"in f))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new yn({valueHex:z(H(f.p,!0,!0))}),!("q"in f))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new yn({valueHex:z(H(f.q,!0,!0))}),!("dp"in f))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new yn({valueHex:z(H(f.dp,!0,!0))}),!("dq"in f))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new yn({valueHex:z(H(f.dq,!0,!0))}),!("qi"in f))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new yn({valueHex:z(H(f.qi,!0,!0))}),"oth"in f&&(this.otherPrimeInfos=Array.from(f.oth,b=>new or({json:b})))}}class si{constructor(f={}){this.version=C(f,"version",si.defaultValues("version")),this.privateKeyAlgorithm=C(f,"privateKeyAlgorithm",si.defaultValues("privateKeyAlgorithm")),this.privateKey=C(f,"privateKey",si.defaultValues("privateKey")),"attributes"in f&&(this.attributes=C(f,"attributes",si.defaultValues("attributes"))),"parsedKey"in f&&(this.parsedKey=C(f,"parsedKey",si.defaultValues("parsedKey"))),"schema"in f&&this.fromSchema(f.schema),"json"in f&&this.fromJSON(f.json)}static defaultValues(f){switch(f){case"version":return 0;case"privateKeyAlgorithm":return new Zn;case"privateKey":return new Mt;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new yn({name:b.version||""}),Zn.schema(b.privateKeyAlgorithm||{}),new Mt({name:b.privateKey||""}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:b.attributes||"",value:Nr.schema()})]})]})}fromSchema(f){Y(f,["version","privateKeyAlgorithm","privateKey","attributes"]);const b=gi(f,f,si.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=b.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new Zn({schema:b.result.privateKeyAlgorithm}),this.privateKey=b.result.privateKey,"attributes"in b.result&&(this.attributes=Array.from(b.result.attributes,x=>new Nr({schema:x}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const x=ct(this.privateKey.valueBlock.valueHex);-1!==x.offset&&(this.parsedKey=new Li({schema:x.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Kt){const x=ct(this.privateKey.valueBlock.valueHex);-1!==x.offset&&(this.parsedKey=new Vr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:x.result}))}}}toSchema(){const f=[new yn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&f.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,b=>b.toSchema())})),new Cn({value:f})}toJSON(){if(!("parsedKey"in this)){const x={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(x.attributes=Array.from(this.attributes,J=>J.toJSON())),x}const f={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":f.kty="EC";break;case"1.2.840.113549.1.1.1":f.kty="RSA"}const b=this.parsedKey.toJSON();for(const x of Object.keys(b))f[x]=b[x];return f}fromJSON(f){if("kty"in f){switch(f.kty.toUpperCase()){case"EC":this.parsedKey=new Vr({json:f}),this.privateKeyAlgorithm=new Zn({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Kt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Li({json:f}),this.privateKeyAlgorithm=new Zn({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${f.kty}`)}this.privateKey=new Mt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class jr{constructor(f={}){if(this.contentType=C(f,"contentType",jr.defaultValues("contentType")),this.contentEncryptionAlgorithm=C(f,"contentEncryptionAlgorithm",jr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in f&&(this.encryptedContent=f.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const b=new Mt({idBlock:{isConstructed:!0},isConstructed:!0});let x=0,J=this.encryptedContent.valueBlock.valueHex.byteLength;for(;J>0;){const ue=new Uint8Array(this.encryptedContent.valueBlock.valueHex,x,x+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-x:1024),Ee=new ArrayBuffer(ue.length),ze=new Uint8Array(Ee);for(let A=0;A<ze.length;A++)ze[A]=ue[A];b.valueBlock.value.push(new Mt({valueHex:Ee})),J-=ue.length,x+=ue.length}this.encryptedContent=b}"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"contentType":return"";case"contentEncryptionAlgorithm":return new Zn;case"encryptedContent":return new Mt;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"contentType":return""===b;case"contentEncryptionAlgorithm":return""===b.algorithmId&&!("algorithmParams"in b);case"encryptedContent":return b.isEqual(jr.defaultValues(f));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.contentType||""}),Zn.schema(b.contentEncryptionAlgorithm||{}),new Tr({value:[new j({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Pi({value:new Mt})]}),new lt({name:b.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(f){Y(f,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const b=gi(f,f,jr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=b.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new Zn({schema:b.result.contentEncryptionAlgorithm}),"encryptedContent"in b.result&&(this.encryptedContent=b.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const f={isIndefiniteForm:!1},b=[];if(b.push(new Kt({value:this.contentType})),b.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){f.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const x=this.encryptedContent;x.idBlock.tagClass=3,x.idBlock.tagNumber=0,x.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,b.push(x)}return new Cn({lenBlock:f,value:b})}toJSON(){const f={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(f.encryptedContent=this.encryptedContent.toJSON()),f}}class gr{constructor(f={}){this.hashAlgorithm=C(f,"hashAlgorithm",gr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=C(f,"maskGenAlgorithm",gr.defaultValues("maskGenAlgorithm")),this.saltLength=C(f,"saltLength",gr.defaultValues("saltLength")),this.trailerField=C(f,"trailerField",gr.defaultValues("trailerField")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"hashAlgorithm":return new Zn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});case"maskGenAlgorithm":return new Zn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new Zn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new j({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[Zn.schema(b.hashAlgorithm||{})]}),new j({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[Zn.schema(b.maskGenAlgorithm||{})]}),new j({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new yn({name:b.saltLength||""})]}),new j({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new yn({name:b.trailerField||""})]})]})}fromSchema(f){Y(f,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const b=gi(f,f,gr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in b.result&&(this.hashAlgorithm=new Zn({schema:b.result.hashAlgorithm})),"maskGenAlgorithm"in b.result&&(this.maskGenAlgorithm=new Zn({schema:b.result.maskGenAlgorithm})),"saltLength"in b.result&&(this.saltLength=b.result.saltLength.valueBlock.valueDec),"trailerField"in b.result&&(this.trailerField=b.result.trailerField.valueBlock.valueDec)}toSchema(){const f=[];return this.hashAlgorithm.isEqual(gr.defaultValues("hashAlgorithm"))||f.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(gr.defaultValues("maskGenAlgorithm"))||f.push(new j({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==gr.defaultValues("saltLength")&&f.push(new j({idBlock:{tagClass:3,tagNumber:2},value:[new yn({value:this.saltLength})]})),this.trailerField!==gr.defaultValues("trailerField")&&f.push(new j({idBlock:{tagClass:3,tagNumber:3},value:[new yn({value:this.trailerField})]})),new Cn({value:f})}toJSON(){const f={};return this.hashAlgorithm.isEqual(gr.defaultValues("hashAlgorithm"))||(f.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(gr.defaultValues("maskGenAlgorithm"))||(f.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==gr.defaultValues("saltLength")&&(f.saltLength=this.saltLength),this.trailerField!==gr.defaultValues("trailerField")&&(f.trailerField=this.trailerField),f}}class zr{constructor(f={}){this.salt=C(f,"salt",zr.defaultValues("salt")),this.iterationCount=C(f,"iterationCount",zr.defaultValues("iterationCount")),"keyLength"in f&&(this.keyLength=C(f,"keyLength",zr.defaultValues("keyLength"))),"prf"in f&&(this.prf=C(f,"prf",zr.defaultValues("prf"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new Zn({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Tr({value:[new Mt({name:b.saltPrimitive||""}),Zn.schema(b.saltConstructed||{})]}),new yn({name:b.iterationCount||""}),new yn({name:b.keyLength||"",optional:!0}),Zn.schema(b.prf||{names:{optional:!0}})]})}fromSchema(f){Y(f,["salt","iterationCount","keyLength","prf"]);const b=gi(f,f,zr.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=b.result.salt,this.iterationCount=b.result.iterationCount.valueBlock.valueDec,"keyLength"in b.result&&(this.keyLength=b.result.keyLength.valueBlock.valueDec),"prf"in b.result&&(this.prf=new Zn({schema:b.result.prf}))}toSchema(){const f=[];return f.push(this.salt),f.push(new yn({value:this.iterationCount})),"keyLength"in this&&zr.defaultValues("keyLength")!==this.keyLength&&f.push(new yn({value:this.keyLength})),"prf"in this&&!1===zr.defaultValues("prf").isEqual(this.prf)&&f.push(this.prf.toSchema()),new Cn({value:f})}toJSON(){const f={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&zr.defaultValues("keyLength")!==this.keyLength&&(f.keyLength=this.keyLength),"prf"in this&&!1===zr.defaultValues("prf").isEqual(this.prf)&&(f.prf=this.prf.toJSON()),f}}class os{constructor(f={}){this.keyDerivationFunc=C(f,"keyDerivationFunc",os.defaultValues("keyDerivationFunc")),this.encryptionScheme=C(f,"encryptionScheme",os.defaultValues("encryptionScheme")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"keyDerivationFunc":case"encryptionScheme":return new Zn;default:throw new Error(`Invalid member name for PBES2Params class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[Zn.schema(b.keyDerivationFunc||{}),Zn.schema(b.encryptionScheme||{})]})}fromSchema(f){Y(f,["keyDerivationFunc","encryptionScheme"]);const b=gi(f,f,os.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new Zn({schema:b.result.keyDerivationFunc}),this.encryptionScheme=new Zn({schema:b.result.encryptionScheme})}toSchema(){return new Cn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function js(We,f,b,x,J,ue){let Ee,ze;const A=[];switch(f.toUpperCase()){case"SHA-1":Ee=20,ze=64;break;case"SHA-256":Ee=32,ze=64;break;case"SHA-384":Ee=48,ze=128;break;case"SHA-512":Ee=64,ze=128;break;default:throw new Error("Unsupported hashing algorithm")}const $=new Uint8Array(x),V=new ArrayBuffer(2*x.byteLength+2),ee=new Uint8Array(V);for(let ys=0;ys<$.length;ys++)ee[2*ys]=0,ee[2*ys+1]=$[ys];ee[ee.length-2]=0,ee[ee.length-1]=0,x=V.slice(0);const R=new ArrayBuffer(ze),be=new Uint8Array(R);for(let ys=0;ys<R.byteLength;ys++)be[ys]=3;const M=J.byteLength,se=ze*Math.ceil(M/ze),fe=new ArrayBuffer(se),Ot=new Uint8Array(fe),Fn=new Uint8Array(J);for(let ys=0;ys<se;ys++)Ot[ys]=Fn[ys%M];const Xn=x.byteLength,bi=ze*Math.ceil(Xn/ze),ns=new ArrayBuffer(bi),hs=new Uint8Array(ns),Yo=new Uint8Array(x);for(let ys=0;ys<bi;ys++)hs[ys]=Yo[ys%Xn];let vo=new ArrayBuffer(fe.byteLength+ns.byteLength),hl=new Uint8Array(vo);hl.set(Ot),hl.set(hs,Ot.length);const vh=Math.ceil((b>>3)/Ee);let ka=Promise.resolve(vo);for(let ys=0;ys<=vh;ys++){ka=ka.then(wa=>{const $a=new ArrayBuffer(R.byteLength+wa.byteLength),Ga=new Uint8Array($a);return Ga.set(be),Ga.set(hl,be.length),$a});for(let wa=0;wa<ue;wa++)ka=ka.then($a=>We.digest({name:f},new Uint8Array($a)));ka=ka.then(wa=>{const $a=new ArrayBuffer(ze),Ga=new Uint8Array($a);for(let Ha=0;Ha<$a.byteLength;Ha++)Ga[Ha]=wa[Ha%wa.length];const Hu=Math.ceil(M/ze)+Math.ceil(Xn/ze),da=[];let kl=0,fl=ze;for(let Ha=0;Ha<Hu;Ha++){const Vc=Array.from(new Uint8Array(vo.slice(kl,kl+fl)));kl+=ze,kl+ze>vo.byteLength&&(fl=vo.byteLength-kl);let Wu=511;for(let Wr=$a.byteLength-1;Wr>=0;Wr--)Wu>>=8,Wu+=Ga[Wr]+Vc[Wr],Vc[Wr]=255&Wu;da.push(...Vc)}return vo=new ArrayBuffer(da.length),hl=new Uint8Array(vo),hl.set(da),A.push(...new Uint8Array(wa)),vo})}return ka=ka.then(()=>{const ys=new ArrayBuffer(b>>3);return new Uint8Array(ys).set(new Uint8Array(A).slice(0,b>>3)),ys}),ka}class bo{constructor(f={}){this.crypto=C(f,"crypto",{}),this.subtle=C(f,"subtle",{}),this.name=C(f,"name","")}importKey(f,b,x,J,ue){let Ee={};switch(b instanceof Uint8Array&&(b=b.buffer),f.toLowerCase()){case"raw":return this.subtle.importKey("raw",b,x,J,ue);case"spki":{const ze=ct(b);if(-1===ze.offset)return Promise.reject("Incorrect keyData");const A=new Dr;try{A.fromSchema(ze.result)}catch{return Promise.reject("Incorrect keyData")}switch(x.name.toUpperCase()){case"RSA-PSS":switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="PS1";break;case"SHA-256":Ee.alg="PS256";break;case"SHA-384":Ee.alg="PS384";break;case"SHA-512":Ee.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ue=["verify"],Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,"1.2.840.113549.1.1.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);if(!("alg"in Ee))switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="RS1";break;case"SHA-256":Ee.alg="RS256";break;case"SHA-384":Ee.alg="RS384";break;case"SHA-512":Ee.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}const $=A.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"ECDSA":ue=["verify"];case"ECDH":{if(Ee={kty:"EC",ext:J,key_ops:ue},"1.2.840.10045.2.1"!==A.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${A.algorithm.algorithmId}`);const $=A.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"RSA-OAEP":{if(Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,"safari"===this.name.toLowerCase())Ee.alg="RSA-OAEP";else switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="RSA-OAEP";break;case"SHA-256":Ee.alg="RSA-OAEP-256";break;case"SHA-384":Ee.alg="RSA-OAEP-384";break;case"SHA-512":Ee.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}const $=A.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"RSAES-PKCS1-V1_5":{Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,Ee.alg="PS1";const $=A.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;default:return Promise.reject(`Incorrect algorithm name: ${x.name.toUpperCase()}`)}}break;case"pkcs8":{const ze=new si,A=ct(b);if(-1===A.offset)return Promise.reject("Incorrect keyData");try{ze.fromSchema(A.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in ze))return Promise.reject("Incorrect keyData");switch(x.name.toUpperCase()){case"RSA-PSS":switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="PS1";break;case"SHA-256":Ee.alg="PS256";break;case"SHA-384":Ee.alg="PS384";break;case"SHA-512":Ee.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ue=["sign"],Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,"1.2.840.113549.1.1.1"!==ze.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${ze.privateKeyAlgorithm.algorithmId}`);if(!("alg"in Ee))switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="RS1";break;case"SHA-256":Ee.alg="RS256";break;case"SHA-384":Ee.alg="RS384";break;case"SHA-512":Ee.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}const $=ze.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"ECDSA":ue=["sign"];case"ECDH":{if(Ee={kty:"EC",ext:J,key_ops:ue},"1.2.840.10045.2.1"!==ze.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${ze.privateKeyAlgorithm.algorithmId}`);const $=ze.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"RSA-OAEP":{if(Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,"safari"===this.name.toLowerCase())Ee.alg="RSA-OAEP";else switch(x.hash.name.toUpperCase()){case"SHA-1":Ee.alg="RSA-OAEP";break;case"SHA-256":Ee.alg="RSA-OAEP-256";break;case"SHA-384":Ee.alg="RSA-OAEP-384";break;case"SHA-512":Ee.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${x.hash.name.toUpperCase()}`)}const $=ze.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;case"RSAES-PKCS1-V1_5":{ue=["decrypt"],Ee.kty="RSA",Ee.ext=J,Ee.key_ops=ue,Ee.alg="PS1";const $=ze.toJSON();for(const V of Object.keys($))Ee[V]=$[V]}break;default:return Promise.reject(`Incorrect algorithm name: ${x.name.toUpperCase()}`)}}break;case"jwk":Ee=b;break;default:return Promise.reject(`Incorrect format: ${f}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",z(JSON.stringify(Ee)),x,J,ue)).then(ze=>ze,()=>this.subtle.importKey("jwk",Ee,x,J,ue)):this.subtle.importKey("jwk",Ee,x,J,ue)}exportKey(f,b){let x=this.subtle.exportKey("jwk",b);switch("safari"===this.name.toLowerCase()&&(x=x.then(J=>J instanceof ArrayBuffer?JSON.parse(G(J)):J)),f.toLowerCase()){case"raw":return this.subtle.exportKey("raw",b);case"spki":x=x.then(J=>{const ue=new Dr;try{ue.fromJSON(J)}catch{return Promise.reject("Incorrect key data")}return ue.toSchema().toBER(!1)});break;case"pkcs8":x=x.then(J=>{const ue=new si;try{ue.fromJSON(J)}catch{return Promise.reject("Incorrect key data")}return ue.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${f}`)}return x}convert(f,b,x,J,ue,Ee){switch(f.toLowerCase()){case"raw":switch(b.toLowerCase()){case"raw":return Promise.resolve(x);case"spki":return Promise.resolve().then(()=>this.importKey("raw",x,J,ue,Ee)).then(ze=>this.exportKey("spki",ze));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",x,J,ue,Ee)).then(ze=>this.exportKey("pkcs8",ze));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",x,J,ue,Ee)).then(ze=>this.exportKey("jwk",ze));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"spki":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",x,J,ue,Ee)).then(ze=>this.exportKey("raw",ze));case"spki":return Promise.resolve(x);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",x,J,ue,Ee)).then(ze=>this.exportKey("jwk",ze));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"pkcs8":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",x,J,ue,Ee)).then(ze=>this.exportKey("raw",ze));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(x);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",x,J,ue,Ee)).then(ze=>this.exportKey("jwk",ze));default:return Promise.reject(`Incorrect outputFormat: ${b}`)}case"jwk":switch(b.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",x,J,ue,Ee)).then(ze=>this.exportKey("raw",ze));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",x,J,ue,Ee)).then(ze=>this.exportKey("spki",ze));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",x,J,ue,Ee)).then(ze=>this.exportKey("pkcs8",ze));case"jwk":return Promise.resolve(x);default:return Promise.reject(`Incorrect outputFormat: ${b}`)}default:return Promise.reject(`Incorrect inputFormat: ${f}`)}}encrypt(...f){return this.subtle.encrypt(...f)}decrypt(...f){return this.subtle.decrypt(...f)}sign(...f){return this.subtle.sign(...f)}verify(...f){return this.subtle.verify(...f)}digest(...f){return this.subtle.digest(...f)}generateKey(...f){return this.subtle.generateKey(...f)}deriveKey(...f){return this.subtle.deriveKey(...f)}deriveBits(...f){return this.subtle.deriveBits(...f)}wrapKey(...f){return this.subtle.wrapKey(...f)}unwrapKey(...f){return this.subtle.unwrapKey(...f)}getRandomValues(f){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(f)}getAlgorithmByOID(f){switch(f){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(f){let b="";switch(f.name.toUpperCase()){case"RSAES-PKCS1-V1_5":b="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(f.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.1.1.5";break;case"SHA-256":b="1.2.840.113549.1.1.11";break;case"SHA-384":b="1.2.840.113549.1.1.12";break;case"SHA-512":b="1.2.840.113549.1.1.13"}break;case"RSA-PSS":b="1.2.840.113549.1.1.10";break;case"RSA-OAEP":b="1.2.840.113549.1.1.7";break;case"ECDSA":switch(f.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.10045.4.1";break;case"SHA-256":b="1.2.840.10045.4.3.2";break;case"SHA-384":b="1.2.840.10045.4.3.3";break;case"SHA-512":b="1.2.840.10045.4.3.4"}break;case"ECDH":switch(f.kdf.toUpperCase()){case"SHA-1":b="1.3.133.16.840.63.0.2";break;case"SHA-256":b="1.3.132.1.11.1";break;case"SHA-384":b="1.3.132.1.11.2";break;case"SHA-512":b="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(f.length){case 128:b="2.16.840.1.101.3.4.1.2";break;case 192:b="2.16.840.1.101.3.4.1.22";break;case 256:b="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(f.length){case 128:b="2.16.840.1.101.3.4.1.6";break;case 192:b="2.16.840.1.101.3.4.1.26";break;case 256:b="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(f.length){case 128:b="2.16.840.1.101.3.4.1.4";break;case 192:b="2.16.840.1.101.3.4.1.24";break;case 256:b="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(f.length){case 128:b="2.16.840.1.101.3.4.1.5";break;case 192:b="2.16.840.1.101.3.4.1.25";break;case 256:b="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(f.hash.name.toUpperCase()){case"SHA-1":b="1.2.840.113549.2.7";break;case"SHA-256":b="1.2.840.113549.2.9";break;case"SHA-384":b="1.2.840.113549.2.10";break;case"SHA-512":b="1.2.840.113549.2.11"}break;case"DH":b="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":b="1.3.14.3.2.26";break;case"SHA-256":b="2.16.840.1.101.3.4.2.1";break;case"SHA-384":b="2.16.840.1.101.3.4.2.2";break;case"SHA-512":b="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":b="1.2.840.113549.1.5.12";break;case"P-256":b="1.2.840.10045.3.1.7";break;case"P-384":b="1.3.132.0.34";break;case"P-521":b="1.3.132.0.35"}return b}getAlgorithmParameters(f,b){let x={algorithm:{},usages:[]};switch(f.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(b.toLowerCase()){case"generatekey":x={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":x={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(b.toLowerCase()){case"sign":case"verify":x={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":x={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":x={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(b.toLowerCase()){case"encrypt":case"decrypt":x={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":x={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":x={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(b.toLowerCase()){case"generatekey":x={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":x={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":x={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(b.toLowerCase()){case"exportkey":case"importkey":case"generatekey":x={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":x={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":x={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":x={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":x={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":x={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":x={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":x={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(b.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":x={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(b.toLowerCase()){case"sign":case"verify":x={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":x={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};x={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==b.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};x={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return x}getHashAlgorithm(f){let b="";switch(f.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":b="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":b="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":b="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":b="SHA-512";break;case"1.2.840.113549.1.1.10":try{const x=new gr({schema:f.algorithmParams});if("hashAlgorithm"in x){const J=this.getAlgorithmByOID(x.hashAlgorithm.algorithmId);if(!("name"in J))return"";b=J.name}else b="SHA-1"}catch{}}return b}encryptEncryptedContentInfo(f){if(!(f instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in f))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in f))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in f))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in f))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in f))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in f))return Promise.reject('Absent mandatory parameter "contentType"');const b=this.getOIDByAlgorithm(f.contentEncryptionAlgorithm);if(""===b)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const x=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===x)return Promise.reject("Can not find OID for PBKDF2");const J=this.getOIDByAlgorithm({name:"HMAC",hash:{name:f.hmacHashAlgorithm}});if(""===J)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${f.hmacHashAlgorithm}`);let ue=Promise.resolve();const Ee=new ArrayBuffer(16),ze=new Uint8Array(Ee);this.getRandomValues(ze);const A=new ArrayBuffer(64),$=new Uint8Array(A);this.getRandomValues($);const V=new Uint8Array(f.contentToEncrypt),ee=new zr({salt:new Mt({valueHex:A}),iterationCount:f.iterationCount,prf:new Zn({algorithmId:J,algorithmParams:new Bt})});return ue=ue.then(()=>{const R=new Uint8Array(f.password);return this.importKey("raw",R,"PBKDF2",!1,["deriveKey"])},R=>Promise.reject(R)),ue=ue.then(R=>this.deriveKey({name:"PBKDF2",hash:{name:f.hmacHashAlgorithm},salt:$,iterations:f.iterationCount},R,f.contentEncryptionAlgorithm,!1,["encrypt"]),R=>Promise.reject(R)),ue=ue.then(R=>this.encrypt({name:f.contentEncryptionAlgorithm.name,iv:ze},R,V),R=>Promise.reject(R)),ue=ue.then(R=>{const be=new os({keyDerivationFunc:new Zn({algorithmId:x,algorithmParams:ee.toSchema()}),encryptionScheme:new Zn({algorithmId:b,algorithmParams:new Mt({valueHex:Ee})})});return new jr({contentType:f.contentType,contentEncryptionAlgorithm:new Zn({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:be.toSchema()}),encryptedContent:new Mt({valueHex:R})})},R=>Promise.reject(R)),ue}decryptEncryptedContentInfo(f){if(!(f instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in f))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in f))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==f.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${f.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let x,J,b=Promise.resolve();try{x=new os({schema:f.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{J=new zr({schema:x.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ue=this.getAlgorithmByOID(x.encryptionScheme.algorithmId);if(!("name"in ue))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${x.encryptionScheme.algorithmId}`);const ze=new Uint8Array(x.encryptionScheme.algorithmParams.valueBlock.valueHex),$=new Uint8Array(J.salt.valueBlock.valueHex),V=J.iterationCount;let ee="SHA-1";if("prf"in J){const R=this.getAlgorithmByOID(J.prf.algorithmId);if(!("name"in R))return Promise.reject("Incorrect OID for HMAC hash algorithm");ee=R.hash.name}return b=b.then(()=>this.importKey("raw",f.password,"PBKDF2",!1,["deriveKey"]),R=>Promise.reject(R)),b=b.then(R=>this.deriveKey({name:"PBKDF2",hash:{name:ee},salt:$,iterations:V},R,ue,!1,["decrypt"]),R=>Promise.reject(R)),b=b.then(R=>{let be=new ArrayBuffer(0);if(!1===f.encryptedContentInfo.encryptedContent.idBlock.isConstructed)be=f.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const M of f.encryptedContentInfo.encryptedContent.valueBlock.value)be=v(be,M.valueBlock.valueHex);return this.decrypt({name:ue.name,iv:ze},R,be)},R=>Promise.reject(R)),b}stampDataWithPassword(f){if(!(f instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in f))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in f))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in f))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in f))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in f))return Promise.reject('Absent mandatory parameter "contentToStamp"');let b;switch(f.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${f.hashAlgorithm}`)}let x=Promise.resolve();const J={name:"HMAC",length:b,hash:{name:f.hashAlgorithm}};return x=x.then(()=>js(this,f.hashAlgorithm,b,f.password,f.salt,f.iterationCount)),x=x.then(ue=>this.importKey("raw",new Uint8Array(ue),J,!1,["sign"])),x=x.then(ue=>this.sign(J,ue,new Uint8Array(f.contentToStamp)),ue=>Promise.reject(ue)),x}verifyDataStampedWithPassword(f){if(!(f instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in f))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in f))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in f))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in f))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in f))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in f))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let b;switch(f.hashAlgorithm.toLowerCase()){case"sha-1":b=160;break;case"sha-256":b=256;break;case"sha-384":b=384;break;case"sha-512":b=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${f.hashAlgorithm}`)}let x=Promise.resolve();const J={name:"HMAC",length:b,hash:{name:f.hashAlgorithm}};return x=x.then(()=>js(this,f.hashAlgorithm,b,f.password,f.salt,f.iterationCount)),x=x.then(ue=>this.importKey("raw",new Uint8Array(ue),J,!1,["verify"])),x=x.then(ue=>this.verify(J,ue,new Uint8Array(f.signatureToVerify),new Uint8Array(f.contentToVerify)),ue=>Promise.reject(ue)),x}getSignatureParameters(f,b="SHA-1"){if(""===this.getOIDByAlgorithm({name:b}))return Promise.reject(`Unsupported hash algorithm: ${b}`);const J=new Zn,ue=this.getAlgorithmParameters(f.algorithm.name,"sign");switch(ue.algorithm.hash.name=b,f.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":J.algorithmId=this.getOIDByAlgorithm(ue.algorithm);break;case"RSA-PSS":{switch(b.toUpperCase()){case"SHA-256":ue.algorithm.saltLength=32;break;case"SHA-384":ue.algorithm.saltLength=48;break;case"SHA-512":ue.algorithm.saltLength=64}const Ee={};if("SHA-1"!==b.toUpperCase()){const A=this.getOIDByAlgorithm({name:b});if(""===A)return Promise.reject(`Unsupported hash algorithm: ${b}`);Ee.hashAlgorithm=new Zn({algorithmId:A,algorithmParams:new Bt}),Ee.maskGenAlgorithm=new Zn({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:Ee.hashAlgorithm.toSchema()})}20!==ue.algorithm.saltLength&&(Ee.saltLength=ue.algorithm.saltLength);const ze=new gr(Ee);J.algorithmId="1.2.840.113549.1.1.10",J.algorithmParams=ze.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${f.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:J,parameters:ue}))}signWithPrivateKey(f,b,x){return this.sign(x.algorithm,b,new Uint8Array(f)).then(J=>("ECDSA"===x.algorithm.name&&(J=function Cr(We){if(We.byteLength%2!=0)return new ArrayBuffer(0);const f=We.byteLength/2,b=new ArrayBuffer(f);new Uint8Array(b).set(new Uint8Array(We,0,f));const J=new yn({valueHex:b}),ue=new ArrayBuffer(f);new Uint8Array(ue).set(new Uint8Array(We,f,f));const ze=new yn({valueHex:ue});return new Cn({value:[J.convertToDER(),ze.convertToDER()]}).toBER(!1)}(J)),J),J=>Promise.reject(`Signing error: ${J}`))}fillPublicKeyParameters(f,b){const x={},J=this.getHashAlgorithm(b);if(""===J)return Promise.reject(`Unsupported signature algorithm: ${b.algorithmId}`);let ue;ue="1.2.840.113549.1.1.10"===b.algorithmId?b.algorithmId:f.algorithm.algorithmId;const Ee=this.getAlgorithmByOID(ue);if("name"in Ee==="")return Promise.reject(`Unsupported public key algorithm: ${b.algorithmId}`);if(x.algorithm=this.getAlgorithmParameters(Ee.name,"importkey"),"hash"in x.algorithm.algorithm&&(x.algorithm.algorithm.hash.name=J),"ECDSA"===Ee.name){let ze=!1;if("algorithmParams"in f.algorithm&&"idBlock"in f.algorithm.algorithmParams&&1===f.algorithm.algorithmParams.idBlock.tagClass&&6===f.algorithm.algorithmParams.idBlock.tagNumber&&(ze=!0),!1===ze)return Promise.reject("Incorrect type for ECDSA public key parameters");const A=this.getAlgorithmByOID(f.algorithm.algorithmParams.valueBlock.toString());if(!("name"in A))return Promise.reject(`Unsupported named curve algorithm: ${f.algorithm.algorithmParams.valueBlock.toString()}`);x.algorithm.algorithm.namedCurve=A.name}return x}getPublicKey(f,b,x=null){null===x&&(x=this.fillPublicKeyParameters(f,b));const ue=f.toSchema().toBER(!1),Ee=new Uint8Array(ue);return this.importKey("spki",Ee,x.algorithm.algorithm,!0,x.algorithm.usages)}verifyWithPublicKey(f,b,x,J,ue=null){let Ee=Promise.resolve();if(null===ue){if(""===(ue=this.getHashAlgorithm(J)))return Promise.reject(`Unsupported signature algorithm: ${J.algorithmId}`);Ee=Ee.then(()=>this.getPublicKey(x,J))}else{const ze={};let A;A="1.2.840.113549.1.1.10"===J.algorithmId?J.algorithmId:x.algorithm.algorithmId;const $=this.getAlgorithmByOID(A);if("name"in $==="")return Promise.reject(`Unsupported public key algorithm: ${J.algorithmId}`);if(ze.algorithm=this.getAlgorithmParameters($.name,"importkey"),"hash"in ze.algorithm.algorithm&&(ze.algorithm.algorithm.hash.name=ue),"ECDSA"===$.name){let V=!1;if("algorithmParams"in x.algorithm&&"idBlock"in x.algorithm.algorithmParams&&1===x.algorithm.algorithmParams.idBlock.tagClass&&6===x.algorithm.algorithmParams.idBlock.tagNumber&&(V=!0),!1===V)return Promise.reject("Incorrect type for ECDSA public key parameters");const ee=this.getAlgorithmByOID(x.algorithm.algorithmParams.valueBlock.toString());if(!("name"in ee))return Promise.reject(`Unsupported named curve algorithm: ${x.algorithm.algorithmParams.valueBlock.toString()}`);ze.algorithm.algorithm.namedCurve=ee.name}Ee=Ee.then(()=>this.getPublicKey(x,null,ze))}return Ee=Ee.then(ze=>{const A=this.getAlgorithmParameters(ze.algorithm.name,"verify");"hash"in A.algorithm&&(A.algorithm.hash.name=ue);let $=b.valueBlock.valueHex;if("ECDSA"===ze.algorithm.name&&($=function Ws(We){if(!(We instanceof Cn))return new ArrayBuffer(0);if(2!==We.valueBlock.value.length)return new ArrayBuffer(0);if(!(We.valueBlock.value[0]instanceof yn))return new ArrayBuffer(0);if(!(We.valueBlock.value[1]instanceof yn))return new ArrayBuffer(0);const f=We.valueBlock.value[0].convertFromDER(),b=We.valueBlock.value[1].convertFromDER();switch(!0){case f.valueBlock.valueHex.byteLength<b.valueBlock.valueHex.byteLength:{if(b.valueBlock.valueHex.byteLength-f.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const x=b.valueBlock.valueHex.byteLength,J=new Uint8Array(f.valueBlock.valueHex),ue=new ArrayBuffer(x),Ee=new Uint8Array(ue);return Ee.set(J,1),Ee[0]=0,v(ue,b.valueBlock.valueHex)}case f.valueBlock.valueHex.byteLength>b.valueBlock.valueHex.byteLength:{if(f.valueBlock.valueHex.byteLength-b.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const x=f.valueBlock.valueHex.byteLength,J=new Uint8Array(b.valueBlock.valueHex),ue=new ArrayBuffer(x),Ee=new Uint8Array(ue);return Ee.set(J,1),Ee[0]=0,v(f.valueBlock.valueHex,ue)}default:if(f.valueBlock.valueHex.byteLength%2){const x=f.valueBlock.valueHex.byteLength+1,J=new Uint8Array(f.valueBlock.valueHex),ue=new ArrayBuffer(x),Ee=new Uint8Array(ue);Ee.set(J,1),Ee[0]=0;const ze=new Uint8Array(b.valueBlock.valueHex),A=new ArrayBuffer(x),$=new Uint8Array(A);return $.set(ze,1),$[0]=0,v(ue,A)}}return v(f.valueBlock.valueHex,b.valueBlock.valueHex)}(ct($).result)),"RSA-PSS"===ze.algorithm.name){let V;try{V=new gr({schema:J.algorithmParams})}catch(R){return Promise.reject(R)}A.algorithm.saltLength="saltLength"in V?V.saltLength:20;let ee="SHA-1";if("hashAlgorithm"in V){const R=this.getAlgorithmByOID(V.hashAlgorithm.algorithmId);if(!("name"in R))return Promise.reject(`Unrecognized hash algorithm: ${V.hashAlgorithm.algorithmId}`);ee=R.name}A.algorithm.hash.name=ee}return this.verify(A.algorithm,ze,new Uint8Array($),new Uint8Array(f))}),Ee}}let bs={name:"none",crypto:null,subtle:null};function Cs(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let We;try{We=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return We}return bs}function Jr(){const We=Cs();if(null!==We.subtle)return We.subtle}function Rs(We){let f=!1,b="";const x=We.trim();for(let J=0;J<x.length;J++)32===x.charCodeAt(J)?!1===f&&(f=!0):(f&&(b+=" ",f=!1),b+=x[J]);return b.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let f="webcrypto";const b=self.crypto;let x;if("webkitSubtle"in self.crypto){try{x=self.crypto.webkitSubtle}catch{x=self.crypto.subtle}f="safari"}"subtle"in self.crypto&&(x=self.crypto.subtle),bs=typeof x>"u"?{name:f,crypto:b,subtle:null}:{name:f,crypto:b,subtle:new bo({name:f,crypto:self.crypto,subtle:x})}}!function vr(We,f,b){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:We,crypto:f,subtle:b}}else bs.name!==We&&(bs={name:We,crypto:f,subtle:b})}(bs.name,bs.crypto,bs.subtle)}();class Or{constructor(f={}){this.type=C(f,"type",Or.defaultValues("type")),this.value=C(f,"value",Or.defaultValues("value")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.type||""}),new Er({name:b.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(f){Y(f,["type","typeValue"]);const b=gi(f,f,Or.schema({names:{type:"type",value:"typeValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=b.result.type.valueBlock.toString(),this.value=b.result.typeValue}toSchema(){return new Cn({value:[new Kt({value:this.type}),this.value]})}toJSON(){const f={type:this.type};return f.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,f}isEqual(f){const b=[Vi.blockName(),rt.blockName(),Zt.blockName(),Xt.blockName(),an.blockName(),Ue.blockName(),ot.blockName(),_n.blockName(),In.blockName(),_i.blockName(),Ti.blockName(),rr.blockName()];if(f.constructor.blockName()===Or.blockName()){if(this.type!==f.type)return!1;let x=[!1,!1];const J=this.value.constructor.blockName();for(const ue of b)J===ue&&(x[0]=!0),f.value.constructor.blockName()===ue&&(x[1]=!0);if(x[0]^x[1])return!1;if(x=x[0]&&x[1],x){const ue=Rs(this.value.valueBlock.value),Ee=Rs(f.value.valueBlock.value);if(0!==ue.localeCompare(Ee))return!1}else if(!1===k(this.value.valueBeforeDecode,f.value.valueBeforeDecode))return!1;return!0}return f instanceof ArrayBuffer&&k(this.value.valueBeforeDecode,f)}}class wr{constructor(f={}){this.typesAndValues=C(f,"typesAndValues",wr.defaultValues("typesAndValues")),this.valueBeforeDecode=C(f,"valueBeforeDecode",wr.defaultValues("valueBeforeDecode")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"typesAndValues":return 0===b.length;case"valueBeforeDecode":return 0===b.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.repeatedSequence||"",value:new Ri({value:[new Pi({name:b.repeatedSet||"",value:Or.schema(b.typeAndValue||{})})]})})]})}fromSchema(f){Y(f,["RDN","typesAndValues"]);const b=gi(f,f,wr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in b.result&&(this.typesAndValues=Array.from(b.result.typesAndValues,x=>new Or({schema:x}))),this.valueBeforeDecode=b.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new Cn({value:[new Ri({value:Array.from(this.typesAndValues,b=>b.toSchema())})]}):ct(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,f=>f.toJSON())}}isEqual(f){if(f instanceof wr){if(this.typesAndValues.length!==f.typesAndValues.length)return!1;for(const[b,x]of this.typesAndValues.entries())if(!1===x.isEqual(f.typesAndValues[b]))return!1;return!0}return f instanceof ArrayBuffer&&k(this.valueBeforeDecode,f)}}class dr{constructor(f={}){this.type=C(f,"type",dr.defaultValues("type")),this.value=C(f,"value",dr.defaultValues("value")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${f}`)}}static schema(f={},b=!1){const x=C(f,"names",{});return new Tr({optional:b,value:[new ei({name:x.utcTimeName||""}),new mr({name:x.generalTimeName||""})]})}fromSchema(f){Y(f,["utcTimeName","generalTimeName"]);const b=gi(f,f,dr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in b.result&&(this.type=0,this.value=b.result.utcTimeName.toDate()),"generalTimeName"in b.result&&(this.type=1,this.value=b.result.generalTimeName.toDate())}toSchema(){let f={};return 0===this.type&&(f=new ei({valueDate:this.value})),1===this.type&&(f=new mr({valueDate:this.value})),f}toJSON(){return{type:this.type,value:this.value}}}class $r{constructor(f={}){this.attributes=C(f,"attributes",$r.defaultValues("attributes")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("attributes"===f)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.attributes||"",value:Nr.schema()})]})}fromSchema(f){Y(f,["attributes"]);const b=gi(f,f,$r.schema({names:{attributes:"attributes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(b.result.attributes,x=>new Nr({schema:x}))}toSchema(){return new Cn({value:Array.from(this.attributes,f=>f.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,f=>f.toJSON())}}}class Zr{constructor(f={}){"notBefore"in f&&(this.notBefore=C(f,"notBefore",Zr.defaultValues("notBefore"))),"notAfter"in f&&(this.notAfter=C(f,"notAfter",Zr.defaultValues("notAfter"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new lt({name:b.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new lt({name:b.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(f){Y(f,["notBefore","notAfter"]);const b=gi(f,f,Zr.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in b.result){const x=new mr;x.fromBuffer(b.result.notBefore.valueBlock.valueHex),this.notBefore=x.toDate()}if("notAfter"in b.result){const x=new mr({valueHex:b.result.notAfter.valueBlock.valueHex});x.fromBuffer(b.result.notAfter.valueBlock.valueHex),this.notAfter=x.toDate()}}toSchema(){const f=[];return"notBefore"in this&&f.push(new lt({idBlock:{tagClass:3,tagNumber:0},valueHex:new mr({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&f.push(new lt({idBlock:{tagClass:3,tagNumber:1},valueHex:new mr({valueDate:this.notAfter}).valueBlock.valueHex})),new Cn({value:f})}toJSON(){const f={};return"notBefore"in this&&(f.notBefore=this.notBefore),"notAfter"in this&&(f.notAfter=this.notAfter),f}}function Qs(We={},f=!1){const b=C(We,"names",{});return new Cn({optional:f,value:[new j({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:b.country_name||"",value:[new Tr({value:[new Xt,new an]})]}),new j({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:b.administration_domain_name||"",value:[new Tr({value:[new Xt,new an]})]}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:b.network_address||"",isHexOnly:!0}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:b.terminal_identifier||"",isHexOnly:!0}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:b.private_domain_name||"",value:[new Tr({value:[new Xt,new an]})]}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:b.organization_name||"",isHexOnly:!0}),new lt({optional:!0,name:b.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new j({optional:!0,name:b.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new lt({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new lt({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new j({optional:!0,name:b.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Pi({value:new an})]})]})}function ua(We=!1){return new Cn({optional:We,value:[new an,new an]})}function ws(We=!1){return new Ri({optional:We,value:[new lt({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Er]})]})}class ui{constructor(f={}){this.type=C(f,"type",ui.defaultValues("type")),this.value=C(f,"value",ui.defaultValues("value")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"type":return b===ui.defaultValues(f);case"value":return 0===Object.keys(b).length;default:throw new Error(`Invalid member name for GeneralName class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Tr({value:[new j({idBlock:{tagClass:3,tagNumber:0},name:b.blockName||"",value:[new Kt,new j({idBlock:{tagClass:3,tagNumber:0},value:[new Er]})]}),new lt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new lt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new j({idBlock:{tagClass:3,tagNumber:3},name:b.blockName||"",value:[Qs(b.builtInStandardAttributes||{},!1),ua(!0),ws(!0)]}),new j({idBlock:{tagClass:3,tagNumber:4},name:b.blockName||"",value:[wr.schema(b.directoryName||{})]}),new j({idBlock:{tagClass:3,tagNumber:5},name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Tr({value:[new Ue,new an,new Zt,new Vi,new rt]})]}),new j({idBlock:{tagClass:3,tagNumber:1},value:[new Tr({value:[new Ue,new an,new Zt,new Vi,new rt]})]})]}),new lt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new lt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new lt({name:b.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(f){Y(f,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const b=gi(f,f,ui.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=b.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=b.result.blockName;break;case 1:case 2:case 6:{const x=b.result.blockName;x.idBlock.tagClass=1,x.idBlock.tagNumber=22;const J=x.toBER(!1);this.value=ct(J).result.valueBlock.value}break;case 4:this.value=new wr({schema:b.result.directoryName});break;case 5:this.value=b.result.ediPartyName;break;case 7:this.value=new Mt({valueHex:b.result.blockName.valueBlock.valueHex});break;case 8:{const x=b.result.blockName;x.idBlock.tagClass=1,x.idBlock.tagNumber=6;const J=x.toBER(!1);this.value=ct(J).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new j({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const f=new _n({value:this.value});return f.idBlock.tagClass=3,f.idBlock.tagNumber=this.type,f}case 4:return new j({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const f=this.value;return f.idBlock.tagClass=3,f.idBlock.tagNumber=this.type,f}case 8:{const f=new Kt({value:this.value});return f.idBlock.tagClass=3,f.idBlock.tagNumber=this.type,f}default:return ui.schema()}}toJSON(){const f={type:this.type,value:""};if("string"==typeof this.value)f.value=this.value;else try{f.value=this.value.toJSON()}catch{}return f}}class as{constructor(f={}){this.altNames=C(f,"altNames",as.defaultValues("altNames")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("altNames"===f)return[];throw new Error(`Invalid member name for AltName class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.altNames||"",value:ui.schema()})]})}fromSchema(f){Y(f,["altNames"]);const b=gi(f,f,as.schema({names:{altNames:"altNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in b.result&&(this.altNames=Array.from(b.result.altNames,x=>new ui({schema:x})))}toSchema(){return new Cn({value:Array.from(this.altNames,f=>f.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,f=>f.toJSON())}}}class Gs{constructor(f={}){this.cA=C(f,"cA",!1),"pathLenConstraint"in f&&(this.pathLenConstraint=C(f,"pathLenConstraint",0)),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("cA"===f)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pn({optional:!0,name:b.cA||""}),new yn({optional:!0,name:b.pathLenConstraint||""})]})}fromSchema(f){Y(f,["cA","pathLenConstraint"]);const b=gi(f,f,Gs.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in b.result&&(this.cA=b.result.cA.valueBlock.value),"pathLenConstraint"in b.result&&(this.pathLenConstraint=b.result.pathLenConstraint.valueBlock.isHexOnly?b.result.pathLenConstraint:b.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const f=[];return this.cA!==Gs.defaultValues("cA")&&f.push(new Pn({value:this.cA})),"pathLenConstraint"in this&&f.push(this.pathLenConstraint instanceof yn?this.pathLenConstraint:new yn({value:this.pathLenConstraint})),new Cn({value:f})}toJSON(){const f={};return this.cA!==Gs.defaultValues("cA")&&(f.cA=this.cA),"pathLenConstraint"in this&&(f.pathLenConstraint=this.pathLenConstraint instanceof yn?this.pathLenConstraint.toJSON():this.pathLenConstraint),f}}class Rr{constructor(f={}){"distributionPoint"in f&&(this.distributionPoint=C(f,"distributionPoint",Rr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=C(f,"onlyContainsUserCerts",Rr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=C(f,"onlyContainsCACerts",Rr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in f&&(this.onlySomeReasons=C(f,"onlySomeReasons",Rr.defaultValues("onlySomeReasons"))),this.indirectCRL=C(f,"indirectCRL",Rr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=C(f,"onlyContainsAttributeCerts",Rr.defaultValues("onlyContainsAttributeCerts")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Tr({value:[new j({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:b.distributionPointNames||"",value:ui.schema()})]}),new j({name:b.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:wr.schema().valueBlock.value})]})]}),new lt({name:b.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new lt({name:b.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new lt({name:b.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new lt({name:b.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new lt({name:b.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(f){Y(f,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const b=gi(f,f,Rr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in b.result)switch(!0){case 0===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(b.result.distributionPointNames,x=>new ui({schema:x}));break;case 1===b.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new wr({schema:new Cn({value:b.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in b.result){const x=new Uint8Array(b.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==x[0]}if("onlyContainsCACerts"in b.result){const x=new Uint8Array(b.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==x[0]}if("onlySomeReasons"in b.result){const x=new Uint8Array(b.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=x[0]}if("indirectCRL"in b.result){const x=new Uint8Array(b.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==x[0]}if("onlyContainsAttributeCerts"in b.result){const x=new Uint8Array(b.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==x[0]}}toSchema(){const f=[];if("distributionPoint"in this){let b;this.distributionPoint instanceof Array?b=new j({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,x=>x.toSchema())}):(b=this.distributionPoint.toSchema(),b.idBlock.tagClass=3,b.idBlock.tagNumber=1),f.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if(this.onlyContainsUserCerts!==Rr.defaultValues("onlyContainsUserCerts")&&f.push(new lt({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==Rr.defaultValues("onlyContainsCACerts")&&f.push(new lt({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const b=new ArrayBuffer(1);new Uint8Array(b)[0]=this.onlySomeReasons,f.push(new lt({idBlock:{tagClass:3,tagNumber:3},valueHex:b}))}return this.indirectCRL!==Rr.defaultValues("indirectCRL")&&f.push(new lt({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==Rr.defaultValues("onlyContainsAttributeCerts")&&f.push(new lt({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new Cn({value:f})}toJSON(){const f={};return"distributionPoint"in this&&(f.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==Rr.defaultValues("onlyContainsUserCerts")&&(f.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==Rr.defaultValues("onlyContainsCACerts")&&(f.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(f.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==Rr.defaultValues("indirectCRL")&&(f.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==Rr.defaultValues("onlyContainsAttributeCerts")&&(f.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),f}}class Hs{constructor(f={}){this.names=C(f,"names",Hs.defaultValues("names")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("names"===f)return[];throw new Error(`Invalid member name for GeneralNames class: ${f}`)}static schema(f={},b=!1){const x=C(f,"names",{});return new Cn({optional:b,name:x.blockName||"",value:[new Pi({name:x.generalNames||"",value:ui.schema()})]})}fromSchema(f){Y(f,["names","generalNames"]);const b=gi(f,f,Hs.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(b.result.generalNames,x=>new ui({schema:x}))}toSchema(){return new Cn({value:Array.from(this.names,f=>f.toSchema())})}toJSON(){return{names:Array.from(this.names,f=>f.toJSON())}}}class Gr{constructor(f={}){this.base=C(f,"base",Gr.defaultValues("base")),this.minimum=C(f,"minimum",Gr.defaultValues("minimum")),"maximum"in f&&(this.maximum=C(f,"maximum",Gr.defaultValues("maximum"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"base":return new ui;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[ui.schema(b.base||{}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yn({name:b.minimum||""})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new yn({name:b.maximum||""})]})]})}fromSchema(f){Y(f,["base","minimum","maximum"]);const b=gi(f,f,Gr.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new ui({schema:b.result.base}),"minimum"in b.result&&(this.minimum=b.result.minimum.valueBlock.isHexOnly?b.result.minimum:b.result.minimum.valueBlock.valueDec),"maximum"in b.result&&(this.maximum=b.result.maximum.valueBlock.isHexOnly?b.result.maximum:b.result.maximum.valueBlock.valueDec)}toSchema(){const f=[];if(f.push(this.base.toSchema()),0!==this.minimum){let b=0;b=this.minimum instanceof yn?this.minimum:new yn({value:this.minimum}),f.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[b]}))}if("maximum"in this){let b=0;b=this.maximum instanceof yn?this.maximum:new yn({value:this.maximum}),f.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[b]}))}return new Cn({value:f})}toJSON(){const f={base:this.base.toJSON()};return 0!==this.minimum&&(f.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(f.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),f}}class Kr{constructor(f={}){"permittedSubtrees"in f&&(this.permittedSubtrees=C(f,"permittedSubtrees",Kr.defaultValues("permittedSubtrees"))),"excludedSubtrees"in f&&(this.excludedSubtrees=C(f,"excludedSubtrees",Kr.defaultValues("excludedSubtrees"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:b.permittedSubtrees||"",value:Gr.schema()})]}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Pi({name:b.excludedSubtrees||"",value:Gr.schema()})]})]})}fromSchema(f){Y(f,["permittedSubtrees","excludedSubtrees"]);const b=gi(f,f,Kr.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in b.result&&(this.permittedSubtrees=Array.from(b.result.permittedSubtrees,x=>new Gr({schema:x}))),"excludedSubtrees"in b.result&&(this.excludedSubtrees=Array.from(b.result.excludedSubtrees,x=>new Gr({schema:x})))}toSchema(){const f=[];return"permittedSubtrees"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,b=>b.toSchema())})),"excludedSubtrees"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,b=>b.toSchema())})),new Cn({value:f})}toJSON(){const f={};return"permittedSubtrees"in this&&(f.permittedSubtrees=Array.from(this.permittedSubtrees,b=>b.toJSON())),"excludedSubtrees"in this&&(f.excludedSubtrees=Array.from(this.excludedSubtrees,b=>b.toJSON())),f}}class Bn{constructor(f={}){"distributionPoint"in f&&(this.distributionPoint=C(f,"distributionPoint",Bn.defaultValues("distributionPoint"))),"reasons"in f&&(this.reasons=C(f,"reasons",Bn.defaultValues("reasons"))),"cRLIssuer"in f&&(this.cRLIssuer=C(f,"cRLIssuer",Bn.defaultValues("cRLIssuer"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new mt;default:throw new Error(`Invalid member name for DistributionPoint class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Tr({value:[new j({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Pi({name:b.distributionPointNames||"",value:ui.schema()})]}),new j({name:b.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:wr.schema().valueBlock.value})]})]}),new lt({name:b.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new j({name:b.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Pi({name:b.cRLIssuerNames||"",value:ui.schema()})]})]})}fromSchema(f){Y(f,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const b=gi(f,f,Bn.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in b.result&&(0===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(b.result.distributionPointNames,x=>new ui({schema:x}))),1===b.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new wr({schema:new Cn({value:b.result.distributionPoint.valueBlock.value})}))),"reasons"in b.result&&(this.reasons=new mt({valueHex:b.result.reasons.valueBlock.valueHex})),"cRLIssuer"in b.result&&(this.cRLIssuer=Array.from(b.result.cRLIssuerNames,x=>new ui({schema:x})))}toSchema(){const f=[];if("distributionPoint"in this){let b;b=new j(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,x=>x.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),f.push(new j({idBlock:{tagClass:3,tagNumber:0},value:[b]}))}return"reasons"in this&&f.push(new lt({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,b=>b.toSchema())})),new Cn({value:f})}toJSON(){const f={};return"distributionPoint"in this&&(f.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,b=>b.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(f.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(f.cRLIssuer=Array.from(this.cRLIssuer,b=>b.toJSON())),f}}class ro{constructor(f={}){this.distributionPoints=C(f,"distributionPoints",ro.defaultValues("distributionPoints")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("distributionPoints"===f)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.distributionPoints||"",value:Bn.schema()})]})}fromSchema(f){Y(f,["distributionPoints"]);const b=gi(f,f,ro.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(b.result.distributionPoints,x=>new Bn({schema:x}))}toSchema(){return new Cn({value:Array.from(this.distributionPoints,f=>f.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,f=>f.toJSON())}}}class ps{constructor(f={}){this.policyQualifierId=C(f,"policyQualifierId",ps.defaultValues("policyQualifierId")),this.qualifier=C(f,"qualifier",ps.defaultValues("qualifier")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"policyQualifierId":return"";case"qualifier":return new Er;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.policyQualifierId||""}),new Er({name:b.qualifier||""})]})}fromSchema(f){Y(f,["policyQualifierId","qualifier"]);const b=gi(f,f,ps.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=b.result.policyQualifierId.valueBlock.toString(),this.qualifier=b.result.qualifier}toSchema(){return new Cn({value:[new Kt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class Ve{constructor(f={}){this.policyIdentifier=C(f,"policyIdentifier",Ve.defaultValues("policyIdentifier")),"policyQualifiers"in f&&(this.policyQualifiers=C(f,"policyQualifiers",Ve.defaultValues("policyQualifiers"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.policyIdentifier||""}),new Cn({optional:!0,value:[new Pi({name:b.policyQualifiers||"",value:ps.schema()})]})]})}fromSchema(f){Y(f,["policyIdentifier","policyQualifiers"]);const b=gi(f,f,Ve.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=b.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in b.result&&(this.policyQualifiers=Array.from(b.result.policyQualifiers,x=>new ps({schema:x})))}toSchema(){const f=[];return f.push(new Kt({value:this.policyIdentifier})),"policyQualifiers"in this&&f.push(new Cn({value:Array.from(this.policyQualifiers,b=>b.toSchema())})),new Cn({value:f})}toJSON(){const f={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(f.policyQualifiers=Array.from(this.policyQualifiers,b=>b.toJSON())),f}}class He{constructor(f={}){this.certificatePolicies=C(f,"certificatePolicies",He.defaultValues("certificatePolicies")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("certificatePolicies"===f)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.certificatePolicies||"",value:Ve.schema()})]})}fromSchema(f){Y(f,["certificatePolicies"]);const b=gi(f,f,He.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(b.result.certificatePolicies,x=>new Ve({schema:x}))}toSchema(){return new Cn({value:Array.from(this.certificatePolicies,f=>f.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,f=>f.toJSON())}}}class ve{constructor(f={}){this.issuerDomainPolicy=C(f,"issuerDomainPolicy",ve.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=C(f,"subjectDomainPolicy",ve.defaultValues("subjectDomainPolicy")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.issuerDomainPolicy||""}),new Kt({name:b.subjectDomainPolicy||""})]})}fromSchema(f){Y(f,["issuerDomainPolicy","subjectDomainPolicy"]);const b=gi(f,f,ve.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=b.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=b.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new Cn({value:[new Kt({value:this.issuerDomainPolicy}),new Kt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class it{constructor(f={}){this.mappings=C(f,"mappings",it.defaultValues("mappings")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("mappings"===f)return[];throw new Error(`Invalid member name for PolicyMappings class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.mappings||"",value:ve.schema()})]})}fromSchema(f){Y(f,["mappings"]);const b=gi(f,f,it.schema({names:{mappings:"mappings"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(b.result.mappings,x=>new ve({schema:x}))}toSchema(){return new Cn({value:Array.from(this.mappings,f=>f.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,f=>f.toJSON())}}}class jt{constructor(f={}){"keyIdentifier"in f&&(this.keyIdentifier=C(f,"keyIdentifier",jt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in f&&(this.authorityCertIssuer=C(f,"authorityCertIssuer",jt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in f&&(this.authorityCertSerialNumber=C(f,"authorityCertSerialNumber",jt.defaultValues("authorityCertSerialNumber"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"keyIdentifier":return new Mt;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new yn;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new lt({name:b.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Pi({name:b.authorityCertIssuer||"",value:ui.schema()})]}),new lt({name:b.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(f){Y(f,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const b=gi(f,f,jt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in b.result&&(this.keyIdentifier=new Mt({valueHex:b.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in b.result&&(this.authorityCertIssuer=Array.from(b.result.authorityCertIssuer,x=>new ui({schema:x}))),"authorityCertSerialNumber"in b.result&&(this.authorityCertSerialNumber=new yn({valueHex:b.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const f=[];return"keyIdentifier"in this&&f.push(new lt({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&f.push(new j({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,b=>b.toSchema())})),"authorityCertSerialNumber"in this&&f.push(new lt({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new Cn({value:f})}toJSON(){const f={};return"keyIdentifier"in this&&(f.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(f.authorityCertIssuer=Array.from(this.authorityCertIssuer,b=>b.toJSON())),"authorityCertSerialNumber"in this&&(f.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),f}}class qn{constructor(f={}){"requireExplicitPolicy"in f&&(this.requireExplicitPolicy=C(f,"requireExplicitPolicy",qn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in f&&(this.inhibitPolicyMapping=C(f,"inhibitPolicyMapping",qn.defaultValues("inhibitPolicyMapping"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new lt({name:b.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new lt({name:b.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(f){Y(f,["requireExplicitPolicy","inhibitPolicyMapping"]);const b=gi(f,f,qn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in b.result){const x=b.result.requireExplicitPolicy;x.idBlock.tagClass=1,x.idBlock.tagNumber=2;const ue=ct(x.toBER(!1));this.requireExplicitPolicy=ue.result.valueBlock.valueDec}if("inhibitPolicyMapping"in b.result){const x=b.result.inhibitPolicyMapping;x.idBlock.tagClass=1,x.idBlock.tagNumber=2;const ue=ct(x.toBER(!1));this.inhibitPolicyMapping=ue.result.valueBlock.valueDec}}toSchema(){const f=[];if("requireExplicitPolicy"in this){const b=new yn({value:this.requireExplicitPolicy});b.idBlock.tagClass=3,b.idBlock.tagNumber=0,f.push(b)}if("inhibitPolicyMapping"in this){const b=new yn({value:this.inhibitPolicyMapping});b.idBlock.tagClass=3,b.idBlock.tagNumber=1,f.push(b)}return new Cn({value:f})}toJSON(){const f={};return"requireExplicitPolicy"in this&&(f.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(f.inhibitPolicyMapping=this.inhibitPolicyMapping),f}}class Mi{constructor(f={}){this.keyPurposes=C(f,"keyPurposes",Mi.defaultValues("keyPurposes")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("keyPurposes"===f)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.keyPurposes||"",value:new Kt})]})}fromSchema(f){Y(f,["keyPurposes"]);const b=gi(f,f,Mi.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(b.result.keyPurposes,x=>x.valueBlock.toString())}toSchema(){return new Cn({value:Array.from(this.keyPurposes,f=>new Kt({value:f}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class ls{constructor(f={}){this.accessMethod=C(f,"accessMethod",ls.defaultValues("accessMethod")),this.accessLocation=C(f,"accessLocation",ls.defaultValues("accessLocation")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"accessMethod":return"";case"accessLocation":return new ui;default:throw new Error(`Invalid member name for AccessDescription class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.accessMethod||""}),ui.schema(b.accessLocation||{})]})}fromSchema(f){Y(f,["accessMethod","accessLocation"]);const b=gi(f,f,ls.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=b.result.accessMethod.valueBlock.toString(),this.accessLocation=new ui({schema:b.result.accessLocation})}toSchema(){return new Cn({value:[new Kt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class Hi{constructor(f={}){this.accessDescriptions=C(f,"accessDescriptions",Hi.defaultValues("accessDescriptions")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("accessDescriptions"===f)return[];throw new Error(`Invalid member name for InfoAccess class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.accessDescriptions||"",value:ls.schema()})]})}fromSchema(f){Y(f,["accessDescriptions"]);const b=gi(f,f,Hi.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(b.result.accessDescriptions,x=>new ls({schema:x}))}toSchema(){return new Cn({value:Array.from(this.accessDescriptions,f=>f.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,f=>f.toJSON())}}}class jn{constructor(f={}){if("view"in f)this.fromUint8Array(f.view);else if("buffer"in f)this.fromArrayBuffer(f.buffer);else if("string"in f)this.fromString(f.string);else if("hexstring"in f)this.fromHexString(f.hexstring);else if("length"in f&&f.length>0){if(this.length=f.length,f.stub)for(let b=0;b<this._view.length;b++)this._view[b]=f.stub}else this.length=0}set buffer(f){this._buffer=f,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(f){this._buffer=new ArrayBuffer(f.length),this._view=new Uint8Array(this._buffer),this._view.set(f)}get view(){return this._view}get length(){return this.view.byteLength}set length(f){this._buffer=new ArrayBuffer(f),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(f){this._buffer=f,this._view=new Uint8Array(this._buffer)}fromUint8Array(f){this.fromArrayBuffer(new Uint8Array(f).buffer)}fromString(f){const b=f.length;this.length=b;for(let x=0;x<b;x++)this.view[x]=f.charCodeAt(x)}toString(f=0,b=this.view.length-f){let x="";(f>=this.view.length||f<0)&&(f=0),(b>=this.view.length||b<0)&&(b=this.view.length-f);for(let J=f;J<f+b;J++)x+=String.fromCharCode(this.view[J]);return x}fromHexString(f){const b=f.length;this.buffer=new ArrayBuffer(b>>1),this.view=new Uint8Array(this.buffer);const x=new Map;x.set("0",0),x.set("1",1),x.set("2",2),x.set("3",3),x.set("4",4),x.set("5",5),x.set("6",6),x.set("7",7),x.set("8",8),x.set("9",9),x.set("A",10),x.set("a",10),x.set("B",11),x.set("b",11),x.set("C",12),x.set("c",12),x.set("D",13),x.set("d",13),x.set("E",14),x.set("e",14),x.set("F",15),x.set("f",15);let J=0,ue=0;for(let Ee=0;Ee<b;Ee++)Ee%2?(ue|=x.get(f.charAt(Ee)),this.view[J]=ue,J++):ue=x.get(f.charAt(Ee))<<4}toHexString(f=0,b=this.view.length-f){let x="";(f>=this.view.length||f<0)&&(f=0),(b>=this.view.length||b<0)&&(b=this.view.length-f);for(let J=f;J<f+b;J++){const ue=this.view[J].toString(16).toUpperCase();x=x+(1==ue.length?"0":"")+ue}return x}copy(f=0,b=this.length-f){if(!f&&!this.length)return new jn;if(f<0||f>this.length-1)throw new Error(`Wrong start position: ${f}`);return new jn({buffer:this._buffer.slice(f,f+b)})}slice(f=0,b=this.length){if(!f&&!this.length)return new jn;if(f<0||f>this.length-1)throw new Error(`Wrong start position: ${f}`);return new jn({buffer:this._buffer.slice(f,b)})}realloc(f){const b=new ArrayBuffer(f);new Uint8Array(b).set(f>this._view.length?this._view:new Uint8Array(this._buffer,0,f)),this._buffer=b,this._view=new Uint8Array(this._buffer)}append(f){const b=this.length,x=f.length,J=f._view.subarray();this.realloc(b+x),this._view.set(J,b)}insert(f,b=0,x=this.length-b){return!(b>this.length-1||(x>this.length-b&&(x=this.length-b),x>f.length&&(x=f.length),this._view.set(x==f.length?f._view:f._view.subarray(0,x),b),0))}isEqual(f){if(this.length!=f.length)return!1;for(let b=0;b<f.length;b++)if(this.view[b]!=f.view[b])return!1;return!0}isEqualView(f){if(f.length!=this.view.length)return!1;for(let b=0;b<f.length;b++)if(this.view[b]!=f[b])return!1;return!0}findPattern(f,b,x,J){const{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J),A=f.length;if(A>Ee)return-1;const $=[];for(let V=0;V<A;V++)$.push(f.view[V]);for(let V=0;V<=Ee-A;V++){let ee=!0;const R=ze?ue-A-V:ue+V;for(let be=0;be<A;be++)if(this.view[be+R]!=$[be]){ee=!1;break}if(ee)return ze?ue-A-V:ue+A+V}return-1}findFirstIn(f,b,x,J){const{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J),A={id:-1,position:ze?0:ue+Ee,length:0};for(let $=0;$<f.length;$++){const V=this.findPattern(f[$],ue,Ee,ze);if(-1!=V){let ee=!1;const R=f[$].length;ze?V-R>=A.position-A.length&&(ee=!0):V-R<=A.position-A.length&&(ee=!0),ee&&(A.position=V,A.id=$,A.length=R)}}return A}findAllIn(f,b,x){let{start:J,length:ue}=this.prepareFindParameters(b,x);const Ee=[];let ze={id:-1,position:J};for(;;){const A=ze.position;if(ze=this.findFirstIn(f,ze.position,ue),-1==ze.id)break;ue-=ze.position-A,Ee.push({id:ze.id,position:ze.position})}return Ee}findAllPatternIn(f,b,x){const{start:J,length:ue}=this.prepareFindParameters(b,x),Ee=[],ze=f.length;if(ze>ue)return-1;const A=Array.from(f.view);for(let $=0;$<=ue-ze;$++){let V=!0;const ee=J+$;for(let R=0;R<ze;R++)if(this.view[R+ee]!=A[R]){V=!1;break}V&&(Ee.push(J+ze+$),$+=ze-1)}return Ee}findFirstNotIn(f,b,x,J){let{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J);const A={left:{id:-1,position:ue},right:{id:-1,position:0},value:new jn};let $=Ee;for(;$>0;){if(A.right=this.findFirstIn(f,ze?ue-Ee+$:ue+Ee-$,$,ze),-1==A.right.id){Ee=$,ze?ue-=Ee:ue=A.left.position,A.value=new jn({buffer:this._buffer.slice(ue,ue+Ee)});break}if(A.right.position!=(ze?A.left.position-f[A.right.id].length:A.left.position+f[A.right.id].length)){ze?(ue=A.right.position+f[A.right.id].length,Ee=A.left.position-A.right.position-f[A.right.id].length):(ue=A.left.position,Ee=A.right.position-A.left.position-f[A.right.id].length),A.value=new jn({buffer:this._buffer.slice(ue,ue+Ee)});break}A.left=A.right,$-=f[A.right.id].length}if(ze){const V=A.right;A.right=A.left,A.left=V}return A}findAllNotIn(f,b,x){let{start:J,length:ue}=this.prepareFindParameters(b,x);const Ee=[];let ze={left:{id:-1,position:J},right:{id:-1,position:J},value:new jn};do{const A=ze.right.position;ze=this.findFirstNotIn(f,ze.right.position,ue),ue-=ze.right.position-A,Ee.push({left:{id:ze.left.id,position:ze.left.position},right:{id:ze.right.id,position:ze.right.position},value:ze.value})}while(-1!=ze.right.id);return Ee}findFirstSequence(f,b,x,J){let{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J);const A=this.skipNotPatterns(f,ue,Ee,ze);if(-1==A)return{position:-1,value:new jn};const $=this.skipPatterns(f,A,Ee-(ze?ue-A:A-ue),ze);return ze?(ue=$,Ee=A-$):(ue=A,Ee=$-A),{position:$,value:new jn({buffer:this._buffer.slice(ue,ue+Ee)})}}findAllSequences(f,b,x){let{start:J,length:ue}=this.prepareFindParameters(b,x);const Ee=[];let ze={position:J,value:new jn};do{const A=ze.position;ze=this.findFirstSequence(f,ze.position,ue),-1!=ze.position&&(ue-=ze.position-A,Ee.push({position:ze.position,value:ze.value}))}while(-1!=ze.position);return Ee}findPairedPatterns(f,b,x,J){const ue=[];if(f.isEqual(b))return ue;const{start:Ee,length:ze}=this.prepareFindParameters(x,J);let A=0;const $=this.findAllPatternIn(f,Ee,ze);if(!Array.isArray($)||0==$.length)return ue;const V=this.findAllPatternIn(b,Ee,ze);if(!Array.isArray(V)||0==V.length)return ue;for(;A<$.length&&0!=V.length;)if($[0]!=V[0]){if($[A]>V[0])break;for(;$[A]<V[0]&&(A++,!(A>=$.length)););ue.push({left:$[A-1],right:V[0]}),$.splice(A-1,1),V.splice(0,1),A=0}else ue.push({left:$[0],right:V[0]}),$.splice(0,1),V.splice(0,1);return ue.sort((ee,R)=>ee.left-R.left),ue}findPairedArrays(f,b,x,J){const{start:ue,length:Ee}=this.prepareFindParameters(x,J),ze=[];let A=0;const $=this.findAllIn(f,ue,Ee);if(0==$.length)return ze;const V=this.findAllIn(b,ue,Ee);if(0==V.length)return ze;for(;A<$.length&&0!=V.length;)if($[0].position!=V[0].position){if($[A].position>V[0].position)break;for(;$[A].position<V[0].position&&(A++,!(A>=$.length)););ze.push({left:$[A-1],right:V[0]}),$.splice(A-1,1),V.splice(0,1),A=0}else ze.push({left:$[0],right:V[0]}),$.splice(0,1),V.splice(0,1);return ze.sort((ee,R)=>ee.left.position-R.left.position),ze}replacePattern(f,b,x,J,ue=null){let ze,Ee=[];const A={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:$,length:V}=this.prepareFindParameters(x,J);if(null==ue){if(Ee=this.findAllIn([f],$,V),0==Ee.length)return A}else Ee=ue;A.searchPatternPositions.push(...Array.from(Ee,M=>M.position));const ee=f.length-b.length,R=new ArrayBuffer(this.view.length-Ee.length*ee),be=new Uint8Array(R);for(be.set(new Uint8Array(this.buffer,0,$)),ze=0;ze<Ee.length;ze++){const M=0==ze?$:Ee[ze-1].position;be.set(new Uint8Array(this.buffer,M,Ee[ze].position-f.length-M),M-ze*ee),be.set(b.view,Ee[ze].position-f.length-ze*ee),A.replacePatternPositions.push(Ee[ze].position-f.length-ze*ee)}return ze--,be.set(new Uint8Array(this.buffer,Ee[ze].position,this.length-Ee[ze].position),Ee[ze].position-f.length+b.length-ze*ee),this.buffer=R,this.view=new Uint8Array(this.buffer),A.status=1,A}skipPatterns(f,b,x,J){const{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J);let A=ue;for(let $=0;$<f.length;$++){const V=f[$].length,ee=ze?A-V:A;let R=!0;for(let be=0;be<V;be++)if(this.view[be+ee]!=f[$].view[be]){R=!1;break}if(R)if($=-1,ze){if(A-=V,A<=0)return A}else if(A+=V,A>=ue+Ee)return A}return A}skipNotPatterns(f,b,x,J){const{start:ue,length:Ee,backward:ze}=this.prepareFindParameters(b,x,J);let A=-1;for(let $=0;$<Ee;$++){for(let V=0;V<f.length;V++){const ee=f[V].length,R=ze?ue-$-ee:ue+$;let be=!0;for(let M=0;M<ee;M++)if(this.view[M+R]!=f[V].view[M]){be=!1;break}if(be){A=ze?ue-$:ue+$;break}}if(-1!=A)break}return A}prepareFindParameters(f=null,b=null,x=!1){return null===f&&(f=x?this.length:0),f>this.length&&(f=this.length),x?(null===b&&(b=f),b>f&&(b=f)):(null===b&&(b=this.length-f),b>this.length-f&&(b=this.length-f)),{start:f,length:b,backward:x}}}let Be=(()=>{class We{constructor(b={}){this._stream=new jn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in b?new jn({view:b.view}):"buffer"in b?new jn({buffer:b.buffer}):"string"in b?new jn({string:b.string}):"hexstring"in b?new jn({hexstring:b.hexstring}):"stream"in b?b.stream.slice():new jn,"backward"in b&&b.backward&&(this.backward=b.backward,this._start=this.stream.length),"length"in b&&b.length>0&&(this._length=b.length),"start"in b&&b.start&&b.start>0&&(this._start=b.start),"appendBlock"in b&&b.appendBlock&&b.appendBlock>0&&(this.appendBlock=b.appendBlock)}set stream(b){this._stream=b,this.prevLength=this._length,this._length=b.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(b){this.prevLength=this._length,this._length=b}get length(){return this.appendBlock?this.start:this._length}set start(b){b>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-b:b-this._start,this._start=b)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(b,x=null){(null==x||x>this.length)&&(x=this.length);const J=this.stream.findPattern(b,this.start,this.length,this.backward);if(-1==J)return J;if(this.backward){if(J<this.start-b.length-x)return-1}else if(J>this.start+b.length+x)return-1;return this.start=J,J}findFirstIn(b,x=null){(null==x||x>this.length)&&(x=this.length);const J=this.stream.findFirstIn(b,this.start,this.length,this.backward);if(-1==J.id)return J;if(this.backward){if(J.position<this.start-b[J.id].length-x)return{id:-1,position:this.backward?0:this.start+this.length}}else if(J.position>this.start+b[J.id].length+x)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=J.position,J}findAllIn(b){return this.stream.findAllIn(b,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(b,x=null){(null==x||x>this._length)&&(x=this._length);const J=this._stream.findFirstNotIn(b,this._start,this._length,this.backward);if(-1==J.left.id&&-1==J.right.id)return J;if(this.backward){if(-1!=J.right.id&&J.right.position<this._start-b[J.right.id].length-x)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new jn}}else if(-1!=J.left.id&&J.left.position>this._start+b[J.left.id].length+x)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new jn};return this.start=this.backward?-1==J.left.id?0:J.left.position:-1==J.right.id?this._start+this._length:J.right.position,J}findAllNotIn(b){return this._stream.findAllNotIn(b,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(b,x=null,J=null){(null==x||x>this._length)&&(x=this._length),(null==J||J>x)&&(J=x);const ue=this._stream.findFirstSequence(b,this._start,x,this.backward);if(0==ue.value.length)return ue;if(this.backward){if(ue.position<this._start-ue.value.length-J)return{position:-1,value:new jn}}else if(ue.position>this._start+ue.value.length+J)return{position:-1,value:new jn};return this.start=ue.position,ue}findAllSequences(b){return this.stream.findAllSequences(b,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(b,x,J=null){(null==J||J>this.length)&&(J=this.length);const Ee=this.stream.findPairedPatterns(b,x,this.backward?this.start-this.length:this.start,this.length);if(Ee.length)if(this.backward){if(Ee[0].right<this.start-x.length-J)return[]}else if(Ee[0].left>this.start+b.length+J)return[];return Ee}findPairedArrays(b,x,J=null){(null==J||J>this.length)&&(J=this.length);const Ee=this.stream.findPairedArrays(b,x,this.backward?this.start-this.length:this.start,this.length);if(Ee.length)if(this.backward){if(Ee[0].right.position<this.start-x[Ee[0].right.id].length-J)return[]}else if(Ee[0].left.position>this.start+b[Ee[0].left.id].length+J)return[];return Ee}replacePattern(b,x){return this.stream.replacePattern(b,x,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(b){const x=this.stream.skipPatterns(b,this.start,this.length,this.backward);return this.start=x,x}skipNotPatterns(b){const x=this.stream.skipNotPatterns(b,this.start,this.length,this.backward);return-1==x?-1:(this.start=x,x)}append(b){this.beforeAppend(b.length),this._stream.view.set(b.view,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendView(b){this.beforeAppend(b.length),this._stream.view.set(b,this._start),this._length+=2*b.length,this.start=this._start+b.length,this.prevLength-=2*b.length}appendChar(b){this.beforeAppend(1),this._stream.view[this._start]=b,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(b){this.beforeAppend(2);const x=new Uint16Array([b]),J=new Uint8Array(x.buffer);this.stream.view[this._start]=J[1],this._stream.view[this._start+1]=J[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(b){this.beforeAppend(3);const x=new Uint32Array([b]),J=new Uint8Array(x.buffer);this._stream.view[this._start]=J[2],this._stream.view[this._start+1]=J[1],this._stream.view[this._start+2]=J[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(b){this.beforeAppend(4);const x=new Uint32Array([b]),J=new Uint8Array(x.buffer);this._stream.view[this._start]=J[3],this._stream.view[this._start+1]=J[2],this._stream.view[this._start+2]=J[1],this._stream.view[this._start+3]=J[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(b){this.beforeAppend(2);const x=new Int16Array([b]),J=new Uint8Array(x.buffer);this._stream.view[this._start]=J[1],this._stream.view[this._start+1]=J[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(b){this.beforeAppend(4);const x=new Int32Array([b]),J=new Uint8Array(x.buffer);this._stream.view[this._start]=J[3],this._stream.view[this._start+1]=J[2],this._stream.view[this._start+2]=J[1],this._stream.view[this._start+3]=J[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(b,x=!0){if(this._length<=0)return new Uint8Array(0);let J;if(this._length<b&&(b=this._length),this.backward){const ue=this._stream.view.subarray(this._length-b,this._length);J=new Uint8Array(b);for(let Ee=0;Ee<b;Ee++)J[b-1-Ee]=ue[Ee]}else J=this._stream.view.subarray(this._start,this._start+b);return x&&(this.start+=this.backward?-1*b:b),J}getUint16(b=!0){const x=this.getBlock(2,b);if(x.length<2)return 0;const J=new Uint16Array(1),ue=new Uint8Array(J.buffer);return ue[0]=x[1],ue[1]=x[0],J[0]}getInt16(b=!0){const x=this.getBlock(2,b);if(x.length<2)return 0;const J=new Int16Array(1),ue=new Uint8Array(J.buffer);return ue[0]=x[1],ue[1]=x[0],J[0]}getUint24(b=!0){const x=this.getBlock(3,b);if(x.length<3)return 0;const J=new Uint32Array(1),ue=new Uint8Array(J.buffer);for(let Ee=3;Ee>=1;Ee--)ue[3-Ee]=x[Ee-1];return J[0]}getUint32(b=!0){const x=this.getBlock(4,b);if(x.length<4)return 0;const J=new Uint32Array(1),ue=new Uint8Array(J.buffer);for(let Ee=3;Ee>=0;Ee--)ue[3-Ee]=x[Ee];return J[0]}getInt32(b=!0){const x=this.getBlock(4,b);if(x.length<4)return 0;const J=new Int32Array(1),ue=new Uint8Array(J.buffer);for(let Ee=3;Ee>=0;Ee--)ue[3-Ee]=x[Ee];return J[0]}beforeAppend(b){this._start+b>this._stream.length&&(b>this.appendBlock&&(this.appendBlock=b+We.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return We.APPEND_BLOCK=1e3,We})();class Ze{constructor(f={}){this.version=C(f,"version",Ze.defaultValues("version")),this.logID=C(f,"logID",Ze.defaultValues("logID")),this.timestamp=C(f,"timestamp",Ze.defaultValues("timestamp")),this.extensions=C(f,"extensions",Ze.defaultValues("extensions")),this.hashAlgorithm=C(f,"hashAlgorithm",Ze.defaultValues("hashAlgorithm")),this.signatureAlgorithm=C(f,"signatureAlgorithm",Ze.defaultValues("signatureAlgorithm")),this.signature=C(f,"signature",Ze.defaultValues("signature")),"schema"in f&&this.fromSchema(f.schema),"stream"in f&&this.fromStream(f.stream)}static defaultValues(f){switch(f){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new Er;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${f}`)}}fromSchema(f){if(!(f instanceof Xs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const b=new Be({stream:new jn({buffer:f.data})});this.fromStream(b)}fromStream(f){const b=f.getUint16();if(this.version=f.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(f.getBlock(32)).buffer.slice(0),this.timestamp=new Date(h(new Uint8Array(f.getBlock(8)),8));const x=f.getUint16();switch(this.extensions=new Uint8Array(f.getBlock(x)).buffer.slice(0),f.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(f.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const J=f.getUint16(),Ee=ct(new Uint8Array(f.getBlock(J)).buffer.slice(0));if(-1===Ee.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=Ee.result,b!==47+x+J)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const f=this.toStream();return new Xs({data:f.stream.buffer})}toStream(){const f=new Be;f.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),f.appendChar(this.version),f.appendView(new Uint8Array(this.logID));const b=new ArrayBuffer(8),x=new Uint8Array(b),J=E(this.timestamp.valueOf(),8);let ue,Ee;switch(x.set(new Uint8Array(J),8-J.byteLength),f.appendView(x),f.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&f.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ue=0;break;case"md5":ue=1;break;case"sha1":ue=2;break;case"sha224":ue=3;break;case"sha256":ue=4;break;case"sha384":ue=5;break;case"sha512":ue=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(f.appendChar(ue),this.signatureAlgorithm.toLowerCase()){case"anonymous":Ee=0;break;case"rsa":Ee=1;break;case"dsa":Ee=2;break;case"ecdsa":Ee=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}f.appendChar(Ee);const ze=this.signature.toBER(!1);return f.appendUint16(ze.byteLength),f.appendView(new Uint8Array(ze)),f}toJSON(){return{version:this.version,logID:w(this.logID),timestamp:this.timestamp,extensions:w(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(f,b,x=0){var J=this;return(0,t.A)(function*(){let ze,ue=N(G(J.logID)),Ee=null,A=new Be;for(const be of f)if(be.log_id===ue){Ee=be.key;break}if(null===Ee)throw new Error(`Public key not found for CT with logId: ${ue}`);const $=ct(z(H(Ee)));if(-1===$.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ue}`);ze=new Dr({schema:$.result}),A.appendChar(0),A.appendChar(0);const V=new ArrayBuffer(8),ee=new Uint8Array(V),R=E(J.timestamp.valueOf(),8);return ee.set(new Uint8Array(R),8-R.byteLength),A.appendView(ee),A.appendUint16(x),0===x&&A.appendUint24(b.byteLength),A.appendView(new Uint8Array(b)),A.appendUint16(J.extensions.byteLength),0!==J.extensions.byteLength&&A.appendView(new Uint8Array(J.extensions)),Cs().subtle.verifyWithPublicKey(A._stream._buffer.slice(0,A._length),{valueBlock:{valueHex:J.signature.toBER(!1)}},ze,{algorithmId:""},"SHA-256")})()}}class Et{constructor(f={}){this.timestamps=C(f,"timestamps",Et.defaultValues("timestamps")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("timestamps"===f)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${f}`)}static compareWithDefault(f,b){if("timestamps"===f)return 0===b.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return"optional"in b||(b.optional=!1),new Mt({name:b.blockName||"SignedCertificateTimestampList",optional:b.optional})}fromSchema(f){if(!(f instanceof Mt))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const b=new Be({stream:new jn({buffer:f.valueBlock.valueHex})});if(b.getUint16()!==b.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;b.length;)this.timestamps.push(new Ze({stream:b}))}toSchema(){const f=new Be;let b=0;const x=[];for(const J of this.timestamps){const ue=J.toStream();x.push(ue),b+=ue.stream.buffer.byteLength}f.appendUint16(b);for(const J of x)f.appendView(J.stream.view);return new Mt({valueHex:f.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,f=>f.toJSON())}}}class Wt{constructor(f={}){this.templateID=C(f,"templateID",Wt.defaultValues("templateID")),"templateMajorVersion"in f&&(this.templateMajorVersion=C(f,"templateMajorVersion",Wt.defaultValues("templateMajorVersion"))),"templateMinorVersion"in f&&(this.templateMinorVersion=C(f,"templateMinorVersion",Wt.defaultValues("templateMinorVersion"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.templateID||""}),new yn({name:b.templateMajorVersion||"",optional:!0}),new yn({name:b.templateMinorVersion||"",optional:!0})]})}fromSchema(f){Y(f,["templateID","templateMajorVersion","templateMinorVersion"]);let b=gi(f,f,Wt.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=b.result.templateID.valueBlock.toString(),"templateMajorVersion"in b.result&&(this.templateMajorVersion=b.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in b.result&&(this.templateMinorVersion=b.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const f=[];return f.push(new Kt({value:this.templateID})),"templateMajorVersion"in this&&f.push(new yn({value:this.templateMajorVersion})),"templateMinorVersion"in this&&f.push(new yn({value:this.templateMinorVersion})),new Cn({value:f})}toJSON(){const f={extnID:this.templateID};return"templateMajorVersion"in this&&(f.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(f.templateMinorVersion=this.templateMinorVersion),f}}class vn{constructor(f={}){this.certificateIndex=C(f,"certificateIndex",vn.defaultValues("certificateIndex")),this.keyIndex=C(f,"keyIndex",vn.defaultValues("keyIndex")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${f}`)}}static schema(f={}){return new yn}fromSchema(f){if(f.constructor.blockName()!==yn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let b=f.valueBlock.valueHex.slice(0);const x=new Uint8Array(b);switch(!0){case b.byteLength<4:{const ee=new ArrayBuffer(4);new Uint8Array(ee).set(x,4-b.byteLength),b=ee.slice(0)}break;case b.byteLength>4:{const ee=new ArrayBuffer(4);new Uint8Array(ee).set(x.slice(0,4)),b=ee.slice(0)}}const J=b.slice(0,2),ue=new Uint8Array(J);let Ee=ue[0];ue[0]=ue[1],ue[1]=Ee;const ze=new Uint16Array(J);this.keyIndex=ze[0];const A=b.slice(2),$=new Uint8Array(A);Ee=$[0],$[0]=$[1],$[1]=Ee;const V=new Uint16Array(A);this.certificateIndex=V[0]}toSchema(){const f=new ArrayBuffer(2);new Uint16Array(f)[0]=this.certificateIndex;const x=new Uint8Array(f);let J=x[0];x[0]=x[1],x[1]=J;const ue=new ArrayBuffer(2);new Uint16Array(ue)[0]=this.keyIndex;const ze=new Uint8Array(ue);return J=ze[0],ze[0]=ze[1],ze[1]=J,new yn({valueHex:v(ue,f)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class Hn{constructor(f={}){this.id=C(f,"id",Hn.defaultValues("id")),"type"in f&&(this.type=C(f,"type",Hn.defaultValues("type"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"id":return"";case"type":return new Bt;default:throw new Error(`Invalid member name for QCStatement class: ${f}`)}}static compareWithDefault(f,b){switch(f){case"id":return""===b;case"type":return b instanceof Bt;default:throw new Error(`Invalid member name for QCStatement class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.id||""}),new Er({name:b.type||"",optional:!0})]})}fromSchema(f){Y(f,["id","type"]);const b=gi(f,f,Hn.schema({names:{id:"id",type:"type"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=b.result.id.valueBlock.toString(),"type"in b.result&&(this.type=b.result.type)}toSchema(){const f=[new Kt({value:this.id})];return"type"in this&&f.push(this.type),new Cn({value:f})}toJSON(){const f={id:this.id};return"type"in this&&(f.type=this.type.toJSON()),f}}class xi{constructor(f={}){this.values=C(f,"values",xi.defaultValues("values")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("values"===f)return[];throw new Error(`Invalid member name for QCStatements class: ${f}`)}static compareWithDefault(f,b){if("values"===f)return 0===b.length;throw new Error(`Invalid member name for QCStatements class: ${f}`)}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Pi({name:b.values||"",value:Hn.schema(b.value||{})})]})}fromSchema(f){Y(f,["values"]);const b=gi(f,f,xi.schema({names:{values:"values"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(b.result.values,x=>new Hn({schema:x}))}toSchema(){return new Cn({value:Array.from(this.values,f=>f.toSchema())})}toJSON(){return{extensions:Array.from(this.values,f=>f.toJSON())}}}class nn{constructor(f={}){this.extnID=C(f,"extnID",nn.defaultValues("extnID")),this.critical=C(f,"critical",nn.defaultValues("critical")),this.extnValue="extnValue"in f?new Mt({valueHex:f.extnValue}):nn.defaultValues("extnValue"),"parsedValue"in f&&(this.parsedValue=C(f,"parsedValue",nn.defaultValues("parsedValue"))),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"extnID":return"";case"critical":return!1;case"extnValue":return new Mt;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[new Kt({name:b.extnID||""}),new Pn({name:b.critical||"",optional:!0}),new Mt({name:b.extnValue||""})]})}fromSchema(f){Y(f,["extnID","critical","extnValue"]);let b=gi(f,f,nn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=b.result.extnID.valueBlock.toString(),"critical"in b.result&&(this.critical=b.result.critical.valueBlock.value),this.extnValue=b.result.extnValue,b=ct(this.extnValue.valueBlock.valueHex),-1!==b.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new $r({schema:b.result})}catch{this.parsedValue=new $r,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=b.result;break;case"2.5.29.16":try{this.parsedValue=new Zr({schema:b.result})}catch{this.parsedValue=new Zr,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new as({schema:b.result})}catch{this.parsedValue=new as,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new Gs({schema:b.result})}catch{this.parsedValue=new Gs,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new Rr({schema:b.result})}catch{this.parsedValue=new Rr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new Hs({schema:b.result})}catch{this.parsedValue=new Hs,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new Kr({schema:b.result})}catch{this.parsedValue=new Kr,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new ro({schema:b.result})}catch{this.parsedValue=new ro,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new He({schema:b.result})}catch{this.parsedValue=new He,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new it({schema:b.result})}catch{this.parsedValue=new it,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new jt({schema:b.result})}catch{this.parsedValue=new jt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new qn({schema:b.result})}catch{this.parsedValue=new qn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Mi({schema:b.result})}catch{this.parsedValue=new Mi,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new Hi({schema:b.result})}catch{this.parsedValue=new Hi,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new Et({schema:b.result})}catch{this.parsedValue=new Et,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new Wt({schema:b.result})}catch{this.parsedValue=new Wt,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new vn({schema:b.result})}catch{this.parsedValue=new vn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new xi({schema:b.result})}catch{this.parsedValue=new xi,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const f=[];return f.push(new Kt({value:this.extnID})),this.critical!==nn.defaultValues("critical")&&f.push(new Pn({value:this.critical})),f.push(this.extnValue),new Cn({value:f})}toJSON(){const f={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==nn.defaultValues("critical")&&(f.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(f.parsedValue=this.parsedValue.toJSON()),f}}class cr{constructor(f={}){this.extensions=C(f,"extensions",cr.defaultValues("extensions")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){if("extensions"===f)return[];throw new Error(`Invalid member name for Extensions class: ${f}`)}static schema(f={},b=!1){const x=C(f,"names",{});return new Cn({optional:b,name:x.blockName||"",value:[new Pi({name:x.extensions||"",value:nn.schema(x.extension||{})})]})}fromSchema(f){Y(f,["extensions"]);const b=gi(f,f,cr.schema({names:{extensions:"extensions"}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(b.result.extensions,x=>new nn({schema:x}))}toSchema(){return new Cn({value:Array.from(this.extensions,f=>f.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,f=>f.toJSON())}}}function cs(We={}){const f=C(We,"names",{});return new Cn({name:f.blockName||"tbsCertificate",value:[new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yn({name:f.tbsCertificateVersion||"tbsCertificate.version"})]}),new yn({name:f.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),Zn.schema(f.signature||{names:{blockName:"tbsCertificate.signature"}}),wr.schema(f.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new Cn({name:f.tbsCertificateValidity||"tbsCertificate.validity",value:[dr.schema(f.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),dr.schema(f.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),wr.schema(f.subject||{names:{blockName:"tbsCertificate.subject"}}),Dr.schema(f.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new lt({name:f.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new lt({name:f.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new j({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[cr.schema(f.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class vi{constructor(f={}){this.tbs=C(f,"tbs",vi.defaultValues("tbs")),this.version=C(f,"version",vi.defaultValues("version")),this.serialNumber=C(f,"serialNumber",vi.defaultValues("serialNumber")),this.signature=C(f,"signature",vi.defaultValues("signature")),this.issuer=C(f,"issuer",vi.defaultValues("issuer")),this.notBefore=C(f,"notBefore",vi.defaultValues("notBefore")),this.notAfter=C(f,"notAfter",vi.defaultValues("notAfter")),this.subject=C(f,"subject",vi.defaultValues("subject")),this.subjectPublicKeyInfo=C(f,"subjectPublicKeyInfo",vi.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in f&&(this.issuerUniqueID=C(f,"issuerUniqueID",vi.defaultValues("issuerUniqueID"))),"subjectUniqueID"in f&&(this.subjectUniqueID=C(f,"subjectUniqueID",vi.defaultValues("subjectUniqueID"))),"extensions"in f&&(this.extensions=C(f,"extensions",vi.defaultValues("extensions"))),this.signatureAlgorithm=C(f,"signatureAlgorithm",vi.defaultValues("signatureAlgorithm")),this.signatureValue=C(f,"signatureValue",vi.defaultValues("signatureValue")),"schema"in f&&this.fromSchema(f.schema)}static defaultValues(f){switch(f){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new yn;case"signature":case"signatureAlgorithm":return new Zn;case"issuer":case"subject":return new wr;case"notBefore":case"notAfter":return new dr;case"subjectPublicKeyInfo":return new Dr;case"extensions":return[];case"signatureValue":return new mt;default:throw new Error(`Invalid member name for Certificate class: ${f}`)}}static schema(f={}){const b=C(f,"names",{});return new Cn({name:b.blockName||"",value:[cs(b.tbsCertificate),Zn.schema(b.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new mt({name:b.signatureValue||"signatureValue"})]})}fromSchema(f){Y(f,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const b=gi(f,f,vi.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===b.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=b.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in b.result&&(this.version=b.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=b.result["tbsCertificate.serialNumber"],this.signature=new Zn({schema:b.result["tbsCertificate.signature"]}),this.issuer=new wr({schema:b.result["tbsCertificate.issuer"]}),this.notBefore=new dr({schema:b.result["tbsCertificate.notBefore"]}),this.notAfter=new dr({schema:b.result["tbsCertificate.notAfter"]}),this.subject=new wr({schema:b.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Dr({schema:b.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in b.result&&(this.issuerUniqueID=b.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in b.result&&(this.subjectUniqueID=b.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in b.result&&(this.extensions=Array.from(b.result["tbsCertificate.extensions"],x=>new nn({schema:x}))),this.signatureAlgorithm=new Zn({schema:b.result.signatureAlgorithm}),this.signatureValue=b.result.signatureValue}encodeTBS(){const f=[];return"version"in this&&this.version!==vi.defaultValues("version")&&f.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yn({value:this.version})]})),f.push(this.serialNumber),f.push(this.signature.toSchema()),f.push(this.issuer.toSchema()),f.push(new Cn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),f.push(this.subject.toSchema()),f.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&f.push(new lt({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&f.push(new lt({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&f.push(new j({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new Cn({value:Array.from(this.extensions,b=>b.toSchema())})]})),new Cn({value:f})}toSchema(f=!1){let b={};if(!1===f){if(0===this.tbs.length)return vi.schema().value[0];b=ct(this.tbs).result}else b=this.encodeTBS();return new Cn({value:[b,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const f={tbs:w(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==vi.defaultValues("version")&&(f.version=this.version),"issuerUniqueID"in this&&(f.issuerUniqueID=w(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(f.subjectUniqueID=w(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(f.extensions=Array.from(this.extensions,b=>b.toJSON())),f}getPublicKey(f=null){return Cs().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,f)}getKeyHash(f="SHA-1"){const b=Jr();return typeof b>"u"?Promise.reject("Unable to create WebCrypto object"):b.digest({name:f},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(f,b="SHA-1"){if(typeof f>"u")return Promise.reject("Need to provide a private key for signing");let J,x=Promise.resolve();const ue=Cs();return x=x.then(()=>ue.subtle.getSignatureParameters(f,b)),x=x.then(Ee=>{J=Ee.parameters,this.signature=Ee.signatureAlgorithm,this.signatureAlgorithm=Ee.signatureAlgorithm}),x=x.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),x=x.then(()=>ue.subtle.signWithPrivateKey(this.tbs,f,J)),x=x.then(Ee=>{this.signatureValue=new mt({valueHex:Ee})}),x}verify(f=null){let b={};return null!==f?b=f.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(b=this.subjectPublicKeyInfo),b instanceof Dr?Cs().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,b,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function Ln(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function ar(We){if(We.idBlock.isConstructed)for(let f=0;f<We.valueBlock.value.length;f++)ar(We.valueBlock.value[f])&&(We.lenBlock.isIndefiniteForm=!0);return!!We.lenBlock.isIndefiniteForm}function wo(We){let f=0,b=0;for(let ue=0;ue<We.length;ue++)f+=We[ue].byteLength;const x=new ArrayBuffer(f),J=new Uint8Array(x);for(let ue=0;ue<We.length;ue++){const Ee=We[ue];J.set(new Uint8Array(Ee),b),b+=Ee.byteLength}return x}const zs=[new Uint8Array([1])],Fi="0123456789",$i="valueHex",so="isHexOnly",As="isConstructed",na="isIndefiniteForm",ko="optional",Uo="primitiveSchema",yr="value",ir="valueDate",Vo="valueDec",Mr=new ArrayBuffer(0);class Ks{constructor(){this.items=[]}write(f){this.items.push(f)}final(){return wo(this.items)}}class Es{constructor(f={}){this.blockLength=C(f,"blockLength",0),this.error=C(f,"error",""),this.warnings=C(f,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in f?f.valueBeforeDecode.slice(0):Mr}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:w(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const Ys=We=>class extends We{constructor(b={}){super(b),this.isHexOnly=C(b,so,!1),this.valueHex=$i in b?b.valueHex.slice(0):Mr}static blockName(){return"hexBlock"}fromBER(b,x,J){return!1===g(this,b,x,J)?-1:0===new Uint8Array(b,x,J).length?(this.warnings.push("Zero buffer length"),x):(this.valueHex=b.slice(x,x+J),this.blockLength=J,x+J)}toBER(b=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Mr):!0===b?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let b={};try{b=super.toJSON()}catch{}return b.blockName=this.constructor.blockName(),b.isHexOnly=this.isHexOnly,b.valueHex=w(this.valueHex,0,this.valueHex.byteLength),b}};class mo extends(Ys(Es)){constructor(f={}){super(),"idBlock"in f?(this.isHexOnly=C(f.idBlock,so,!1),this.valueHex=C(f.idBlock,$i,Mr),this.tagClass=C(f.idBlock,"tagClass",-1),this.tagNumber=C(f.idBlock,"tagNumber",-1),this.isConstructed=C(f.idBlock,As,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(f=!1){let x,J,b=0;switch(this.tagClass){case 1:b|=0;break;case 2:b|=64;break;case 3:b|=128;break;case 4:b|=192;break;default:return this.error="Unknown tag class",Mr}if(this.isConstructed&&(b|=32),this.tagNumber<31&&!this.isHexOnly){if(x=new ArrayBuffer(1),J=new Uint8Array(x),!f){let ue=this.tagNumber;ue&=31,b|=ue,J[0]=b}return x}if(!1===this.isHexOnly){const ue=E(this.tagNumber,7),Ee=new Uint8Array(ue),ze=ue.byteLength;if(x=new ArrayBuffer(ze+1),J=new Uint8Array(x),J[0]=31|b,!f){for(let A=0;A<ze-1;A++)J[A+1]=128|Ee[A];J[ze]=Ee[ze-1]}return x}if(x=new ArrayBuffer(this.valueHex.byteLength+1),J=new Uint8Array(x),J[0]=31|b,!1===f){const ue=new Uint8Array(this.valueHex);for(let Ee=0;Ee<ue.length-1;Ee++)J[Ee+1]=128|ue[Ee];J[this.valueHex.byteLength]=ue[ue.length-1]}return x}fromBER(f,b,x){if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);if(0===J.length)return this.error="Zero buffer length",-1;switch(192&J[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~J[0]),this.isHexOnly=!1;const Ee=31&J[0];if(31!==Ee)this.tagNumber=Ee,this.blockLength=1;else{let ze=1;this.valueHex=new ArrayBuffer(255);let A=255,$=new Uint8Array(this.valueHex);for(;128&J[ze];){if($[ze-1]=127&J[ze],ze++,ze>=J.length)return this.error="End of input reached before message was fully decoded",-1;if(ze===A){A+=255;const R=new ArrayBuffer(A),be=new Uint8Array(R);for(let M=0;M<$.length;M++)be[M]=$[M];this.valueHex=new ArrayBuffer(A),$=new Uint8Array(this.valueHex)}}this.blockLength=ze+1,$[ze-1]=127&J[ze];const V=new ArrayBuffer(ze),ee=new Uint8Array(V);for(let R=0;R<ze;R++)ee[R]=$[R];this.valueHex=new ArrayBuffer(ze),$=new Uint8Array(this.valueHex),$.set(ee),this.blockLength<=9?this.tagNumber=h($,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return b+this.blockLength}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.blockName=this.constructor.blockName(),f.tagClass=this.tagClass,f.tagNumber=this.tagNumber,f.isConstructed=this.isConstructed,f}}class hr extends Es{constructor(f={}){super(),"lenBlock"in f?(this.isIndefiniteForm=C(f.lenBlock,na,!1),this.longFormUsed=C(f.lenBlock,"longFormUsed",!1),this.length=C(f.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(f,b,x){if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);if(0===J.length)return this.error="Zero buffer length",-1;if(255===J[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===J[0],!0===this.isIndefiniteForm)return this.blockLength=1,b+this.blockLength;if(this.longFormUsed=!!(128&J[0]),!1===this.longFormUsed)return this.length=J[0],this.blockLength=1,b+this.blockLength;const ue=127&J[0];if(ue>8)return this.error="Too big integer",-1;if(ue+1>J.length)return this.error="End of input reached before message was fully decoded",-1;const Ee=new Uint8Array(ue);for(let ze=0;ze<ue;ze++)Ee[ze]=J[ze+1];return 0===Ee[ue-1]&&this.warnings.push("Needlessly long encoded length"),this.length=h(Ee,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ue+1,b+this.blockLength}toBER(f=!1){let b,x;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return b=new ArrayBuffer(1),!1===f&&(x=new Uint8Array(b),x[0]=128),b;if(!0===this.longFormUsed){const J=E(this.length,8);if(J.byteLength>127)return this.error="Too big length",Mr;if(b=new ArrayBuffer(J.byteLength+1),!0===f)return b;const ue=new Uint8Array(J);x=new Uint8Array(b),x[0]=128|J.byteLength;for(let Ee=0;Ee<J.byteLength;Ee++)x[Ee+1]=ue[Ee];return b}return b=new ArrayBuffer(1),!1===f&&(x=new Uint8Array(b),x[0]=this.length),b}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.blockName=this.constructor.blockName(),f.isIndefiniteForm=this.isIndefiniteForm,f.longFormUsed=this.longFormUsed,f.length=this.length,f}}class Hr extends Es{constructor(f={}){super(f)}static blockName(){return"valueBlock"}fromBER(f,b,x){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(f=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class es extends Es{constructor(f={},b=Hr){super(f),"name"in f&&(this.name=f.name),ko in f&&(this.optional=f.optional),Uo in f&&(this.primitiveSchema=f.primitiveSchema),this.idBlock=new mo(f),this.lenBlock=new hr(f),this.valueBlock=new b(f)}static blockName(){return"BaseBlock"}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}toBER(f=!1,b){const x=b||new Ks;b||ar(this);const J=this.idBlock.toBER(f);if(x.write(J),this.lenBlock.isIndefiniteForm)x.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(f,x),x.write(new ArrayBuffer(2));else{const ue=this.valueBlock.toBER(!0);this.lenBlock.length=ue.byteLength;const Ee=this.lenBlock.toBER(f);x.write(Ee);const ze=f?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(f);x.write(ze,x)}if(!b)return x.final()}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.idBlock=this.idBlock.toJSON(),f.lenBlock=this.lenBlock.toJSON(),f.valueBlock=this.valueBlock.toJSON(),"name"in this&&(f.name=this.name),ko in this&&(f.optional=this.optional),Uo in this&&(f.primitiveSchema=this.primitiveSchema.toJSON()),f}toString(){return`${this.constructor.blockName()} : ${w(this.valueBlock.valueHex)}`}}class Oo extends Hr{constructor(f={}){super(f),this.valueHex=$i in f?f.valueHex.slice(0):Mr,this.isHexOnly=C(f,so,!0)}fromBER(f,b,x){if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);if(0===J.length)return this.warnings.push("Zero buffer length"),b;this.valueHex=new ArrayBuffer(J.length);const ue=new Uint8Array(this.valueHex);for(let Ee=0;Ee<J.length;Ee++)ue[Ee]=J[Ee];return this.blockLength=x,b+x}toBER(f=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.valueHex=w(this.valueHex,0,this.valueHex.byteLength),f.isHexOnly=this.isHexOnly,f}}class eo extends es{constructor(f={}){super(f,Oo),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class ks extends Hr{constructor(f={}){super(f),this.value=C(f,yr,[]),this.isIndefiniteForm=C(f,na,!1)}fromBER(f,b,x){const J=b,ue=x;if(!1===g(this,f,b,x))return-1;if(0===new Uint8Array(f,b,x).length)return this.warnings.push("Zero buffer length"),b;let A=b;for(;(!0===this.isIndefiniteForm?1:x)>0;){const $=Ma(f,A,x);if(-1===$.offset)return this.error=$.result.error,this.warnings.concat($.result.warnings),-1;if(A=$.offset,this.blockLength+=$.result.blockLength,x-=$.result.blockLength,this.value.push($.result),!0===this.isIndefiniteForm&&$.result.constructor.blockName()===Ns.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Ns.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=f.slice(J,J+ue),A}toBER(f=!1,b){const x=b||new Ks;for(let J=0;J<this.value.length;J++)this.value[J].toBER(f,x);if(!b)return x.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}f.isIndefiniteForm=this.isIndefiniteForm,f.value=[];for(let b=0;b<this.value.length;b++)f.value.push(this.value[b].toJSON());return f}}class Ts extends es{constructor(f={}){super(f,ks),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(f,b,x){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}toString(){const f=[];for(const x of this.valueBlock.value)f.push(x.toString().split("\n").map(J=>`  ${J}`).join("\n"));const b=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return f.length?`${b} :\n${f.join("\n")}`:`${b} :`}}class Fo extends Hr{constructor(f={}){super(f)}fromBER(f,b,x){return b}toBER(f=!1){return Mr}static blockName(){return"EndOfContentValueBlock"}}class Ns extends es{constructor(f={}){super(f,Fo),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class re extends Hr{constructor(f={}){super(f),this.value=C(f,yr,!1),this.isHexOnly=C(f,so,!1),$i in f?this.valueHex=f.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(f,b,x){if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);x>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(J.length);const ue=new Uint8Array(this.valueHex);for(let Ee=0;Ee<J.length;Ee++)ue[Ee]=J[Ee];return this.value=0!==U.call(this),this.blockLength=x,b+x}toBER(f=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.value=this.value,f.isHexOnly=this.isHexOnly,f.valueHex=w(this.valueHex,0,this.valueHex.byteLength),f}}class Qe extends es{constructor(f={}){super(f,re),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Se extends Ts{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class je extends Ts{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Tt extends es{constructor(f={}){super(f,Es),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(f,b,x){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=x,b+x>f.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):b+x}toBER(f=!1,b){const x=new ArrayBuffer(2);if(!f){const J=new Uint8Array(x);J[0]=5,J[1]=0}return b&&b.write(x),x}toString(){return`${this.constructor.blockName()}`}}class cn extends(Ys(ks)){constructor(f={}){super(f),this.isConstructed=C(f,As,!1)}fromBER(f,b,x){let J=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,J=ks.prototype.fromBER.call(this,f,b,x),-1===J)return J;for(let ue=0;ue<this.value.length;ue++){const Ee=this.value[ue].constructor.blockName();if(Ee===Ns.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Ee!==wn.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,J=super.fromBER(f,b,x),this.blockLength=x;return J}toBER(f=!1,b){if(!0===this.isConstructed)return ks.prototype.toBER.call(this,f,b);let x=new ArrayBuffer(this.valueHex.byteLength);return!0===f||0===this.valueHex.byteLength||(x=this.valueHex.slice(0)),x}static blockName(){return"OctetStringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.isConstructed=this.isConstructed,f.isHexOnly=this.isHexOnly,f.valueHex=w(this.valueHex,0,this.valueHex.byteLength),f}}class wn extends es{constructor(f={}){super(f,cn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(f,b,x){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===x)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),b;if(!this.valueBlock.isConstructed){const J=f.slice(b,b+x);try{const ue=ts(J);-1!==ue.offset&&ue.offset===x&&(this.valueBlock.value=[ue.result])}catch{}}return super.fromBER(f,b,x)}static blockName(){return"OCTET STRING"}isEqual(f){return!(!(f instanceof wn)||JSON.stringify(this)!==JSON.stringify(f))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?Ts.prototype.toString.call(this):`${this.constructor.blockName()} : ${w(this.valueBlock.valueHex)}`}}class oi extends(Ys(ks)){constructor(f={}){super(f),this.unusedBits=C(f,"unusedBits",0),this.isConstructed=C(f,As,!1),this.blockLength=this.valueHex.byteLength}fromBER(f,b,x){if(0===x)return b;let J=-1;if(!0===this.isConstructed){if(J=ks.prototype.fromBER.call(this,f,b,x),-1===J)return J;for(let ze=0;ze<this.value.length;ze++){const A=this.value[ze].constructor.blockName();if(A===Ns.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(A!==sr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[ze].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[ze].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return J}if(!1===g(this,f,b,x))return-1;const ue=new Uint8Array(f,b,x);if(this.unusedBits=ue[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const ze=f.slice(b+1,b+x);try{const A=ts(ze);-1!==A.offset&&A.offset===x-1&&(this.value=[A.result])}catch{}}this.valueHex=new ArrayBuffer(ue.length-1);const Ee=new Uint8Array(this.valueHex);for(let ze=0;ze<x-1;ze++)Ee[ze]=ue[ze+1];return this.blockLength=ue.length,b+x}toBER(f=!1,b){if(!0===this.isConstructed)return ks.prototype.toBER.call(this,f,b);if(!0===f)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Mr;const x=new Uint8Array(this.valueHex),J=new ArrayBuffer(this.valueHex.byteLength+1),ue=new Uint8Array(J);ue[0]=this.unusedBits;for(let Ee=0;Ee<this.valueHex.byteLength;Ee++)ue[Ee+1]=x[Ee];return J}static blockName(){return"BitStringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.unusedBits=this.unusedBits,f.isConstructed=this.isConstructed,f.isHexOnly=this.isHexOnly,f.valueHex=w(this.valueHex,0,this.valueHex.byteLength),f}}class sr extends es{constructor(f={}){super(f,oi),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(f,b,x){return 0===x?b:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(f,b,x))}isEqual(f){return!(!(f instanceof sr)||JSON.stringify(this)!==JSON.stringify(f))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return Ts.prototype.toString.call(this);{const f=[],b=new Uint8Array(this.valueBlock.valueHex);for(const x of b)f.push(x.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${f.join("")}`}}}class qi extends(Ys(Hr)){constructor(f={}){super(f),yr in f&&(this.valueDec=f.value)}set valueHex(f){this._valueHex=f.slice(0),f.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,f.byteLength>0&&(this._valueDec=U.call(this)))}get valueHex(){return this._valueHex}set valueDec(f){this._valueDec=f,this.isHexOnly=!1,this._valueHex=a(f)}get valueDec(){return this._valueDec}fromDER(f,b,x,J=0){const ue=this.fromBER(f,b,x);if(-1===ue)return ue;const Ee=new Uint8Array(this._valueHex);if(0===Ee[0]&&128&Ee[1]){const ze=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(ze).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=ze.slice(0)}else if(0!==J&&this._valueHex.byteLength<J){J-this._valueHex.byteLength>1&&(J=this._valueHex.byteLength+1);const ze=new ArrayBuffer(J);new Uint8Array(ze).set(Ee,J-this._valueHex.byteLength),this._valueHex=ze.slice(0)}return ue}toDER(f=!1){const b=new Uint8Array(this._valueHex);switch(!0){case!!(128&b[0]):{const x=new ArrayBuffer(this._valueHex.byteLength+1),J=new Uint8Array(x);J[0]=0,J.set(b,1),this._valueHex=x.slice(0)}break;case 0===b[0]&&!(128&b[1]):{const x=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(x).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=x.slice(0)}}return this.toBER(f)}fromBER(f,b,x){const J=super.fromBER(f,b,x);return-1===J?J:(this.blockLength=x,b+x)}toBER(f=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.valueDec=this.valueDec,f}toString(){function f(ee,R){const be=new Uint8Array([0]);let M=new Uint8Array(ee),se=new Uint8Array(R),fe=M.slice(0);const Ot=fe.length-1;let Fn=se.slice(0);const Xn=Fn.length-1;let bi=0,hs=0;for(let Yo=Xn<Ot?Ot:Xn;Yo>=0;Yo--,hs++)bi=1==hs<Fn.length?fe[Ot-hs]+Fn[Xn-hs]+be[0]:fe[Ot-hs]+be[0],be[0]=bi/10,1==hs>=fe.length?fe=B(new Uint8Array([bi%10]),fe):fe[Ot-hs]=bi%10;return be[0]>0&&(fe=B(be,fe)),fe.slice(0)}function b(ee){if(ee>=zs.length)for(let R=zs.length;R<=ee;R++){const be=new Uint8Array([0]);let M=zs[R-1].slice(0);for(let se=M.length-1;se>=0;se--){const fe=new Uint8Array([(M[se]<<1)+be[0]]);be[0]=fe[0]/10,M[se]=fe[0]%10}be[0]>0&&(M=B(be,M)),zs.push(M)}return zs[ee]}function x(ee,R){let be=0,M=new Uint8Array(ee),se=new Uint8Array(R),fe=M.slice(0);const Ot=fe.length-1;let Fn=se.slice(0);const Xn=Fn.length-1;let bi,ns=0;for(let hs=Xn;hs>=0;hs--,ns++)bi=fe[Ot-ns]-Fn[Xn-ns]-be,1==bi<0?(be=1,fe[Ot-ns]=bi+10):(be=0,fe[Ot-ns]=bi);if(be>0)for(let hs=Ot-Xn+1;hs>=0;hs--,ns++){if(bi=fe[Ot-ns]-be,!(bi<0)){be=0,fe[Ot-ns]=bi;break}be=1,fe[Ot-ns]=bi+10}return fe.slice()}const J=8*this._valueHex.byteLength-1;let ze,ue=new Uint8Array(8*this._valueHex.byteLength/3),Ee=0;const A=new Uint8Array(this._valueHex);let $="",V=!1;for(let ee=this._valueHex.byteLength-1;ee>=0;ee--){ze=A[ee];for(let R=0;R<8;R++)1&~ze||(Ee===J?(ue=x(b(Ee),ue),$="-"):ue=f(ue,b(Ee))),Ee++,ze>>=1}for(let ee=0;ee<ue.length;ee++)ue[ee]&&(V=!0),V&&($+=Fi.charAt(ue[ee]));return!1===V&&($+=Fi.charAt(0)),$}}class Ki extends es{constructor(f={}){super(f,qi),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(f){return f instanceof Ki?this.valueBlock.isHexOnly&&f.valueBlock.isHexOnly?k(this.valueBlock.valueHex,f.valueBlock.valueHex):this.valueBlock.isHexOnly===f.valueBlock.isHexOnly&&this.valueBlock.valueDec===f.valueBlock.valueDec:f instanceof ArrayBuffer&&k(this.valueBlock.valueHex,f)}convertToDER(){const f=new Ki({valueHex:this.valueBlock.valueHex});return f.valueBlock.toDER(),f}convertFromDER(){const f=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,b=new Ki({valueHex:this.valueBlock.valueHex});return b.valueBlock.fromDER(b.valueBlock.valueHex,0,b.valueBlock.valueHex.byteLength,f),b}toString(){Ln();const f=w(this.valueBlock.valueHex),b=BigInt(`0x${f}`);return`${this.constructor.blockName()} : ${b.toString()}`}}class Wi extends Ki{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class di extends(Ys(Es)){constructor(f={}){super(f),this.valueDec=C(f,Vo,-1),this.isFirstSid=C(f,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(f,b,x){if(0===x)return b;if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);this.valueHex=new ArrayBuffer(x);let ue=new Uint8Array(this.valueHex);for(let A=0;A<x&&(ue[A]=127&J[A],this.blockLength++,128&J[A]);A++);const Ee=new ArrayBuffer(this.blockLength),ze=new Uint8Array(Ee);for(let A=0;A<this.blockLength;A++)ze[A]=ue[A];return this.valueHex=Ee.slice(0),ue=new Uint8Array(this.valueHex),128&J[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ue[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(ue,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}set valueBigInt(f){Ln();let b=BigInt(f).toString(2);for(;b.length%7;)b="0"+b;const x=new Uint8Array(b.length/7);for(let J=0;J<x.length;J++)x[J]=parseInt(b.slice(7*J,7*J+7),2)+(J+1<x.length?128:0);this.fromBER(x.buffer,0,x.length)}toBER(f=!1){let b,x;if(this.isHexOnly){if(!0===f)return new ArrayBuffer(this.valueHex.byteLength);const ue=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),x=new Uint8Array(b);for(let Ee=0;Ee<this.blockLength-1;Ee++)x[Ee]=128|ue[Ee];return x[this.blockLength-1]=ue[this.blockLength-1],b}const J=E(this.valueDec,7);if(0===J.byteLength)return this.error="Error during encoding SID value",Mr;if(b=new ArrayBuffer(J.byteLength),!1===f){const ue=new Uint8Array(J);x=new Uint8Array(b);for(let Ee=0;Ee<J.byteLength-1;Ee++)x[Ee]=128|ue[Ee];x[J.byteLength-1]=ue[J.byteLength-1]}return b}toString(){let f="";if(!0===this.isHexOnly)f=w(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let b=this.valueDec;this.valueDec<=39?f="0.":this.valueDec<=79?(f="1.",b-=40):(f="2.",b-=80),f+=b.toString()}else f=this.valueDec.toString();return f}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.valueDec=this.valueDec,f.isFirstSid=this.isFirstSid,f}}class Yi extends Hr{constructor(f={}){super(f),this.fromString(C(f,yr,""))}fromBER(f,b,x){let J=b;for(;x>0;){const ue=new di;if(J=ue.fromBER(f,J,x),-1===J)return this.blockLength=0,this.error=ue.error,J;0===this.value.length&&(ue.isFirstSid=!0),this.blockLength+=ue.blockLength,x-=ue.blockLength,this.value.push(ue)}return J}toBER(f=!1){const b=[];for(let x=0;x<this.value.length;x++){const J=this.value[x].toBER(f);if(0===J.byteLength)return this.error=this.value[x].error,Mr;b.push(J)}return wo(b)}fromString(f){this.value=[];let b=0,x=0,J="",ue=!1;do{if(x=f.indexOf(".",b),J=-1===x?f.substr(b):f.substr(b,x-b),b=x+1,ue){const Ee=this.value[0];let ze=0;switch(Ee.valueDec){case 0:break;case 1:ze=40;break;case 2:ze=80;break;default:return this.value=[],!1}const A=parseInt(J,10);if(isNaN(A))return!0;Ee.valueDec=A+ze,ue=!1}else{const Ee=new di;if(J>Number.MAX_SAFE_INTEGER){Ln();const ze=BigInt(J);Ee.valueBigInt=ze}else if(Ee.valueDec=parseInt(J,10),isNaN(Ee.valueDec))return!0;0===this.value.length&&(Ee.isFirstSid=!0,ue=!0),this.value.push(Ee)}}while(-1!==x);return!0}toString(){let f="",b=!1;for(let x=0;x<this.value.length;x++){b=this.value[x].isHexOnly;let J=this.value[x].toString();0!==x&&(f=`${f}.`),b?(J=`{${J}}`,this.value[x].isFirstSid?f=`2.{${J} - 80}`:f+=J):f+=J}return f}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}f.value=this.toString(),f.sidArray=[];for(let b=0;b<this.value.length;b++)f.sidArray.push(this.value[b].toJSON());return f}}class Ii extends es{constructor(f={}){super(f,Yi),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class we extends(Ys(Es)){constructor(f={}){super(f),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.value=this.value,f}}class L extends es{constructor(f={}){super(f,we),yr in f&&this.fromString(f.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(f));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(b){this.warnings.push(`Error during "decodeURIComponent": ${b}, using raw string`)}}fromString(f){const b=unescape(encodeURIComponent(f)),x=b.length;this.valueBlock.valueHex=new ArrayBuffer(x);const J=new Uint8Array(this.valueBlock.valueHex);for(let ue=0;ue<x;ue++)J[ue]=b.charCodeAt(ue);this.valueBlock.value=f}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class me extends(Ys(Es)){constructor(f={}){super(f),this.valueDec=C(f,Vo,-1)}static blockName(){return"relativeSidBlock"}fromBER(f,b,x){if(0===x)return b;if(!1===g(this,f,b,x))return-1;const J=new Uint8Array(f,b,x);this.valueHex=new ArrayBuffer(x);let ue=new Uint8Array(this.valueHex);for(let A=0;A<x&&(ue[A]=127&J[A],this.blockLength++,128&J[A]);A++);const Ee=new ArrayBuffer(this.blockLength),ze=new Uint8Array(Ee);for(let A=0;A<this.blockLength;A++)ze[A]=ue[A];return this.valueHex=Ee.slice(0),ue=new Uint8Array(this.valueHex),128&J[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ue[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=h(ue,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),b+this.blockLength)}toBER(f=!1){let b,x;if(this.isHexOnly){if(!0===f)return new ArrayBuffer(this.valueHex.byteLength);const ue=new Uint8Array(this.valueHex);b=new ArrayBuffer(this.blockLength),x=new Uint8Array(b);for(let Ee=0;Ee<this.blockLength-1;Ee++)x[Ee]=128|ue[Ee];return x[this.blockLength-1]=ue[this.blockLength-1],b}const J=E(this.valueDec,7);if(0===J.byteLength)return this.error="Error during encoding SID value",Mr;if(b=new ArrayBuffer(J.byteLength),!1===f){const ue=new Uint8Array(J);x=new Uint8Array(b);for(let Ee=0;Ee<J.byteLength-1;Ee++)x[Ee]=128|ue[Ee];x[J.byteLength-1]=ue[J.byteLength-1]}return b}toString(){let f="";return f=!0===this.isHexOnly?w(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),f}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.valueDec=this.valueDec,f}}class Pe extends Hr{constructor(f={}){super(f),this.fromString(C(f,yr,""))}fromBER(f,b,x){let J=b;for(;x>0;){const ue=new me;if(J=ue.fromBER(f,J,x),-1===J)return this.blockLength=0,this.error=ue.error,J;this.blockLength+=ue.blockLength,x-=ue.blockLength,this.value.push(ue)}return J}toBER(f=!1){let b=[];for(let x=0;x<this.value.length;x++){const J=this.value[x].toBER(f);if(0===J.byteLength)return this.error=this.value[x].error,Mr;b.push(J)}return wo(b)}fromString(f){this.value=[];let b=0,x=0,J="";do{x=f.indexOf(".",b),J=-1===x?f.substr(b):f.substr(b,x-b),b=x+1;const ue=new me;if(ue.valueDec=parseInt(J,10),isNaN(ue.valueDec))return!0;this.value.push(ue)}while(-1!==x);return!0}toString(){let f="",b=!1;for(let x=0;x<this.value.length;x++){b=this.value[x].isHexOnly;let J=this.value[x].toString();0!==x&&(f=`${f}.`),b&&(J=`{${J}}`),f+=J}return f}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}f.value=this.toString(),f.sidArray=[];for(let b=0;b<this.value.length;b++)f.sidArray.push(this.value[b].toJSON());return f}}class st extends es{constructor(f={}){super(f,Pe),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class At extends(Ys(Es)){constructor(f={}){super(f),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.value=this.value,f}}class Ht extends es{constructor(f={}){super(f,At),yr in f&&this.fromString(f.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){const b=f.slice(0),x=new Uint8Array(b);for(let J=0;J<x.length;J+=2){const ue=x[J];x[J]=x[J+1],x[J+1]=ue}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(b))}fromString(f){const b=f.length;this.valueBlock.valueHex=new ArrayBuffer(2*b);const x=new Uint8Array(this.valueBlock.valueHex);for(let J=0;J<b;J++){const ue=E(f.charCodeAt(J),8),Ee=new Uint8Array(ue);if(Ee.length>2)continue;const ze=2-Ee.length;for(let A=Ee.length-1;A>=0;A--)x[2*J+A+ze]=Ee[A]}this.valueBlock.value=f}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class on extends(Ys(Es)){constructor(f={}){super(f),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.value=this.value,f}}class un extends es{constructor(f={}){super(f,on),yr in f&&this.fromString(f.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){const b=f.slice(0),x=new Uint8Array(b);for(let J=0;J<x.length;J+=4)x[J]=x[J+3],x[J+1]=x[J+2],x[J+2]=0,x[J+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(b))}fromString(f){const b=f.length;this.valueBlock.valueHex=new ArrayBuffer(4*b);const x=new Uint8Array(this.valueBlock.valueHex);for(let J=0;J<b;J++){const ue=E(f.charCodeAt(J),8),Ee=new Uint8Array(ue);if(Ee.length>4)continue;const ze=4-Ee.length;for(let A=Ee.length-1;A>=0;A--)x[4*J+A+ze]=Ee[A]}this.valueBlock.value=f}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class An extends(Ys(Es)){constructor(f={}){super(f),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.value=this.value,f}}class ci extends es{constructor(f={}){super(f,An),yr in f&&this.fromString(f.value)}static blockName(){return"SIMPLESTRING"}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(f))}fromString(f){const b=f.length;this.valueBlock.valueHex=new ArrayBuffer(b);const x=new Uint8Array(this.valueBlock.valueHex);for(let J=0;J<b;J++)x[J]=f.charCodeAt(J);this.valueBlock.value=f}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class Qn extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class Xi extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class Ie extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Nt extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class _e extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class Je extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class gt extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class pn extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class ni extends ci{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class Di extends gt{constructor(f={}){if(super(f),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,yr in f){this.fromString(f.value),this.valueBlock.valueHex=new ArrayBuffer(f.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let x=0;x<f.value.length;x++)b[x]=f.value.charCodeAt(x)}ir in f&&(this.fromDate(f.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){this.fromString(String.fromCharCode.apply(null,new Uint8Array(f)))}toBuffer(){const f=this.toString(),b=new ArrayBuffer(f.length),x=new Uint8Array(b);for(let J=0;J<f.length;J++)x[J]=f.charCodeAt(J);return b}fromDate(f){this.year=f.getUTCFullYear(),this.month=f.getUTCMonth()+1,this.day=f.getUTCDate(),this.hour=f.getUTCHours(),this.minute=f.getUTCMinutes(),this.second=f.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(f){const x=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(f);if(null===x)return void(this.error="Wrong input string for conversion");const J=parseInt(x[1],10);this.year=J>=50?1900+J:2e3+J,this.month=parseInt(x[2],10),this.day=parseInt(x[3],10),this.hour=parseInt(x[4],10),this.minute=parseInt(x[5],10),this.second=parseInt(x[6],10)}toString(){const f=new Array(7);return f[0]=O(this.year<2e3?this.year-1900:this.year-2e3,2),f[1]=O(this.month,2),f[2]=O(this.day,2),f[3]=O(this.hour,2),f[4]=O(this.minute,2),f[5]=O(this.second,2),f[6]="Z",f.join("")}static blockName(){return"UTCTime"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.year=this.year,f.month=this.month,f.day=this.day,f.hour=this.hour,f.minute=this.minute,f.second=this.second,f}}class gs extends gt{constructor(f={}){if(super(f),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,yr in f){this.fromString(f.value),this.valueBlock.valueHex=new ArrayBuffer(f.value.length);const b=new Uint8Array(this.valueBlock.valueHex);for(let x=0;x<f.value.length;x++)b[x]=f.value.charCodeAt(x)}ir in f&&(this.fromDate(f.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(f,b,x){const J=this.valueBlock.fromBER(f,b,!0===this.lenBlock.isIndefiniteForm?x:this.lenBlock.length);return-1===J?(this.error=this.valueBlock.error,J):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),J)}fromBuffer(f){this.fromString(String.fromCharCode.apply(null,new Uint8Array(f)))}toBuffer(){const f=this.toString(),b=new ArrayBuffer(f.length),x=new Uint8Array(b);for(let J=0;J<f.length;J++)x[J]=f.charCodeAt(J);return b}fromDate(f){this.year=f.getUTCFullYear(),this.month=f.getUTCMonth()+1,this.day=f.getUTCDate(),this.hour=f.getUTCHours(),this.minute=f.getUTCMinutes(),this.second=f.getUTCSeconds(),this.millisecond=f.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(f){let Ee,b=!1,x="",J="",ue=0,ze=0,A=0;if("Z"===f[f.length-1])x=f.substr(0,f.length-1),b=!0;else{const ee=new Number(f[f.length-1]);if(isNaN(ee.valueOf()))throw new Error("Wrong input string for conversion");x=f}if(b){if(-1!==x.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==x.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let ee=1,R=x.indexOf("+"),be="";if(-1===R&&(R=x.indexOf("-"),ee=-1),-1!==R){if(be=x.substr(R+1),x=x.substr(0,R),2!==be.length&&4!==be.length)throw new Error("Wrong input string for conversion");let M=new Number(be.substr(0,2));if(isNaN(M.valueOf()))throw new Error("Wrong input string for conversion");if(ze=ee*M,4===be.length){if(M=new Number(be.substr(2,2)),isNaN(M.valueOf()))throw new Error("Wrong input string for conversion");A=ee*M}}}let $=x.indexOf(".");if(-1===$&&($=x.indexOf(",")),-1!==$){const ee=new Number(`0${x.substr($)}`);if(isNaN(ee.valueOf()))throw new Error("Wrong input string for conversion");ue=ee.valueOf(),J=x.substr(0,$)}else J=x;switch(!0){case 8===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})/gi,-1!==$)throw new Error("Wrong input string for conversion");break;case 10===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==$){let ee=60*ue;this.minute=Math.floor(ee),ee=60*(ee-this.minute),this.second=Math.floor(ee),ee=1e3*(ee-this.second),this.millisecond=Math.floor(ee)}break;case 12===J.length:if(Ee=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==$){let ee=60*ue;this.second=Math.floor(ee),ee=1e3*(ee-this.second),this.millisecond=Math.floor(ee)}break;case 14===J.length:Ee=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==$&&(this.millisecond=Math.floor(1e3*ue));break;default:throw new Error("Wrong input string for conversion")}const V=Ee.exec(J);if(null===V)throw new Error("Wrong input string for conversion");for(let ee=1;ee<V.length;ee++)switch(ee){case 1:this.year=parseInt(V[ee],10);break;case 2:this.month=parseInt(V[ee],10);break;case 3:this.day=parseInt(V[ee],10);break;case 4:this.hour=parseInt(V[ee],10)+ze;break;case 5:this.minute=parseInt(V[ee],10)+A;break;case 6:this.second=parseInt(V[ee],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===b){const ee=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=ee.getUTCFullYear(),this.month=ee.getUTCMonth(),this.day=ee.getUTCDay(),this.hour=ee.getUTCHours(),this.minute=ee.getUTCMinutes(),this.second=ee.getUTCSeconds(),this.millisecond=ee.getUTCMilliseconds()}}toString(){const f=[];return f.push(O(this.year,4)),f.push(O(this.month,2)),f.push(O(this.day,2)),f.push(O(this.hour,2)),f.push(O(this.minute,2)),f.push(O(this.second,2)),0!==this.millisecond&&(f.push("."),f.push(O(this.millisecond,3))),f.push("Z"),f.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let f={};try{f=super.toJSON()}catch{}return f.year=this.year,f.month=this.month,f.day=this.day,f.hour=this.hour,f.minute=this.minute,f.second=this.second,f.millisecond=this.millisecond,f}}class Sr extends L{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class to extends L{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class ki extends L{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Eo extends L{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class vs extends L{constructor(f={}){super(f),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Ma(We,f,b){const x=f;let ue=new es({},Object);const Ee=new Es;if(!1===g(Ee,We,f,b))return ue.error=Ee.error,{offset:-1,result:ue};if(0===new Uint8Array(We,f,b).length)return ue.error="Zero buffer length",{offset:-1,result:ue};let A=ue.idBlock.fromBER(We,f,b);if(ue.warnings.concat(ue.idBlock.warnings),-1===A)return ue.error=ue.idBlock.error,{offset:-1,result:ue};if(A=ue.lenBlock.fromBER(We,f=A,b-=ue.idBlock.blockLength),ue.warnings.concat(ue.lenBlock.warnings),-1===A)return ue.error=ue.lenBlock.error,{offset:-1,result:ue};if(f=A,b-=ue.lenBlock.blockLength,!1===ue.idBlock.isConstructed&&!0===ue.lenBlock.isIndefiniteForm)return ue.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ue};let $=es;if(1===ue.idBlock.tagClass){if(ue.idBlock.tagNumber>=37&&!1===ue.idBlock.isHexOnly)return ue.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ue};switch(ue.idBlock.tagNumber){case 0:if(!0===ue.idBlock.isConstructed&&ue.lenBlock.length>0)return ue.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ue};$=Ns;break;case 1:$=Qe;break;case 2:$=Ki;break;case 3:$=sr;break;case 4:$=wn;break;case 5:$=Tt;break;case 6:$=Ii;break;case 10:$=Wi;break;case 12:$=L;break;case 13:$=st;break;case 14:$=vs;break;case 15:return ue.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ue};case 16:$=Se;break;case 17:$=je;break;case 18:$=Qn;break;case 19:$=Xi;break;case 20:$=Ie;break;case 21:$=Nt;break;case 22:$=_e;break;case 23:$=Di;break;case 24:$=gs;break;case 25:$=Je;break;case 26:$=gt;break;case 27:$=pn;break;case 28:$=un;break;case 29:$=ni;break;case 30:$=Ht;break;case 31:$=Sr;break;case 32:$=to;break;case 33:$=ki;break;case 34:$=Eo;break;default:{let V;V=!0===ue.idBlock.isConstructed?new Ts:new eo,V.idBlock=ue.idBlock,V.lenBlock=ue.lenBlock,V.warnings=ue.warnings,ue=V}}}else $=!0===ue.idBlock.isConstructed?Ts:eo;return ue=function J(V,ee){if(V instanceof ee)return V;const R=new ee;return R.idBlock=V.idBlock,R.lenBlock=V.lenBlock,R.warnings=V.warnings,R.valueBeforeDecode=V.valueBeforeDecode.slice(0),R}(ue,$),A=ue.fromBER(We,f,!0===ue.lenBlock.isIndefiniteForm?b:ue.lenBlock.length),ue.valueBeforeDecode=We.slice(x,x+ue.blockLength),{offset:A,result:ue}}function ts(We){if(0===We.byteLength){const f=new es({},Object);return f.error="Input buffer has zero length",{offset:-1,result:f}}return Ma(We,0,We.byteLength)}var Ko=d(3838),Po=d(4531),xa=d(4438);let xl=(()=>{class We{convertStringToArrayBuffer(b){const x=new Ko.hp(b,"base64").toString("binary"),J=new ArrayBuffer(2*x.length),ue=new Uint8Array(J);for(let Ee=0,ze=x.length;Ee<ze;Ee++)ue[Ee]=x.charCodeAt(Ee);return J}buildCertModelFromArrayBuffer(b,x){var J=this;return(0,t.A)(function*(){const ue=ts(b),Ee=new vi({schema:ue.result}),ze=new e,A=J.getSubject(Ee),$=yield J.calculateCertificateThumbprint(x);return ze.base64Cert=x,ze.subject=A,ze.thumbprint=$,ze})()}verifyCertFilePassword(b,x,J){let ue=new FileReader;ue.onload=Ee=>{try{const ze=Ko.hp.from(ue.result),A=this.arrayBufferToBase64(ze);(0,Po.hc)(ze,x),J.next(A)}catch(ze){console.log("Invalid cert!"),J.error(ze)}},ue.onerror=Ee=>{J.error(Ee)},ue.readAsArrayBuffer(b)}getSubject(b){const x={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},J=new Array;for(const Ee of b.subject.typesAndValues){let ze=x[Ee.type];typeof ze>"u"&&(ze=Ee.type),J.push(`${ze}=${Ee.value.valueBlock.value}`)}return J.reverse().join(", ")}calculateCertificateThumbprint(b){var x=this;return(0,t.A)(function*(){const J=new Ko.hp(b,"base64"),ue=yield crypto.subtle.digest("SHA-1",J);return x.computeHex(ue)})()}computeHex(b){return[].map.call(new Uint8Array(b),x=>("00"+x.toString(16)).slice(-2)).join("")}arrayBufferToBase64(b){for(var x="",J=new Uint8Array(b),ue=J.byteLength,Ee=0;Ee<ue;Ee++)x+=String.fromCharCode(J[Ee]);return window.btoa(x)}static{this.\u0275fac=function(x){return new(x||We)}}static{this.\u0275prov=xa.jDH({token:We,factory:We.\u0275fac})}}return We})()},526:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>w});var t=d(1626),e=d(2771),p=d(7263),S=d(4438),C=d(9564);let w=(()=>{class g{constructor(E,v){this.http=E,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=v.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}getClaimTypes(E,v,B=!1){let U=new t.Nl;return(0,p.gP)(E)||(U=U.append("name",E)),U=U.append("sort",(0,p.gP)(v)?"name":v),this.http.get(B?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:U})}addClaimType(E){const v=`${this.actionUrl}`,B=JSON.stringify(E);return this.http.post(v,B,{headers:this.headers})}updateClaimType(E){const v=`${this.actionUrl}/${E.id}`,B=JSON.stringify(E);return this.http.put(v,B,{headers:this.headers})}deleteClaimType(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}getAllowedValues(E,v,B){let U=new t.Nl;return(0,p.gP)(v)||(U=U.append("query",v)),B&&(U=U.append("resultThreshold",B)),this.http.get(`${this.actionUrl}/AllowedValues/${E}`,{headers:this.headers,params:U})}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(t.Qq),S.KVO(C.m))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},8939:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>h});var t=d(983),e=d(6354),p=d(9437),S=d(8284),C=d(4438),w=d(526),g=d(5424);let h=(()=>{class E{constructor(B,U){this.claimTypeService=B,this.errorService=U}resolve(B,U){return this.claimTypeService.getClaimType(B.params.Id).pipe((0,e.T)(k=>(k&&this.claimTypeService.getCachedClaimType().next(k),k)),(0,p.W)((k,O)=>(404===k.status?this.errorService.resourceNotFound(S.v.claimType):this.errorService.handleError(k),(0,t.I)())))}static{this.\u0275fac=function(U){return new(U||E)(C.KVO(w.X),C.KVO(g.I))}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac})}}return E})()},3577:(nt,ye,d)=>{"use strict";d.d(ye,{e:()=>p});var t=d(4412),e=d(4438);let p=(()=>{class S{constructor(){this.unsavedCache=new t.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new t.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},9113:(nt,ye,d)=>{"use strict";d.d(ye,{Hh:()=>w,SD:()=>C,qJ:()=>S});var t=d(4438),e=d(1626),p=d(9564);let S=(()=>{class h{constructor(v,B){this.http=v,this.headersService=B,this.actionUrl="clients/import"}validateImportFile(v){const a=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,v,{headers:a})}completeImport(v,B){const U=this.appendImportConfiguration(v,B),k=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,U,{headers:k})}appendImportConfiguration(v,B){const U=JSON.parse(v);return U.importConfiguration={clients:B.clients,protectedResources:B.protectedResources},JSON.stringify(U)}static{this.\u0275fac=function(B){return new(B||h)(t.KVO(e.Qq),t.KVO(p.m))}}static{this.\u0275prov=t.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})();class C{}class w{constructor(){this.certificates=new g}}class g{}},8173:(nt,ye,d)=>{"use strict";d.d(ye,{q:()=>C});var t=d(6701),e=d(4491),p=d(4438),S=d(3577);let C=(()=>{class ne{constructor(pe){this.cache=pe,this.defaultClientGrantTypeMap=new Map([[t.s.BrowserBased,e.$.AuthorizationCode],[t.s.ServerSidePKCE,e.$.AuthorizationCode],[t.s.ServerSide,e.$.Hybrid],[t.s.Native,e.$.Hybrid],[t.s.Machine,e.$.ClientCredentials],[t.s.CIBAMachine,e.$.CIBA],[t.s.Device,e.$.Device],[t.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(K=>{this.initClientViews(K)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(pe){this.resetTabs(),this.isStandardClientFormat(pe)||pe.clientType===t.s.Saml||pe.clientType===t.s.WsFed?this.initUsingClientType(pe.clientType):0!==pe.allowedGrantTypes.length?this.initUsingGrantTypes(pe.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new w,this.details=new g,this.applicationUrls=new h,this.secrets=new E,this.resources=new v,this.tokens=new Y,this.claims=new U,this.refreshTokens=new G,this.identityProviders=new k,this.properties=new O,this.other=new P,this.deviceFlow=new N,this.singleSignOut=new H,this.consent=new z,this.saml=new ce,this.wsFed=new de,this.ciba=new B,this.dpop=new Z}isStandardClientFormat(pe){if(pe.clientType===t.s.Unknown||pe.allowedGrantTypes.length>1)return!1;const K=this.defaultClientGrantTypeMap.get(pe.clientType);return pe.allowedGrantTypes[0]===K}initUsingClientType(pe){switch(pe){case t.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.ServerSide:case t.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Native:case t.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case t.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case t.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case t.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case t.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case t.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case t.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(pe){this.saml.display=!1,this.wsFed.display=!1,pe.forEach(K=>{switch(K){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(K){return new(K||ne)(p.KVO(S.e))}}static{this.\u0275prov=p.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();class w{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class g{}class h{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class E{constructor(){this.display=!1}}class v{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class B{constructor(){this.display=!1}}class U{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class O{constructor(){this.display=!1}}class P{constructor(){this.display=!1,this.userSSOLifetime=!1}}class N{constructor(){this.display=!1}}class H{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class G{constructor(){this.display=!1}}class z{constructor(){this.display=!1}}class ce{constructor(){this.display=!1}}class de{constructor(){this.display=!1}}class Y{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class Z{constructor(){this.display=!1}}},9398:(nt,ye,d)=>{"use strict";d.d(ye,{_:()=>g});var t=d(1626),e=d(2771),p=d(7263),S=d(6701),C=d(4438),w=d(9564);let g=(()=>{class h{constructor(v,B){this.http=v,this.headersService=B,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=B.setHeaders()}getClients(v,B,U){let a=new t.Nl;return(0,p.gP)(v)||(a=a.append("name",v)),B&&(a=a.append("page",B)),U&&(a=a.append("pageSize",U)),this.http.get(this.actionUrl,{headers:this.headers,params:a})}getClient(v){return this.http.get(`${this.actionUrl}/${v}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(v){let B;switch(v.clientType){case S.s.Saml:B=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case S.s.WsFed:B=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:B=this.headersService.setHeaders()}const U=`${this.actionUrl}/`,a=JSON.stringify(v);return this.http.post(U,a,{headers:B})}updateClient(v){return this.http.put(`${this.actionUrl}/${v.id}`,v,{headers:this.headers})}addClientSecret(v,B){return this.http.post(`${this.actionUrl}/${v}/secrets`,B,{headers:this.headers})}removeClientSecret(v,B){return this.http.delete(`${this.actionUrl}/${v}/secrets/${B.id}`,{headers:this.headers})}deleteClient(v){return this.http.delete(`${this.actionUrl}/${v}`,{headers:this.headers})}cloneClient(v,B){const U=`${this.actionUrl}/${v}/clone`,a=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(U,B,{headers:a,observe:"response"})}static{this.\u0275fac=function(B){return new(B||h)(C.KVO(t.Qq),C.KVO(w.m))}}static{this.\u0275prov=C.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},9196:(nt,ye,d)=>{"use strict";d.d(ye,{w:()=>B});var t=d(1626),e=d(7673),p=d(1413),S=d(978);function w(U){return{...U,dynamicAuthenticationFlag:S.U[U.dynamicAuthenticationFlag]}}class E{constructor(){this.requireEmailInUsers=!0}}var v=d(4438);let B=(()=>{class U{constructor(k){this.http=k,this.headers=new t.Lr,this.actionUrl="UIConfiguration"}getConfig(k=!1){const O=new E;if(O.resetPasswordConfigured=!1,O.targetIdentityServer4=!1,O.resetMfaConfigured=!1,O.featureFlagOptions=new S.D,this.uiOptions&&!k)return(0,e.of)(this.uiOptions);const P=new p.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:W=>{this.uiOptions=function h(U){return{...U,featureFlagOptions:w(U.featureFlagOptions)}}(W),P.next(this.uiOptions)},error:W=>P.next(O)}),P.asObservable()}static{this.\u0275fac=function(O){return new(O||U)(v.KVO(t.Qq))}}static{this.\u0275prov=v.jDH({token:U,factory:U.\u0275fac})}}return U})()},3384:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>E});var t=d(983),e=d(6354),p=d(9437),S=d(8284),C=d(4438),w=d(2036),g=d(6366),h=d(5424);let E=(()=>{class v{constructor(U,a,k){this.wsfedClientService=U,this.relyingPartyCache=a,this.errorService=k}resolve(U,a){const k=U.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(k).pipe((0,e.T)(O=>{const P=JSON.parse(JSON.stringify(O.claimMappings)),W=new Map;for(const N in P)P.hasOwnProperty(N)&&W.set(N,P[N]);return O.claimMappings=W,this.relyingPartyCache.unsavedCache.next(O),O}),(0,p.W)(O=>(404===O.status?this.errorService.resourceNotFound(S.v.relyingParty):this.errorService.handleError(O),(0,t.I)())));this.relyingPartyCache.unsavedCache$.subscribe(O=>O)}static{this.\u0275fac=function(a){return new(a||v)(C.KVO(w.c),C.KVO(g.z),C.KVO(h.I))}}static{this.\u0275prov=C.jDH({token:v,factory:v.\u0275fac})}}return v})()},1466:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>v});var t=d(983),e=d(6354),p=d(9437),S=d(8284),C=d(4438),w=d(9156),g=d(5691),h=d(1583),E=d(5424);let v=(()=>{class B{constructor(a,k,O,P){this.serviceProviderService=a,this.serviceproviderCache=k,this.router=O,this.errorSerivce=P}resolve(a,k){const O=a.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(O).pipe((0,e.T)(P=>{const W=JSON.parse(JSON.stringify(P.claimMappings)),N=new Map;for(const H in W)W.hasOwnProperty(H)&&N.set(H,W[H]);return P.claimMappings=N,this.serviceproviderCache.unsavedCache.next(P),this.serviceproviderCache.savedCache.next(P),P}),(0,p.W)((P,W)=>(404===P.status?this.errorSerivce.resourceNotFound(S.v.serviceProvider):this.errorSerivce.handleError(P),(0,t.I)())));this.serviceproviderCache.unsavedCache$.subscribe(P=>P)}static{this.\u0275fac=function(k){return new(k||B)(C.KVO(w.s),C.KVO(g.d),C.KVO(h.Ix),C.KVO(E.I))}}static{this.\u0275prov=C.jDH({token:B,factory:B.\u0275fac})}}return B})()},4442:(nt,ye,d)=>{"use strict";d.d(ye,{_:()=>w});var t=d(1594),e=d(4438),p=d(9156),S=d(5691),C=d(5424);let w=(()=>{class g{constructor(E,v,B){this.serviceProviderService=E,this.cache=v,this.errorService=B}uploadFile(E,v){return this.serviceProviderService.setEncryptionCertificateViaFile(E,v)}uploadViaMetaData(E,v){return this.serviceProviderService.setEncryptionCertificateViaMetadata(E,v)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(v=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(B=>{B.encryptionCertificate=v.encryptionCertificate,this.cache.unsavedCache.next(B)})},v=>{this.errorService.handleError(v)})}static{this.\u0275fac=function(v){return new(v||g)(e.KVO(p.s),e.KVO(S.d),e.KVO(C.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},5424:(nt,ye,d)=>{"use strict";d.d(ye,{I:()=>E});var t=d(7263),e=d(8284),p=d(9957),S=d(4438),C=d(1583),w=d(7005),g=d(5794),h=d(1780);let E=(()=>{class v{constructor(U,a,k,O){this.router=U,this.localize=a,this.toast=k,this.translate=O}resourceNotFound(U){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[U])])}handleError(U,a,k){let O=p.I.NotHandled;const P=this.getDefaultNavigationPath(U);if(P)this.router.navigate([this.localize.translateRoute(P)]),O|=p.I.Navigate;else{const W=this.getOptionsToastBody(U,a)||this.getDefaultToastBody(U),N=this.getOptionsToastTitle(U,a)||this.getDefaultToastTitle(U);W&&N&&(k?this.toast.error(W,N,k):this.toast.error(W,N),O|=p.I.Toast)}return O}getOptionsToastBody(U,a){if(!a)return;const k="number"==typeof U.status&&a.statusToastOptions?a.statusToastOptions[U.status]:a;return k&&k.toastBody}getOptionsToastTitle(U,a){if(!a)return;const k="number"==typeof U.status&&a.statusToastOptions?a.statusToastOptions[U.status]:a;return k&&k.toastTitle}getDefaultNavigationPath(U){switch(U.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(U){switch(U.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(U){return 500===U.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:U.error&&U.error.errors&&U.error.errors.length>0?U.error.errors[0]:(0,t.gP)(U._body)&&(0,t.gP)(U.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,t.gP)(U.error)?U._body:U.error}static{this.\u0275fac=function(a){return new(a||v)(S.KVO(C.Ix),S.KVO(w.QG),S.KVO(g.tw),S.KVO(h.c$))}}static{this.\u0275prov=S.jDH({token:v,factory:v.\u0275fac,providedIn:"root"})}}return v})()},8892:(nt,ye,d)=>{"use strict";d.d(ye,{_:()=>p});var t=d(4438),e=d(9686);let p=(()=>{class S{constructor(w){this.fileDownloader=w,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(w){const g=this.actionUrl+"/specified",h=new Map;h.set("clientIds",w.join(",")),this.fileDownloader.buildFormWithCustomInputs(g,h).submitForm()}static{this.\u0275fac=function(g){return new(g||S)(t.KVO(e.D))}}static{this.\u0275prov=t.jDH({token:S,factory:S.\u0275fac})}}return S})()},9686:(nt,ye,d)=>{"use strict";d.d(ye,{D:()=>S});class t{constructor(w){this.form=w}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=d(4438),p=d(7883);let S=(()=>{class C{constructor(g){this.securityService=g}buildForm(g){const h=this.buildStandardForm(g);return new t(h)}buildStandardForm(g){const h=document.createElement("form");return h.setAttribute("method","post"),h.setAttribute("action",g),h}appendInput(g,h,E){const v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("name",g),v.setAttribute("value",h),E.appendChild(v)}buildFormWithCustomInputs(g,h){const E=this.buildStandardForm(g);return h.forEach((v,B)=>{this.appendInput(B,v,E)}),new t(E)}static{this.\u0275fac=function(h){return new(h||C)(e.KVO(p.i))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac})}}return C})()},4855:(nt,ye,d)=>{"use strict";d.d(ye,{F:()=>g});var t=d(1594),e=d(6354),p=d(978),S=d(4438),C=d(1583),w=d(9196);let g=(()=>{class h{constructor(v,B){this.router=v,this.config=B}canActivate(v,B){return this.config.getConfig().pipe((0,t.$)(),(0,e.T)(U=>U?.featureFlagOptions?.dynamicAuthenticationFlag!=p.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(B){return new(B||h)(S.KVO(C.Ix),S.KVO(w.w))}}static{this.\u0275prov=S.jDH({token:h,factory:h.\u0275fac,providedIn:"root"})}}return h})()},3218:(nt,ye,d)=>{"use strict";d.d(ye,{O:()=>w});var t=d(1594),e=d(6354),p=d(4438),S=d(1583),C=d(9196);let w=(()=>{class g{constructor(E,v){this.router=E,this.config=v}canActivate(E,v){return this.config.getConfig().pipe((0,t.$)(),(0,e.T)(B=>(B?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(v){return new(v||g)(p.KVO(S.Ix),p.KVO(C.w))}}static{this.\u0275prov=p.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})()},9564:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>p});var t=d(1626),e=d(4438);let p=(()=>{class S{setHeaders(w,g){return(new t.Lr).set("Content-Type",w||"application/json").set("Accept",g||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},6801:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>S});var t=d(2771),e=d(4438),p=d(1626);let S=(()=>{class C{constructor(g){this.http=g,this.idsReady=!1,this.idsHealthCheckComplete=new t.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new t.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(h){return new(h||C)(e.KVO(p.Qq))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac})}}return C})()},8261:(nt,ye,d)=>{"use strict";d.d(ye,{A:()=>w});var t=d(1626),e=d(2771),p=d(7263),S=d(4438),C=d(9564);let w=(()=>{class g{constructor(E,v){this.http=E,this.headersService=v,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=v.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(E){let v=new t.Nl;return(0,p.gP)(E)||(v=v.append("name",E)),this.http.get(this.actionUrl,{headers:this.headers,params:v})}addResource(E){const v=`${this.actionUrl}/`,B=JSON.stringify(E);return this.http.post(v,B,{headers:this.headers})}getResource(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}updateResource(E){return this.http.put(`${this.actionUrl}/${E.id}`,E,{headers:this.headers})}deleteIdentityResource(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(t.Qq),S.KVO(C.m))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},6193:(nt,ye,d)=>{"use strict";d.d(ye,{V:()=>W});var t=d(1413),e=d(2771),p=d(4414),S=d(1594),C=d(1744),w=d(7728),g=d(5696),h=d(4406),E=d(1138),v=d(785),B=d(7263),U=d(2858),a=d(7212),k=d(4438),O=d(5847),P=d(5826);let W=(()=>{class N{constructor(G,z){this.importWizardProvider=G,this.importWizardService=z,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new t.B}setupInitialStep(){const G=this.importWizardProvider.getStep(p.M.clientSummary);this.stepsAhead.push(G)}goToNextStep(){const G=this.stepsAhead.pop();this.stepsCompleted.push(G),G.component===w.z&&G.data.includes(C.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(G.component===E.u&&G.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(G):G.component===U.zI&&G.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(G)),this.move.next(!1))}applyCertificateRememberDecision(G){const z=[];return this.stepsAhead.forEach(ce=>{ce.component!==U.zI||ce.data.existingHasCertificates!==G.data.existingHasCertificates||(G.data.certificateAction===U.AU.DoNotSet?ce.data.certificates=new a.D:G.data.certificateAction===U.AU.UseExisting&&(ce.data.certificates=new a.D,ce.data.useExistingCertificates=!0),z.push(ce),this.stepsCompleted.push(ce))}),this.stepsAhead.filter(ce=>!z.includes(ce))}applyRememberDecision(G){const z=[];return this.stepsAhead.forEach(ce=>{if(ce.component===E.u&&ce.data.resourceType===G.data.resourceType&&ce.data.existingHasSecrets===G.data.existingHasSecrets){if(G.data.secretsAction===E.r.DoNotSet)ce.data.secrets=[];else if(G.data.secretsAction===E.r.UseExistingSecret)ce.data.useExistingSecrets=!0;else if(G.data.secretsAction===E.r.Generate){const de=new v.z;de.value=(0,B.Nl)(),de.type="Shared Secret",de.description="",ce.data.secrets=[de]}z.push(ce),this.stepsCompleted.push(ce)}}),this.stepsAhead.filter(ce=>!z.includes(ce))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(p.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const z=this.stepsCompleted[this.stepsCompleted.length-1];if(z.component===E.u)this.goToLastRememberedDecision(z.component,ce=>ce.data.rememberSecretAction);else if(z.component===U.zI)this.goToLastRememberedDecision(z.component,ce=>ce.data.rememberCertificateAction&&ce.data.existingHasCertificates===z.data.existingHasCertificates);else{const ce=this.stepsCompleted.pop();this.stepsAhead.push(ce)}this.move.next(!1)}goToLastRememberedDecision(G,z){const ce=this.stepsCompleted.filter(de=>de.component===G);if(ce.length>1){const de=ce.filter(z);if(de){const Z=this.stepsCompleted.indexOf(de[de.length-1]),ne=this.stepsCompleted.splice(Z,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...ne.reverse()]}else{const Y=this.stepsCompleted.pop();this.stepsAhead.push(Y)}}else{const de=this.stepsCompleted.pop();this.stepsAhead.push(de)}}goToFinalSummary(){const G=this.stepsAhead.findIndex(ce=>ce.component===g.s),z=this.stepsAhead.splice(G+1);for(;z.length>0;){const ce=z.pop();this.stepsCompleted.push(ce)}this.move.next(!1)}goToSummaryStep(G){const z=this.stepsCompleted.findIndex(de=>de.component===w.z&&de.data.includes(G)),ce=this.stepsCompleted.splice(z);for(;ce.length>0;){const de=ce.pop();this.stepsAhead.push(de)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const G=this.getCurrentStep();G.component===h.X?this.quit():G.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(p.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(G,z){const ce=this.stepsAhead.pop();this.stepsCompleted.push(ce);const de=this.importWizardProvider.getStep(G);de.data=z,this.stepsAhead.push(de),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const G=new e.m;return this.importWizardService.cache.pipe((0,S.$)()).subscribe(z=>{this.stepsAhead.push(this.importWizardProvider.getStep(p.M.importComplete)),this.showFinalSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.finalSummary));const ce=this.sortImportResources(z),de=[],Y=[];for(let Z=ce.length;Z>0;Z--){const ne=ce[Z-1];let I=!1;ne.resourceType===C.ot.ProtectedResource&&ne.dependantClients.forEach(pe=>{I=z.some(K=>K.identifier===pe.identifier&&K.resourceState!==C.jD.Duplicate)}),(ne.selected||I)&&(ne.existingHasSecrets&&de.push(this.importWizardProvider.getSecretStep(ne)),ne.hadSecrets&&!ne.existingHasSecrets&&de.push(this.importWizardProvider.getSecretStep(ne)),ne.existingHasCertificates&&Y.push(this.importWizardProvider.getCertificateStep(ne)),ne.hadCertificates&&!ne.existingHasCertificates&&Y.push(this.importWizardProvider.getCertificateStep(ne)))}this.stepsAhead.push(...de),this.stepsAhead.push(...Y),this.showClaimTypeSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.claimTypeSummary)),this.showResourceSummary(z)&&this.stepsAhead.push(this.importWizardProvider.getStep(p.M.resourcesSummary)),G.next()}),G}sortImportResources(G){G=(G=G.sort((ce,de)=>ce.displayName.toUpperCase().localeCompare(de.displayName.toUpperCase()))).sort((ce,de)=>+ce.conflictedByDependencies-+de.conflictedByDependencies);const z=[C.jD.Conflicted,C.jD.New,C.jD.Duplicate];return G.sort((ce,de)=>z.indexOf(ce.resourceState)-z.indexOf(de.resourceState))}showResourceSummary(G){const z=G.filter(de=>de.resourceType===C.ot.Client&&!0===de.selected).map(de=>de.identifier),ce=G.filter(de=>(de.resourceType===C.ot.IdentityResource||de.resourceType===C.ot.ProtectedResource)&&de.dependantClients.map(Y=>Y.identifier).some(Y=>z.includes(Y)));return ce.length>0&&ce.some(de=>de.resourceState===C.jD.Conflicted)}showClaimTypeSummary(G){const z=G.filter(de=>de.resourceType===C.ot.Client&&!0===de.selected).map(de=>de.identifier),ce=G.filter(de=>de.resourceType===C.ot.ClaimType&&de.dependantClients.map(Y=>Y.identifier).some(Y=>z.includes(Y)));return ce.length>0&&ce.some(de=>de.resourceState===C.jD.Conflicted)}showFinalSummary(G){return G.some(z=>z.resourceType!==C.ot.Client)}static{this.\u0275fac=function(z){return new(z||N)(k.KVO(O.a),k.KVO(P.o))}}static{this.\u0275prov=k.jDH({token:N,factory:N.\u0275fac})}}return N})()},5847:(nt,ye,d)=>{"use strict";d.d(ye,{a:()=>Y});var t=d(1744),e=d(7728),p=d(5088),S=d(7629),C=d(6799),w=d(4438),g=d(5826),h=d(1780);let E=(()=>{class ne extends C.P{set data(pe){null!==pe&&(this.resetOnClose=pe)}constructor(pe){super(),this.importWizardService=pe,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||ne)(w.rXU(g.o))}}static{this.\u0275cmp=w.VBU({type:ne,selectors:[["app-import-close-warning"]],features:[w.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,he){1&K&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.nI1(4,"translate"),w.k0s()(),w.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),w.bIt("click",function(){return he.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",5),w.bIt("click",function(){return he.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&K&&(w.R7$(2),w.Lme("",w.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",w.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),w.R7$(7),w.JRh(w.bMT(10,8,"Notifications.StayHere")),w.R7$(3),w.JRh(w.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[h.D9],encapsulation:2})}}return ne})();var v=d(4414),B=d(590),U=d(177);function a(ne,I){1&ne&&(w.j41(0,"p"),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&ne&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let k=(()=>{class ne extends C.P{set data(pe){this.resource=pe,this.summaryDisplayType=B.n.getSummaryDisplayType(pe.resourceType)}constructor(pe){super(),this.importWizardService=pe,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||ne)(w.rXU(g.o))}}static{this.\u0275cmp=w.VBU({type:ne,selectors:[["app-conflicts-confirmation"]],features:[w.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(K,he){1&K&&(w.j41(0,"div",0)(1,"p"),w.EFF(2),w.nI1(3,"translate"),w.k0s(),w.DNE(4,a,3,3,"p",1),w.k0s(),w.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),w.bIt("click",function(){return he.no()}),w.EFF(9),w.nI1(10,"translate"),w.k0s()(),w.j41(11,"button",6),w.bIt("click",function(){return he.yes()}),w.EFF(12),w.nI1(13,"translate"),w.k0s()()()),2&K&&(w.R7$(2),w.Lme("",w.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==he.resource?null:he.resource.displayName,""),w.R7$(2),w.Y8G("ngIf","Client"!==he.summaryDisplayType),w.R7$(5),w.JRh(w.bMT(10,7,"Clients.Import.Wizard.Warning.No")),w.R7$(3),w.JRh(w.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[U.bT,h.D9],encapsulation:2})}}return ne})();var O=d(5696),P=d(1138),W=d(4406),N=d(2858),H=d(467),G=d(5404);const z=["certReader"],ce=["nextButton"];let de=(()=>{class ne extends C.P{get data(){return this._subject}set data(pe){this._subject=pe}constructor(pe){super(),this.translate=pe}certificateDataLoaded(pe){this.nextButton.nativeElement.disabled=!pe}goNext(){var pe=this;return(0,H.A)(function*(){const K=yield pe.certReaderComponent.getCertificateModel();pe.data.next(K),pe.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(K){return new(K||ne)(w.rXU(h.c$))}}static{this.\u0275cmp=w.VBU({type:ne,selectors:[["app-import-certificate-picker"]],viewQuery:function(K,he){if(1&K&&(w.GBs(z,5),w.GBs(ce,5)),2&K){let Oe;w.mGM(Oe=w.lsd())&&(he.certReaderComponent=Oe.first),w.mGM(Oe=w.lsd())&&(he.nextButton=Oe.first)}},features:[w.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,he){if(1&K){const Oe=w.RV6();w.j41(0,"div",2)(1,"app-cert-reader",3,0),w.nI1(3,"translate"),w.nI1(4,"translate"),w.nI1(5,"translate"),w.nI1(6,"translate"),w.bIt("dataExists",function(Fe){return w.eBV(Oe),w.Njj(he.certificateDataLoaded(Fe))}),w.k0s()(),w.nrm(7,"div",4),w.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),w.bIt("click",function(){return w.eBV(Oe),w.Njj(he.goNext())}),w.EFF(13),w.nI1(14,"translate"),w.k0s(),w.j41(15,"button",9),w.bIt("click",function(){return w.eBV(Oe),w.Njj(he.back())}),w.EFF(16),w.nI1(17,"translate"),w.k0s()(),w.j41(18,"button",10),w.bIt("click",function(){return w.eBV(Oe),w.Njj(he.cancel())}),w.EFF(19),w.nI1(20,"translate"),w.k0s()()()}2&K&&(w.R7$(),w.Y8G("uploadCert",w.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",w.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",w.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",w.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),w.R7$(12),w.SpI(" ",w.bMT(14,15,"Common.Add")," "),w.R7$(3),w.SpI(" ",w.bMT(17,17,"Common.Back")," "),w.R7$(3),w.SpI(" ",w.bMT(20,19,"Common.Cancel")," "))},dependencies:[G.V,h.D9],encapsulation:2})}}return ne})(),Y=(()=>{class ne{constructor(){this.stepMap=new Map,this.stepMap.set(v.M.clientSummary,new Z(e.z,"Clients.Import.Wizard.Summary.Title.Client",[t.ot.Client])),this.stepMap.set(v.M.resourcesSummary,new Z(e.z,"Clients.Import.Wizard.Summary.Title.Resource",[t.ot.IdentityResource,t.ot.ProtectedResource])),this.stepMap.set(v.M.claimTypeSummary,new Z(e.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[t.ot.ClaimType])),this.stepMap.set(v.M.summaryConflicts,new Z(S.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(v.M.importComplete,new Z(p.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(v.M.importCloseWarning,new Z(E,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(v.M.summaryConflictsConfirmation,new Z(k,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(v.M.finalSummary,new Z(O.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(v.M.importDownloadWarning,new Z(W.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(v.M.importUploadCertificate,new Z(de,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(pe){return this.stepMap.get(pe)}getSecretStep(pe){return new Z(P.u,"Clients.Import.Wizard.Secrets.Title",pe)}getCertificateStep(pe){return new Z(N.zI,"Clients.Import.Wizard.Certificates.Title",pe)}static{this.\u0275fac=function(K){return new(K||ne)}}static{this.\u0275prov=w.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();class Z{constructor(I,pe,K,he=!1){this.component=I,this.stepTitle=pe,this.data=K,this.isDeadEnd=he}}},5826:(nt,ye,d)=>{"use strict";d.d(ye,{o:()=>C});var t=d(1744),e=d(2771),p=d(1594),S=d(4438);let C=(()=>{class w{constructor(){this.importResourceTypeMap=new Map([[t.ot.Client,"Client"],[t.ot.ClaimType,"Claim Type"],[t.ot.ProtectedResource,"Protected Resource"],[t.ot.IdentityResource,"Identity Resource"]]),this.cache=new e.m(1),this.resetImport=new e.m(1)}updateSelectedClients(h){this.cache.pipe((0,p.$)()).subscribe(E=>{h=h.filter(v=>v.resourceType===t.ot.Client),E.forEach(v=>{const B=h.find(U=>U.identifier===v.identifier);void 0!==B&&(v.selected=B.selected)}),this.cache.next(E)})}selectResource(h){this.setResourcesSelected(h,!0)}deselectResource(h){this.setResourcesSelected(h,!1)}setResourcesSelected(h,E){this.cache.pipe((0,p.$)()).subscribe(v=>{let B;B=h.resourceType===t.ot.Client?[h.identifier]:h.dependantClients.filter(a=>a.state===t.XF.Importing).map(a=>a.identifier),B.forEach(U=>{v.find(a=>a.identifier===U&&a.resourceType===t.ot.Client).selected=E}),this.cache.next(v)})}downloadClientSecretsFromCache(){const h=new e.m;return this.cache.pipe((0,p.$)()).subscribe(E=>{const v=E.filter(k=>k.secrets&&k.secrets.length>0);let B="Type,Id,Name,Secret\r\n";v.forEach(k=>{k.secrets.forEach(O=>{const P=this.importResourceTypeMap.get(k.resourceType);B+=P+","+k.identifier+","+k.displayName+","+O.value+"\r\n"})});const U=new Blob([B],{type:"application/csv"}),a=document.createElement("a");a.download="import-secrets.csv",a.href=window.URL.createObjectURL(U),a.click(),a.remove(),h.next()}),h}static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275prov=S.jDH({token:w,factory:w.\u0275fac})}}return w})()},4414:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>t});let t=(()=>{class e{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return e})()},3853:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>h});var t=d(1626),e=d(4589);class S{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var C=d(1594),w=d(6354),g=d(4438);let h=(()=>{class E{constructor(B){this.http=B,this.headers=new t.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,C.$)(),(0,w.T)(B=>{var U=new S;return U.organisation=B.organisation,U.licenseType=B.licenseType,U.isExpired=B.isExpired,U.isInGracePeriod=B.isInGracePeriod,U.gracePeriodExpiry=B.gracePeriodExpiry,U.maxUsers=B.maxUsers,U.maxClients=B.maxClients,U.userQuotaRemaining=B.userQuotaRemaining,U.clientQuotaRemaining=B.clientQuotaRemaining,U}))}static{this.\u0275fac=function(U){return new(U||E)(g.KVO(t.Qq))}}static{this.\u0275prov=g.jDH({token:E,factory:E.\u0275fac})}}return E})()},7773:(nt,ye,d)=>{"use strict";d.d(ye,{n:()=>p});var t=d(1626),e=d(4438);let p=(()=>{class S{constructor(w){this.http=w,this.headers=new t.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(g){return new(g||S)(e.KVO(t.Qq))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},5893:(nt,ye,d)=>{"use strict";d.d(ye,{x:()=>w});var t=d(1626),e=d(2771),p=d(7263),S=d(4438),C=d(9564);let w=(()=>{class g{constructor(E,v){this.http=E,this.headersService=v,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=v.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(E){let v=new t.Nl;return(0,p.gP)(E)||(v=v.set("name",E)),this.http.get(this.actionUrl,{headers:this.headers,params:v})}getResourcesPaginated(E,v,B){const U=`${this.actionUrl}/getPaginated`;let a=new t.Nl;return(0,p.gP)(E)||(a=a.set("name",E)),v&&(a=a.append("page",v)),B&&(a=a.append("pageSize",B)),this.http.get(U,{headers:this.headers,params:a})}addResource(E){const v=`${this.actionUrl}/`,B=JSON.stringify(E);return this.http.post(v,B,{headers:this.headers})}getResource(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}updateResource(E){return this.http.put(`${this.actionUrl}/${E.id}`,E,{headers:this.headers})}updateResourceSecret(E,v){return this.http.put(`${this.actionUrl}/${E}/secrets/${v.id}`,v,{headers:this.headers})}removeResourceSecret(E,v){return this.http.delete(`${this.actionUrl}/${E}/secrets/${v}`,{headers:this.headers})}addResourceSecret(E,v){return this.http.post(`${this.actionUrl}/${E}/secrets`,v,{headers:this.headers})}updateResourceScope(E,v,B){const U=encodeURIComponent(B);return this.http.put(`${this.actionUrl}/${E}/scopes/${U}`,v,{headers:this.headers})}addResourceScope(E,v){return this.http.post(`${this.actionUrl}/${E}/scopes`,v,{headers:this.headers})}deleteProtectedResource(E){return this.http.delete(`${this.actionUrl}/${E}`,{headers:this.headers})}deleteScope(E,v){const B=encodeURIComponent(v);return this.http.delete(`${this.actionUrl}/${E}/scopes/${B}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(t.Qq),S.KVO(C.m))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},6199:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>E});var t=d(983),e=d(6354),p=d(9437),S=d(8284),C=d(4438),w=d(3519),g=d(1583),h=d(5424);let E=(()=>{class v{constructor(U,a,k){this.roleService=U,this.router=a,this.errorService=k}resolve(U,a){const k=U.paramMap.get("Id");return this.roleService.getRole(k).pipe((0,e.T)(O=>(O&&this.roleService.getCachedRole().next(O),O)),(0,p.W)((O,P)=>(404===O.status?this.errorService.resourceNotFound(S.v.role):this.errorService.handleError(O),(0,t.I)())))}static{this.\u0275fac=function(a){return new(a||v)(C.KVO(w.P),C.KVO(g.Ix),C.KVO(h.I))}}static{this.\u0275prov=C.jDH({token:v,factory:v.\u0275fac})}}return v})()},3519:(nt,ye,d)=>{"use strict";d.d(ye,{P:()=>w});var t=d(1626),e=d(2771),p=d(7263),S=d(4438),C=d(9564);let w=(()=>{class g{constructor(E,v){this.http=E,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=v.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(E){this.RoleSubject.next(E)}getRoles(E,v){let B=new t.Nl;return(0,p.gP)(E)||(B=B.append("name",E)),B=B.append("sort",(0,p.gP)(v)?"name":v),this.http.get(this.actionUrl,{headers:this.headers,params:B})}getRole(E){return this.http.get(`${this.actionUrl}/${E}`,{headers:this.headers})}deleteRole(E){return this.http.delete(`${this.actionUrl}/${E.id}`,{headers:this.headers})}addRole(E){const v=`${this.actionUrl}/`,B=JSON.stringify(E);return this.http.post(v,B,{headers:this.headers})}updateRole(E){const v=JSON.stringify(E);return this.http.put(`${this.actionUrl}/${E.id}`,v,{headers:this.headers})}getUsersInRole(E,v,B,U){let a=new t.Nl;return(0,p.gP)(U)||(a=a.append("q",U)),v&&(a=a.append("page",String(v))),B&&(a=a.append("pageSize",String(B))),this.http.get(`${this.actionUrl}/${E}/users`,{headers:this.headers,params:a})}addAndRemoveUsers(E,v){const B=JSON.stringify(v);return this.http.put(`${this.actionUrl}/${E}/users`,B,{headers:this.headers})}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(t.Qq),S.KVO(C.m))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},2892:(nt,ye,d)=>{"use strict";d.d(ye,{h:()=>P});var t=d(7673),e=d(5060),p=d(1413),S=d(5558),C=d(4861),w=d(4438),g=d(7883),h=d(6801),E=d(1339),v=d(7005),B=d(5424),U=d(6888),a=d(1583),k=d(9196),O=d(2972);let P=(()=>{class W{constructor(H,G,z,ce,de,Y,Z,ne,I){this.securityService=H,this.healthCheckService=G,this.authService=z,this.localizeRouter=ce,this.errorService=de,this.loginTrackingService=Y,this.router=Z,this.configService=ne,this.appComponentViewService=I}canActivate(H,G){return this.healthCheckService.uiReady?this.authDecision(H,G):this.healthCheckService.uiHealthCheckComplete.pipe((0,S.n)(z=>this.authDecision(H,G)))}authDecision(H,G){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==C.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe(z=>{if(z.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const ce=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([ce])}}),void 0!==this.securityService.userPermissions?(0,t.of)(this.permissionAuthDecision(H)):this.permissionAuthDecisionAsObservable(H)):(this.securityService.startLogin(G.url),e.t)}permissionAuthDecision(H){const G=H.data.permissions;if(void 0===G)return!0;for(let z=0;z<G.length;z++)if(this.securityService.userPermissions.includes(G[z]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(H){const G=new p.B;return this.securityService.init().subscribe(()=>{G.next(this.permissionAuthDecision(H))}),G.asObservable()}static{this.\u0275fac=function(G){return new(G||W)(w.KVO(g.i),w.KVO(h.M),w.KVO(E.u),w.KVO(v.QG),w.KVO(B.I),w.KVO(U.W),w.KVO(a.Ix),w.KVO(k.w),w.KVO(O.X))}}static{this.\u0275prov=w.jDH({token:W,factory:W.\u0275fac})}}return W})()},7883:(nt,ye,d)=>{"use strict";d.d(ye,{i:()=>G});var t=d(1413);class e extends t.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(ce){const{hasError:de,_hasValue:Y,_value:Z,thrownError:ne,isStopped:I,_isComplete:pe}=this;de?ce.error(ne):(I||pe)&&(Y&&ce.next(Z),ce.complete())}next(ce){this.isStopped||(this._value=ce,this._hasValue=!0)}complete(){const{_hasValue:ce,_value:de,_isComplete:Y}=this;Y||(this._isComplete=!0,ce&&super.next(de),super.complete())}}var p=d(7468),S=d(3178),C=d(6354),w=d(6697),g=d(7263),h=d(9838),E=d(4589),v=d(4438),B=d(1583),U=d(7005),a=d(9196),k=d(1339),O=d(7773),P=d(3853),W=d(5424),N=d(6888),H=d(1780);let G=(()=>{class z{constructor(de,Y,Z,ne,I,pe,K,he,Oe){this.router=de,this.localize=Y,this.configService=Z,this.authService=ne,this.permissionService=I,this.licenseService=pe,this.errorService=K,this.loginTrackingService=he,this.translate=Oe,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(de){let Z=de??this.router.url;Z=Z.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",Z),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(de){if(de.isAuthenticated){let Y=this.storage.getItem("redirectUrl");null==Y&&(Y="/home");const Z=this.localize.translateRoute(Y);this.handleSuccessfulAuthorization(Z)}else this.handleUnsuccessfulAuthorization(de.username)}handleSuccessfulAuthorization(de){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(de)},Y=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(Y,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:h.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(de){if((0,g.gP)(de))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:h.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const Y=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(Y)}isNonProd(){return this.licenseType===E.G.Demo||this.licenseType===E.G.NonProduction}init(){const de=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,p.p)(de)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,C.T)(de=>{this.userPermissions=de.permissions,this.policyClaims=de.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(S.a[S.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(S.a[S.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(S.a[S.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(S.a[S.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(S.a[S.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(S.a[S.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(S.a[S.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(de.permissions),this.userPermissions$.complete()},de=>{this.errorService.handleError(de)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,C.T)(de=>{this.licenseType=de.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=E.G.NonProduction),de.isStarterLicense()&&(this.licenseType=E.G.Starter),this.nonProduction=de.licenseType!==E.G.Production,this.organisation=de.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,w.s)(1))}static{this.\u0275fac=function(Y){return new(Y||z)(v.KVO(B.Ix),v.KVO(U.QG),v.KVO(a.w),v.KVO(k.u),v.KVO(O.n),v.KVO(P.X),v.KVO(W.I),v.KVO(N.W),v.KVO(H.c$))}}static{this.\u0275prov=v.jDH({token:z,factory:z.\u0275fac})}}return z})()},9156:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>C});var t=d(2771),e=d(4438),p=d(1626),S=d(9564);let C=(()=>{class w{constructor(h,E){this.http=h,this.headersService=E,this.ServiceProviderSubject=new t.m(1),this.actionUrl="clients",this.headers=E.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(h){return this.http.get(`${this.actionUrl}/${h}/saml`,{headers:this.headers})}updateServiceProvider(h,E){const v=`${this.actionUrl}/${h}/saml`,B={allowIdpInitiatedSso:E.allowIdpInitiatedSso,assertionConsumerServices:E.assertionConsumerServices,artifactResolutionServices:E.artifactResolutionServices,claimMappings:E.claimMappings,encryptAssertions:E.encryptAssertions,requireSamlMessageDestination:E.requireSamlMessageDestination,signAssertions:E.signAssertions,singleLogoutServices:E.singleLogoutServices,requireAuthenticationRequestsSigned:E.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:E.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:E.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:E.requireSignedArtifactResponses,nameIdentifierFormat:E.nameIdentifierFormat},U=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(v,B,{headers:U})}setEncryptionCertificateViaFile(h,E){const v=`${this.actionUrl}/${h}/saml/certificates/encryption`,B=E,U=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(v,B,{headers:U})}setEncryptionCertificateViaMetadata(h,E){const v=`${this.actionUrl}/${h}/saml/certificates/encryption`,B=E,U=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(v,B,{headers:U})}deleteEncryptionCertificate(h){return this.http.delete(`${this.actionUrl}/${h}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(h,E){const v=`${this.actionUrl}/${h}/saml/certificates/signing`,B=E,U=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(v,B,{headers:U})}addSigningCertificateViaMetadata(h,E){const v=`${this.actionUrl}/${h}/saml/certificates/signing`,B=E,U=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(v,B,{headers:U})}deleteSigningCertificate(h,E){return this.http.delete(`${this.actionUrl}/${h}/saml/certificates/signing/${E}`,{headers:this.headers})}static{this.\u0275fac=function(E){return new(E||w)(e.KVO(p.Qq),e.KVO(S.m))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},8556:(nt,ye,d)=>{"use strict";d.d(ye,{S:()=>w});var t=d(1594),e=d(4438),p=d(9156),S=d(5691),C=d(5424);let w=(()=>{class g{constructor(E,v,B){this.serviceProviderService=E,this.cache=v,this.errorService=B}uploadFile(E,v){return this.serviceProviderService.addSigningCertificateViaFile(E,v)}uploadViaMetaData(E,v){return this.serviceProviderService.addSigningCertificateViaMetadata(E,v)}updateCertCache(E){this.serviceProviderService.getServiceProvider(E).subscribe(v=>{this.cache.unsavedCache$.pipe((0,t.$)()).subscribe(B=>{B.signingCertificates=v.signingCertificates,this.cache.unsavedCache.next(B)})},v=>{this.errorService.handleError(v)})}static{this.\u0275fac=function(v){return new(v||g)(e.KVO(p.s),e.KVO(S.d),e.KVO(C.I))}}static{this.\u0275prov=e.jDH({token:g,factory:g.\u0275fac})}}return g})()},3488:(nt,ye,d)=>{"use strict";d.d(ye,{F:()=>p});var t=d(4549),e=d(4438);let p=(()=>{class S{now(){return t.c9.now()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},1575:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>p});var t=d(4549),e=d(4438);let p=(()=>{class S{now(){return t.c9.now()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},7767:(nt,ye,d)=>{"use strict";d.d(ye,{g:()=>p});var t=d(4438),e=d(5794);let p=(()=>{class S{constructor(w){this.inner=w}success_noduplicate(w,g){return this.showToast(w,g,(h,E)=>this.inner.success(h,E))}error_noduplicate(w,g){return this.showToast(w,g,(h,E)=>this.inner.error(h,E))}showToast(w,g,h){var E=this.inner.findDuplicate(g,w,!1,!1);return E&&this.inner.remove(E.toastId),h(w,g)}static{this.\u0275fac=function(g){return new(g||S)(t.KVO(e.tw))}}static{this.\u0275prov=t.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},4811:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>h});var t=d(983),e=d(6354),p=d(9437),S=d(8284),C=d(4438),w=d(5602),g=d(5424);let h=(()=>{class E{constructor(B,U){this.userService=B,this.errorService=U}resolve(B,U){return this.userService.getUser(B.params.Id).pipe((0,e.T)(k=>(k&&this.userService.getCachedUser().next(k),k)),(0,p.W)((k,O)=>(404===k.status?this.errorService.resourceNotFound(S.v.user):this.errorService.handleError(k),(0,t.I)())))}static{this.\u0275fac=function(U){return new(U||E)(C.KVO(w.D),C.KVO(g.I))}}static{this.\u0275prov=C.jDH({token:E,factory:E.\u0275fac})}}return E})()},5602:(nt,ye,d)=>{"use strict";d.d(ye,{D:()=>E});var t=d(1626),e=d(2771),p=d(7673),S=d(6354),C=d(9437),w=d(7263),g=d(4438),h=d(9564);let E=(()=>{class v{constructor(U,a){this.http=U,this.headersService=a,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,S.T)(()=>!0),(0,C.W)(a=>(0,p.of)(!1)))}getUser(U){return this.http.get(`${this.actionUrl}/${U}`,{headers:this.headers}).pipe((0,S.T)(k=>(this.userSubject.next(k),k),k=>(this.userSubject.error(k),k)))}getCachedUser(){return this.userSubject}getUsers(U,a,k,O,P){let W=new t.Nl;return(0,w.gP)(U)||(W=W.append("q",U)),a&&(W=W.append("page",String(a))),k&&(W=W.append("pageSize",String(k))),O&&(W=W.append("state",O.toString())),P&&(W=W.append("sort",P.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:W})}getUsersLightweight(U,a,k,O,P){let W=new t.Nl;return(0,w.gP)(U)||(W=W.append("q",U)),a&&(W=W.append("page",String(a))),k&&(W=W.append("pageSize",String(k))),O&&(W=W.append("state",O.toString())),P&&(W=W.append("advancedFilters",P.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:W})}addUser(U){const a=`${this.actionUrl}/`,k=JSON.stringify(U);return this.http.post(a,k,{headers:this.headers,observe:"response"})}addInitialAdministrator(U){const a=`${this.actionUrl}/initialadmin`,k=JSON.stringify(U);return this.http.post(a,k,{headers:this.headers,observe:"response"})}getUserApps(U){return this.http.get(`${this.actionUrl}/${U}/apps`,{headers:this.headers})}revokeAllUserApps(U){return this.http.delete(`${this.actionUrl}/${U}/apps`,{headers:this.headers})}revokeSingleUserApp(U,a){return this.http.delete(`${this.actionUrl}/${U}/apps/${a}`,{headers:this.headers})}updateUser(U){const a=`${this.actionUrl}/${U.subject}`,k=JSON.stringify(U);return this.http.put(a,k,{headers:this.headers})}deleteUser(U){return this.http.delete(`${this.actionUrl}/${U.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(U,a){return this.http.post(`${this.actionUrl}/${U}/roles`,a,{headers:this.headers})}deleteUserRoles(U,a){return this.http.request("delete",`${this.actionUrl}/${U}/roles`,{headers:this.headers,body:a})}addUserClaim(U,a){return this.http.post(`${this.actionUrl}/${U}/claims`,a,{headers:this.headers})}updateUserClaim(U,a){return this.http.put(`${this.actionUrl}/${U}/claims`,a,{headers:this.headers})}deleteUserClaim(U,a){return this.http.request("delete",`${this.actionUrl}/${U}/claims`,{headers:this.headers,body:a})}resetPassword(U){return this.http.get(`${this.actionUrl}/${U}/password/reset`,{headers:this.headers})}resetMfa(U){return this.http.get(`${this.actionUrl}/${U}/mfa/reset`,{headers:this.headers})}getUserLogins(U){return this.http.get(`${this.actionUrl}/${U}/logins`,{headers:this.headers})}revokeUserLogin(U,a){return this.http.request("delete",`${this.actionUrl}/${U}/logins`,{headers:this.headers,body:a})}getLightweightUsersAndIfInRole(U,a,k,O,P){let W=new t.Nl;a&&(W=W.append("state",a.toString()));const N=`${this.actionUrl}/lightweight/isinrole/${U}`;return(0,w.gP)(k)||(W=W.append("searchTerm",k)),O&&(W=W.append("page",String(O))),P&&(W=W.append("pageSize",String(P))),this.http.get(N,{headers:this.headers,params:W})}static{this.\u0275fac=function(a){return new(a||v)(g.KVO(t.Qq),g.KVO(h.m))}}static{this.\u0275prov=g.jDH({token:v,factory:v.\u0275fac})}}return v})()},2036:(nt,ye,d)=>{"use strict";d.d(ye,{c:()=>S});var t=d(4438),e=d(1626),p=d(9564);let S=(()=>{class C{constructor(g,h){this.http=g,this.headersService=h,this.actionUrl="clients"}getRelyingParty(g){const h=`${this.actionUrl}/${g}/wsfed`,E=this.headersService.setHeaders();return this.http.get(h,{headers:E})}updateRelyingParty(g,h){const E=`${this.actionUrl}/${g}/wsfed`,v=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(E,h,{headers:v})}static{this.\u0275fac=function(h){return new(h||C)(t.KVO(e.Qq),t.KVO(p.m))}}static{this.\u0275prov=t.jDH({token:C,factory:C.\u0275fac})}}return C})()},7294:(nt,ye,d)=>{"use strict";d.d(ye,{n:()=>S});var t=d(4438);const e=[[["","left",""]],[["","right",""]]],p=["[left]","[right]"];let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["app-action-bar"]],ngContentSelectors:p,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(h,E){1&h&&(t.NAR(e),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return C})()},4193:(nt,ye,d)=>{"use strict";d.d(ye,{c:()=>w});var t=d(177),e=d(1583),p=d(1683),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[t.MD,e.iI,p.Y,S.h]})}}return g})()},9767:(nt,ye,d)=>{"use strict";d.d(ye,{Ws:()=>e,l1:()=>p});var t=d(9969);function e(){return(0,t.hZ)("fadeInOut",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}function p(){return(0,t.hZ)("initLoad",[(0,t.kY)(":enter",[(0,t.iF)({opacity:0}),(0,t.i0)("250ms",(0,t.iF)({opacity:1}))]),(0,t.kY)(":leave",[(0,t.iF)({opacity:1}),(0,t.i0)("250ms",(0,t.iF)({opacity:0}))])])}},7415:(nt,ye,d)=>{"use strict";d.d(ye,{P:()=>v});var t=d(9417),e=d(2571),p=d(534),S=d(3816),C=d(1780),w=d(8389),g=d(6843),h=d(177),E=d(4438);let v=(()=>{class B{static{this.\u0275fac=function(k){return new(k||B)}}static{this.\u0275mod=E.$C({type:B})}static{this.\u0275inj=E.G2t({imports:[h.MD,e.A,t.X1,S.jr,C.h,p.Ss,w.w,g.l]})}}return B})()},9861:(nt,ye,d)=>{"use strict";d.d(ye,{k:()=>tn});var t=d(9417),e=d(9172),p=d(1397),S=d(4549),C=d(1413),w=d(7263);class g{constructor(Lt,Ce,le,j){this.auditAction=Lt||"",this.subject=Ce||"",this.resourceName=le||"",this.source=j||""}}class h{constructor(Lt){this.auditAction=Lt.auditSearch.auditAction,this.subject=Lt.auditSearch.subject,this.resourceName=Lt.auditSearch.resourceName,this.source=Lt.auditSearch.source,this.fromDate=Lt.fromDate.toString(),this.toDate=Lt.toDate.toString(),this.page=Lt.page,this.pageSize=Lt.pageSize,this.sortCriteria=Lt.sortCriteria,this.success=Lt.success,this.bySubject=Lt.bySubject}}class E{constructor(Lt,Ce,le,j,ae,Ge,tt,vt){this.auditSearch=Lt,this.fromDate=Ce,this.toDate=le,this.page=j,this.pageSize=ae,this.sortCriteria=Ge,this.success=tt,this.bySubject=vt}}var v=d(4438),B=d(2734),U=d(7005),a=d(1583),k=d(7883),O=d(9686),P=d(1575),W=d(177),N=d(534),H=d(7156),G=d(7294),z=d(7384),ce=d(6536),de=d(1780),Y=d(1589);function Z(ct,Lt){1&ct&&(v.j41(0,"span",65),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.FromDateWarning")," "))}function ne(ct,Lt){1&ct&&(v.j41(0,"span",66),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function I(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"div",10)(1,"p",53),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"ul",19)(5,"li")(6,"button",67),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG();return v.Njj(j.setActorOrResource(!0))}),v.EFF(7),v.nI1(8,"translate"),v.k0s()(),v.j41(9,"li")(10,"button",68),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG();return v.Njj(j.setActorOrResource(!1))}),v.EFF(11),v.nI1(12,"translate"),v.k0s()()()()}if(2&ct){const Ce=v.XpG();v.R7$(2),v.JRh(v.bMT(3,7,"Auditing.ByFilter")),v.R7$(4),v.AVh("tw-btn-link",!Ce.getBySubjectFilterState),v.R7$(),v.SpI(" ",v.bMT(8,9,"Auditing.BySubject")," "),v.R7$(3),v.AVh("tw-btn-link",Ce.getBySubjectFilterState),v.R7$(),v.SpI(" ",v.bMT(12,11,"Auditing.ByResource")," ")}}function pe(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"li",72)(1,"button",73),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2);return v.Njj(j.removeFilter("source"))}),v.j41(2,"b",74),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span"),v.EFF(6),v.k0s(),v.nrm(7,"span",75),v.k0s()()}if(2&ct){const Ce=v.XpG(2);v.R7$(3),v.SpI("",v.bMT(4,2,"Auditing.Source"),":"),v.R7$(3),v.JRh(Ce.filterForm.get("auditSearch").get("source").value)}}function K(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"li",72)(1,"button",76),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2);return v.Njj(j.removeFilter("subject"))}),v.j41(2,"b",74),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span"),v.EFF(6),v.k0s(),v.nrm(7,"span",75),v.k0s()()}if(2&ct){const Ce=v.XpG(2);v.R7$(3),v.SpI("",v.bMT(4,2,"Auditing.Subject"),":"),v.R7$(3),v.JRh(Ce.filterForm.get("auditSearch").get("subject").value)}}function he(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"li",72)(1,"button",76),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2);return v.Njj(j.removeFilter("auditAction"))}),v.j41(2,"b",74),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span"),v.EFF(6),v.k0s(),v.nrm(7,"span",75),v.k0s()()}if(2&ct){const Ce=v.XpG(2);v.R7$(3),v.SpI("",v.bMT(4,2,"Auditing.Action"),":"),v.R7$(3),v.JRh(Ce.filterForm.get("auditSearch").get("auditAction").value)}}function Oe(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"li",72)(1,"button",76),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2);return v.Njj(j.removeFilter("resourceName"))}),v.j41(2,"b",74),v.EFF(3),v.nI1(4,"translate"),v.k0s(),v.j41(5,"span"),v.EFF(6),v.k0s(),v.nrm(7,"span",75),v.k0s()()}if(2&ct){const Ce=v.XpG(2);v.R7$(3),v.SpI("",v.bMT(4,2,"Auditing.Resource"),":"),v.R7$(3),v.JRh(Ce.filterForm.get("auditSearch").get("resourceName").value)}}function Ae(ct,Lt){if(1&ct&&(v.j41(0,"div",69)(1,"p",51),v.EFF(2),v.nI1(3,"translate"),v.k0s(),v.j41(4,"ul",70),v.DNE(5,pe,8,4,"li",71)(6,K,8,4,"li",71)(7,he,8,4,"li",71)(8,Oe,8,4,"li",71),v.k0s()()),2&ct){const Ce=v.XpG();v.R7$(2),v.JRh(v.bMT(3,5,"Auditing.ActiveFilters")),v.R7$(3),v.Y8G("ngIf",Ce.filterForm.get("auditSearch").get("source").value),v.R7$(),v.Y8G("ngIf",Ce.filterForm.get("auditSearch").get("subject").value),v.R7$(),v.Y8G("ngIf",Ce.filterForm.get("auditSearch").get("auditAction").value),v.R7$(),v.Y8G("ngIf",Ce.filterForm.get("auditSearch").get("resourceName").value)}}function Fe(ct,Lt){1&ct&&(v.j41(0,"span"),v.nrm(1,"span",77),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ct&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.ShowFilters")," "))}function qe(ct,Lt){1&ct&&(v.j41(0,"span"),v.nrm(1,"span",78),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ct&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.HideFilters")," "))}function Me(ct,Lt){1&ct&&(v.j41(0,"option",79),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.Subject"),""))}function Te(ct,Lt){1&ct&&(v.j41(0,"option",80),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.Resource"),""))}function ge(ct,Lt){1&ct&&(v.j41(0,"p",81),v.nrm(1,"span",82),v.EFF(2),v.nI1(3,"translate"),v.k0s()),2&ct&&(v.R7$(2),v.SpI(" ",v.bMT(3,1,"Auditing.UpdateWarning")," "))}function $e(ct,Lt){1&ct&&(v.j41(0,"span",87)(1,"span",51),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ct&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Loading")))}function xe(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"app-action-bar"),v.qex(1,83),v.DNE(2,$e,4,3,"span",84),v.j41(3,"button",85),v.nI1(4,"translate"),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG();return v.Njj(j.getCSV())}),v.j41(5,"span"),v.nrm(6,"span",86),v.k0s(),v.j41(7,"span",51),v.EFF(8),v.nI1(9,"translate"),v.k0s()(),v.bVm(),v.k0s()}if(2&ct){const Ce=v.XpG();v.R7$(2),v.Y8G("ngIf",Ce.loadingCSV),v.R7$(),v.Y8G("tooltip",v.bMT(4,4,"Auditing.DownloadResults"))("disabled",(null==Ce.pagedResult?null:Ce.pagedResult.results.length)<1&&!Ce.isLoading||Ce.loadingCSV),v.R7$(5),v.JRh(v.bMT(9,6,"Auditing.DownloadResults"))}}function pt(ct,Lt){1&ct&&v.nrm(0,"app-simple-loader")}function Le(ct,Lt){1&ct&&(v.j41(0,"div",88)(1,"div"),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ct&&(v.R7$(2),v.JRh(v.bMT(3,1,"Auditing.NoAuditsFound")))}function Ct(ct,Lt){1&ct&&(v.j41(0,"th",101),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.Subject")," "))}function ut(ct,Lt){1&ct&&(v.j41(0,"th",102),v.EFF(1),v.nI1(2,"translate"),v.k0s()),2&ct&&(v.R7$(),v.SpI(" ",v.bMT(2,1,"Auditing.Resource")," "))}function hn(ct,Lt){if(1&ct&&(v.j41(0,"span"),v.EFF(1),v.k0s()),2&ct){const Ce=v.XpG(2).$implicit;v.R7$(),v.JRh(Ce.subject.name)}}function mn(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"span")(1,"a",115),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2).$implicit,ae=v.XpG(2);return v.Njj(!!ae.resourceNavigate(j.subject))}),v.EFF(2),v.k0s()()}if(2&ct){const Ce=v.XpG(2).$implicit,le=v.XpG(2);v.R7$(),v.FS9("href",le.buildLink(Ce.subject),v.B4B),v.R7$(),v.SpI(" ",Ce.subject.name," ")}}function Rt(ct,Lt){if(1&ct&&(v.j41(0,"td",114),v.DNE(1,hn,2,1,"span",35)(2,mn,3,2,"span",35),v.k0s()),2&ct){const Ce=v.XpG().$implicit,le=v.XpG(2);v.R7$(),v.Y8G("ngIf",""==le.buildLink(Ce.subject)),v.R7$(),v.Y8G("ngIf",""!=le.buildLink(Ce.subject))}}function Dt(ct,Lt){if(1&ct&&(v.j41(0,"span"),v.EFF(1),v.k0s()),2&ct){const Ce=v.XpG(2).$implicit;v.R7$(),v.SpI(" ",Ce.resource.name," ")}}function q(ct,Lt){if(1&ct&&(v.j41(0,"span"),v.EFF(1),v.k0s()),2&ct){const Ce=v.XpG(3).$implicit;v.R7$(),v.JRh(Ce.resource.identifier)}}function Q(ct,Lt){if(1&ct&&(v.j41(0,"span"),v.EFF(1),v.k0s()),2&ct){const Ce=v.XpG(3).$implicit;v.R7$(),v.JRh(Ce.resource.name)}}function te(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"span")(1,"a",115),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG(2).$implicit,ae=v.XpG(2);return v.Njj(!!ae.resourceNavigate(j.resource))}),v.DNE(2,q,2,1,"span",35)(3,Q,2,1,"span",35),v.k0s()()}if(2&ct){const Ce=v.XpG(2).$implicit,le=v.XpG(2);v.R7$(),v.FS9("href",le.buildLink(Ce.resource),v.B4B),v.R7$(),v.Y8G("ngIf",""==Ce.name),v.R7$(),v.Y8G("ngIf",""!=Ce.name)}}function De(ct,Lt){if(1&ct&&(v.j41(0,"td",116),v.DNE(1,Dt,2,1,"span",35)(2,te,4,3,"span",35),v.k0s()),2&ct){const Ce=v.XpG().$implicit,le=v.XpG(2);v.R7$(),v.Y8G("ngIf","*"==Ce.resource.name||""==le.buildLink(Ce.resource)),v.R7$(),v.Y8G("ngIf","*"!=Ce.resource.name&&""!=le.buildLink(Ce.resource))}}function Re(ct,Lt){1&ct&&(v.j41(0,"span",117)(1,"span",51),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ct&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.Yes")))}function at(ct,Lt){1&ct&&(v.j41(0,"span",118)(1,"span",51),v.EFF(2),v.nI1(3,"translate"),v.k0s()()),2&ct&&(v.R7$(2),v.JRh(v.bMT(3,1,"Common.No")))}function o(ct,Lt){1&ct&&v.nrm(0,"span",125)}function ft(ct,Lt){1&ct&&v.nrm(0,"span",126)}function Ft(ct,Lt){if(1&ct&&(v.j41(0,"tr",119),v.nrm(1,"td"),v.j41(2,"td",120)(3,"div",121)(4,"span",122),v.DNE(5,o,1,0,"span",123)(6,ft,1,0,"span",124),v.k0s(),v.j41(7,"span"),v.EFF(8),v.k0s()()()()),2&ct){const Ce=v.XpG().$implicit;v.R7$(5),v.Y8G("ngIf",Ce.succeeded),v.R7$(),v.Y8G("ngIf",!Ce.succeeded),v.R7$(2),v.JRh(Ce.description)}}function _t(ct,Lt){if(1&ct){const Ce=v.RV6();v.qex(0,null,4),v.j41(2,"tr")(3,"td",103)(4,"button",104),v.bIt("click",function(){v.eBV(Ce);const j=v.sdS(1);return v.Njj(j.isOpen=!j.isOpen)}),v.nrm(5,"span",105),v.j41(6,"span",51),v.EFF(7),v.nI1(8,"translate"),v.k0s()()(),v.j41(9,"td"),v.EFF(10),v.nI1(11,"standardDateTime"),v.nrm(12,"div"),v.k0s(),v.j41(13,"td",106),v.EFF(14),v.k0s(),v.DNE(15,Rt,3,2,"td",107)(16,De,3,2,"td",108),v.j41(17,"td",109),v.EFF(18),v.k0s(),v.j41(19,"td",110),v.DNE(20,Re,4,3,"span",111)(21,at,4,3,"span",112),v.k0s()(),v.DNE(22,Ft,9,3,"tr",113),v.bVm()}if(2&ct){const Ce=Lt.$implicit,le=v.sdS(1),j=v.XpG(2);v.R7$(5),v.AVh("fa-caret-right",!le.isOpen),v.R7$(2),v.SpI(" ",v.bMT(8,11,"Auditing.ToggleDetails")," "),v.R7$(3),v.SpI(" ",v.bMT(11,13,Ce.when)," "),v.R7$(4),v.SpI(" ",Ce.source," "),v.R7$(),v.Y8G("ngIf",!j.resourceBySubject),v.R7$(),v.Y8G("ngIf",!j.resourceByResource),v.R7$(2),v.SpI(" ",Ce.action," "),v.R7$(2),v.Y8G("ngIf",Ce.succeeded),v.R7$(),v.Y8G("ngIf",!Ce.succeeded),v.R7$(),v.Y8G("ngIf",le.isOpen)}}function lt(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"table",89)(1,"thead")(2,"tr")(3,"th",90)(4,"span",51),v.EFF(5),v.nI1(6,"translate"),v.k0s()(),v.j41(7,"th",91),v.bIt("click",function(){v.eBV(Ce);const j=v.XpG();return v.Njj(j.sortResults())}),v.j41(8,"span",92),v.EFF(9),v.nI1(10,"translate"),v.k0s(),v.nrm(11,"span",93),v.k0s(),v.j41(12,"th",94),v.EFF(13),v.nI1(14,"translate"),v.k0s(),v.DNE(15,Ct,3,3,"th",95)(16,ut,3,3,"th",96),v.j41(17,"th",97),v.EFF(18),v.nI1(19,"translate"),v.k0s(),v.j41(20,"th",98),v.EFF(21),v.nI1(22,"translate"),v.k0s()()(),v.j41(23,"tbody",99),v.DNE(24,_t,23,15,"ng-container",100),v.k0s()()}if(2&ct){const Ce=v.XpG();v.R7$(5),v.JRh(v.bMT(6,10,"Common.Actions")),v.R7$(4),v.JRh(v.bMT(10,12,"Auditing.When")),v.R7$(2),v.AVh("fa-caret-up","when"==Ce.filterSort),v.R7$(2),v.JRh(v.bMT(14,14,"Auditing.Source")),v.R7$(2),v.Y8G("ngIf",!Ce.resourceBySubject),v.R7$(),v.Y8G("ngIf",!Ce.resourceByResource),v.R7$(2),v.JRh(v.bMT(19,16,"Auditing.Action")),v.R7$(3),v.SpI(" ",v.bMT(22,18,"Notifications.Success")," "),v.R7$(3),v.Y8G("ngForOf",Ce.pagedResult.results)}}function Pt(ct,Lt){if(1&ct){const Ce=v.RV6();v.j41(0,"app-pager",127),v.bIt("onGoToPage",function(j){v.eBV(Ce);const ae=v.XpG();return v.Njj(ae.goToPage(j))}),v.k0s()}if(2&ct){const Ce=v.XpG();v.Y8G("totalResults",null==Ce.pagedResult?null:Ce.pagedResult.totalCount)("currentPage",Ce.filterForm.get("page").value)("lastPage",null==Ce.pagedResult?null:Ce.pagedResult.pageCount)}}let tn=(()=>{class ct{get getBySubjectFilterState(){return JSON.parse(this.filterForm.value.bySubject)}get resourceOnly(){return!(0,w.gP)(this.resourceName)}get resourceBySubject(){return this.resourceOnly&&this.getBySubjectFilterState}get resourceByResource(){return this.resourceOnly&&!this.getBySubjectFilterState}constructor(Ce,le,j,ae,Ge,tt,vt,Bt){this.auditingService=Ce,this.localizeRouter=le,this.router=j,this.fb=ae,this.activatedRoute=Ge,this.securityService=tt,this.fileDownloader=vt,this.timeService=Bt,this.sortAsc="when",this.sortDesc="-when",this.isLoading=!1,this.loadingCSV=!1,this.showAddFilter=!1,this.filterHasChanged=!1,this.auditStream=new C.B}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}identityServerManagerReadOnly(){return(0,w.ci)(this.securityService.userPermissions)}ngOnInit(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.auditStream.pipe((0,e.Z)({auditSearch:this.filterForm.value.auditSearch,toDate:this.filterForm.value.toDate,fromDate:this.filterForm.value.fromDate,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize,sortCriteria:this.filterForm.value.sortCriteria,success:this.filterForm.value.success,bySubject:this.filterForm.value.bySubject}),(0,p.Z)(le=>(this.isLoading=!0,this.resourceOnly?this.auditingService.getResourceAudits(this.resourceName,le.bySubject,le.auditSearch,le.toDate.toString(),le.fromDate.toString(),le.page,le.pageSize,le.sortCriteria,le.success):this.auditingService.getAudits(le.auditSearch,le.toDate.toString(),le.fromDate.toString(),le.page,le.pageSize,le.sortCriteria,le.success)))).subscribe(le=>{this.isLoading=!1,this.pagedResult=le;const j=new h(this.filterForm.value);this.router.navigate([this.router.url.split("?")[0]],{queryParams:j}),this.aplliedBySubjectFilter=JSON.parse(this.filterForm.value.bySubject)})}applyForm(Ce){Ce&&this.filterForm.patchValue({page:1}),this.auditStream.next(this.filterForm.value),this.filterHasChanged=!1}goToPage(Ce){this.filterForm.patchValue({page:Ce}),this.applyForm(!1)}setDateToday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now().endOf("day")})}setDateLast24Hours(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({hours:24}),toDate:this.timeService.now()})}setDateYesterday(){this.filterForm.patchValue({fromDate:this.timeService.now().startOf("day").minus({hours:24}),toDate:this.timeService.now().endOf("day").minus({hours:24})})}setDateLastWeek(){this.filterForm.patchValue({fromDate:this.timeService.now().minus({weeks:1}).startOf("day"),toDate:this.timeService.now().endOf("day")})}goToResource(Ce){this.router.config.find(j=>void 0!==j.children)}auditSearch(Ce,le){this.filterForm.patchValue({auditSearch:{[Ce]:le.value}})}selectFilterType(Ce,le){const j=this.filterForm.get("auditSearch").get(Ce).value;le.value=j}removeFilter(Ce){this.filterForm.patchValue({auditSearch:{[Ce]:""}})}checkQuickDate(Ce){switch(Ce){case"today":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"));case"24hours":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now());case"yesterday":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().startOf("day").minus({hours:24}))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day").minus({hours:24}));case"week":return this.stripSecondsFromString(this.filterForm.get("fromDate").value)===this.stripSecondsFromDateTime(this.timeService.now().minus({weeks:1}).startOf("day"))&&this.stripSecondsFromString(this.filterForm.get("toDate").value)===this.stripSecondsFromDateTime(this.timeService.now().endOf("day"))}}stripSecondsFromString(Ce){return this.stripSecondsFromDateTime(S.c9.fromISO(Ce))}stripSecondsFromDateTime(Ce){return Ce.set({second:0,millisecond:0}).toString()}setActorOrResource(Ce){this.filterForm.patchValue({bySubject:Ce})}setShowing(Ce,le){this.successfulFilter=Ce,this.unsuccessfulFilter=le,this.filter()}showActiveFilters(){const Ce=this.filterForm.get("auditSearch");return!!(Ce.get("source").value||Ce.get("subject").value||Ce.get("auditAction").value||Ce.get("resourceName").value)}filter(){this.filterForm.patchValue({success:this.successfulFilter&&this.unsuccessfulFilter||!this.successfulFilter&&!this.unsuccessfulFilter?null:this.successfulFilter})}getCSV(){this.fileDownloader.buildForm(this.buildActionUrl()).submitForm()}buildActionUrl(){let Ce=`${this.auditingService.actionUrl}`;const le=this.activatedRoute.snapshot.queryParams;return this.resourceOnly&&(Ce+=`/${this.resourceName}/auditedEvents`),Ce+=`?sort=${le.sortCriteria}`,(0,w.gP)(le.auditAction)||(Ce+=`&auditAction=${le.auditAction}`),(0,w.gP)(le.subject)||(Ce+=`&subject=${le.subject}`),(0,w.gP)(le.resourceName)||(Ce+=`&resource=${le.resourceName}`),(0,w.gP)(le.source)||(Ce+=`&source=${le.source}`),null!=le.success&&(Ce+=`&success=${le.success}`),null!=le.toDate&&(Ce+=`&to=${le.toDate}`),null!=le.fromDate&&(Ce+=`&from=${le.fromDate}`),(0,w.hX)(le.bySubject)||(Ce+=`&bySubject=${le.bySubject}`),Ce}sortResults(){const Ce=this.activatedRoute.snapshot.queryParams,le=new g(Ce.auditAction,Ce.subject,Ce.resourceName,Ce.source),j=void 0===Ce.fromDate?this.timeService.now().startOf("day"):S.c9.fromISO(Ce.fromDate),ae=void 0===Ce.toDate?this.timeService.now().startOf("day"):S.c9.fromISO(Ce.toDate);this.filterSort=this.filterSort===this.sortAsc?this.sortDesc:this.sortAsc;const Ge=new E(le,j,ae,Ce.page,Ce.pageSize,this.filterSort,Ce.success,Ce.bySubject);this.auditStream.next(Ge),this.filterHasChanged=!1}resetForm(){this.filterForm.setValue({fromDate:this.timeService.now().startOf("day"),toDate:this.timeService.now(),auditSearch:{auditAction:"",resourceName:"",subject:"",source:""},page:1,pageSize:25,sortCriteria:this.sortDesc,success:null}),this.filterHasChanged=!1,this.successfulFilter=!1,this.unsuccessfulFilter=!1,this.applyForm(!0)}setupFilterForm(Ce){const le=void 0===Ce.fromDate?this.timeService.now().startOf("day"):S.c9.fromISO(Ce.fromDate),j=void 0===Ce.toDate?this.timeService.now().endOf("day"):S.c9.fromISO(Ce.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[le,[t.k0.required,w.TO]],toDate:[j],auditSearch:this.fb.group({auditAction:[Ce.auditAction||""],resourceName:[Ce.resourceName||""],subject:[Ce.subject||""],source:[Ce.source||""]}),page:[Ce.page||1],pageSize:[Ce.pageSize>1e3?1e3:Ce.pageSize||25],sortCriteria:[Ce.sortCriteria||this.sortDesc],success:[Ce.success||null],bySubject:[Ce.bySubject??!0]},{validators:w.$N}),this.filterSort=this.filterForm.value.sortCriteria,this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}Navigate(Ce,le){this.router.navigate([Ce,le])}resourceNavigate(Ce){const le=this.buildTranslatedRoute(Ce);"*"!==Ce.name&&this.Navigate(le,Ce.identifier)}buildLink(Ce){let le=this.buildTranslatedRoute(Ce);return le+=`/${Ce.identifier}`,le}buildTranslatedRoute(Ce){switch(Ce.type){case"User":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`;case"Client":case"Machine":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/clients/view")}`:`${this.localizeRouter.translateRoute("/clients")}`;case"IdentityResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/identityresources/view")}`:`${this.localizeRouter.translateRoute("/identityresources")}`;case"ProtectedResource":return this.identityServerManagerReadOnly()?`${this.localizeRouter.translateRoute("/protectedresources/view")}`:`${this.localizeRouter.translateRoute("/protectedresources")}`;case"ClaimType":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/claim-types/view")}`:`${this.localizeRouter.translateRoute("/claim-types")}`;case"Role":return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/roles/view")}`:`${this.localizeRouter.translateRoute("/roles")}`;default:return""}}static{this.\u0275fac=function(le){return new(le||ct)(v.rXU(B.x),v.rXU(U.QG),v.rXU(a.Ix),v.rXU(t.ok),v.rXU(a.nX),v.rXU(k.i),v.rXU(O.D),v.rXU(P.v))}}static{this.\u0275cmp=v.VBU({type:ct,selectors:[["app-audits-list"]],inputs:{resourceName:"resourceName"},decls:131,vars:105,consts:[["pageLength",""],["filterType",""],["filterValue",""],["sortCriteria",""],["group",""],["id","auditingList"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-hidden","tw-flex-grid-col","xs:tw-block","sm:tw-w-auto","sm:tw-mr-auto"],["aria-hidden","true",1,"tw-hidden","tw-form-label","tw-invisible","sm:tw-inline-block"],[1,"tw-flex","tw-items-center"],["name","setToday","id","setToday",1,"tw-btn",3,"click"],["name","set24hrs","id","set24hrs",1,"tw-btn",3,"click"],["name","setYesterday","id","setYesterday",1,"tw-btn",3,"click"],["name","setLastWeek","id","setLastWeek",1,"tw-btn",3,"click"],[1,"tw-flex-grid-col","tw-ml-0"],["class","tw-form-group tw-mb-0",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-0"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["formGroupName","auditSearch"],["class","tw-my-4",4,"ngIf"],[1,"tw-mb-4"],["id","showFilterButton","type","button","aria-expanded","showAddFilter",1,"tw-btn-link","tw-btn-small","tw-px-0",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5"],["for","filterType",1,"tw-form-label"],[1,"tw-flex-grid"],[1,"tw-flex-grid-col","xs:tw-w-2/5","sm:tw-w-1/3"],["id","filterType","name","filterType",1,"tw-form-control",3,"change"],["value","source"],["value","subject",4,"ngIf"],["value","auditAction"],["value","resourceName",4,"ngIf"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-2/3"],["id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-0","tw-rounded-r-none"],["type","submit",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto"],[1,"tw-form-label"],["id","allFilter",1,"tw-btn",3,"click"],["id","activeFilter",1,"tw-btn",3,"click"],["id","blockedFilter",1,"tw-btn",3,"click"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["id","bySubjectFilter",1,"tw-btn",3,"click"],["id","byResourceFilter",1,"tw-btn",3,"click"],[1,"tw-my-4"],[1,"tw-flex","tw-flex-wrap","tw-items-start","tw--mt-2","tw--ml-2"],["class","tw-pt-2 tw-pl-2",4,"ngIf"],[1,"tw-pt-2","tw-pl-2"],["id","sourceSearchValue",1,"tw-btn-danger","tw-btn-small",3,"click"],[1,"tw-font-bold","tw-mr-1"],["aria-hidden","true",1,"fas","fa-times","tw-ml-3"],[1,"tw-btn-danger","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["value","subject"],["value","resourceName"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["right",""],["class","fad fa-spinner-third fa-spin tw-text-xs tw-text-grey-700 tw-mr-3",4,"ngIf"],["id","getCSVBtn","container","body",1,"tw-btn-white",3,"click","tooltip","disabled"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],[1,"fad","fa-spinner-third","fa-spin","tw-text-xs","tw-text-grey-700","tw-mr-3"],["role","alert",1,"tw-alert"],[1,"datatable","hover"],[1,"toggle","tw-w-1"],["id","sortWhen",1,"tw-cursor-pointer","xs:tw-w-40",3,"click"],[1,"tw-mr-2"],["aria-hidden","true",1,"fas","fa-caret-down"],[1,"tw-hidden","tw-w-32","md:tw-table-cell","xl:tw-w-40"],["class","tw-hidden xs:tw-table-cell lg:tw-w-1/4",4,"ngIf"],["id","ResourceHeading","class","tw-hidden lg:tw-table-cell",4,"ngIf"],[1,"tw-hidden","xl:tw-table-cell"],[1,"tw-hidden","tw-w-1","tw-text-center","sm:tw-table-cell"],["id","auditsTable"],[4,"ngFor","ngForOf"],[1,"tw-hidden","xs:tw-table-cell","lg:tw-w-1/4"],["id","ResourceHeading",1,"tw-hidden","lg:tw-table-cell"],[1,"toggle"],[1,"tw-btn-link","tw-btn-small",3,"click"],["aria-hidden","true",1,"fas","fa-caret-down","fa-fw"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["class","tw-hidden tw-max-w-0 tw-truncate xs:tw-table-cell subject",4,"ngIf"],["class","tw-hidden tw-max-w-0 tw-truncate lg:tw-table-cell resource",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xl:tw-table-cell"],[1,"tw-hidden","tw-text-center","sm:tw-table-cell"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-text-red-500 tw-opacity-50",4,"ngIf"],["class","disabled toggle-row",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","xs:tw-table-cell","subject"],[3,"click","href"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell","resource"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-text-red-500","tw-opacity-50"],[1,"disabled","toggle-row"],["colspan","6",1,"tw-text-grey-800"],[1,"tw-flex","tw-items-start"],["aria-hidden","true",1,"tw-shrink-0","tw-mr-1"],["class","fas fa-check tw-text-green-500 fa-fw",4,"ngIf"],["class","fas fa-times tw-text-red-500 fa-fw",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","fa-fw"],[1,"fas","fa-times","tw-text-red-500","fa-fw"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(le,j){if(1&le){const ae=v.RV6();v.j41(0,"div",5)(1,"form",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"label",11),v.EFF(7),v.nI1(8,"translate"),v.k0s(),v.j41(9,"div"),v.nrm(10,"app-date-time",12),v.DNE(11,Z,3,3,"span",13),v.k0s()()(),v.j41(12,"div",9)(13,"div",10)(14,"label",14),v.EFF(15),v.nI1(16,"translate"),v.k0s(),v.j41(17,"div"),v.nrm(18,"app-date-time",15),v.DNE(19,ne,3,3,"span",16),v.k0s()()(),v.j41(20,"div",17)(21,"div",10)(22,"label",18),v.EFF(23,"\xa0"),v.k0s(),v.j41(24,"ul",19)(25,"li")(26,"button",20),v.nI1(27,"translate"),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setDateToday())}),v.EFF(28),v.nI1(29,"translate"),v.k0s()(),v.j41(30,"li")(31,"button",21),v.nI1(32,"translate"),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setDateLast24Hours())}),v.EFF(33),v.nI1(34,"translate"),v.k0s()(),v.j41(35,"li")(36,"button",22),v.nI1(37,"translate"),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setDateYesterday())}),v.EFF(38),v.nI1(39,"translate"),v.k0s()(),v.j41(40,"li")(41,"button",23),v.nI1(42,"translate"),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setDateLastWeek())}),v.EFF(43),v.nI1(44,"translate"),v.k0s()()()()()(),v.j41(45,"div",8)(46,"div",24),v.DNE(47,I,13,13,"div",25),v.k0s(),v.j41(48,"div",26)(49,"div",10)(50,"label",27),v.EFF(51),v.nI1(52,"translate"),v.k0s(),v.j41(53,"div",28)(54,"select",29,0)(56,"option",30),v.EFF(57,"25 "),v.k0s(),v.j41(58,"option",30),v.EFF(59,"50"),v.k0s(),v.j41(60,"option",30),v.EFF(61,"100"),v.k0s()()()()()(),v.j41(62,"form",31),v.DNE(63,Ae,9,7,"div",32),v.j41(64,"div",33)(65,"button",34),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.showAddFilter=!j.showAddFilter)}),v.DNE(66,Fe,4,3,"span",35)(67,qe,4,3,"span",35),v.k0s(),v.j41(68,"div",36)(69,"div",37)(70,"div",38)(71,"div",10)(72,"label",39),v.EFF(73),v.nI1(74,"translate"),v.k0s(),v.j41(75,"div",40)(76,"div",41)(77,"div",28)(78,"select",42,1),v.bIt("change",function(){v.eBV(ae);const tt=v.sdS(79),vt=v.sdS(90);return v.Njj(j.selectFilterType(tt.value,vt))}),v.j41(80,"option",43),v.EFF(81),v.nI1(82,"translate"),v.k0s(),v.DNE(83,Me,3,3,"option",44),v.j41(84,"option",45),v.EFF(85),v.nI1(86,"translate"),v.k0s(),v.DNE(87,Te,3,3,"option",46),v.k0s()()(),v.j41(88,"div",47),v.nrm(89,"input",48,2),v.nI1(91,"translate"),v.nI1(92,"translate"),v.j41(93,"button",49),v.bIt("click",function(){v.eBV(ae);const tt=v.sdS(79),vt=v.sdS(90);return v.Njj(j.auditSearch(tt.value,vt))}),v.nrm(94,"span",50),v.j41(95,"span",51),v.EFF(96),v.nI1(97,"translate"),v.k0s()()()()()(),v.j41(98,"div",52)(99,"div",10)(100,"p",53),v.EFF(101),v.nI1(102,"translate"),v.k0s(),v.j41(103,"ul",19)(104,"li")(105,"button",54),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setShowing(!1,!1))}),v.EFF(106),v.nI1(107,"translate"),v.k0s()(),v.j41(108,"li")(109,"button",55),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setShowing(!0,!1))}),v.EFF(110),v.nI1(111,"translate"),v.k0s()(),v.j41(112,"li")(113,"button",56),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.setShowing(!1,!0))}),v.EFF(114),v.nI1(115,"translate"),v.k0s()()()()()()()(),v.j41(116,"div",57),v.nrm(117,"input",58,3),v.j41(119,"button",59),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.applyForm(!0))}),v.EFF(120),v.nI1(121,"translate"),v.k0s(),v.j41(122,"button",60),v.bIt("click",function(){return v.eBV(ae),v.Njj(j.resetForm())}),v.EFF(123),v.nI1(124,"translate"),v.k0s(),v.DNE(125,ge,4,3,"p",61),v.k0s()()()(),v.DNE(126,xe,10,8,"app-action-bar",35)(127,pt,1,0,"app-simple-loader",35)(128,Le,4,3,"div",62)(129,lt,25,20,"table",63)(130,Pt,1,3,"app-pager",64),v.k0s()}if(2&le){let ae;v.R7$(),v.Y8G("formGroup",j.filterForm),v.R7$(6),v.JRh(v.bMT(8,59,"Auditing.FromDate")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",j.filterForm.get("fromDate").hasError("dateInFuture")),v.R7$(4),v.JRh(v.bMT(16,61,"Auditing.ToDate")),v.R7$(3),v.Y8G("displayType","datetime"),v.R7$(),v.Y8G("ngIf",j.filterForm.hasError("fromDateIsAfterToDate")),v.R7$(7),v.AVh("tw-btn-link",!j.checkQuickDate("today")),v.BMQ("aria-label",v.bMT(27,63,"Auditing.SetDateToday")),v.R7$(2),v.SpI(" ",v.bMT(29,65,"Auditing.Today")," "),v.R7$(3),v.AVh("tw-btn-link",!j.checkQuickDate("24hours")),v.BMQ("aria-label",v.bMT(32,67,"Auditing.SetDateLast24Hours")),v.R7$(2),v.SpI(" ",v.bMT(34,69,"Auditing.24Hours")," "),v.R7$(3),v.AVh("tw-btn-link",!j.checkQuickDate("yesterday")),v.BMQ("aria-label",v.bMT(37,71,"Auditing.SetDateYesterday")),v.R7$(2),v.SpI(" ",v.bMT(39,73,"Auditing.Yesterday")," "),v.R7$(3),v.AVh("tw-btn-link",!j.checkQuickDate("week")),v.BMQ("aria-label",v.bMT(42,75,"Auditing.SetDateLastWeek")),v.R7$(2),v.SpI(" ",v.bMT(44,77,"Auditing.Week")," "),v.R7$(4),v.Y8G("ngIf",j.resourceOnly),v.R7$(4),v.JRh(v.bMT(52,79,"Auditing.ResultsPerPage")),v.R7$(5),v.Y8G("value",25),v.R7$(2),v.Y8G("value",50),v.R7$(2),v.Y8G("value",100),v.R7$(3),v.Y8G("ngIf",j.showActiveFilters()),v.R7$(3),v.Y8G("ngIf",!j.showAddFilter),v.R7$(),v.Y8G("ngIf",j.showAddFilter),v.R7$(),v.Y8G("hidden",!j.showAddFilter),v.R7$(5),v.JRh(v.bMT(74,81,"Auditing.AddFilter")),v.R7$(8),v.JRh(v.bMT(82,83,"Auditing.Source")),v.R7$(2),v.Y8G("ngIf",!j.resourceBySubject),v.R7$(2),v.SpI("",v.bMT(86,85,"Auditing.Action")," "),v.R7$(2),v.Y8G("ngIf",!j.resourceByResource),v.R7$(2),v.BMQ("placeholder",v.bMT(91,87,"Auditing.FilterTermPlaceholder"))("aria-label",v.bMT(92,89,"Auditing.AddFilterTerm")),v.R7$(7),v.JRh(v.bMT(97,91,"Common.Add")),v.R7$(5),v.JRh(v.bMT(102,93,"Auditing.Showing")),v.R7$(4),v.AVh("tw-btn-link",!(!j.successfulFilter&&!j.unsuccessfulFilter)),v.R7$(),v.SpI(" ",v.bMT(107,95,"Permission.All")," "),v.R7$(3),v.AVh("tw-btn-link",!(j.successfulFilter&&!j.unsuccessfulFilter)),v.R7$(),v.SpI(" ",v.bMT(111,97,"Notifications.Success")," "),v.R7$(3),v.AVh("tw-btn-link",!(j.unsuccessfulFilter&&!j.successfulFilter)),v.R7$(),v.SpI(" ",v.bMT(115,99,"Notifications.Failure")," "),v.R7$(5),v.Y8G("disabled",(null==j.filterForm?null:j.filterForm.errors)||(null==(ae=j.filterForm.get("fromDate"))?null:ae.hasError("dateInFuture"))),v.R7$(),v.SpI(" ",v.bMT(121,101,"Auditing.ExecuteAndDisplay")," "),v.R7$(3),v.SpI(" ",v.bMT(124,103,"Auditing.Reset")," "),v.R7$(2),v.Y8G("ngIf",j.filterHasChanged),v.R7$(),v.Y8G("ngIf",!j.isLoading),v.R7$(),v.Y8G("ngIf",j.isLoading),v.R7$(),v.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)<1&&!j.isLoading),v.R7$(),v.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading),v.R7$(),v.Y8G("ngIf",(null==j.pagedResult?null:j.pagedResult.results.length)>0&&!j.isLoading)}},dependencies:[W.Sq,W.bT,t.qT,t.xH,t.y7,t.wz,t.BC,t.cb,t.cV,t.j4,t.JD,t.$R,N.dg,H.B,G.n,z.d,ce.Z,de.D9,Y.r7],encapsulation:2})}}return ct})()},9475:(nt,ye,d)=>{"use strict";d.d(ye,{F:()=>k});var t=d(177),e=d(7005),p=d(9417),S=d(534),C=d(4304),w=d(1780),g=d(5731),h=d(4193),E=d(7175),v=d(6599),B=d(1683),U=d(1575),a=d(4438);let k=(()=>{class O{static{this.\u0275fac=function(N){return new(N||O)}}static{this.\u0275mod=a.$C({type:O})}static{this.\u0275inj=a.G2t({providers:[U.v],imports:[t.MD,p.YN,p.X1,e.XE,w.h,C.h6,S.Ss,g.i,h.c,E.c,v.Y,B.Y]})}}return O})()},6406:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>S});var t=d(4438);const e=["*",[["","right",""]]],p=["*","[right]"];let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["app-button-bar"]],ngContentSelectors:p,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(h,E){1&h&&(t.NAR(e),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.SdG(4),t.k0s(),t.SdG(5,1),t.k0s()()())},encapsulation:2})}}return C})()},1993:(nt,ye,d)=>{"use strict";d.d(ye,{E:()=>p});var t=d(177),e=d(4438);let p=(()=>{class S{static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275mod=e.$C({type:S})}static{this.\u0275inj=e.G2t({imports:[t.MD]})}}return S})()},7499:(nt,ye,d)=>{"use strict";d.d(ye,{o:()=>p});var t=d(1413),e=d(4438);let p=(()=>{class S{constructor(){this.emitter=new t.B,this.eventStream=new t.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac})}}return S})()},6728:(nt,ye,d)=>{"use strict";d.d(ye,{E:()=>g});var t=d(4438),e=d(7499),p=d(1780),S=d(779);const C=["canDeactivate"],w=()=>({animated:!1,backdrop:"static"});let g=(()=>{class h{constructor(v,B){this.service=v,this.translate=B,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(v=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(B){return new(B||h)(t.rXU(e.o),t.rXU(p.c$))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["app-can-deactivate"]],viewQuery:function(B,U){if(1&B&&t.GBs(C,7),2&B){let a;t.mGM(a=t.lsd())&&(U.modal=a.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(B,U){if(1&B){const a=t.RV6();t.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",6),t.bIt("click",function(){return t.eBV(a),t.Njj(U.stay())}),t.nrm(9,"span",7),t.j41(10,"span",8),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",9)(14,"p"),t.EFF(15),t.nI1(16,"translate"),t.nI1(17,"translate"),t.k0s()(),t.nrm(18,"div",10),t.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),t.bIt("click",function(){return t.eBV(a),t.Njj(U.stay())}),t.EFF(23),t.nI1(24,"translate"),t.k0s()(),t.j41(25,"button",15),t.bIt("click",function(){return t.eBV(a),t.Njj(U.leave())}),t.EFF(26),t.nI1(27,"translate"),t.k0s()()()()()()}2&B&&(t.Y8G("config",t.lJ4(19,w)),t.R7$(6),t.JRh(t.bMT(7,7,"Notifications.UnsavedChangesTitle")),t.R7$(5),t.JRh(t.bMT(12,9,"Common.Close")),t.R7$(4),t.Lme("",t.bMT(16,11,"Notifications.UnsavedChanges")," ",t.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),t.R7$(8),t.JRh(t.bMT(24,15,"Notifications.StayHere")),t.R7$(3),t.JRh(t.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[S.hZ,p.D9],encapsulation:2})}}return h})()},8455:(nt,ye,d)=>{"use strict";d.d(ye,{p:()=>g});var t=d(779),e=d(8416),p=d(7499),S=d(1780),C=d(177),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({providers:[e.M,p.o],imports:[C.MD,t.Q_,S.h]})}}return h})()},8416:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>e});var t=d(4438);let e=(()=>{class p{canDeactivate(C){return!C.canDeactivate||C.canDeactivate()}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac})}}return p})()},5404:(nt,ye,d)=>{"use strict";d.d(ye,{V:()=>E});var t=d(467),e=d(4438),p=d(2261),S=d(5794),C=d(1780),w=d(9417),g=d(8698);const h=["fileInput"];let E=(()=>{class v{constructor(U,a,k){this.certPickerService=U,this.toastr=a,this.translate=k,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(U){this.fileToUpload=U.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var U=this;return(0,t.A)(function*(){let a="";if(U.fileToUpload){const O=U.fileToUpload.slice(0),P=new FileReader,N=new Promise(function(H,G){P.onloadend=function(){const ce=P.result.split("base64,");H(ce[1])}});P.readAsDataURL(O),a=yield N}else""!==U.metadata&&(a=U.metadata);const k=yield U.tryBuildCertModel(a);return U.resetForm(U),k})()}resetForm(U){U.fileToUpload=null,U.fileInput.nativeElement.value="",U.metadata="",U.dataExists.emit(U.hasData())}tryBuildCertModel(U){var a=this;return(0,t.A)(function*(){let k;try{const O=a.certPickerService.convertStringToArrayBuffer(U);k=yield a.certPickerService.buildCertModelFromArrayBuffer(O,U)}catch(O){throw a.toastr.error(a.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),a.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),O}return k})()}static{this.\u0275fac=function(a){return new(a||v)(e.rXU(p.V),e.rXU(S.tw),e.rXU(C.c$))}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["app-cert-reader"]],viewQuery:function(a,k){if(1&a&&e.GBs(h,7),2&a){let O;e.mGM(O=e.lsd())&&(k.fileInput=O.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(a,k){if(1&a){const O=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(W){return e.eBV(O),e.Njj(k.handleFileInput(W.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(W){return e.eBV(O),e.DH7(k.metadata,W)||(k.metadata=W),e.Njj(W)}),e.bIt("keyup",function(){return e.eBV(O),e.Njj(k.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&a&&(e.Y8G("id","fileInput")("label",k.uploadCert)("help",k.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=k.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",k.certMetaData)("help",k.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=k.fileToUpload),e.R50("ngModel",k.metadata))},dependencies:[w.me,w.BC,w.vS,g.Y,C.D9],encapsulation:2})}}return v})()},75:(nt,ye,d)=>{"use strict";d.d(ye,{U:()=>g});var t=d(1683),e=d(177),p=d(1780),S=d(9417),C=d(8389),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({imports:[t.Y,e.MD,p.h,S.YN,C.w]})}}return h})()},4354:(nt,ye,d)=>{"use strict";d.d(ye,{f:()=>P});var t=d(1413),e=d(4438),p=d(177),S=d(9417);let C=(()=>{class W{transform(H,G){let z=H;return G&&(z=H.filter(ce=>ce.name.toUpperCase().includes(G))),z}static{this.\u0275fac=function(G){return new(G||W)}}static{this.\u0275pipe=e.EJ8({name:"search",type:W,pure:!0})}}return W})();var w=d(1780);const g=W=>({"tw-text-grey-600":W});function h(W,N){if(1&W){const H=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function(z){e.eBV(H);const ce=e.XpG();return e.DH7(ce.availableSearchValue,z)||(ce.availableSearchValue=z),e.Njj(z)}),e.k0s()()}if(2&W){const H=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",H.availableSearchValue)}}function E(W,N){1&W&&e.nrm(0,"span",30)}function v(W,N){if(1&W&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&W){const H=e.XpG().$implicit;e.R7$(),e.SpI(" ",H.description," ")}}function B(W,N){if(1&W){const H=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const z=e.eBV(H).$implicit,ce=e.XpG();return e.Njj(ce.selectAvailable(z))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,E,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,v,2,1,"span",29),e.k0s()()()}if(2&W){let H;const G=N.$implicit,z=e.XpG();e.R7$(),e.Y8G("htmlFor",z.prefix+G.name),e.R7$(),e.FS9("id",z.prefix+G.name),e.FS9("name",G.name),e.Y8G("checked",G.selected)("disabled",z.isRestricted(G)||z.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,g,z.isReadOnly)),e.R7$(),e.Y8G("ngIf",z.isRestricted(G)),e.R7$(),e.Lme(" ",null!==(H=G.displayName)&&void 0!==H?H:G.name," ",G.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==G.description?null:G.description.length)>0)}}function U(W,N){if(1&W){const H=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function(z){e.eBV(H);const ce=e.XpG();return e.DH7(ce.assignedSearchValue,z)||(ce.assignedSearchValue=z),e.Njj(z)}),e.k0s()()}if(2&W){const H=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",H.assignedSearchValue)}}function a(W,N){1&W&&e.nrm(0,"span",30)}function k(W,N){if(1&W&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&W){const H=e.XpG().$implicit;e.R7$(),e.SpI(" ",H.description," ")}}function O(W,N){if(1&W){const H=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const z=e.eBV(H).$implicit,ce=e.XpG();return e.Njj(ce.selectAssigned(z))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,a,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,k,2,1,"span",29),e.k0s()()()}if(2&W){let H;const G=N.$implicit,z=e.XpG();e.R7$(),e.Y8G("htmlFor",z.prefix+G.name),e.R7$(),e.FS9("id",z.prefix+G.name),e.FS9("name",G.name),e.Y8G("checked",G.selected)("disabled",z.isRestricted(G)||z.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,g,z.isReadOnly)),e.R7$(),e.Y8G("ngIf",z.isRestricted(G)),e.R7$(),e.Lme(" ",null!==(H=G.displayName)&&void 0!==H?H:G.name," ",G.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==G.description?null:G.description.length)>0)}}let P=(()=>{class W{set availableInput(H){this.available=this.sortArray(H)}set assignedInput(H){this.assigned=this.sortArray(H)}set isReadOnly(H){this._isReadOnly=H||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new t.B,this.assignedStream=new t.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(H){if(H&&H.length>0)for(const G of H)G.selected=!1;return H.sort((G,z)=>G.name<z.name?-1:1)}selectAvailable(H){H.selected?this.availableCount-=1:this.availableCount+=1,H.selected=!H.selected}selectAssigned(H){H.selected?this.assignedCount-=1:this.assignedCount+=1,H.selected=!H.selected}assignItems(){let H=this.available.filter(G=>G.selected);this.assignedStream.next(H),this.available.forEach(G=>{G.selected=!1}),this.assigned.forEach(G=>{G.selected=!1}),H=[]}unAssignItems(){let H=this.assigned.filter(G=>G.selected);this.unAssignedStream.next(H),this.available.forEach(G=>{G.selected=!1}),this.assigned.forEach(G=>{G.selected=!1}),H=[]}isRestricted(H){if(this.restrictedInput)for(let G=0;G<this.restrictedInput.length;G++)if(this.restrictedInput[G].value===H.name)return!0}static{this.\u0275fac=function(G){return new(G||W)}}static{this.\u0275cmp=e.VBU({type:W,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(G,z){1&G&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,h,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,B,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return z.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return z.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,U,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,O,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&G&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",z.availableSearch||!z.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,z.available,e.bMT(9,12,z.availableSearchValue))),e.R7$(6),e.Y8G("disabled",z.availableCount<1||z.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",z.assignedCount<1||z.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",z.assignedSearch||!z.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,z.assigned,e.bMT(35,23,z.assignedSearchValue))))},dependencies:[p.YU,p.Sq,p.bT,S.me,S.BC,S.vS,p.Pc,C,w.D9],encapsulation:2})}}return W})()},2571:(nt,ye,d)=>{"use strict";d.d(ye,{A:()=>w});var t=d(9417),e=d(1683),p=d(177),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[p.MD,t.YN,e.Y,S.h]})}}return g})()},275:(nt,ye,d)=>{"use strict";d.d(ye,{W:()=>C});var t=d(177),e=d(1780),p=d(1583),S=d(4438);let C=(()=>{class w{static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275mod=S.$C({type:w})}static{this.\u0275inj=S.G2t({imports:[t.MD,e.h,p.iI]})}}return w})()},6719:(nt,ye,d)=>{"use strict";d.d(ye,{G:()=>S});var t=d(4438),e=d(1583);const p=["*"];let S=(()=>{class C{constructor(g){this.activatedRoute=g,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const g=this.activatedRoute.snapshot;null!==g.firstChild&&null!==g.firstChild.routeConfig&&g.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(h){return new(h||C)(t.rXU(e.nX))}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["app-custom-tab"]],inputs:{title:[t.Mj6.None,"tabTitle","title"],value:[t.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:p,decls:1,vars:0,template:function(h,E){1&h&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return C})()},251:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>B});var t=d(6719),e=d(4438),p=d(1583),S=d(177),C=d(1780);const w=(U,a)=>({tabs:U,"pill-tabs":a}),g=(U,a)=>({tabs__item:U,"pill-tabs__item":a}),h=(U,a)=>({tabs__link:U,"pill-tabs__link":a});function E(U,a){1&U&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&U&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function v(U,a){if(1&U){const k=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const P=e.eBV(k).$implicit,W=e.XpG();return e.Njj(W.changeTab(P))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,E,5,3,"span",4),e.k0s()()}if(2&U){const k=a.$implicit,O=a.index,P=e.XpG();e.Y8G("ngClass",e.l_i(11,g,!P.pillMode,P.pillMode)),e.R7$(),e.AVh("active",k.active),e.Y8G("id","customTab"+O)("ngClass",e.l_i(14,h,!P.pillMode,P.pillMode)),e.BMQ("data-value",k.value)("aria-selected",k.active),e.R7$(),e.SpI(" ",e.bMT(3,9,k.title)," "),e.R7$(2),e.Y8G("ngIf",k.restrictedStarter)}}let B=(()=>{class U{constructor(k,O){this.router=k,this.activatedRoute=O,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const k=this.tabs.filter(O=>O.active);k&&!k.length&&this.changeTab(this.tabs.first)}changeTab(k){!this.tabs||!this.tabs.length||k.active||(this.setActiveTab(k),this.router.navigate([k.value],{relativeTo:this.activatedRoute}))}setActiveTab(k){this.tabs.toArray().forEach(O=>O.active=!1),k.active=!0}static{this.\u0275fac=function(O){return new(O||U)(e.rXU(p.Ix),e.rXU(p.nX))}}static{this.\u0275cmp=e.VBU({type:U,selectors:[["app-custom-tabs"]],contentQueries:function(O,P,W){if(1&O&&e.wni(W,t.G,4),2&O){let N;e.mGM(N=e.lsd())&&(P.tabs=N)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(O,P){1&O&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,v,5,17,"li",1),e.k0s()),2&O&&(e.Y8G("ngClass",e.l_i(5,w,!P.pillMode,P.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",P.tabs))},dependencies:[S.YU,S.Sq,S.bT,C.D9],encapsulation:2})}}return U})()},8577:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>w,w:()=>g});var t=d(4438),e=d(1589),p=d(2390),S=d(923),C=d(9812);class w{get datePipe(){return this._datePipe}constructor(E=S.N.standardDate,v="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=v??"Common.NoDateSet",this._datePipe=(()=>{switch(E){case S.N.standardDate:return new e.El;case S.N.standardDateTime:return new e.r7;case S.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let g=(()=>{class h{constructor(v){this.dataTableService=v,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new t.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(v=>{null!=this.sort&&this.setSort(v)})}get dateColumn(){return"boolean"==typeof this.date?new w:this.date}format(v){return void 0!==this.formatter?this.formatter(v):v}get sortClass(){if(null==this.sort)return"";switch(this.sort){case p.uy.None:return"fad fa-sort";case p.uy.Ascending:return"fas fa-caret-up";case p.uy.Descending:return"fas fa-caret-down"}}setSort(v){this.sort=v==this.prop?this.sort==p.uy.Descending?p.uy.Ascending:p.uy.Descending:p.uy.None}static{this.\u0275fac=function(B){return new(B||h)(t.rXU(C.I))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(B,U){},encapsulation:2})}}return h})()},4252:(nt,ye,d)=>{"use strict";d.d(ye,{AA:()=>Me,up:()=>qe});var t=d(4438),e=d(8577),p=d(1583),S=d(9812),C=d(177),w=d(1780);const g=["selectButton"],h=["deleteButton"],E=ge=>({hover:ge}),v=ge=>({"tw-mr-2":ge});function B(ge,$e){if(1&ge&&(t.j41(0,"div",7),t.nrm(1,"div",8),t.nI1(2,"translate"),t.k0s()),2&ge){const xe=t.XpG();t.R7$(),t.Y8G("innerHTML",t.bMT(2,1,xe.noRowsLabel),t.npT)}}function U(ge,$e){if(1&ge&&t.nrm(0,"span",14),2&ge){const xe=t.XpG().$implicit;t.Y8G("ngClass",xe.sortClass)}}function a(ge,$e){if(1&ge){const xe=t.RV6();t.j41(0,"th",13),t.bIt("click",function(){const Le=t.eBV(xe).$implicit,Ct=t.XpG(2);return t.Njj(Ct.sortColumn(Le))}),t.j41(1,"span",14),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,U,1,1,"span",15),t.k0s()}if(2&ge){const xe=$e.$implicit;t.Y8G("className",xe.headClasses),t.R7$(),t.Y8G("ngClass",t.eq3(6,v,null!=xe.sort)),t.R7$(),t.JRh(t.bMT(3,4,xe.title)),t.R7$(2),t.Y8G("ngIf",null!=xe.sort)}}function k(ge,$e){1&ge&&(t.j41(0,"th",16)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&ge&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Actions")))}function O(ge,$e){if(1&ge&&(t.qex(0),t.EFF(1),t.bVm()),2&ge){const xe=t.XpG(3).$implicit;t.R7$(),t.SpI(" ",xe," ")}}function P(ge,$e){if(1&ge&&(t.qex(0),t.EFF(1),t.bVm()),2&ge){const xe=t.XpG(4).$implicit,pt=t.XpG().$implicit;t.R7$(),t.SpI(" ",xe.dateColumn.datePipe.transform(pt[xe.prop])," ")}}function W(ge,$e){if(1&ge&&(t.EFF(0),t.nI1(1,"translate")),2&ge){const xe=t.XpG(4).$implicit;t.SpI(" ",t.bMT(1,1,xe.dateColumn.noDateLabel)," ")}}function N(ge,$e){if(1&ge&&(t.qex(0),t.DNE(1,P,2,1,"ng-container",21)(2,W,2,3,"ng-template",null,1,t.C5r),t.bVm()),2&ge){const xe=t.sdS(3),pt=t.XpG(3).$implicit,Le=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",Le[pt.prop])("ngIfElse",xe)}}function H(ge,$e){if(1&ge){const xe=t.RV6();t.qex(0),t.j41(1,"a",22),t.bIt("click",function(){t.eBV(xe);const Le=t.XpG(5).$implicit,Ct=t.XpG(2);return t.Njj(!!Ct.clickLinkCell(Le.link))}),t.EFF(2),t.k0s(),t.bVm()}if(2&ge){const xe=t.XpG(4).$implicit,pt=t.XpG().$implicit;t.R7$(),t.FS9("href",pt.routeLink,t.B4B),t.R7$(),t.SpI(" ",pt[xe.prop]," ")}}function G(ge,$e){if(1&ge&&t.nrm(0,"span",23),2&ge){const xe=t.XpG(4).$implicit,pt=t.XpG().$implicit;t.Y8G("innerHTML",xe.format(pt[xe.prop]),t.npT)}}function z(ge,$e){if(1&ge&&t.DNE(0,H,3,2,"ng-container",21)(1,G,1,1,"ng-template",null,2,t.C5r),2&ge){const xe=t.sdS(2),pt=t.XpG(3).$implicit;t.Y8G("ngIf",pt.link)("ngIfElse",xe)}}function ce(ge,$e){if(1&ge&&(t.qex(0),t.DNE(1,N,4,2,"ng-container",21)(2,z,3,2,"ng-template",null,0,t.C5r),t.bVm()),2&ge){const xe=t.sdS(3),pt=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",pt.date)("ngIfElse",xe)}}function de(ge,$e){if(1&ge&&(t.qex(0),t.DNE(1,O,2,1,"ng-container",20)(2,ce,4,2,"ng-container",20),t.bVm()),2&ge){const xe=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",null==xe.prop),t.R7$(),t.Y8G("ngIf",null!=xe.prop)}}function Y(ge,$e){if(1&ge&&(t.qex(0),t.j41(1,"span",24),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.bVm()),2&ge){const xe=t.XpG().$implicit;t.R7$(2),t.JRh(t.bMT(3,1,xe.placeholder))}}function Z(ge,$e){1&ge&&(t.j41(0,"span",27)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&ge&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.Yes")))}function ne(ge,$e){1&ge&&(t.j41(0,"span",28)(1,"span",17),t.EFF(2),t.nI1(3,"translate"),t.k0s()()),2&ge&&(t.R7$(2),t.JRh(t.bMT(3,1,"Common.No")))}function I(ge,$e){if(1&ge&&(t.qex(0),t.DNE(1,Z,4,3,"span",25)(2,ne,4,3,"span",26),t.bVm()),2&ge){const xe=t.XpG().$implicit,pt=t.XpG().$implicit;t.R7$(),t.Y8G("ngIf",pt[xe.prop]),t.R7$(),t.Y8G("ngIf",!pt[xe.prop])}}function pe(ge,$e){if(1&ge&&(t.j41(0,"td",19),t.DNE(1,de,3,2,"ng-container",20)(2,Y,4,3,"ng-container",20)(3,I,3,2,"ng-container",20),t.k0s()),2&ge){const xe=$e.$implicit;t.Y8G("className",xe.cellClasses),t.BMQ("data-label",xe.title),t.R7$(),t.Y8G("ngIf",!xe.isPlaceholder&&!xe.isBoolean),t.R7$(),t.Y8G("ngIf",xe.isPlaceholder),t.R7$(),t.Y8G("ngIf",xe.isBoolean)}}function K(ge,$e){if(1&ge){const xe=t.RV6();t.j41(0,"button",32,3),t.bIt("click",function(){t.eBV(xe);const Le=t.XpG(2).$implicit,Ct=t.XpG(2);return t.Njj(Ct.selectRow(Le))}),t.nrm(2,"span",33),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&ge&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Edit")))}function he(ge,$e){if(1&ge){const xe=t.RV6();t.j41(0,"button",34,4),t.bIt("click",function(){t.eBV(xe);const Le=t.XpG(2).index,Ct=t.XpG(2);return t.Njj(Ct.deleteRow(Le))}),t.nrm(2,"span",35),t.j41(3,"span",17),t.EFF(4),t.nI1(5,"translate"),t.k0s()()}2&ge&&(t.R7$(4),t.JRh(t.bMT(5,1,"Common.Remove.Title")))}function Oe(ge,$e){if(1&ge&&(t.j41(0,"td",16)(1,"div",29),t.DNE(2,K,6,3,"button",30)(3,he,6,3,"button",31),t.k0s()()),2&ge){const xe=t.XpG(3);t.R7$(2),t.Y8G("ngIf",xe.canSelect),t.R7$(),t.Y8G("ngIf",xe.canDelete)}}function Ae(ge,$e){if(1&ge&&(t.j41(0,"tr"),t.DNE(1,pe,4,5,"td",18)(2,Oe,4,2,"td",11),t.k0s()),2&ge){const xe=t.XpG(2);t.R7$(),t.Y8G("ngForOf",xe.columns),t.R7$(),t.Y8G("ngIf",xe.actions)}}function Fe(ge,$e){if(1&ge&&(t.j41(0,"table",9)(1,"thead")(2,"tr"),t.DNE(3,a,5,8,"th",10)(4,k,4,3,"th",11),t.k0s()(),t.j41(5,"tbody"),t.DNE(6,Ae,3,2,"tr",12),t.k0s()()),2&ge){const xe=t.XpG();t.Y8G("ngClass",t.eq3(4,E,!xe.isReadOnly)),t.R7$(3),t.Y8G("ngForOf",xe.columns),t.R7$(),t.Y8G("ngIf",xe.actions),t.R7$(2),t.Y8G("ngForOf",xe.rows)}}let qe=(()=>{class ge{set isReadOnly(xe){this._isReadOnly=xe||!1}get isReadOnly(){return this._isReadOnly}constructor(xe,pt){this.router=xe,this.dataTableService=pt,this.onSelect=new t.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Me.Delete),this.canSelect=this.actions.includes(Me.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(xe){this.canDelete&&this.dataTableService.deleteRowEvent.next(xe)}selectRow(xe){if(this.canSelect){const pt=new Te(xe,this.selectButtonRef);this.onSelect.emit(pt)}}clickLinkCell(xe){this.router.navigate([`${xe.routeForLink}`,xe.identifier])}sortColumn(xe){(null!=xe.sort||null!=xe.sort)&&this.dataTableService.sortColumnEvent.next(xe)}static{this.\u0275fac=function(pt){return new(pt||ge)(t.rXU(p.Ix),t.rXU(S.I))}}static{this.\u0275cmp=t.VBU({type:ge,selectors:[["app-data-table"]],contentQueries:function(pt,Le,Ct){if(1&pt&&t.wni(Ct,e.w,4),2&pt){let ut;t.mGM(ut=t.lsd())&&(Le.columns=ut)}},viewQuery:function(pt,Le){if(1&pt&&(t.GBs(g,5),t.GBs(h,5)),2&pt){let Ct;t.mGM(Ct=t.lsd())&&(Le.selectButtonRef=Ct.first),t.mGM(Ct=t.lsd())&&(Le.deleteButtonRef=Ct.first)}},inputs:{noRowsLabel:[t.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(pt,Le){1&pt&&t.DNE(0,B,3,3,"div",5)(1,Fe,7,6,"table",6),2&pt&&(t.Y8G("ngIf",(null==Le.rows?null:Le.rows.length)<1),t.R7$(),t.Y8G("ngIf",(null==Le.rows?null:Le.rows.length)>0))},dependencies:[C.YU,C.Sq,C.bT,w.D9],encapsulation:2})}}return ge})();var Me=function(ge){return ge.Delete="Delete",ge.Select="Select",ge}(Me||{});class Te{constructor($e,xe=null){this.data=$e,this.element=xe}}},8251:(nt,ye,d)=>{"use strict";d.d(ye,{h:()=>g});var t=d(1780),e=d(177),p=d(534),S=d(1683),C=d(9812),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({providers:[C.I],imports:[e.MD,t.h,p.Ss,S.Y]})}}return h})()},9812:(nt,ye,d)=>{"use strict";d.d(ye,{I:()=>p});var t=d(1413),e=d(4438);let p=(()=>{class S{constructor(){this.sortColumnEvent=new t.B,this.sortCompletedEvent=new t.B,this.deleteRowEvent=new t.B}static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},6536:(nt,ye,d)=>{"use strict";d.d(ye,{Z:()=>N,e:()=>W});var t=d(4438),e=d(9417),p=d(4549),S=d(7263),C=d(177);function w(H,G){1&H&&t.eu8(0)}function g(H,G){if(1&H&&(t.j41(0,"div",4),t.DNE(1,w,1,0,"ng-container",5),t.k0s()),2&H){t.XpG();const z=t.sdS(5);t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function h(H,G){1&H&&t.eu8(0)}function E(H,G){1&H&&t.eu8(0)}function v(H,G){if(1&H&&(t.j41(0,"div",6)(1,"div",7),t.DNE(2,h,1,0,"ng-container",5),t.k0s(),t.j41(3,"div",8),t.DNE(4,E,1,0,"ng-container",5),t.k0s()()),2&H){t.XpG();const z=t.sdS(5),ce=t.sdS(7);t.R7$(2),t.Y8G("ngTemplateOutlet",ce),t.R7$(2),t.Y8G("ngTemplateOutlet",z)}}function B(H,G){1&H&&t.eu8(0)}function U(H,G){if(1&H&&(t.j41(0,"div",6),t.DNE(1,B,1,0,"ng-container",5),t.k0s()),2&H){t.XpG();const z=t.sdS(7);t.R7$(),t.Y8G("ngTemplateOutlet",z)}}function a(H,G){if(1&H&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&H){const z=G.index;t.Y8G("value",z),t.R7$(),t.JRh(t.i5U(2,2,z,"2.0"))}}function k(H,G){if(1&H&&(t.j41(0,"option",15),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&H){const z=G.index;t.Y8G("value",z),t.R7$(),t.JRh(t.i5U(2,2,z,"2.0"))}}function O(H,G){if(1&H){const z=t.RV6();t.j41(0,"label",9),t.EFF(1,"Hours"),t.k0s(),t.j41(2,"div",10)(3,"select",11),t.bIt("ngModelChange",function(de){t.eBV(z);const Y=t.XpG();return t.Njj(Y.onHoursChange(de))}),t.j41(4,"option",12),t.EFF(5,"HH"),t.k0s(),t.DNE(6,a,3,5,"option",13),t.k0s()(),t.j41(7,"span",14),t.EFF(8,":"),t.k0s(),t.j41(9,"label",9),t.EFF(10,"Minutes"),t.k0s(),t.j41(11,"div",10)(12,"select",11),t.bIt("ngModelChange",function(de){t.eBV(z);const Y=t.XpG();return t.Njj(Y.onMinutesChange(de))}),t.j41(13,"option",12),t.EFF(14,"MM"),t.k0s(),t.DNE(15,k,3,5,"option",13),t.k0s()()}if(2&H){const z=t.XpG();t.Y8G("for",z.id+"-time-hours"),t.R7$(3),t.Y8G("id",z.id+"-time-hours")("ngModel",z.hours),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",z.counter(23)),t.R7$(3),t.Y8G("for",z.id+"-time-minutes"),t.R7$(3),t.Y8G("id",z.id+"-time-minutes")("ngModel",z.minutes),t.R7$(),t.Y8G("value",void 0),t.R7$(2),t.Y8G("ngForOf",z.counter(59))}}function P(H,G){if(1&H){const z=t.RV6();t.j41(0,"input",16),t.bIt("ngModelChange",function(de){t.eBV(z);const Y=t.XpG();return t.Njj(Y.onDateChange(de))})("keyup",function(de){t.eBV(z);const Y=t.XpG();return t.Njj(Y.onKeyUp(de))}),t.k0s()}if(2&H){const z=t.XpG();t.Y8G("id",z.id+"-date")("ngModel",z.stringDate),t.BMQ("required",z.required?"":null)("min",z.minDate)("max",z.maxDate)}}var W=function(H){return H.Date="date",H.Time="time",H.DateTime="datetime",H}(W||{});let N=(()=>{class H{constructor(){this.id=(0,S.Nl)(),this.displayType=W.DateTime,this.required=!1,this.disabled=!1,this.keyup=new t.bkB,this.onChange=z=>{},this.onTouched=()=>{}}set value(z){this.setDate(z)}set min(z){this.minDate=this.toMinMaxDateString(z)}set max(z){this.maxDate=this.toMinMaxDateString(z)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue(z){this.setDate(z)}registerOnChange(z){this.onChange=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.disabled=z}get opacity(){return this.disabled?.25:1}validate(z){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp(z){this.keyup.emit(z)}onHoursChange(z){this.date=this.date?this.date.set({hour:z}):p.c9.now().set({hour:z}),this.onChange(this.date.toString())}onMinutesChange(z){this.date=this.date?this.date.set({minute:z}):p.c9.now().set({minute:z}),this.onChange(this.date.toString())}onDateChange(z){this.stringDate=z;let ce=p.c9.fromFormat(z,"yyyy-MM-dd");ce.isValid&&(this.date=this.date?this.date.set({year:ce.year,month:ce.month,day:ce.day}):ce,this.onChange(this.date.toString()))}counter(z){return new Array(z+1)}setDate(z){if(z){if(z instanceof p.c9&&(this.date=z),"string"==typeof z){const ce=p.c9.fromISO(z);this.date=ce.isValid?ce:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString(z){let ce;return ce=z instanceof p.c9?z:p.c9.fromISO(z.toString()),ce.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(ce){return new(ce||H)}}static{this.\u0275cmp=t.VBU({type:H,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(ce,de){2&ce&&t.xc7("opacity",de.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[t.Jv_([{provide:e.kq,useExisting:(0,t.Rfq)(()=>H),multi:!0},{provide:e.cz,useExisting:(0,t.Rfq)(()=>H),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(ce,de){1&ce&&(t.j41(0,"div"),t.DNE(1,g,2,1,"div",2)(2,v,5,2,"div",3)(3,U,2,1,"div",3)(4,O,16,10,"ng-template",null,0,t.C5r)(6,P,1,5,"ng-template",null,1,t.C5r),t.k0s()),2&ce&&(t.R7$(),t.Y8G("ngIf","time"==de.displayType),t.R7$(),t.Y8G("ngIf","datetime"==de.displayType),t.R7$(),t.Y8G("ngIf","date"==de.displayType))},dependencies:[C.Sq,C.bT,C.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,C.QX],encapsulation:2})}}return H})()},6599:(nt,ye,d)=>{"use strict";d.d(ye,{Y:()=>w});var t=d(177),e=d(1683),p=d(1780),S=d(9417),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[t.MD,S.YN,e.Y,p.h]})}}return g})()},3860:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>S});var t=d(9417),e=d(7263),p=d(4438);let S=(()=>{class C{validate(g){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(g):null}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275dir=p.FsC({type:C,selectors:[["","appClaimRegex",""]],inputs:{regex:[p.Mj6.None,"appClaimRegex","regex"]},features:[p.Jv_([{provide:t.cz,useExisting:C,multi:!0}])]})}}return C})()},5663:(nt,ye,d)=>{"use strict";d.d(ye,{Q:()=>w});var t=d(5794),e=d(1583),p=d(1780),S=d(4438),C=d(7005);let w=(()=>{class g{constructor(E){this.injector=E}handleError(E){if((0,S.naY)())console.log(E);else{const v=this.injector.get(e.Ix),B=this.injector.get(t.tw),U=this.injector.get(p.c$),a=this.injector.get(C.QG);B.info(U.instant("Notifications.Support")),B.info(U.instant("Notifications.Apology"),U.instant("Notifications.Sorry"));const k=a.translateRoute("/home");v.navigateByUrl(k)}}static{this.\u0275fac=function(v){return new(v||g)(S.KVO(S.zZn))}}static{this.\u0275prov=S.jDH({token:g,factory:g.\u0275fac})}}return g})()},7811:(nt,ye,d)=>{"use strict";d.d(ye,{j:()=>G});var t=d(4438),e=d(1413),p=d(1985),S=d(5558),C=d(6354),w=d(7673),g=d(1584),h=d(526),E=d(9417),v=d(8400),B=d(177),U=d(1780);function a(z,ce){if(1&z&&(t.j41(0,"option",11),t.EFF(1),t.k0s()),2&z){const de=ce.$implicit;t.Y8G("value",de),t.R7$(),t.JRh(de)}}function k(z,ce){if(1&z){const de=t.RV6();t.j41(0,"select",9,1),t.bIt("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.Njj(ne.valueChanged.emit(Z))})("keyup",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.keyupEvent.emit())}),t.DNE(2,a,2,2,"option",10),t.k0s()}if(2&z){const de=t.sdS(1),Y=t.XpG();t.Y8G("id",Y.forId)("ngModel",Y.value)("disabled",Y.disabled&&!de.dirty),t.R7$(2),t.Y8G("ngForOf",Y.allowedValues)}}function O(z,ce){if(1&z){const de=t.RV6();t.j41(0,"input",12,1),t.nI1(2,"translate"),t.bIt("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.Njj(ne.valueChanged.emit(Z))})("focus",function(Z){t.eBV(de);const ne=t.XpG();return t.Njj(ne.onFocus(Z))}),t.k0s()}if(2&z){const de=t.sdS(1),Y=t.XpG(),Z=t.sdS(5);t.FS9("placeholder",t.bMT(2,9,"ClaimTypes.TypeaheadHelp")),t.Y8G("id",Y.forId)("container",Y.hostingModal)("ngModel",Y.value)("typeahead",Y.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",Z)("disabled",Y.disabled&&!de.dirty)}}function P(z,ce){if(1&z&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"slice"),t.k0s()),2&z){const de=ce.item;t.R7$(),t.JRh(de.length>20?t.brH(2,1,de,0,20)+"...":de)}}function W(z,ce){1&z&&(t.j41(0,"div",13),t.nrm(1,"span",14),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.LoadingPleaseWait")))}function N(z,ce){1&z&&(t.j41(0,"div",15),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z&&(t.R7$(3),t.JRh(t.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function H(z,ce){if(1&z&&(t.j41(0,"div",17),t.nrm(1,"span",16),t.j41(2,"span"),t.EFF(3),t.nI1(4,"translate"),t.k0s()()),2&z){const de=t.XpG();t.R7$(3),t.Lme("",t.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",de.totalValues,")")}}let G=(()=>{class z{set hostingModal(de){this._hostingModal=de}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(de){this._typeId=de,this.typeIdSub.next(de)}get typeId(){return this._typeId}constructor(de){this.claimTypesService=de,this.valueChanged=new t.bkB,this.disabled=!1,this.keyupEvent=new t.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(Y=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(Z=>{this.totalValues=Z.totalAllowedValues,this.allowedValues=Z.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new p.c(de=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,de.next(this.value)}).pipe((0,S.n)(de=>de?this.claimTypesService.getAllowedValues(this.typeId,de,this.threshold).pipe((0,C.T)(Y=>(this.totalValues=Y.totalAllowedValues,this.allowedValues=Y.allowedValues,this.loading=!1,this.nothingFound=Y.totalAllowedValues<=0,this.tooManyResults=Y.totalAllowedValues>=this.threshold,Y.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,w.of)([]))))}onFocus(de){de.stopPropagation(),(0,g.O)(1).subscribe(()=>{const Y=new Event("input");de.target?.dispatchEvent(Y)})}static{this.\u0275fac=function(Y){return new(Y||z)(t.rXU(h.X))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[t.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(Y,Z){1&Y&&(t.j41(0,"div",2),t.DNE(1,k,3,4,"select",3),t.k0s(),t.j41(2,"div",4),t.DNE(3,O,3,11,"input",5),t.k0s(),t.DNE(4,P,3,5,"ng-template",null,0,t.C5r)(6,W,5,3,"div",6)(7,N,5,3,"div",7)(8,H,5,4,"div",8)),2&Y&&(t.R7$(),t.Y8G("ngIf",!Z.typeahead),t.R7$(2),t.Y8G("ngIf",Z.typeahead),t.R7$(3),t.Y8G("ngIf",Z.typeahead&&Z.loading),t.R7$(),t.Y8G("ngIf",Z.typeahead&&Z.nothingFound),t.R7$(),t.Y8G("ngIf",Z.typeahead&&Z.tooManyResults))},dependencies:[E.xH,E.y7,E.me,E.wz,E.BC,E.YS,E.vS,v.Xi,B.Sq,B.bT,B.P9,U.D9],encapsulation:2})}}return z})()},8389:(nt,ye,d)=>{"use strict";d.d(ye,{w:()=>g});var t=d(177),e=d(1780),p=d(9417),S=d(6599),C=d(8400),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({imports:[p.YN,p.X1,C.qP,t.MD,e.h,S.Y]})}}return h})()},4701:(nt,ye,d)=>{"use strict";d.d(ye,{u:()=>G});var t=d(6536),e=d(7263),p=d(4438),S=d(9417),C=d(177),w=d(8698),g=d(9550),h=d(3860),E=d(7811);const v=["claimsForm"];function B(z,ce){if(1&z){const de=p.RV6();p.j41(0,"input",11,1),p.bIt("keyup",function(){p.eBV(de);const Z=p.XpG().$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))}),p.mxI("ngModelChange",function(Z){p.eBV(de);const ne=p.XpG().$implicit;return p.DH7(ne.value,Z)||(ne.value=Z),p.Njj(Z)}),p.k0s()}if(2&z){const de=p.sdS(1),Y=p.XpG(),Z=Y.$implicit,ne=Y.index,I=p.XpG();p.Mz_("id","claim-",ne,""),p.Y8G("name",Z.type),p.R50("ngModel",Z.value),p.Y8G("appClaimRegex",Z.regex)("disabled",I.notAllowedToEditClaim(Z)&&!de.dirty)}}function U(z,ce){if(1&z){const de=p.RV6();p.j41(0,"input",12,1),p.bIt("keyup",function(){p.eBV(de);const Z=p.XpG().$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))}),p.mxI("ngModelChange",function(Z){p.eBV(de);const ne=p.XpG().$implicit;return p.DH7(ne.value,Z)||(ne.value=Z),p.Njj(Z)}),p.k0s()}if(2&z){const de=p.sdS(1),Y=p.XpG(),Z=Y.$implicit,ne=Y.index,I=p.XpG();p.Mz_("id","claim-",ne,""),p.Y8G("name",Z.type),p.R50("ngModel",Z.value),p.Y8G("disabled",I.notAllowedToEditClaim(Z)&&!de.dirty)}}function a(z,ce){if(1&z){const de=p.RV6();p.j41(0,"app-form-toggle",13)(1,"input",14),p.bIt("keyup",function(){p.eBV(de);const Z=p.XpG().$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))})("ngModelChange",function(Z){p.eBV(de);const ne=p.XpG().$implicit;return p.Njj(ne.value=Z?"true":"false")}),p.k0s()()}if(2&z){const de=p.XpG(),Y=de.$implicit,Z=de.index,ne=p.XpG();p.Y8G("id","claim-"+Z)("isTraffic",!0)("isAlt",!1),p.R7$(),p.Y8G("id","claim-"+Z)("name",Y.type)("disabled",ne.notAllowedToEditClaim(Y)&&!ne.claimvalue.dirty)("ngModel","true"==Y.value)}}function k(z,ce){if(1&z){const de=p.RV6();p.qex(0),p.j41(1,"app-date-time",17,1),p.mxI("ngModelChange",function(Z){p.eBV(de);const ne=p.XpG(2).$implicit;return p.DH7(ne.value,Z)||(ne.value=Z),p.Njj(Z)}),p.bIt("keyup",function(){p.eBV(de);const Z=p.XpG(2).$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))})("change",function(){p.eBV(de);const Z=p.XpG(3);return p.Njj(Z.makeFormDirty())}),p.k0s(),p.bVm()}if(2&z){const de=p.sdS(2),Y=p.XpG(2),Z=Y.$implicit,ne=Y.index,I=p.XpG();p.R7$(),p.Mz_("id","claim-",ne,""),p.Y8G("name",Z.type),p.R50("ngModel",Z.value),p.Y8G("disabled",I.notAllowedToEditClaim(Z)&&!de.dirty)}}function O(z,ce){if(1&z){const de=p.RV6();p.qex(0),p.j41(1,"app-date-time",18,1),p.mxI("ngModelChange",function(Z){p.eBV(de);const ne=p.XpG(2).$implicit;return p.DH7(ne.value,Z)||(ne.value=Z),p.Njj(Z)}),p.bIt("keyup",function(){p.eBV(de);const Z=p.XpG(2).$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))})("change",function(){p.eBV(de);const Z=p.XpG(3);return p.Njj(Z.makeFormDirty())}),p.k0s(),p.bVm()}if(2&z){const de=p.sdS(2),Y=p.XpG(2),Z=Y.$implicit,ne=Y.index,I=p.XpG();p.R7$(),p.Mz_("id","claim-",ne,""),p.Y8G("name",Z.type)("displayType",I.dateTimeDisplayType.Date),p.R50("ngModel",Z.value),p.Y8G("disabled",I.notAllowedToEditClaim(Z)&&!de.dirty)}}function P(z,ce){if(1&z&&(p.j41(0,"div",15),p.DNE(1,k,3,5,"ng-container",16)(2,O,3,6,"ng-container",16),p.k0s()),2&z){const de=p.XpG().$implicit;p.R7$(),p.Y8G("ngIf","birthdate"!=de.type),p.R7$(),p.Y8G("ngIf","birthdate"==de.type)}}function W(z,ce){if(1&z){const de=p.RV6();p.j41(0,"div",19)(1,"app-enum-claim-type-input",20),p.bIt("valueChanged",function(Z){p.eBV(de);const ne=p.XpG().$implicit,I=p.XpG();return ne.value=Z,p.Njj(I.makeFormDirty())})("keyupEvent",function(){p.eBV(de);const Z=p.XpG().$implicit,ne=p.XpG();return p.Njj(ne.checkForPolicyClaimForm(Z.type,Z))}),p.k0s()()}if(2&z){const de=p.XpG(),Y=de.$implicit,Z=de.index,ne=p.XpG();p.R7$(),p.Y8G("id","claim-"+Z)("typeId",ne.getClaimType(Y).id)("value",Y.value)("disabled",ne.notAllowedToEditClaim(Y))}}function N(z,ce){if(1&z&&(p.j41(0,"span",21),p.EFF(1),p.k0s()),2&z){const de=p.XpG().$implicit;p.R7$(),p.JRh(de.failureMessage)}}function H(z,ce){if(1&z&&(p.j41(0,"app-form-row",4),p.DNE(1,B,2,6,"input",5)(2,U,2,5,"input",6)(3,a,2,7,"app-form-toggle",7)(4,P,3,2,"div",8)(5,W,2,4,"div",9)(6,N,2,1,"span",10),p.k0s()),2&z){const de=ce.$implicit,Y=ce.index,Z=p.XpG();p.Y8G("id","claim-"+Y)("label",Z.getLabel(de))("help",Z.getHelpTextString(de)),p.R7$(),p.Y8G("ngIf","String"==de.format),p.R7$(),p.Y8G("ngIf","Int"==de.format),p.R7$(),p.Y8G("ngIf","Boolean"==de.format),p.R7$(),p.Y8G("ngIf","DateTime"==de.format),p.R7$(),p.Y8G("ngIf","Enum"==de.format),p.R7$(),p.Y8G("ngIf",Z.claimDirtyAndInvalid(de.type))}}let G=(()=>{class z{constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=t.e}ngOnChanges(){for(const de of this.claimTypes??[])if(de.required){let Y="Boolean"===de.valueType?"false":null,Z=this.claims?.filter(I=>I.type===de.name)??[];Z.length>0&&!(0,e.hX)(Z[0].value)&&(Y=Z[0].value);const ne={typeId:de.id,format:de.valueType,value:Y,type:de.name,displayName:de.displayName,editing:!1,required:de.required};de.rule&&(ne.regex=de.rule,ne.failureMessage=de.ruleValidationFailureDescription),this.requiredClaims.push(ne)}}getHelpTextString(de){return this.isPolicyClaim(de)?"DateTime"==de.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==de.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(de,Y){this.notAllowedToEditClaim(Y)&&this.claimsForm.form.controls[de].setErrors({incorrect:!0})}isClaimInValid(de){return this.claimsForm.form.get(de)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(de){let Y=this.claimsForm.form.get(de)??{invalid:!1,dirty:!1};return Y.invalid&&Y.dirty}resetForm(){this.claimsForm.reset()}getClaimType(de){return this.claimTypes.find(Y=>Y.name===de.type)}getLabel(de){return(0,e.gP)(de.displayName)?de.type:de.displayName}static{this.\u0275fac=function(Y){return new(Y||z)}}static{this.\u0275cmp=p.VBU({type:z,selectors:[["app-required-claims-form"]],viewQuery:function(Y,Z){if(1&Y&&p.GBs(v,7),2&Y){let ne;p.mGM(ne=p.lsd())&&(Z.claimsForm=ne.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[p.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(Y,Z){1&Y&&(p.j41(0,"form",2,0),p.DNE(2,H,7,9,"app-form-row",3),p.k0s()),2&Y&&(p.R7$(2),p.Y8G("ngForOf",Z.requiredClaims))},dependencies:[S.qT,S.me,S.Q0,S.Zm,S.BC,S.cb,S.YS,S.vS,S.cV,C.Sq,C.bT,t.Z,w.Y,g.m,h.$,E.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return z})()},803:(nt,ye,d)=>{"use strict";d.d(ye,{f:()=>S});var t=d(4438);const e=[[["","left",""]],[["","right",""]]],p=["[left]","[right]"];let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275cmp=t.VBU({type:C,selectors:[["app-row-bar"]],ngContentSelectors:p,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(h,E){1&h&&(t.NAR(e),t.j41(0,"div",0),t.SdG(1),t.j41(2,"div",1),t.SdG(3,1),t.k0s()())},encapsulation:2})}}return C})()},8698:(nt,ye,d)=>{"use strict";d.d(ye,{Y:()=>v});var t=d(4438),e=d(177),p=d(1780);const S=["*"],C=B=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":B});function w(B,U){if(1&B&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&B){const a=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,a.helpText),t.npT)}}function g(B,U){if(1&B&&(t.j41(0,"label",4)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,w,2,3,"span",6),t.k0s()),2&B){const a=t.XpG();t.Y8G("for",a.idFor),t.R7$(2),t.JRh(t.bMT(3,3,a.labelText)),t.R7$(2),t.Y8G("ngIf",a.showHelpText)}}function h(B,U){if(1&B&&(t.nrm(0,"span",7),t.nI1(1,"translate")),2&B){const a=t.XpG(2);t.Y8G("innerHtml",t.bMT(1,1,a.helpText),t.npT)}}function E(B,U){if(1&B&&(t.j41(0,"p",8)(1,"span",5),t.EFF(2),t.nI1(3,"translate"),t.k0s(),t.DNE(4,h,2,3,"span",6),t.k0s()),2&B){const a=t.XpG();t.R7$(2),t.JRh(t.bMT(3,2,a.labelText)),t.R7$(2),t.Y8G("ngIf",a.showHelpText)}}let v=(()=>{class B{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(k){return new(k||B)}}static{this.\u0275cmp=t.VBU({type:B,selectors:[["app-form-row"]],inputs:{idFor:[t.Mj6.None,"id","idFor"],labelText:[t.Mj6.None,"label","labelText"],helpText:[t.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:S,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(k,O){1&k&&(t.NAR(),t.j41(0,"div",0),t.DNE(1,g,5,5,"label",1)(2,E,5,4,"p",2),t.j41(3,"div",3),t.SdG(4),t.k0s()()),2&k&&(t.Y8G("ngClass",t.eq3(3,C,O.isLast)),t.R7$(),t.Y8G("ngIf",O.idFor&&O.hasLabel),t.R7$(),t.Y8G("ngIf",!O.idFor&&O.hasLabel))},dependencies:[e.YU,e.bT,p.D9],encapsulation:2})}}return B})()},9550:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>w});var t=d(4438),e=d(177);const p=["*"],S=(g,h)=>({"tw-form-switch__slider--traffic":g,"tw-form-switch__slider--alt":h}),C=(g,h)=>({"tw-form-switch__state--traffic":g,"tw-form-switch__state--alt":h});let w=(()=>{class g{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-form-toggle"]],inputs:{idFor:[t.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:p,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(v,B){1&v&&(t.NAR(),t.j41(0,"label",0),t.SdG(1),t.j41(2,"span",1),t.nrm(3,"span",2),t.k0s()()),2&v&&(t.Y8G("for",B.idFor),t.R7$(2),t.Y8G("ngClass",t.l_i(3,S,B.isTraffic,B.isAlt)),t.R7$(),t.Y8G("ngClass",t.l_i(6,C,B.isTraffic,B.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return g})()},7263:(nt,ye,d)=>{"use strict";d.d(ye,{$N:()=>H,$_:()=>ce,AB:()=>P,KU:()=>C,Li:()=>z,Nj:()=>p,Nl:()=>O,TO:()=>N,X4:()=>I,Yt:()=>a,Zt:()=>W,_U:()=>U,ci:()=>de,gP:()=>h,hX:()=>w,hr:()=>S,jk:()=>Y,kI:()=>E,lK:()=>pe,uf:()=>B,zG:()=>Z});var t=d(3178),e=d(4549);function p(K,he=" "){return w(K)?"":K.join(he)}function S(K,he=" "){return h(K)?[]:K.split(he)}function C(K,he){return`${e.c9.fromISO(K).toFormat(he)} UTC`}function w(K){return null==K}function h(K){return null==K||"string"!=typeof K||""===K||null!==K.match(/^ *$/)}function E(K){const he=document.createElement("a");return he.href=K,he.protocol+"//"+decodeURIComponent(he.host)}function B(K){const Oe=new RegExp("(^https?://|urn:|tcp://)").exec(K);if(Oe){if("urn:"===Oe[0])return!1}else K="http://"+K;const Ae=K.split("/");return K.endsWith("/")?Ae.length>4:Ae.length>3}function U(K){const Oe=new RegExp("https?://|urn:|tcp://").exec(K);return Oe?Oe[0]:null}function a(K,he){const Oe=JSON.parse(JSON.stringify(K));return he.forEach(Ae=>{let Fe=Oe.length;for(;Fe--;)Oe[Fe].name===Ae.name&&Oe.splice(Fe,1)}),Oe}function O(){let K=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(K+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(he){const Oe=(K+16*Math.random())%16|0;return K=Math.floor(K/16),("x"===he?Oe:3&Oe|8).toString(16)})}function P(K){return he=>K.test(he.value)?null:{regex:{value:he.value}}}function W(){return K=>0===(K.value||"").trim().length?{whitespace:{value:K.value}}:null}function N(K){const he=e.c9.now();return e.c9.fromISO(K.value).diff(he).milliseconds>1?{dateInFuture:!0}:null}function H(K){const he=e.c9.fromISO(K.get("fromDate").value);return e.c9.fromISO(K.get("toDate").value).diff(he,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function z(K){if(K&&K.size>0){const he={};return K.forEach((Oe,Ae)=>{he[Ae]=Oe}),he}return{}}function ce(){const K=document.getElementsByTagName("base")[0].attributes.href.value;return h(K)?"/":K.endsWith("/")?K:`${K}/`}function de(K){return!(!K||0===K.length)&&(K.includes(t.a.IdentityServerManagerReadOnly)||K.includes(t.a.AllReadOnly))&&!(K.includes(t.a.IdentityServerManager)||K.includes(t.a.All))}function Y(K){return!(!K||0===K.length)&&(K.includes(t.a.IdentityServerManager)||K.includes(t.a.All))}function Z(K){return!(!K||0===K.length)&&(K.includes(t.a.UserManagerReadOnly)||K.includes(t.a.AllReadOnly))&&!(K.includes(t.a.UserManager)||K.includes(t.a.All))}function I(K){return!(!K||0===K.length)&&K.includes(t.a.All)}function pe(K){return!(!K||0===K.length)&&K.includes(t.a.AllReadOnly)&&!K.includes(t.a.All)}},1560:(nt,ye,d)=>{"use strict";d.d(ye,{T:()=>de});var t=d(4438),e=d(9417),p=d(4866),S=d(3806),C=d(1088),w=d(7263),g=d(177),h=d(1780);const E=(Y,Z)=>({"tw-btn active":Y,"tw-btn-link":Z});function v(Y,Z){if(1&Y&&(t.j41(0,"div"),t.nrm(1,"input",7),t.k0s()),2&Y){const ne=t.XpG();t.R7$(),t.FS9("id",ne.id+"-input"),t.Y8G("ngModel",ne.value)}}function B(Y,Z){if(1&Y){const ne=t.RV6();t.j41(0,"div")(1,"input",8),t.bIt("keydown",function(pe){t.eBV(ne);const K=t.XpG();return t.Njj(K.onKeyDown(pe))})("paste",function(pe){t.eBV(ne);const K=t.XpG();return t.Njj(K.onPaste(pe))})("ngModelChange",function(pe){t.eBV(ne);const K=t.XpG();return t.Njj(K.onValueChange(pe))}),t.k0s()()}if(2&Y){const ne=t.XpG();t.R7$(),t.FS9("id",ne.id+"-input"),t.Y8G("ngModel",ne.value)("disabled",ne.disabled)}}function U(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.years," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.years,"Year"))," ")}}function a(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.months," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.months,"Month"))," ")}}function k(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.weeks," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.weeks,"Week"))," ")}}function O(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.days," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.days,"Day"))," ")}}function P(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.hours," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.hours,"Hour"))," ")}}function W(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.minutes," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.minutes,"Minute"))," ")}}function N(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.Lme(" ",ne.timeSpan.seconds," ",t.bMT(2,2,ne.displayTimeSpanUnit(ne.timeSpan.seconds,"Second"))," ")}}function H(Y,Z){if(1&Y&&(t.j41(0,"span",13),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&Y){const ne=t.XpG(2);t.R7$(),t.SpI(" ",t.bMT(2,1,"Clients.Tokens.Durations."+ne.tryGetNullMeaning())," ")}}function G(Y,Z){if(1&Y&&(t.j41(0,"p",9),t.nrm(1,"span",10),t.nI1(2,"translate"),t.j41(3,"span",11),t.DNE(4,U,3,4,"span",12)(5,a,3,4,"span",12)(6,k,3,4,"span",12)(7,O,3,4,"span",12)(8,P,3,4,"span",12)(9,W,3,4,"span",12)(10,N,3,4,"span",12)(11,H,3,3,"span",12),t.k0s()()),2&Y){const ne=t.XpG();t.FS9("id",ne.id+"-longTimeLabel"),t.R7$(),t.BMQ("aria-label",t.bMT(2,10,"Clients.Tokens.DurationTitle")),t.R7$(3),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.years)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.months)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.weeks)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.days)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.hours)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.minutes)>0),t.R7$(),t.Y8G("ngIf",(null==ne.timeSpan?null:ne.timeSpan.seconds)>0),t.R7$(),t.Y8G("ngIf",ne.showNullTimeSpan())}}function z(Y,Z){if(1&Y&&(t.j41(0,"span",16),t.EFF(1),t.k0s()),2&Y){const ne=t.XpG().$implicit;t.R7$(),t.JRh(ne.duration)}}function ce(Y,Z){if(1&Y){const ne=t.RV6();t.j41(0,"li")(1,"button",14),t.bIt("click",function(){const pe=t.eBV(ne).$implicit,K=t.XpG();return t.Njj(K.setInput(pe))}),t.DNE(2,z,2,1,"span",15),t.j41(3,"span"),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()}if(2&Y){const ne=Z.$implicit,I=t.XpG();t.R7$(),t.Y8G("ngClass",t.l_i(6,E,I.checkSelected(ne),!I.checkSelected(ne)))("disabled",I.disabled),t.R7$(),t.Y8G("ngIf",ne.duration),t.R7$(2),t.JRh(t.bMT(5,4,"Clients.Tokens.Durations."+ne.unit+"Short"))}}let de=(()=>{class Y{constructor(){this.id=(0,w.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=p.A.getUnitMap(),this.LifetimeUnit=S.u,this.onChange=ne=>{},this.onTouched=()=>{}}set value(ne){this.setValue(ne,!1)}get value(){return this._value}setValue(ne,I=!0){null!=ne&&!Number.isInteger(ne)||(this._value=ne,null==ne?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(ne):this.timeSpan=new C.Q(ne),I&&this.onChange(ne))}onValueChange(ne){this.setValue(ne)}onKeyDown(ne){return 69!==ne.keyCode&&189!==ne.keyCode&&190!==ne.keyCode}onPaste(ne){const pe=ne.clipboardData?.getData("text"),K=Number(pe);Number.isInteger(K)&&(K>0||null==K&&this.allowNull)||ne.preventDefault()}writeValue(ne){this.setValue(ne,!1)}registerOnChange(ne){this.onChange=ne}registerOnTouched(ne){this.onTouched=ne}setDisabledState(ne){this.disabled=ne}validate(ne){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(ne,I){return null==ne||null==I?null:ne*I}setInput(ne){const I=this.nullAwareMultiply(ne.duration,this.unitMap.get(ne.unit));this.setValue(I)}checkSelected(ne){return this.value===this.nullAwareMultiply(ne.duration,this.unitMap.get(ne.unit))}displayTimeSpanUnit(ne,I){return"Clients.Tokens.Durations."+I+(ne>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(I=>null===I.duration)?.unit??"NotSet"}static{this.\u0275fac=function(I){return new(I||Y)}}static{this.\u0275cmp=t.VBU({type:Y,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[t.Jv_([{provide:e.kq,useExisting:(0,t.Rfq)(()=>Y),multi:!0},{provide:e.cz,useExisting:(0,t.Rfq)(()=>Y),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(I,pe){1&I&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,v,2,2,"div",2)(3,B,2,3,"div",2)(4,G,12,12,"p",3),t.k0s(),t.j41(5,"div",4)(6,"ul",5),t.DNE(7,ce,6,9,"li",6),t.k0s()()()),2&I&&(t.R7$(2),t.Y8G("ngIf",pe.disabled),t.R7$(),t.Y8G("ngIf",!pe.disabled),t.R7$(),t.Y8G("ngIf",pe.value>0||null==pe.value&&pe.allowNull),t.R7$(2),t.FS9("id",pe.id+"-buttonList"),t.R7$(),t.Y8G("ngForOf",pe.buttons))},dependencies:[g.YU,g.Sq,g.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,h.D9],encapsulation:2})}}return Y})()},967:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>w});var t=d(177),e=d(7005),p=d(9417),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[t.MD,p.YN,p.X1,e.XE,S.h]})}}return g})()},8114:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>E});var t=d(4438),e=d(177),p=d(9216),S=d(1780);const C=["confirmModal"],w=[[["","body",""]]],g=["[body]"];function h(v,B){1&v&&t.nrm(0,"span",9)}let E=(()=>{class v{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new t.bkB,this.close=new t.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(a){return new(a||v)}}static{this.\u0275cmp=t.VBU({type:v,selectors:[["app-confirmation-modal"]],viewQuery:function(a,k){if(1&a&&t.GBs(C,7),2&a){let O;t.mGM(O=t.lsd())&&(k.confirmModal=O.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:g,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(a,k){if(1&a){const O=t.RV6();t.NAR(w),t.j41(0,"app-simple-modal",1,0),t.bIt("close",function(){return t.eBV(O),t.Njj(k.close.emit())}),t.qex(2,2),t.SdG(3),t.bVm(),t.qex(4,3),t.j41(5,"div",4)(6,"div",5)(7,"button",6),t.bIt("click",function(){return t.eBV(O),t.Njj(k.ok())}),t.EFF(8),t.nI1(9,"translate"),t.DNE(10,h,1,0,"span",7),t.k0s()(),t.j41(11,"button",8),t.bIt("click",function(){return t.eBV(O),t.Njj(k.closeModal())}),t.EFF(12),t.nI1(13,"translate"),t.k0s()(),t.bVm(),t.k0s()}2&a&&(t.Y8G("modalId",k.modalId)("title",k.title)("type",k.type),t.R7$(7),t.ZvI("tw-btn",k.buttonType?"-"+k.buttonType:"",""),t.Y8G("id",k.modalId+"-confirmBtn")("disabled",k.inFlight),t.R7$(),t.SpI(" ",t.bMT(9,12,k.okText)," "),t.R7$(2),t.Y8G("ngIf",k.inFlight),t.R7$(),t.Y8G("id",k.modalId+"-cancelBtn"),t.R7$(),t.JRh(t.bMT(13,14,k.cancelText)))},dependencies:[e.bT,p.R,S.D9],encapsulation:2})}}return v})()},7778:(nt,ye,d)=>{"use strict";d.d(ye,{w:()=>B});var t=d(4438),e=d(177),p=d(8114),S=d(1780);const C=["deleteClientModal"];function w(U,a){1&U&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&U&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function g(U,a){if(1&U&&(t.j41(0,"p",6),t.EFF(1),t.nI1(2,"translate"),t.j41(3,"strong"),t.EFF(4),t.k0s(),t.EFF(5,"?"),t.k0s()),2&U){const k=t.XpG();t.R7$(),t.SpI("",t.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),t.R7$(3),t.JRh(k.resourceName)}}function h(U,a){1&U&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&U&&t.Y8G("innerHTML",t.bMT(1,1,"Common.Delete.Warning"),t.npT)}function E(U,a){if(1&U&&(t.nrm(0,"p",7),t.nI1(1,"translate")),2&U){const k=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,k.danger),t.npT)}}function v(U,a){if(1&U&&(t.nrm(0,"p",8),t.nI1(1,"translate")),2&U){const k=t.XpG();t.Y8G("innerHTML",t.bMT(1,1,k.warning),t.npT)}}let B=(()=>{class U{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new t.bkB,this.close=new t.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(O){return new(O||U)}}static{this.\u0275cmp=t.VBU({type:U,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(O,P){if(1&O&&t.GBs(C,7),2&O){let W;t.mGM(W=t.lsd())&&(P.deleteModal=W.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(O,P){if(1&O){const W=t.RV6();t.j41(0,"app-confirmation-modal",1,0),t.bIt("confirm",function(){return t.eBV(W),t.Njj(P.delete.emit())}),t.qex(2,2),t.DNE(3,w,3,3,"p",3)(4,g,6,4,"p",3)(5,h,2,3,"p",4)(6,E,2,3,"p",4)(7,v,2,3,"p",5),t.bVm(),t.k0s()}2&O&&(t.Y8G("modalId",P.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),t.R7$(3),t.Y8G("ngIf",!P.resourceName),t.R7$(),t.Y8G("ngIf",P.resourceName),t.R7$(),t.Y8G("ngIf",P.destructive&&null===P.warning&&null===P.danger),t.R7$(),t.Y8G("ngIf",P.destructive&&P.danger),t.R7$(),t.Y8G("ngIf",P.destructive&&P.warning))},dependencies:[e.bT,p.B,S.D9],encapsulation:2})}}return U})()},4367:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>g});var t=d(177),e=d(1780),p=d(779),S=d(1993),C=d(4193),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({imports:[t.MD,e.h,S.E,C.c,e.h,p.Q_]})}}return h})()},3899:(nt,ye,d)=>{"use strict";d.d(ye,{G:()=>Y});var t=d(4438),e=d(177),p=d(1413),S=d(3726),C=d(6977),w=d(6354),g=d(9172),h=d(5964),E=d(3993);const v=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var a=d(1258),k=d(7185),O=d(4754),P=d(1780);const W=["*"];function N(Z,ne){if(1&Z){const I=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){t.eBV(I);const K=t.XpG();return t.Njj(K.cancel())}),t.nrm(1,"span",17),t.j41(2,"span",18),t.EFF(3),t.nI1(4,"translate"),t.k0s()()}2&Z&&(t.R7$(3),t.JRh(t.bMT(4,1,"Common.Close")))}function H(Z,ne){if(1&Z){const I=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){t.eBV(I);const K=t.XpG();return t.Njj(K.save())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&Z){const I=t.XpG();t.Y8G("disabled",I.addDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,I.saveText)," ")}}function G(Z,ne){if(1&Z){const I=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){t.eBV(I);const K=t.XpG();return t.Njj(K.delete())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}if(2&Z){const I=t.XpG();t.Y8G("disabled",I.deleteDisabled),t.R7$(),t.SpI(" ",t.bMT(2,2,I.deleteText)," ")}}function z(Z,ne){if(1&Z){const I=t.RV6();t.j41(0,"div",21)(1,"button",22),t.bIt("click",function(){t.eBV(I);const K=t.XpG();return t.Njj(K.saveAndReAdd())}),t.EFF(2),t.nI1(3,"translate"),t.k0s()()}if(2&Z){const I=t.XpG();t.R7$(),t.Y8G("disabled",I.addDisabled),t.R7$(),t.SpI(" ",t.bMT(3,2,I.saveAndReAddText)," ")}}function ce(Z,ne){if(1&Z){const I=t.RV6();t.j41(0,"button",23),t.bIt("click",function(){t.eBV(I);const K=t.XpG();return t.Njj(K.cancel())}),t.EFF(1),t.nI1(2,"translate"),t.k0s()}2&Z&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Cancel")," "))}function de(Z,ne){1&Z&&t.nrm(0,"div",24)}let Y=(()=>{class Z{constructor(I,pe,K){this.document=I,this.elRef=pe,this.modalService=K,this.hideCancel=!1,this.modalType=k.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new t.bkB,this.onSaveAndReAdd=new t.bkB,this.onDelete=new t.bkB,this.onCancel=new t.bkB,this.isVisible=!1,this.isVisible$=new p.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(a.N.Delete),this.canSave=this.actions.includes(a.N.Save),this.canSaveAndReAdd=this.actions.includes(a.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function B(Z,ne){const I=function U(Z){const ne=Array.from(Z.querySelectorAll(v)).filter(I=>-1!==I.tabIndex);return[ne[0],ne[ne.length-1]]}(Z),[pe,K]=I,he=(0,S.R)(Z,"focusin").pipe((0,C.Q)(ne),(0,w.T)(Oe=>Oe.target),(0,g.Z)(pe));pe.focus(),(0,S.R)(Z,"keydown").pipe((0,C.Q)(ne),(0,h.p)(Oe=>"Tab"===Oe.key),(0,E.E)(he)).subscribe(([Oe,Ae])=>{(Ae===pe||Ae===Z)&&Oe.shiftKey&&(K.focus(),Oe.preventDefault()),Ae===K&&!Oe.shiftKey&&(pe.focus(),Oe.preventDefault())}),(0,S.R)(document,"click").pipe((0,C.Q)(ne),(0,E.E)(he),(0,w.T)(Oe=>Oe[1])).subscribe(Oe=>{Oe.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,S.R)(this.document,"keydown").pipe((0,C.Q)(this.isVisible$),(0,h.p)(I=>"Esc"===I.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(pe){return new(pe||Z)(t.rXU(e.qQ),t.rXU(t.aKT),t.rXU(O.B))}}static{this.\u0275cmp=t.VBU({type:Z,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:W,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(pe,K){1&pe&&(t.NAR(),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t.EFF(5),t.nI1(6,"translate"),t.k0s(),t.DNE(7,N,5,3,"button",5),t.k0s(),t.j41(8,"div",6),t.SdG(9),t.k0s(),t.nrm(10,"div",7),t.j41(11,"div",8)(12,"div",9)(13,"div",10),t.DNE(14,H,3,4,"button",11)(15,G,3,4,"button",12)(16,z,4,4,"div",13),t.k0s(),t.DNE(17,ce,3,3,"button",14),t.k0s()()()()(),t.DNE(18,de,1,0,"div",15)),2&pe&&(t.AVh("show",K.isVisible),t.BMQ("aria-hidden",!K.isVisible)("aria-labelledby","modal-title-"+K.modalId),t.R7$(4),t.Mz_("id","modal-title-",K.modalId,""),t.R7$(),t.JRh(t.bMT(6,13,K.title)),t.R7$(2),t.Y8G("ngIf",!K.hideCancel),t.R7$(7),t.Y8G("ngIf",K.canSave),t.R7$(),t.Y8G("ngIf",K.canDelete),t.R7$(),t.Y8G("ngIf",K.canSaveAndReAdd),t.R7$(),t.Y8G("ngIf",!K.hideCancel),t.R7$(),t.Y8G("ngIf",K.showBackdrop))},dependencies:[e.bT,P.D9],encapsulation:2})}}return Z})()},4754:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>p});var t=d(177),e=d(4438);let p=(()=>{class S{constructor(w){this.document=w,this.modalList=[]}add(w){this.modalList.push(w)}remove(w){const g=this.modalList.indexOf(w);this.modalList.splice(g)}visibleModals(){return this.modalList.filter(w=>w.isVisible).length}showById(w,g){null!=g&&null!=g.nativeElement&&(this.lastClickedEl=g.nativeElement),this.modalList.find(E=>E.modalId===w).show()}hideById(w){const g=this.modalList.find(h=>h.modalId===w);g&&(g.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(g){return new(g||S)(e.KVO(t.qQ))}}static{this.\u0275prov=e.jDH({token:S,factory:S.\u0275fac,providedIn:"root"})}}return S})()},9216:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>h});var t=d(4438),e=d(779),p=d(1780);const S=["simpleModal"],C=[[["","body",""]],[["","footer",""]]],w=["[body]","[footer]"],g=()=>({backdrop:"static",animated:!1});let h=(()=>{class E{constructor(){this.type=null,this.inFlight=!1,this.close=new t.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(U){return new(U||E)}}static{this.\u0275cmp=t.VBU({type:E,selectors:[["app-simple-modal"]],viewQuery:function(U,a){if(1&U&&t.GBs(S,7),2&U){let k;t.mGM(k=t.lsd())&&(a.simpleModal=k.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:w,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(U,a){if(1&U){const k=t.RV6();t.NAR(C),t.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),t.EFF(6),t.nI1(7,"translate"),t.k0s(),t.j41(8,"button",5),t.bIt("click",function(){return t.eBV(k),t.Njj(a.closeModal())}),t.nrm(9,"span",6),t.j41(10,"span",7),t.EFF(11),t.nI1(12,"translate"),t.k0s()()(),t.j41(13,"div",8),t.SdG(14),t.k0s(),t.j41(15,"div",9),t.SdG(16,1),t.k0s()()()()}if(2&U){let k;t.Y8G("id",null!==(k=a.modalId)&&void 0!==k?k:"simpleModel")("config",t.lJ4(12,g)),t.R7$(2),t.ZvI("modal-dialog",a.modalType,""),t.R7$(4),t.JRh(t.bMT(7,8,a.title)),t.R7$(2),t.Y8G("id",a.modalId+"-closeBtn"),t.R7$(3),t.JRh(t.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,p.D9],encapsulation:2})}}return E})()},7156:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>g});var t=d(4438),e=d(177),p=d(1780);function S(h,E){if(1&h&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&h){const v=t.XpG();t.R7$(),t.JRh(v.pageXofX)}}function C(h,E){1&h&&(t.j41(0,"span",7),t.EFF(1,"\u2022"),t.k0s())}function w(h,E){if(1&h){const v=t.RV6();t.j41(0,"nav",8),t.nI1(1,"translate"),t.j41(2,"ul",9)(3,"li")(4,"button",10),t.bIt("click",function(){t.eBV(v);const U=t.XpG();return t.Njj(U.goToPage(1))}),t.j41(5,"span"),t.nrm(6,"span",11),t.k0s(),t.j41(7,"span",12),t.EFF(8),t.nI1(9,"translate"),t.k0s()()(),t.j41(10,"li",13)(11,"button",14),t.bIt("click",function(){t.eBV(v);const U=t.XpG();return t.Njj(U.goToPage(U.currentPage-1))}),t.j41(12,"span"),t.nrm(13,"span",15),t.k0s(),t.j41(14,"span",12),t.EFF(15),t.nI1(16,"translate"),t.k0s()()(),t.j41(17,"li",13)(18,"button",16),t.bIt("click",function(){t.eBV(v);const U=t.XpG();return t.Njj(U.goToPage(U.currentPage+1))}),t.j41(19,"span"),t.nrm(20,"span",17),t.k0s(),t.j41(21,"span",12),t.EFF(22),t.nI1(23,"translate"),t.k0s()()(),t.j41(24,"li",13)(25,"button",18),t.bIt("click",function(){t.eBV(v);const U=t.XpG();return t.Njj(U.goToPage(U.lastPage))}),t.j41(26,"span"),t.nrm(27,"span",19),t.k0s(),t.j41(28,"span",12),t.EFF(29),t.nI1(30,"translate"),t.k0s()()()()()}if(2&h){const v=t.XpG();t.BMQ("aria-label",t.bMT(1,9,"Nav.Page")),t.R7$(4),t.Y8G("disabled",1==v.currentPage),t.R7$(4),t.JRh(t.bMT(9,11,"Nav.First")),t.R7$(3),t.Y8G("disabled",1==v.currentPage),t.R7$(4),t.JRh(t.bMT(16,13,"Nav.Previous")),t.R7$(3),t.Y8G("disabled",v.currentPage==v.lastPage),t.R7$(4),t.JRh(t.bMT(23,15,"Nav.Next")),t.R7$(3),t.Y8G("disabled",v.currentPage==v.lastPage),t.R7$(4),t.JRh(t.bMT(30,17,"Nav.Last"))}}let g=(()=>{class h{constructor(v,B){this.translate=v,this.decimalPipe=B,this.onGoToPage=new t.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let v=this.translate.instant("Nav.PageXofX");v=v.replace("{0}",this.decimalPipe.transform(this.currentPage)),v=v.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=v}goToPage(v){void 0!==this.onGoToPage&&(v<1?v=1:v>this.lastPage&&(v=this.lastPage),this.onGoToPage.emit(v))}static{this.\u0275fac=function(B){return new(B||h)(t.rXU(p.c$),t.rXU(e.QX))}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[t.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(B,U){1&B&&(t.j41(0,"div",0)(1,"div",1),t.DNE(2,S,2,1,"span",2)(3,C,2,0,"span",3),t.j41(4,"span",4),t.EFF(5),t.nI1(6,"number"),t.nI1(7,"translate"),t.k0s()(),t.DNE(8,w,31,19,"nav",5),t.k0s()),2&B&&(t.R7$(2),t.Y8G("ngIf",!U.hidePager),t.R7$(),t.Y8G("ngIf",!U.hidePager),t.R7$(2),t.Lme("",t.bMT(6,5,U.totalResults)," ",t.bMT(7,7,"Nav.ResultsFound"),""),t.R7$(3),t.Y8G("ngIf",!U.hidePager))},dependencies:[e.bT,e.QX,p.D9],encapsulation:2})}}return h})()},5731:(nt,ye,d)=>{"use strict";d.d(ye,{i:()=>w});var t=d(177),e=d(1583),p=d(1683),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[t.MD,e.iI,p.Y,S.h]})}}return g})()},2292:(nt,ye,d)=>{"use strict";d.d(ye,{L:()=>g});var t=d(4438),e=d(7263),p=d(177);function S(h,E){if(1&h&&(t.j41(0,"div",5)(1,"span",6),t.EFF(2),t.k0s()()),2&h){const v=t.XpG().$implicit,B=t.XpG();t.BMQ("aria-label",B.enumValues),t.R7$(2),t.JRh(v)}}function C(h,E){if(1&h){const v=t.RV6();t.j41(0,"button",7),t.bIt("click",function(){t.eBV(v);const U=t.XpG().index,a=t.XpG();return t.Njj(a.deleteValue(U))}),t.nrm(1,"span",8),t.j41(2,"span",6),t.EFF(3),t.k0s()()}if(2&h){const v=t.XpG().$implicit,B=t.XpG();t.BMQ("aria-label",B.enumValues),t.R7$(3),t.JRh(v)}}function w(h,E){if(1&h&&(t.j41(0,"li",2),t.DNE(1,S,3,2,"div",3)(2,C,4,2,"button",4),t.k0s()),2&h){const v=t.XpG();t.R7$(),t.Y8G("ngIf",v.readonly),t.R7$(),t.Y8G("ngIf",!v.readonly)}}let g=(()=>{class h{get id(){return this._id}set id(v){this._id=v||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new t.bkB}ngOnInit(){}deleteValue(v){this.readonly||this.onDelete.emit(v)}static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275cmp=t.VBU({type:h,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(B,U){1&B&&(t.j41(0,"ul",0),t.DNE(1,w,3,2,"li",1),t.k0s()),2&B&&(t.FS9("id",U.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",U.values))},dependencies:[p.Sq,p.bT]})}}return h})()},3843:(nt,ye,d)=>{"use strict";d.d(ye,{G:()=>p});var t=d(177),e=d(4438);let p=(()=>{class S{static{this.\u0275fac=function(g){return new(g||S)}}static{this.\u0275mod=e.$C({type:S})}static{this.\u0275inj=e.G2t({imports:[t.MD]})}}return S})()},6520:(nt,ye,d)=>{"use strict";d.d(ye,{C:()=>G});var t=d(4438);class e{constructor(){this.key="",this.value=""}}class p extends e{constructor(){super()}}var S=d(4252),C=d(1258),w=d(5794),g=d(1780),h=d(4754),E=d(9812),v=d(177),B=d(9417),U=d(8577),a=d(7294),k=d(3899),O=d(8698);const P=["addButton"];function W(z,ce){if(1&z){const de=t.RV6();t.j41(0,"app-action-bar"),t.qex(1,5),t.j41(2,"button",6,0),t.bIt("click",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.openAddModal())}),t.EFF(4),t.nI1(5,"translate"),t.k0s(),t.bVm(),t.k0s()}2&z&&(t.R7$(2),t.Y8G("id","addClaim"),t.R7$(2),t.SpI(" ",t.bMT(5,2,"Clients.Properties.AddProperty")," "))}function N(z,ce){if(1&z){const de=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.closeAddAndReset())})("onSave",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.addProperty())}),t.j41(1,"app-form-row",8)(2,"input",9),t.mxI("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.DH7(ne.addProp.key,Z)||(ne.addProp.key=Z),t.Njj(Z)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",11),t.mxI("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.DH7(ne.addProp.value,Z)||(ne.addProp.value=Z),t.Njj(Z)}),t.k0s()()()}if(2&z){const de=t.XpG();t.Y8G("title","Clients.Properties.AddProperty")("modalId",de.addModalId)("actions",de.addModalActions)("addDisabled",de.addProp.key.length<1||de.addProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyAddKey"),t.R7$(),t.R50("ngModel",de.addProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyAddValue")("isLast",!0),t.R7$(),t.R50("ngModel",de.addProp.value)}}function H(z,ce){if(1&z){const de=t.RV6();t.j41(0,"app-custom-modal",7),t.bIt("onCancel",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.closeModalAndReset())})("onSave",function(){t.eBV(de);const Z=t.XpG();return t.Njj(Z.saveEdit())}),t.j41(1,"app-form-row",8)(2,"input",12),t.mxI("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.DH7(ne.editProp.key,Z)||(ne.editProp.key=Z),t.Njj(Z)}),t.k0s()(),t.j41(3,"app-form-row",10)(4,"input",13),t.mxI("ngModelChange",function(Z){t.eBV(de);const ne=t.XpG();return t.DH7(ne.editProp.value,Z)||(ne.editProp.value=Z),t.Njj(Z)}),t.k0s()()()}if(2&z){const de=t.XpG();t.Y8G("title","Clients.Properties.EditProperty")("modalId",de.editModalId)("actions",de.editModalActions)("addDisabled",de.editProp.key.length<1||de.editProp.value.length<1),t.R7$(),t.Y8G("label","Common.Key")("id","propertyEditKey"),t.R7$(),t.R50("ngModel",de.editProp.key),t.R7$(),t.Y8G("label","Common.Value")("id","propertyEditValue")("isLast",!0),t.R7$(),t.R50("ngModel",de.editProp.value)}}let G=(()=>{class z{set properties(de){this._properties=de||[]}get properties(){return this._properties}set isReadOnly(de){this._isReadOnly=de||!1}get isReadOnly(){return this._isReadOnly}set modalId(de){this._addModalId="add_"+de,this._editModalId="edit_"+de}get addModalId(){return this._addModalId}get editModalId(){return this._editModalId}constructor(de,Y,Z,ne){this.toastr=de,this.translate=Y,this.modalService=Z,this.dataTableService=ne,this.propertiesChanged=new t.bkB,this.addProp=new e,this.editing=!1,this.editProp=new p,this.propertyDataTableActions=[S.AA.Delete,S.AA.Select],this.addModalActions=[C.N.Save],this.editModalActions=[C.N.Save],this._properties=[]}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(de=>{this.deleteProperty(de)})}ngOnDestroy(){this.dtsSubscription?.unsubscribe()}openAddModal(){this.modalService.showById(this.addModalId,this.addButtonRef)}closeAddAndReset(){this.addProp=new e,this.modalService.hideById(this.addModalId)}editProperty(de){this.editProp=JSON.parse(JSON.stringify(de.data)),this.editProp.originalIndex=this.properties.indexOf(de.data),this.editing=!0,this.modalService.showById(this.editModalId,de.element)}closeModalAndReset(){this.editProp=new p,this.editing=!1,this.modalService.hideById(this.editModalId)}saveEdit(){const de=this.properties.slice(),Y=de[this.editProp.originalIndex];Y.key=this.editProp.key,Y.value=this.editProp.value,this.updateProperties(de),this.closeModalAndReset()}addProperty(){if(this.properties.find(Y=>Y.key===this.addProp.key))return void this.toastr.error(this.translate.instant("Clients.UnableToAddProperty"),this.translate.instant("Notifications.Error"));if(null==this.addProp.key||""===this.addProp.key.trim())return void this.toastr.error("Key is Invalid",this.translate.instant("Notifications.Error"));if(null==this.addProp.value||""===this.addProp.value.trim())return void this.toastr.error("Value is Invalid",this.translate.instant("Notifications.Error"));const de=this.properties.slice();de.push(this.addProp),this.updateProperties(de),this.addProp=new e}deleteProperty(de){const Y=this.properties.slice();Y.splice(de,1),this.updateProperties(Y)}updateProperties(de){this.properties=de,this.propertiesChanged.emit(this.properties)}static{this.\u0275fac=function(Y){return new(Y||z)(t.rXU(w.tw),t.rXU(g.c$),t.rXU(h.B),t.rXU(E.I))}}static{this.\u0275cmp=t.VBU({type:z,selectors:[["app-properties-editor"]],viewQuery:function(Y,Z){if(1&Y&&t.GBs(P,5),2&Y){let ne;t.mGM(ne=t.lsd())&&(Z.addButtonRef=ne.first)}},inputs:{properties:"properties",isReadOnly:"isReadOnly",modalId:"modalId"},outputs:{propertiesChanged:"propertiesChanged"},decls:6,vars:15,consts:[["addButton",""],[4,"ngIf"],[3,"title","modalId","actions","addDisabled","onCancel","onSave",4,"ngIf"],[3,"onSelect","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses","cellClasses"],["right",""],[1,"tw-btn-success",3,"click","id"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"label","id"],["id","propertyAddKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],[3,"label","id","isLast"],["id","propertyAddValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditKey","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"],["id","propertyEditValue","type","text",1,"tw-form-control","tw-max-w-full",3,"ngModelChange","ngModel"]],template:function(Y,Z){1&Y&&(t.DNE(0,W,6,4,"app-action-bar",1)(1,N,5,11,"app-custom-modal",2),t.j41(2,"app-data-table",3),t.bIt("onSelect",function(I){return Z.editProperty(I)}),t.nrm(3,"app-data-table-column",4)(4,"app-data-table-column",4),t.k0s(),t.DNE(5,H,5,11,"app-custom-modal",2)),2&Y&&(t.Y8G("ngIf",!Z.isReadOnly),t.R7$(),t.Y8G("ngIf",!Z.isReadOnly),t.R7$(),t.Y8G("isReadOnly",Z.isReadOnly)("rows",Z.properties)("norowslabel","Clients.Properties.None")("actions",Z.propertyDataTableActions),t.R7$(),t.Y8G("prop","key")("title","Common.Key")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),t.R7$(),t.Y8G("prop","value")("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),t.R7$(),t.Y8G("ngIf",!Z.isReadOnly))},dependencies:[v.bT,B.me,B.BC,B.vS,S.up,U.w,a.n,k.G,O.Y,g.D9],encapsulation:2})}}return z})()},6843:(nt,ye,d)=>{"use strict";d.d(ye,{l:()=>v});var t=d(177),e=d(1683),p=d(1780),S=d(8251),C=d(4193),w=d(4367),g=d(9417),h=d(8389),E=d(4438);let v=(()=>{class B{static{this.\u0275fac=function(k){return new(k||B)}}static{this.\u0275mod=E.$C({type:B})}static{this.\u0275inj=E.G2t({imports:[t.MD,g.YN,e.Y,p.h,S.h,C.c,w.N,h.w]})}}return B})()},8762:(nt,ye,d)=>{"use strict";d.d(ye,{O:()=>ne});var t=d(6303),e=d(1088),p=d(4438),S=d(177),C=d(1780);function w(I,pe){if(1&I&&(p.j41(0,"div")(1,"p",4),p.EFF(2),p.k0s()()),2&I){const K=p.XpG(3);p.R7$(2),p.JRh(K.displayValue)}}function g(I,pe){if(1&I&&(p.j41(0,"div"),p.DNE(1,w,3,1,"div",2),p.k0s()),2&I){const K=p.XpG(2),he=p.sdS(2);p.R7$(),p.Y8G("ngIf",K.displayValue)("ngIfElse",he)}}function h(I,pe){if(1&I&&(p.j41(0,"div",10),p.EFF(1),p.j41(2,"small",11),p.EFF(3),p.k0s()()),2&I){const K=p.XpG(),he=K.$implicit;p.Y8G("id","multiMainText"+K.i),p.R7$(),p.SpI(" ",he.MainText," "),p.R7$(2),p.JRh(he.HelpText)}}function E(I,pe){if(1&I&&(p.j41(0,"li",8),p.DNE(1,h,4,3,"div",9),p.k0s()),2&I){const K=pe.$implicit;p.XpG(3);const he=p.sdS(2);p.R7$(),p.Y8G("ngIf",K.MainText)("ngIfElse",he)}}function v(I,pe){if(1&I&&(p.j41(0,"div")(1,"div",5)(2,"ul",6),p.DNE(3,E,2,2,"li",7),p.k0s()()()),2&I){const K=p.XpG(2);p.R7$(3),p.Y8G("ngForOf",K.filteredValues)}}function B(I,pe){1&I&&p.nrm(0,"div")}function U(I,pe){if(1&I&&(p.j41(0,"p",22),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.years," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.years,"Year"))," ")}}function a(I,pe){if(1&I&&(p.j41(0,"p",23),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.months," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.months,"Month"))," ")}}function k(I,pe){if(1&I&&(p.j41(0,"p",24),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.weeks," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.weeks,"Week"))," ")}}function O(I,pe){if(1&I&&(p.j41(0,"p",25),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.days," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.days,"Day"))," ")}}function P(I,pe){if(1&I&&(p.j41(0,"p",26),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.hours," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.hours,"Hour"))," ")}}function W(I,pe){if(1&I&&(p.j41(0,"p",27),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.minutes," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.minutes,"Minute"))," ")}}function N(I,pe){if(1&I&&(p.j41(0,"span",28),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&I){const K=p.XpG(5);p.R7$(),p.Lme(" ",K.timeSpan.seconds," ",p.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.seconds,"Second"))," ")}}function H(I,pe){if(1&I&&(p.j41(0,"div")(1,"div",13),p.DNE(2,U,3,4,"p",14)(3,a,3,4,"p",15)(4,k,3,4,"p",16)(5,O,3,4,"p",17)(6,P,3,4,"p",18)(7,W,3,4,"p",19)(8,N,3,4,"span",20),p.k0s(),p.j41(9,"small",21),p.EFF(10),p.k0s()()),2&I){const K=p.XpG(4);p.R7$(2),p.Y8G("ngIf",K.timeSpan.years>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.months>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.weeks>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.days>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.hours>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.minutes>0),p.R7$(),p.Y8G("ngIf",K.timeSpan.seconds>0),p.R7$(2),p.JRh(K.values[0].MainText)}}function G(I,pe){1&I&&(p.j41(0,"div")(1,"p",29),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&I&&(p.R7$(2),p.Lme("",0," ",p.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function z(I,pe){1&I&&(p.j41(0,"div")(1,"p",30),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&I&&(p.R7$(2),p.JRh(p.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function ce(I,pe){if(1&I&&p.DNE(0,H,11,8,"div",3)(1,G,4,4,"div",3)(2,z,4,3,"div",3),2&I){const K=p.XpG(3);p.Y8G("ngIf","Unlimited"!=K.values[0].MainText&&0!==K.values[0].MainText&&"0"!==K.values[0].MainText),p.R7$(),p.Y8G("ngIf",0===K.values[0].MainText||"0"===K.values[0].MainText),p.R7$(),p.Y8G("ngIf","Unlimited"==K.values[0].MainText)}}function de(I,pe){if(1&I&&(p.j41(0,"div"),p.DNE(1,B,1,0,"div",12)(2,ce,3,3,"ng-template",null,1,p.C5r),p.k0s()),2&I){const K=p.sdS(3),he=p.XpG(2),Oe=p.sdS(2);p.R7$(),p.Y8G("ngIf",null==he.values[0].MainText)("ngIfThen",Oe)("ngIfElse",K)}}function Y(I,pe){if(1&I&&(p.j41(0,"div"),p.DNE(1,g,2,2,"div",3)(2,v,4,1,"div",3)(3,de,4,3,"div",3),p.k0s()),2&I){const K=p.XpG();p.R7$(),p.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Single||K.fieldType==K.ReadOnlyFieldType.CommaSeparated),p.R7$(),p.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Multi),p.R7$(),p.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.LifetimePicker)}}function Z(I,pe){if(1&I&&(p.j41(0,"div")(1,"p",31),p.EFF(2),p.nI1(3,"translate"),p.k0s()()),2&I){const K=p.XpG();p.R7$(2),p.SpI(" ",p.bMT(3,1,K.noValueString)," ")}}let ne=(()=>{class I{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(K){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==t.t.Single||this.fieldType==t.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(K=>null!=K),this.filteredValues.length<1)||(this.fieldType===t.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===t.t.CommaSeparated?this.displayValue=this.filteredValues.map(K=>K.MainText).join(", ").trimEnd():this.fieldType===t.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(K,he){return"Clients.Tokens.Durations."+he+(K>1?"s":"")}get ReadOnlyFieldType(){return t.t}static{this.\u0275fac=function(he){return new(he||I)}}static{this.\u0275cmp=p.VBU({type:I,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[p.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(he,Oe){if(1&he&&p.DNE(0,Y,4,3,"div",2)(1,Z,4,3,"ng-template",null,0,p.C5r),2&he){const Ae=p.sdS(2);p.Y8G("ngIf",(null==Oe.filteredValues?null:Oe.filteredValues.length)>0)("ngIfElse",Ae)}},dependencies:[S.Sq,S.bT,C.D9]})}}return I})()},7677:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>S});var t=d(177),e=d(1780),p=d(4438);let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[e.h,t.MD]})}}return C})()},3665:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>w});var t=d(9417),e=d(177),p=d(1583),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[e.MD,p.iI,S.h,t.YN]})}}return g})()},9764:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>qe});var t=d(467),e=d(4438),p=d(9417),S=d(9838),C=d(1413),w=d(7263),g=d(9767),h=d(4252),E=d(1258),v=d(4549),B=d(4754),U=d(9812),a=d(177),k=d(5404),O=d(8698),P=d(9550),W=d(8577),N=d(3899),H=d(6536),G=d(1780);const z=["certificateReader"],ce=["addCertificateBtn"],de=["showModalButton"],Y=["secretPicker"],Z=["certificateReaderNonModal"],ne=["addCertificateBtnNonModal"];function I(Me,Te){if(1&Me&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Me){const ge=Te.$implicit;e.Y8G("value",ge.value),e.R7$(),e.JRh(ge.value)}}function pe(Me,Te){1&Me&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Me&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function K(Me,Te){if(1&Me&&e.nrm(0,"app-date-time",45),2&Me){const ge=e.XpG(2);e.Y8G("min",ge.minDate)}}function he(Me,Te){if(1&Me){const ge=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,I,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,pe,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,K,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Me){const ge=e.XpG();e.Y8G("formGroup",ge.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,ge.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==ge.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===ge.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===ge.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",ge.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",ge.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!ge.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Oe(Me,Te){1&Me&&e.nrm(0,"app-data-table-column",46),2&Me&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Ae(Me,Te){if(1&Me){const ge=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(xe){e.eBV(ge);const pt=e.XpG();return e.Njj(pt.certificateDataLoaded(xe))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Me&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function Fe(Me,Te){if(1&Me){const ge=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(ge);const xe=e.XpG();return e.Njj(xe.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(xe){e.eBV(ge);const pt=e.XpG();return e.Njj(pt.certificateDataLoaded(xe))}),e.k0s()()}if(2&Me){const ge=e.XpG();e.Y8G("modalId",ge.certModalId)("title","Secret Picker.ReadCertificate")("actions",ge.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let qe=(()=>{class Me{set clientSecrets(ge){this._clientSecrets=ge||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(ge){this._isReadOnly=ge||!1}get isReadOnly(){return this._isReadOnly}constructor(ge,$e,xe){this.fb=ge,this.modalService=$e,this.dataTableService=xe,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new S.S9,this.minDate=v.c9.now(),this.secretsAddStream=new C.B,this.secretsRemoveStream=new C.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[h.AA.Delete],this.modalActions=[E.N.Delete,E.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(ge){"Enter"===ge.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const ge=v.c9.now().toISO();this.secretForm=this.fb.group({description:["",p.k0.maxLength(1e3)],value:["",p.k0.required],expiration:[{value:ge,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe($e=>{this.deleteSecret($e)})}selectedDate(ge){this.secretForm.controls.expiration.setValue(ge)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,w.Nl)())}dateSelected(ge){this.secretForm.controls.expiration.setValue(ge)}addSecret(){const ge=this.secretForm.value;ge.expiration=this.expirationDateEnabled?v.c9.fromISO(ge.expiration).toString():null,this.secretsAddStream.next(ge),this.secretForm.reset(),this.resetForm()}updateExpiration(){const ge=this.secretForm.controls.expiration;this.expirationDateEnabled?(ge.addValidators(p.k0.required),ge.enable()):(ge.removeValidators(p.k0.required),ge.disable()),ge.reset()}deleteSecret(ge){this.secretsRemoveStream.next(this.clientSecrets[ge])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var ge=this;return(0,t.A)(function*(){ge.modalService.hideById(ge.certModalId),ge.filepickerDisplayed.emit(!1),yield ge.ReadCertificateModel()})()}ReadCertificateModel(){var ge=this;return(0,t.A)(function*(){const $e=yield ge.certReaderComponent.getCertificateModel();let xe="";switch(ge.secretForm.controls.type.value){case"X509 Certificate Base64":xe=$e.base64Cert;break;case"X509 Name":xe=$e.subject;break;case"X509 Thumbprint":xe=$e.thumbprint}ge.secretForm.controls.value.setValue(xe)})()}certificateDataLoaded(ge){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!ge),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!ge)}hideCertReaderNonModal(ge){var $e=this;return(0,t.A)(function*(){$e.certificateReaderNonModal.nativeElement.hidden=!0,$e.secretPicker.nativeElement.hidden=!1,ge&&(yield $e.ReadCertificateModel()),$e.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function($e){return new($e||Me)(e.rXU(p.ze),e.rXU(B.B),e.rXU(U.I))}}static{this.\u0275cmp=e.VBU({type:Me,selectors:[["app-secret-picker"]],viewQuery:function($e,xe){if(1&$e&&(e.GBs(z,5),e.GBs(ce,5),e.GBs(de,5),e.GBs(Y,5),e.GBs(Z,5),e.GBs(ne,5)),2&$e){let pt;e.mGM(pt=e.lsd())&&(xe.certReaderComponent=pt.first),e.mGM(pt=e.lsd())&&(xe.addCertificateButton=pt.first),e.mGM(pt=e.lsd())&&(xe.showModalButton=pt.first),e.mGM(pt=e.lsd())&&(xe.secretPicker=pt.first),e.mGM(pt=e.lsd())&&(xe.certificateReaderNonModal=pt.first),e.mGM(pt=e.lsd())&&(xe.addCertificateBtnNonModal=pt.first)}},hostBindings:function($e,xe){1&$e&&e.bIt("keydown",function(Le){return xe.keydown(Le)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function($e,xe){1&$e&&(e.j41(0,"div",5,0),e.DNE(2,he,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Oe,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,Ae,17,18,"div",13)(10,Fe,7,15,"app-custom-modal",14)),2&$e&&(e.R7$(2),e.Y8G("ngIf",!xe.isReadOnly),e.R7$(),e.Y8G("isReadOnly",xe.isReadOnly)("rows",xe.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",xe.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",xe.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",xe.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===xe.nonModelCertPicker))},dependencies:[a.Sq,a.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.j4,p.JD,k.V,O.Y,P.m,h.up,W.w,N.G,H.Z,a.lG,G.D9],encapsulation:2,data:{animation:[(0,g.Ws)()]}})}}return Me})()},4179:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>a});var t=d(9417),e=d(177),p=d(1683),S=d(1780),C=d(779),w=d(75),g=d(8389),h=d(8251),E=d(4367),v=d(6599),B=d(9812),U=d(4438);let a=(()=>{class k{static{this.\u0275fac=function(W){return new(W||k)}}static{this.\u0275mod=U.$C({type:k})}static{this.\u0275inj=U.G2t({providers:[B.I],imports:[e.MD,t.X1,p.Y,S.h,t.YN,C.Q_,w.U,g.w,h.h,E.N,v.Y]})}}return k})()},4313:(nt,ye,d)=>{"use strict";d.d(ye,{if:()=>E});var t=d(1413),e=d(152),p=d(3294),S=d(5964),C=d(6354);class E{constructor(B,U,a){this.toastr=B,this.translate=U,this.canSearchEmptyString=a,this.searchTerm="",this.searchTermStream=new t.B,this.enterKeyStream=new t.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,p.F)(),(0,S.p)(k=>this.filterSearchTerm(k)),(0,C.T)(k=>this.mapSearchTerm(k))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,S.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,C.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(B){return this.canSearchEmptyString?B.length<50&&1!==B.length:!(B.length<2||B.length>50)&&""!==B.trim()}search(B){"Enter"===B.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},7830:(nt,ye,d)=>{"use strict";d.d(ye,{Q:()=>E});var t=d(1068),e=d(4438),p=d(177),S=d(9417),C=d(1780);const w=()=>({standalone:!0});function g(v,B){if(1&v&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&v){const U=B.$implicit;e.Y8G("value",U),e.R7$(),e.JRh(U)}}function h(v,B){if(1&v){const U=e.RV6();e.j41(0,"li",12)(1,"button",13),e.bIt("click",function(){const k=e.eBV(U).$implicit,O=e.XpG();return e.Njj(O.removeAlgorithm(k))}),e.nrm(2,"span",14),e.j41(3,"span"),e.EFF(4),e.k0s()()()}if(2&v){const U=B.$implicit;e.R7$(),e.BMQ("aria-label",U),e.R7$(3),e.JRh(U)}}let E=(()=>{class v{constructor(){this.allowedAlgorithms=["ES256","ES384","ES512","PS256","PS384","PS512","RS256","RS384","RS512"]}ngAfterContentInit(){this.allowedAlgorithms=t.FF(this.allowedAlgorithms,...this.form.get(this.algorithmControlName).value),this.selectedAlgorithm=this.allowedAlgorithms[0]}addAlgorithm(){const U=this.form.get(this.algorithmControlName);U.setValue([...U.value,this.selectedAlgorithm]);const a=this.allowedAlgorithms.indexOf(this.selectedAlgorithm);this.allowedAlgorithms.splice(a,1),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}removeAlgorithm(U){const a=this.form.get(this.algorithmControlName),k=a.value.indexOf(U);a.value.splice(k,1),this.allowedAlgorithms.push(U),this.allowedAlgorithms.sort(),this.selectedAlgorithm=this.allowedAlgorithms[0],this.form.markAsDirty()}static{this.\u0275fac=function(a){return new(a||v)}}static{this.\u0275cmp=e.VBU({type:v,selectors:[["app-signing-algorithm-picker"]],inputs:{form:"form",algorithmControlName:"algorithmControlName"},decls:15,vars:9,consts:[[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex"],[1,"tw-form-select"],["id","client-token-signing-algorithm",1,"tw-form-control","tw-mr-1","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],["id","signing-algorithm-add-button",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],["class","tw-pill","id","signing-algorithm-added-algorithms",4,"ngFor","ngForOf"],[3,"value"],["id","signing-algorithm-added-algorithms",1,"tw-pill"],[3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(a,k){1&a&&(e.j41(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"select",5),e.mxI("ngModelChange",function(P){return e.DH7(k.selectedAlgorithm,P)||(k.selectedAlgorithm=P),P}),e.DNE(7,g,2,2,"option",6),e.k0s()(),e.j41(8,"button",7),e.bIt("click",function(){return k.addAlgorithm()}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()(),e.j41(13,"ul"),e.DNE(14,h,5,2,"li",10),e.k0s()()),2&a&&(e.R7$(6),e.R50("ngModel",k.selectedAlgorithm),e.Y8G("ngModelOptions",e.lJ4(8,w)),e.R7$(),e.Y8G("ngForOf",k.allowedAlgorithms),e.R7$(),e.Y8G("disabled",0==k.allowedAlgorithms.length),e.R7$(3),e.JRh(e.bMT(12,6,"Common.Add")),e.R7$(3),e.Y8G("ngForOf",k.form.get(k.algorithmControlName).value))},dependencies:[p.Sq,S.xH,S.y7,S.wz,S.BC,S.vS,C.D9]})}}return v})()},9945:(nt,ye,d)=>{"use strict";d.d(ye,{f:()=>g});var t=d(177),e=d(9417),p=d(1683),S=d(8389),C=d(1780),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({imports:[t.MD,e.YN,e.X1,S.w,p.Y,C.h]})}}return h})()},7384:(nt,ye,d)=>{"use strict";d.d(ye,{d:()=>w});var t=d(4438),e=d(177),p=d(1780);function S(g,h){1&g&&(t.j41(0,"span"),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&g&&(t.R7$(),t.JRh(t.bMT(2,1,"Common.LoadingPleaseWait")))}function C(g,h){if(1&g&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&g){const E=t.XpG();t.R7$(),t.JRh(E.text)}}let w=(()=>{class g{constructor(){this.text=""}static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275cmp=t.VBU({type:g,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(v,B){1&v&&(t.j41(0,"div",0),t.nrm(1,"span",1),t.DNE(2,S,3,3,"span",2)(3,C,2,1,"span",2),t.k0s()),2&v&&(t.R7$(2),t.Y8G("ngIf",""==B.text),t.R7$(),t.Y8G("ngIf",""!=B.text))},dependencies:[e.bT,p.D9],encapsulation:2})}}return g})()},7175:(nt,ye,d)=>{"use strict";d.d(ye,{c:()=>w});var t=d(9417),e=d(177),p=d(1583),S=d(1780),C=d(4438);let w=(()=>{class g{static{this.\u0275fac=function(v){return new(v||g)}}static{this.\u0275mod=C.$C({type:g})}static{this.\u0275inj=C.G2t({imports:[e.MD,p.iI,S.h,t.YN]})}}return g})()},7970:(nt,ye,d)=>{"use strict";d.d(ye,{j:()=>C});var t=d(4438),e=d(7263),p=d(177);function S(w,g){if(1&w){const h=t.RV6();t.j41(0,"li",2)(1,"input",3),t.bIt("click",function(){const v=t.eBV(h).index,B=t.XpG();return t.Njj(B.selectValue(v))}),t.k0s(),t.j41(2,"label",4),t.bIt("click",function(){const v=t.eBV(h).index,B=t.XpG();return t.Njj(B.selectValue(v))}),t.j41(3,"span",5),t.EFF(4),t.k0s()()()}if(2&w){const h=g.$implicit,E=g.index,v=t.XpG();t.R7$(),t.Mz_("id","enum-val-",E,""),t.Mz_("name","",v.id,"-state"),t.Y8G("checked",h===v.value),t.R7$(),t.STu("tw-state-toggle-btn ",v.borderStyle(E)," ",v.isSelected(h),""),t.Mz_("for","enum-val-",E,""),t.BMQ("aria-label",v.enumValues),t.R7$(2),t.JRh(h)}}let C=(()=>{class w{get id(){return this._id}set id(h){this._id=h||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new t.bkB}selectValue(h){this.readonly||this.newValue.emit(this.options[h])}borderStyle(h){return 0===h?"tw-rounded-l-lg":h>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(h){return h===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(E){return new(E||w)}}static{this.\u0275cmp=t.VBU({type:w,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(E,v){1&E&&(t.j41(0,"ul",0),t.DNE(1,S,5,13,"li",1),t.k0s()),2&E&&(t.FS9("id",v.id+"-enumValues-select"),t.R7$(),t.Y8G("ngForOf",v.options))},dependencies:[p.Sq],encapsulation:2})}}return w})()},1957:(nt,ye,d)=>{"use strict";d.d(ye,{U:()=>S});var t=d(177),e=d(9417),p=d(4438);let S=(()=>{class C{static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[t.MD,e.YN]})}}return C})()},3680:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>P});var t=d(4438),e=d(177),p=d(1583),S=d(1780),C=d(7005);const w=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],g=["[badge]","[ctx]","[button]","[tabs]"],h=W=>[W];function E(W,N){if(1&W&&(t.qex(0),t.j41(1,"li",7)(2,"span",17),t.EFF(3,"/"),t.k0s(),t.j41(4,"a",8),t.EFF(5),t.k0s()(),t.bVm()),2&W){const H=N.$implicit;t.R7$(4),t.Y8G("routerLink",H.link),t.R7$(),t.SpI(" ",H.title," ")}}function v(W,N){1&W&&(t.j41(0,"span",18),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&W&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.ReadOnly")," "))}function B(W,N){1&W&&(t.j41(0,"span",19),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&W&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.Reserved")," "))}function U(W,N){1&W&&(t.j41(0,"span",20),t.EFF(1),t.nI1(2,"translate"),t.k0s()),2&W&&(t.R7$(),t.SpI(" ",t.bMT(2,1,"Common.UserTOTPEnabled")," "))}function a(W,N){1&W&&(t.j41(0,"div",21),t.SdG(1,2),t.k0s())}function k(W,N){1&W&&(t.qex(0),t.j41(1,"div",22),t.SdG(2,3),t.k0s(),t.bVm())}let P=(()=>{class W{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(G){return new(G||W)}}static{this.\u0275cmp=t.VBU({type:W,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:g,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(G,z){1&G&&(t.NAR(w),t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),t.nI1(6,"translate"),t.j41(7,"ol",6)(8,"li",7)(9,"a",8),t.nI1(10,"localize"),t.EFF(11),t.nI1(12,"translate"),t.k0s()(),t.DNE(13,E,6,2,"ng-container",9),t.k0s()(),t.j41(14,"div",10)(15,"h1",11),t.EFF(16),t.k0s(),t.SdG(17),t.DNE(18,v,3,3,"span",12)(19,B,3,3,"span",13)(20,U,3,3,"span",14),t.SdG(21,1),t.k0s()(),t.DNE(22,a,2,0,"div",15),t.k0s()()(),t.DNE(23,k,3,0,"ng-container",16),t.k0s()),2&G&&(t.R7$(5),t.BMQ("aria-label",t.bMT(6,10,"Nav.Breadcrumbs")),t.R7$(4),t.Y8G("routerLink",t.eq3(16,h,t.bMT(10,12,"/home"))),t.R7$(2),t.SpI(" ",t.bMT(12,14,"Nav.Home")," "),t.R7$(2),t.Y8G("ngForOf",z.crumbs),t.R7$(3),t.JRh(z.title),t.R7$(2),t.Y8G("ngIf",z.isReadOnly&&!z.isReserved),t.R7$(),t.Y8G("ngIf",z.isReserved),t.R7$(),t.Y8G("ngIf",z.totpEnabled),t.R7$(2),t.Y8G("ngIf",z.hasButton),t.R7$(),t.Y8G("ngIf",z.hasTabs))},dependencies:[e.Sq,e.bT,p.Wk,S.D9,C.tl],encapsulation:2})}}return W})()},367:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>g});var t=d(177),e=d(1583),p=d(1683),S=d(7005),C=d(1780),w=d(4438);let g=(()=>{class h{static{this.\u0275fac=function(B){return new(B||h)}}static{this.\u0275mod=w.$C({type:h})}static{this.\u0275inj=w.G2t({imports:[t.MD,e.iI,p.Y,C.h,S.XE]})}}return h})()},7425:(nt,ye,d)=>{"use strict";d.d(ye,{g:()=>S});var t=d(4438),e=d(1715),p=d(6026);let S=(()=>{class C{constructor(){this.wizardCancel=new t.bkB,this.finish=new t.bkB,this.hide=new t.bkB,this.titleId=p.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(g){"Enter"===g.key&&this.canNext()&&this.nextTab()}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const g=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(g.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const h=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,h),h.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(g=>{g?.destroy()}),this.components.clear()}static{this.\u0275fac=function(h){return new(h||C)}}static{this.\u0275dir=t.FsC({type:C,viewQuery:function(h,E){if(1&h&&t.GBs(e.t,7),2&h){let v;t.mGM(v=t.lsd())&&(E.wizardHost=v.first)}},hostBindings:function(h,E){1&h&&t.bIt("keydown",function(B){return E.keydown(B)},!1,t.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return C})()},1715:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>e});var t=d(4438);let e=(()=>{class p{constructor(C){this.viewContainerRef=C}static{this.\u0275fac=function(w){return new(w||p)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:p,selectors:[["","appStepHost",""]]})}}return p})()},2858:(nt,ye,d)=>{"use strict";d.d(ye,{AU:()=>Y,zI:()=>ne});var t=d(6799),e=d(9417),p=d(4414),S=d(1413),C=d(590),w=d(4438),g=d(5794),h=d(1780),E=d(177);function v(I,pe){if(1&I&&(w.j41(0,"li",10)(1,"label",22),w.nrm(2,"input",23),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&I){const K=w.XpG();w.R7$(2),w.Y8G("value",K.CertificateAction.DoNotSet),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function B(I,pe){if(1&I&&(w.j41(0,"li",10)(1,"label",24),w.nrm(2,"input",25),w.j41(3,"span"),w.EFF(4),w.nI1(5,"translate"),w.k0s()()()),2&I){const K=w.XpG();w.R7$(2),w.Y8G("value",K.CertificateAction.UseExisting),w.R7$(2),w.JRh(w.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function U(I,pe){if(1&I){const K=w.RV6();w.j41(0,"tr")(1,"td",39),w.EFF(2),w.k0s(),w.j41(3,"td")(4,"button",40),w.bIt("click",function(){const Oe=w.eBV(K).$implicit,Ae=w.XpG(5);return w.Njj(Ae.deleteCert(Oe))}),w.EFF(5),w.nrm(6,"span",41),w.j41(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()()}if(2&I){const K=pe.$implicit,he=w.XpG(5);w.R7$(2),w.SpI(" ",null==K?null:K.subject," "),w.R7$(3),w.SpI(" ",he.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(9,3,"Clients.Saml.DeleteCert"))}}function a(I,pe){if(1&I&&(w.qex(0),w.DNE(1,U,10,5,"tr",38),w.bVm()),2&I){const K=w.XpG(4);w.R7$(),w.Y8G("ngForOf",K.data.certificates.SigningCertificates)}}function k(I,pe){if(1&I){const K=w.RV6();w.qex(0),w.j41(1,"tr")(2,"td",39),w.EFF(3),w.k0s(),w.j41(4,"td")(5,"button",40),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG(4);return w.Njj(Oe.deleteCert(null))}),w.EFF(6),w.nrm(7,"span",41),w.j41(8,"span",37),w.EFF(9),w.nI1(10,"translate"),w.k0s()()()(),w.bVm()}if(2&I){const K=w.XpG(4);w.R7$(3),w.SpI(" ",K.data.certificates.EncryptionCertificate.subject," "),w.R7$(3),w.SpI(" ",K.deleteDisabled," "),w.R7$(3),w.JRh(w.bMT(10,3,"Clients.Saml.DeleteCert"))}}function O(I,pe){if(1&I&&(w.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),w.EFF(4),w.nI1(5,"translate"),w.k0s(),w.j41(6,"th",36)(7,"span",37),w.EFF(8),w.nI1(9,"translate"),w.k0s()()()(),w.j41(10,"tbody"),w.DNE(11,a,2,1,"ng-container",13)(12,k,11,5,"ng-container",13),w.k0s()()),2&I){const K=w.XpG(3);w.R7$(4),w.JRh(w.bMT(5,4,"Common.Subject")),w.R7$(4),w.JRh(w.bMT(9,6,"Common.Actions")),w.R7$(3),w.Y8G("ngIf",K.activeTab===K.ActiveTab.Request),w.R7$(),w.Y8G("ngIf",K.activeTab===K.ActiveTab.Response)}}function P(I,pe){if(1&I&&(w.j41(0,"div"),w.DNE(1,O,13,8,"table",33),w.k0s()),2&I){const K=w.XpG(2);w.R7$(),w.Y8G("ngIf",K.activeTab==K.ActiveTab.Request?K.data.certificates.SigningCertificates.length>0:K.data.certificates.EncryptionCertificate)}}function W(I,pe){1&I&&(w.j41(0,"div",42)(1,"div"),w.EFF(2),w.nI1(3,"translate"),w.k0s()()),2&I&&(w.R7$(2),w.JRh(w.bMT(3,1,"Clients.NoCertificates")))}function N(I,pe){if(1&I){const K=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG(3);return w.Njj(Oe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&I&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function H(I,pe){if(1&I){const K=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG(3);return w.Njj(Oe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&I&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function G(I,pe){if(1&I&&(w.qex(0),w.DNE(1,N,3,3,"button",32)(2,H,3,3,"button",32),w.bVm()),2&I){const K=w.XpG(2);w.R7$(),w.Y8G("ngIf",!K.data.certificates.EncryptionCertificate||""===K.data.certificates.EncryptionCertificate),w.R7$(),w.Y8G("ngIf",K.data.certificates.EncryptionCertificate&&""!==K.data.certificates.EncryptionCertificate)}}function z(I,pe){if(1&I){const K=w.RV6();w.j41(0,"button",43),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG(2);return w.Njj(Oe.addCert())}),w.EFF(1),w.nI1(2,"translate"),w.k0s()}2&I&&(w.R7$(),w.JRh(w.bMT(2,1,"Clients.Saml.AddCert")))}function ce(I,pe){if(1&I){const K=w.RV6();w.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG();return w.Njj(Oe.activeTab=Oe.ActiveTab.Request)}),w.EFF(4),w.nI1(5,"translate"),w.k0s()(),w.j41(6,"li",27)(7,"button",29),w.bIt("click",function(){w.eBV(K);const Oe=w.XpG();return w.Njj(Oe.activeTab=Oe.ActiveTab.Response)}),w.EFF(8),w.nI1(9,"translate"),w.k0s()()(),w.DNE(10,P,2,1,"div",13)(11,W,4,3,"div",30),w.j41(12,"div",31),w.DNE(13,G,3,2,"ng-container",13)(14,z,3,3,"button",32),w.k0s()()}if(2&I){const K=w.XpG();w.R7$(3),w.AVh("active",K.activeTab===K.ActiveTab.Request),w.R7$(),w.JRh(w.bMT(5,10,"Clients.Saml.Request")),w.R7$(3),w.AVh("active",K.activeTab===K.ActiveTab.Response),w.R7$(),w.JRh(w.bMT(9,12,"Clients.Saml.Response")),w.R7$(2),w.Y8G("ngIf",K.data.certificates),w.R7$(),w.Y8G("ngIf",K.activeTab==K.ActiveTab.Request&&0===K.data.certificates.SigningCertificates.length||K.activeTab==K.ActiveTab.Response&&!K.data.certificates.EncryptionCertificate),w.R7$(2),w.Y8G("ngIf",K.activeTab===K.ActiveTab.Response),w.R7$(),w.Y8G("ngIf",K.activeTab===K.ActiveTab.Request)}}function de(I,pe){if(1&I){const K=w.RV6();w.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),w.mxI("ngModelChange",function(Oe){w.eBV(K);const Ae=w.XpG();return w.DH7(Ae.data.rememberCertificateAction,Oe)||(Ae.data.rememberCertificateAction=Oe),w.Njj(Oe)}),w.k0s(),w.j41(5,"span",48),w.EFF(6),w.nI1(7,"translate"),w.k0s()()()()()}if(2&I){const K=w.XpG();w.R7$(4),w.R50("ngModel",K.data.rememberCertificateAction),w.R7$(2),w.SpI(" ",w.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var Y=function(I){return I[I.DoNotSet=0]="DoNotSet",I[I.UseExisting=1]="UseExisting",I[I.ManuallyCreate=2]="ManuallyCreate",I}(Y||{}),Z=function(I){return I[I.Request=0]="Request",I[I.Response=1]="Response",I}(Z||{});let ne=(()=>{class I extends t.P{get data(){return this._selectableImportResource}set data(K){this._selectableImportResource=K}constructor(K,he,Oe,Ae){super(),this.fb=K,this.changeDetector=he,this.toastr=Oe,this.translate=Ae,this.CertificateAction=Y,this.ActiveTab=Z}ngOnInit(){if(this.form=this.fb.group({certificateAction:[Y.UseExisting,e.k0.required]}),this.data){let he;he=this.data.existingHasCertificates?this.data.certificateAction===Y.ManuallyCreate?Y.ManuallyCreate:Y.UseExisting:Y.DoNotSet,this.data.certificateAction=he,this.form.get("certificateAction").setValue(he),this.displayResourceType=C.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===Y.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=Z.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=Z.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=Z.Response))),this.form.valueChanges.subscribe(()=>{const K=this.form.value.certificateAction;this.data.certificateAction=K,K===Y.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=Z.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new S.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(K=>{this.activeTab===Z.Request?(this.stripContentTypeFromData(K),this.data.certificates.SigningCertificates.some(he=>he.base64Cert===K.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(K)):(this.stripContentTypeFromData(K),this.data.certificates.EncryptionCertificate=K)}),this.openModal(p.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(K){const he=K.base64Cert.split("base64,");he.length>1&&(K.base64Cert=he[1])}deleteCert(K){if(this.activeTab===Z.Request){const he=this.data.certificates.SigningCertificates.indexOf(K);this.data.certificates.SigningCertificates.splice(he,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===Y.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===Y.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===Y.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===Y.DoNotSet||this.data.certificateAction===Y.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(he){return new(he||I)(w.rXU(e.ze),w.rXU(w.gRc),w.rXU(g.tw),w.rXU(h.c$))}}static{this.\u0275cmp=w.VBU({type:I,selectors:[["app-import-certificates"]],features:[w.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(he,Oe){if(1&he){const Ae=w.RV6();w.j41(0,"div",1)(1,"h2",2)(2,"span",3),w.EFF(3),w.nI1(4,"translate"),w.k0s(),w.j41(5,"span",4),w.EFF(6),w.nI1(7,"translate"),w.k0s()(),w.j41(8,"div",5)(9,"p",6),w.EFF(10),w.nI1(11,"translate"),w.k0s()(),w.j41(12,"form",7)(13,"ul",8),w.DNE(14,v,6,4,"li",9)(15,B,6,4,"ng-template",null,0,w.C5r),w.j41(17,"li",10)(18,"label",11),w.nrm(19,"input",12),w.j41(20,"span"),w.EFF(21),w.nI1(22,"translate"),w.k0s()()()()(),w.DNE(23,ce,15,14,"div",13)(24,de,8,4,"div",14),w.k0s(),w.nrm(25,"div",15),w.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),w.bIt("click",function(){return w.eBV(Ae),w.Njj(Oe.goNext())}),w.EFF(30),w.nI1(31,"translate"),w.k0s(),w.j41(32,"button",20),w.bIt("click",function(){return w.eBV(Ae),w.Njj(Oe.back())}),w.EFF(33),w.nI1(34,"translate"),w.k0s()(),w.j41(35,"button",21),w.bIt("click",function(){return w.eBV(Ae),w.Njj(Oe.cancel())}),w.EFF(36),w.nI1(37,"translate"),w.k0s()()()}if(2&he){const Ae=w.sdS(16);w.R7$(3),w.SpI("",w.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),w.R7$(3),w.Lme("",null==Oe.data?null:Oe.data.displayName," (",w.bMT(7,17,"Clients.Import.Wizard.Secrets."+Oe.displayResourceType),")"),w.R7$(4),w.JRh(w.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),w.R7$(2),w.Y8G("formGroup",Oe.form),w.R7$(2),w.Y8G("ngIf",!(null!=Oe.data&&Oe.data.existingHasCertificates))("ngIfElse",Ae),w.R7$(5),w.Y8G("value",Oe.CertificateAction.ManuallyCreate),w.R7$(2),w.JRh(w.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),w.R7$(2),w.Y8G("ngIf",Oe.showCertificatePicker),w.R7$(),w.Y8G("ngIf",!Oe.showCertificatePicker),w.R7$(5),w.Y8G("disabled",Oe.disableNext()),w.R7$(),w.JRh(w.bMT(31,23,"Common.Next")),w.R7$(3),w.JRh(w.bMT(34,25,"Common.Back")),w.R7$(3),w.JRh(w.bMT(37,27,"Common.Cancel"))}},dependencies:[E.Sq,E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,h.D9],encapsulation:2})}}return I})()},4406:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>C});var t=d(6799),e=d(4438),p=d(5826),S=d(1780);let C=(()=>{class w extends t.P{constructor(h){super(),this.importWizardService=h,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(E){return new(E||w)(e.rXU(p.o))}}static{this.\u0275cmp=e.VBU({type:w,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(E,v){1&E&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return v.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return v.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&E&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[S.D9],encapsulation:2})}}return w})()},1138:(nt,ye,d)=>{"use strict";d.d(ye,{r:()=>P,u:()=>W});var t=d(1744),e=d(9417),p=d(785),S=d(7263),C=d(6799),w=d(590),g=d(4438),h=d(1780),E=d(177),v=d(9764);const B=["secretPicker"];function U(N,H){if(1&N&&(g.j41(0,"li",11)(1,"label",28),g.nrm(2,"input",29),g.j41(3,"span"),g.EFF(4),g.nI1(5,"translate"),g.k0s()()()),2&N){const G=g.XpG();g.R7$(2),g.Y8G("value",G.SecretsActions.DoNotSet),g.R7$(2),g.JRh(g.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function a(N,H){if(1&N&&(g.j41(0,"li",11)(1,"label",30),g.nrm(2,"input",31),g.j41(3,"span"),g.EFF(4),g.nI1(5,"translate"),g.k0s()()()),2&N){const G=g.XpG();g.R7$(2),g.Y8G("value",G.SecretsActions.UseExistingSecret),g.R7$(2),g.JRh(g.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function k(N,H){if(1&N&&g.nrm(0,"app-secret-picker",32,1),2&N){const G=g.XpG();g.Y8G("clientSecrets",G.possibleSecrets)("nonModelCertPicker",!1)}}function O(N,H){if(1&N){const G=g.RV6();g.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),g.mxI("ngModelChange",function(ce){g.eBV(G);const de=g.XpG();return g.DH7(de.data.rememberSecretAction,ce)||(de.data.rememberSecretAction=ce),g.Njj(ce)}),g.k0s(),g.j41(5,"span",37),g.EFF(6),g.nI1(7,"translate"),g.k0s()()()()()}if(2&N){const G=g.XpG();g.R7$(4),g.R50("ngModel",G.data.rememberSecretAction),g.R7$(2),g.SpI(" ",g.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var P=function(N){return N[N.DoNotSet=0]="DoNotSet",N[N.Generate=1]="Generate",N[N.ManuallyCreate=2]="ManuallyCreate",N[N.UseExistingSecret=3]="UseExistingSecret",N}(P||{});let W=(()=>{class N extends C.P{get data(){return this._selectableImportResource}set data(G){this._selectableImportResource=G}constructor(G,z,ce){super(),this.translate=G,this.fb=z,this.changeDetector=ce,this.SecretsActions=P,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.k0.required]}),this.data){const G=this.data.existingHasSecrets?P.UseExistingSecret:P.DoNotSet;this.form.get("secretAction").setValue(G),this.displayResourceType=this.data.resourceType===t.ot.Client?w.n.client:w.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===P.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:P.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:P.Generate})),this.form.valueChanges.subscribe(()=>{const G=this.form.value.secretAction;this.data.secretsAction=G,G===P.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?t.ot[this.data.resourceType]:""}goNext(){const G=this.form.get("secretAction");if(G.value===P.DoNotSet)this.data.secrets=[];else if(G.value===P.UseExistingSecret)this.data.useExistingSecrets=!0;else if(G.value===P.Generate){const z=new p.z;z.value=(0,S.Nl)(),z.type="Shared Secret",z.description="",this.data.secrets=[z]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(G=>{this.possibleSecrets.push(G)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(G=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(G),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function(z){return new(z||N)(g.rXU(h.c$),g.rXU(e.ze),g.rXU(g.gRc))}}static{this.\u0275cmp=g.VBU({type:N,selectors:[["app-import-secrets"]],viewQuery:function(z,ce){if(1&z&&g.GBs(B,5),2&z){let de;g.mGM(de=g.lsd())&&(ce.secretPicker=de.first)}},features:[g.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(z,ce){if(1&z){const de=g.RV6();g.j41(0,"div",2)(1,"h2",3)(2,"span",4),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span",5),g.EFF(6),g.nI1(7,"translate"),g.k0s()(),g.j41(8,"div",6)(9,"p",7),g.EFF(10),g.nI1(11,"translate"),g.k0s()(),g.j41(12,"form",8)(13,"ul",9),g.DNE(14,U,6,4,"li",10)(15,a,6,4,"ng-template",null,0,g.C5r),g.j41(17,"li",11)(18,"label",12),g.nrm(19,"input",13),g.j41(20,"span"),g.EFF(21),g.nI1(22,"translate"),g.k0s()()(),g.j41(23,"li",11)(24,"label",14),g.nrm(25,"input",15),g.j41(26,"span"),g.EFF(27),g.nI1(28,"translate"),g.k0s()()()()(),g.j41(29,"div",16)(30,"p",17)(31,"b",18),g.EFF(32),g.nI1(33,"translate"),g.k0s(),g.EFF(34),g.nI1(35,"translate"),g.k0s()(),g.DNE(36,k,2,2,"app-secret-picker",19)(37,O,8,4,"div",20),g.k0s(),g.nrm(38,"div",21),g.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),g.bIt("click",function(){return g.eBV(de),g.Njj(ce.goNext())}),g.EFF(43),g.nI1(44,"translate"),g.k0s(),g.j41(45,"button",26),g.bIt("click",function(){return g.eBV(de),g.Njj(ce.back())}),g.EFF(46),g.nI1(47,"translate"),g.k0s()(),g.j41(48,"button",27),g.bIt("click",function(){return g.eBV(de),g.Njj(ce.cancel())}),g.EFF(49),g.nI1(50,"translate"),g.k0s()()()}if(2&z){const de=g.sdS(16);g.R7$(3),g.SpI("",g.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),g.R7$(3),g.Lme("",null==ce.data?null:ce.data.displayName," (",g.bMT(7,20,"Clients.Import.Wizard.Secrets."+ce.displayResourceType),")"),g.R7$(4),g.JRh(g.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),g.R7$(2),g.Y8G("formGroup",ce.form),g.R7$(2),g.Y8G("ngIf",!(null!=ce.data&&ce.data.existingHasSecrets))("ngIfElse",de),g.R7$(5),g.Y8G("value",ce.SecretsActions.Generate),g.R7$(2),g.JRh(g.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),g.R7$(4),g.Y8G("value",ce.SecretsActions.ManuallyCreate),g.R7$(2),g.JRh(g.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),g.R7$(5),g.SpI("",g.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),g.R7$(2),g.SpI(" ",g.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),g.R7$(2),g.Y8G("ngIf",ce.showSecretPicker),g.R7$(),g.Y8G("ngIf",!ce.showSecretPicker),g.R7$(6),g.JRh(g.bMT(44,32,"Common.Next")),g.R7$(3),g.JRh(g.bMT(47,34,"Common.Back")),g.R7$(3),g.JRh(g.bMT(50,36,"Common.Cancel"))}},dependencies:[E.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,v.s,h.D9],encapsulation:2})}}return N})()},5696:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>Y});var t=d(1744),e=d(4414),p=d(6799),S=d(4438),C=d(5826),w=d(1780),g=d(177);const h=(Z,ne,I,pe,K)=>({title:Z,editable:!0,header1:ne,header2:I,header3:pe,data:K}),E=(Z,ne,I,pe,K,he)=>({title:Z,editable:ne,header1:I,header2:pe,header3:K,data:he}),v=Z=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":Z});function B(Z,ne){1&Z&&S.eu8(0)}function U(Z,ne){if(1&Z&&(S.j41(0,"div"),S.DNE(1,B,1,0,"ng-container",12),S.nI1(2,"translate"),S.nI1(3,"translate"),S.nI1(4,"translate"),S.nI1(5,"translate"),S.k0s()),2&Z){const I=S.XpG(),pe=S.sdS(9);S.R7$(),S.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",S.s1E(10,h,S.bMT(2,2,"Nav.Clients"),S.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),S.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),S.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),I.clients))}}function a(Z,ne){1&Z&&S.eu8(0)}function k(Z,ne){if(1&Z&&(S.j41(0,"div",13),S.DNE(1,a,1,0,"ng-container",12),S.nI1(2,"translate"),S.nI1(3,"translate"),S.nI1(4,"translate"),S.nI1(5,"translate"),S.k0s()),2&Z){const I=S.XpG(),pe=S.sdS(9);S.R7$(),S.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",S.l4e(10,E,S.bMT(2,2,"Nav.Resources"),I.canEdit(I.resources),S.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),S.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),S.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),I.resources))}}function O(Z,ne){1&Z&&S.eu8(0)}function P(Z,ne){if(1&Z&&(S.j41(0,"div",13),S.DNE(1,O,1,0,"ng-container",12),S.nI1(2,"translate"),S.nI1(3,"translate"),S.nI1(4,"translate"),S.nI1(5,"translate"),S.k0s()),2&Z){const I=S.XpG(),pe=S.sdS(9);S.R7$(),S.Y8G("ngTemplateOutlet",pe)("ngTemplateOutletContext",S.l4e(10,E,S.bMT(2,2,"Nav.ClaimTypes"),I.canEdit(I.claims),S.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),S.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),S.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),I.claims))}}function W(Z,ne){if(1&Z&&(S.qex(0),S.j41(1,"td",31),S.nrm(2,"span",32),S.k0s(),S.j41(3,"td")(4,"span",33),S.EFF(5),S.k0s()(),S.bVm()),2&Z){const I=S.XpG().$implicit,pe=S.XpG(2);S.R7$(5),S.JRh(pe.getConflicts(I))}}function N(Z,ne){1&Z&&S.nrm(0,"span",37)}function H(Z,ne){1&Z&&S.nrm(0,"span",38)}function G(Z,ne){1&Z&&S.nrm(0,"span",32)}function z(Z,ne){if(1&Z&&(S.qex(0),S.j41(1,"td",31),S.DNE(2,N,1,0,"span",34)(3,H,1,0,"span",35)(4,G,1,0,"span",36),S.k0s(),S.j41(5,"td")(6,"span",33),S.EFF(7),S.k0s()(),S.bVm()),2&Z){const I=S.XpG().$implicit,pe=S.XpG(2);S.R7$(2),S.Y8G("ngIf",I.resourceState==pe.resourceStates.New),S.R7$(),S.Y8G("ngIf",I.resourceState==pe.resourceStates.Duplicate),S.R7$(),S.Y8G("ngIf",I.conflictedByDependencies),S.R7$(2),S.AVh("tw-italic",I.resourceState===pe.resourceStates.Duplicate),S.R7$(),S.SpI(" ",pe.getResourceState(I)," ")}}function ce(Z,ne){if(1&Z&&(S.j41(0,"tr",27)(1,"td",28)(2,"b"),S.EFF(3),S.k0s()(),S.j41(4,"td",29),S.EFF(5),S.k0s(),S.j41(6,"td",30),S.EFF(7),S.nI1(8,"translate"),S.k0s(),S.DNE(9,W,6,1,"ng-container",3)(10,z,8,6,"ng-container",3),S.k0s()),2&Z){const I=ne.$implicit,pe=S.XpG(2);S.Y8G("ngClass",S.eq3(9,v,I.resourceState===pe.resourceStates.Duplicate)),S.R7$(),S.Y8G("title",I.displayName),S.R7$(2),S.JRh(I.displayName),S.R7$(2),S.SpI(" ",I.identifier," "),S.R7$(2),S.SpI(" ",S.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+I.displayType)," "),S.R7$(2),S.Y8G("ngIf",I.resourceState===pe.resourceStates.Conflicted&&!I.conflictedByDependencies),S.R7$(),S.Y8G("ngIf",I.resourceState!==pe.resourceStates.Conflicted||I.conflictedByDependencies)}}function de(Z,ne){if(1&Z){const I=S.RV6();S.j41(0,"h2",14)(1,"span",15),S.EFF(2),S.k0s(),S.j41(3,"button",16),S.bIt("click",function(){const K=S.eBV(I).data,he=S.XpG();return S.Njj(he.editResourceSummary(K))}),S.nrm(4,"span",17),S.j41(5,"span",18),S.EFF(6),S.nI1(7,"translate"),S.k0s()()(),S.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),S.EFF(12),S.k0s(),S.j41(13,"th",21),S.EFF(14),S.k0s(),S.j41(15,"th",22),S.EFF(16),S.k0s(),S.nrm(17,"td",23),S.j41(18,"th",24)(19,"span",25),S.EFF(20),S.nI1(21,"translate"),S.k0s()()()(),S.j41(22,"tbody"),S.DNE(23,ce,11,11,"tr",26),S.k0s()()}if(2&Z){const I=ne.title,pe=ne.editable,K=ne.header1,he=ne.header2,Oe=ne.header3,Ae=ne.data;S.R7$(2),S.JRh(I),S.R7$(),S.Y8G("disabled",!pe),S.R7$(3),S.JRh(S.bMT(7,8,"Common.Edit")),S.R7$(6),S.JRh(K),S.R7$(2),S.JRh(he),S.R7$(2),S.JRh(Oe),S.R7$(4),S.JRh(S.bMT(21,10,"Common.Status")),S.R7$(3),S.Y8G("ngForOf",Ae)}}let Y=(()=>{class Z extends p.P{constructor(I,pe){super(),this.importWizardService=I,this.translate=pe,this.resourceStates=t.jD,this.resourceTypes=t.ot}ngOnInit(){this.importWizardService.cache.subscribe(I=>{const pe=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],K=I.filter(Ae=>Ae.resourceType===t.ot.Client&&(Ae.selected||Ae.resourceState===t.jD.Duplicate)),he=[],Oe=[];I.forEach(Ae=>{Ae.resourceType!==t.ot.Client&&K.some(Fe=>Ae.dependantClients.some(qe=>qe.identifier===Fe.identifier))&&(Ae.resourceType===t.ot.ClaimType?he.push(Ae):Oe.push(Ae))}),this.clients=K.sort((Ae,Fe)=>pe.indexOf(Ae.resourceState)-pe.indexOf(Fe.resourceState)),this.claims=he.sort((Ae,Fe)=>pe.indexOf(Ae.resourceState)-pe.indexOf(Fe.resourceState)),this.resources=Oe.sort((Ae,Fe)=>pe.indexOf(Ae.resourceState)-pe.indexOf(Fe.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(I,pe){I.stopPropagation(),this.openModal(e.M.summaryConflicts,pe)}getResourceState(I){return I.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[I.resourceState]}canEdit(I){return I.length>0&&I.some(pe=>pe.resourceState!==t.jD.Duplicate)}editResourceSummary(I){this.importWizardController.goToSummaryStep(I[0].resourceType)}getConflicts(I){let K,pe=0;return I.conflicts.forEach(he=>{pe+=he.conflicts.length}),K=this.translate.instant(1===pe?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),pe+" "+K}static{this.\u0275fac=function(pe){return new(pe||Z)(S.rXU(C.o),S.rXU(w.c$))}}static{this.\u0275cmp=S.VBU({type:Z,selectors:[["app-import-summary-all"]],features:[S.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(pe,K){if(1&pe){const he=S.RV6();S.j41(0,"div",1)(1,"div",2)(2,"p"),S.EFF(3),S.nI1(4,"translate"),S.k0s()(),S.DNE(5,U,6,16,"div",3)(6,k,6,17,"div",4)(7,P,6,17,"div",4)(8,de,24,12,"ng-template",null,0,S.C5r),S.k0s(),S.nrm(10,"div",5),S.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),S.bIt("click",function(){return S.eBV(he),S.Njj(K.goNext())}),S.EFF(15),S.nI1(16,"translate"),S.k0s(),S.j41(17,"button",10),S.bIt("click",function(){return S.eBV(he),S.Njj(K.back())}),S.EFF(18),S.nI1(19,"translate"),S.k0s()(),S.j41(20,"button",11),S.bIt("click",function(){return S.eBV(he),S.Njj(K.cancel())}),S.EFF(21),S.nI1(22,"translate"),S.k0s()()()}2&pe&&(S.R7$(3),S.JRh(S.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),S.R7$(2),S.Y8G("ngIf",(null==K.clients?null:K.clients.length)>0),S.R7$(),S.Y8G("ngIf",(null==K.resources?null:K.resources.length)>0),S.R7$(),S.Y8G("ngIf",(null==K.claims?null:K.claims.length)>0),S.R7$(7),S.Y8G("disabled",!K.canNext()),S.R7$(),S.JRh(S.bMT(16,10,"Clients.Import.Import")),S.R7$(3),S.JRh(S.bMT(19,12,"Common.Back")),S.R7$(3),S.JRh(S.bMT(22,14,"Common.Cancel")))},dependencies:[g.YU,g.Sq,g.bT,g.T3,w.D9],encapsulation:2})}}return Z})()},7629:(nt,ye,d)=>{"use strict";d.d(ye,{oG:()=>tt});var t=d(1744),e=d(4414),p=d(7263),S=d(590),C=d(6799);let w=(()=>{class Mt{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return Mt})();var g=d(4438),h=d(5826),E=d(1780),v=d(7005),B=d(177);let U=(()=>{class Mt{transform(Qt){if(Qt){const mt=[...Qt];let St="",dt="";for(let Ut=0;Ut<mt.length;Ut++){const rn=mt[Ut];if(0===St.length)St=rn.toUpperCase();else if(Ut+1===mt.length)dt===dt.toUpperCase()||rn===rn.toLowerCase()?St+=rn:St+=`${rn}`;else if(rn===rn.toUpperCase()){const Tn=dt===dt.toUpperCase(),Jn=mt[Ut+1];Tn?Jn===Jn.toLowerCase()?St+=` ${rn}`:St+=rn:St+=` ${rn}`}else St+=rn;dt=rn}Qt=St}return Qt}static{this.\u0275fac=function(mt){return new(mt||Mt)}}static{this.\u0275pipe=g.EJ8({name:"beautifyPropertyName",type:Mt,pure:!0})}}return Mt})();const a=["importSummaryConflictsModal"];function k(Mt,On){1&Mt&&g.nrm(0,"span",25)}function O(Mt,On){1&Mt&&g.nrm(0,"span",26)}function P(Mt,On){1&Mt&&(g.j41(0,"span",36),g.EFF(1,", "),g.k0s())}function W(Mt,On){if(1&Mt&&(g.j41(0,"li",34)(1,"span"),g.EFF(2),g.k0s(),g.DNE(3,P,2,0,"span",35),g.k0s()),2&Mt){const Qt=On.$implicit,mt=On.last;g.R7$(2),g.JRh(Qt.displayName),g.R7$(),g.Y8G("ngIf",!mt)}}function N(Mt,On){if(1&Mt&&(g.j41(0,"dl",30)(1,"dt",31),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"dd")(5,"ul",32),g.DNE(6,W,4,2,"li",33),g.k0s()()()),2&Mt){const Qt=g.XpG(3);g.R7$(2),g.SpI(" ",g.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),g.R7$(4),g.Y8G("ngForOf",Qt.linkedNewClients)}}function H(Mt,On){1&Mt&&(g.j41(0,"span",36),g.EFF(1,", "),g.k0s())}function G(Mt,On){if(1&Mt&&(g.j41(0,"li",34)(1,"a",38),g.EFF(2),g.k0s(),g.DNE(3,H,2,0,"span",35),g.k0s()),2&Mt){const Qt=On.$implicit,mt=On.last,St=g.XpG(4);g.R7$(),g.Y8G("href",St.buildHref(Qt.existingIdentifier),g.B4B),g.R7$(),g.SpI(" ",Qt.displayName," "),g.R7$(),g.Y8G("ngIf",!mt)}}function z(Mt,On){if(1&Mt&&(g.j41(0,"dl",37)(1,"dt",31),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"dd",34)(5,"ul",32),g.DNE(6,G,4,3,"li",33),g.k0s()()()),2&Mt){const Qt=g.XpG(3);g.R7$(2),g.SpI(" ",g.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),g.R7$(4),g.Y8G("ngForOf",Qt.linkedExistingClients)}}function ce(Mt,On){if(1&Mt&&(g.j41(0,"div",27),g.DNE(1,N,7,4,"dl",28)(2,z,7,4,"dl",29),g.k0s()),2&Mt){const Qt=g.XpG(2);g.R7$(),g.Y8G("ngIf",Qt.linkedNewClients.length>0),g.R7$(),g.Y8G("ngIf",Qt.linkedExistingClients.length>0)}}function de(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"div",18)(1,"div",19)(2,"button",20),g.bIt("click",function(){g.eBV(Qt);const St=g.XpG();return g.Njj(St.toggleDisplayLinkedClientsDropdown())}),g.j41(3,"span"),g.EFF(4),g.nI1(5,"translate"),g.k0s(),g.j41(6,"span",21),g.DNE(7,k,1,0,"span",22)(8,O,1,0,"span",23),g.k0s()(),g.DNE(9,ce,3,2,"div",24),g.k0s()()}if(2&Mt){const Qt=g.XpG();g.AVh("tw-alert-warning",Qt.linkedExistingClients.length>0),g.R7$(4),g.JRh(g.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),g.R7$(3),g.Y8G("ngIf",Qt.displayLinkedClientsDropdown),g.R7$(),g.Y8G("ngIf",!Qt.displayLinkedClientsDropdown),g.R7$(),g.Y8G("ngIf",Qt.displayLinkedClientsDropdown)}}function Y(Mt,On){if(1&Mt&&(g.j41(0,"span",47),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.previous," ")}}function Z(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function ne(Mt,On){if(1&Mt&&(g.j41(0,"span",49),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.new," ")}}function I(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function pe(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"tr",43),g.bIt("change",function(){g.eBV(Qt);const St=g.XpG(2);return g.Njj(St.setupTableHeadings())}),g.j41(1,"td"),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"td"),g.DNE(5,Y,2,1,"span",44)(6,Z,3,3,"i",45),g.k0s(),g.j41(7,"td"),g.DNE(8,ne,2,1,"span",46)(9,I,3,3,"i",45),g.k0s()()}if(2&Mt){const Qt=On.$implicit,mt=g.XpG(2);g.R7$(2),g.JRh(g.bMT(3,5,Qt.propertyName)),g.R7$(3),g.Y8G("ngIf",mt.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.new))}}function K(Mt,On){if(1&Mt&&(g.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),g.EFF(5),g.nI1(6,"translate"),g.k0s(),g.j41(7,"th",41),g.EFF(8),g.nI1(9,"translate"),g.k0s(),g.j41(10,"th",41),g.EFF(11),g.nI1(12,"translate"),g.k0s()()(),g.j41(13,"tbody"),g.DNE(14,pe,10,7,"tr",42),g.k0s()()()),2&Mt){const Qt=g.XpG();g.R7$(5),g.JRh(g.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.R7$(3),g.JRh(g.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.R7$(3),g.JRh(g.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.R7$(3),g.Y8G("ngForOf",null==Qt.fieldConflicts?null:Qt.fieldConflicts.conflicts)}}function he(Mt,On){if(1&Mt&&(g.j41(0,"span",47),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.previous," ")}}function Oe(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ae(Mt,On){if(1&Mt&&(g.j41(0,"span",49),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.new," ")}}function Fe(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function qe(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"tr",43),g.bIt("change",function(){g.eBV(Qt);const St=g.XpG(3);return g.Njj(St.setupTableHeadings())}),g.j41(1,"td"),g.EFF(2),g.k0s(),g.j41(3,"td"),g.DNE(4,he,2,1,"span",44)(5,Oe,3,3,"i",45),g.k0s(),g.j41(6,"td"),g.DNE(7,Ae,2,1,"span",46)(8,Fe,3,3,"i",45),g.k0s()()}if(2&Mt){const Qt=On.$implicit,mt=g.XpG(3);g.R7$(2),g.JRh(Qt.propertyName),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.new))}}function Me(Mt,On){if(1&Mt&&(g.j41(0,"div",52)(1,"h4",53),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),g.EFF(8),g.nI1(9,"translate"),g.k0s(),g.j41(10,"th",41),g.EFF(11),g.nI1(12,"translate"),g.k0s(),g.j41(13,"th",41),g.EFF(14),g.nI1(15,"translate"),g.k0s()()(),g.j41(16,"tbody"),g.DNE(17,qe,9,5,"tr",42),g.k0s()()()),2&Mt){const Qt=On.$implicit;g.R7$(2),g.SpI(" ",g.bMT(3,5,Qt.identifier)," "),g.R7$(6),g.JRh(g.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),g.R7$(3),g.JRh(g.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.R7$(3),g.JRh(g.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.R7$(3),g.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function Te(Mt,On){if(1&Mt&&(g.j41(0,"div",50),g.DNE(1,Me,18,13,"div",51),g.k0s()),2&Mt){const Qt=g.XpG();g.R7$(),g.Y8G("ngForOf",Qt.clientKeyValueConflicts)}}function ge(Mt,On){if(1&Mt&&(g.j41(0,"span",47),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.previous," ")}}function $e(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function xe(Mt,On){if(1&Mt&&(g.j41(0,"span",49),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.new," ")}}function pt(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Le(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"tr",43),g.bIt("change",function(){g.eBV(Qt);const St=g.XpG(3);return g.Njj(St.setupTableHeadings())}),g.j41(1,"td"),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"td"),g.DNE(5,ge,2,1,"span",44)(6,$e,3,3,"i",45),g.k0s(),g.j41(7,"td"),g.DNE(8,xe,2,1,"span",46)(9,pt,3,3,"i",45),g.k0s()()}if(2&Mt){const Qt=On.$implicit,mt=g.XpG(3);g.R7$(2),g.JRh(g.bMT(3,5,Qt.propertyName)),g.R7$(3),g.Y8G("ngIf",mt.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.new))}}function Ct(Mt,On){if(1&Mt&&(g.j41(0,"div",52)(1,"h4",53),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),g.EFF(8),g.nI1(9,"translate"),g.k0s(),g.j41(10,"th",41),g.EFF(11),g.nI1(12,"translate"),g.k0s(),g.j41(13,"th",41),g.EFF(14),g.nI1(15,"translate"),g.k0s()()(),g.j41(16,"tbody"),g.DNE(17,Le,10,7,"tr",42),g.k0s()()()),2&Mt){const Qt=On.$implicit;g.R7$(2),g.SpI(" ",g.bMT(3,5,Qt.identifier)," "),g.R7$(6),g.JRh(g.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.R7$(3),g.JRh(g.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.R7$(3),g.JRh(g.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.R7$(3),g.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function ut(Mt,On){if(1&Mt&&(g.j41(0,"div",54)(1,"h3",55),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.DNE(4,Ct,18,13,"div",51),g.k0s()),2&Mt){const Qt=g.XpG();g.R7$(2),g.SpI(" ",g.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),g.R7$(2),g.Y8G("ngForOf",Qt.scopeConflicts)}}function hn(Mt,On){if(1&Mt&&(g.j41(0,"td"),g.EFF(1),g.nI1(2,"beautifyPropertyName"),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.JRh(g.bMT(2,1,Qt.propertyName))}}function mn(Mt,On){if(1&Mt&&(g.j41(0,"td"),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.JRh(Qt.propertyName)}}function Rt(Mt,On){if(1&Mt&&(g.j41(0,"dl",60)(1,"dt",61),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"dd",62),g.EFF(5),g.k0s(),g.j41(6,"dt",61),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.j41(9,"dd",62),g.EFF(10),g.k0s(),g.j41(11,"dt",61),g.EFF(12),g.nI1(13,"translate"),g.k0s(),g.j41(14,"dd",47),g.EFF(15),g.k0s()()),2&Mt){const Qt=g.XpG(2).$implicit;g.R7$(2),g.SpI("",g.bMT(3,6,"Common.URL"),":"),g.R7$(3),g.JRh(Qt.previous.location),g.R7$(2),g.SpI("",g.bMT(8,8,"Clients.Saml.BindingType"),":"),g.R7$(3),g.JRh(Qt.previous.binding),g.R7$(2),g.SpI("",g.bMT(13,10,"Clients.Saml.Index"),":"),g.R7$(3),g.JRh(Qt.previous.index)}}function Dt(Mt,On){1&Mt&&(g.j41(0,"dl")(1,"i",48),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&Mt&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function q(Mt,On){if(1&Mt&&(g.j41(0,"dl",60)(1,"dt",61),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.j41(4,"dd",63),g.EFF(5),g.k0s(),g.j41(6,"dt",61),g.EFF(7),g.nI1(8,"translate"),g.k0s(),g.j41(9,"dd",63),g.EFF(10),g.k0s(),g.j41(11,"dt",61),g.EFF(12),g.nI1(13,"translate"),g.k0s(),g.j41(14,"dd",49),g.EFF(15),g.k0s()()),2&Mt){const Qt=g.XpG(2).$implicit;g.R7$(2),g.SpI("",g.bMT(3,6,"Common.URL"),":"),g.R7$(3),g.JRh(Qt.new.location),g.R7$(2),g.SpI("",g.bMT(8,8,"Clients.Saml.BindingType"),":"),g.R7$(3),g.JRh(Qt.new.binding),g.R7$(2),g.SpI("",g.bMT(13,10,"Clients.Saml.Index"),":"),g.R7$(3),g.JRh(Qt.new.index)}}function Q(Mt,On){1&Mt&&(g.j41(0,"dl")(1,"i",48),g.EFF(2),g.nI1(3,"translate"),g.k0s()()),2&Mt&&(g.R7$(2),g.SpI(" ",g.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function te(Mt,On){if(1&Mt&&(g.qex(0),g.j41(1,"td"),g.DNE(2,Rt,16,12,"dl",59)(3,Dt,4,3,"dl",57),g.k0s(),g.j41(4,"td"),g.DNE(5,q,16,12,"dl",59)(6,Q,4,3,"dl",57),g.k0s(),g.bVm()),2&Mt){const Qt=g.XpG().$implicit,mt=g.XpG(3);g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.new))}}function De(Mt,On){if(1&Mt&&(g.j41(0,"span",47),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG(2).$implicit;g.R7$(),g.SpI(" ",Qt.previous," ")}}function Re(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function at(Mt,On){if(1&Mt&&(g.j41(0,"span",49),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG(2).$implicit;g.R7$(),g.SpI(" ",Qt.new," ")}}function o(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ft(Mt,On){if(1&Mt&&(g.j41(0,"td",64),g.DNE(1,De,2,1,"span",44)(2,Re,3,3,"i",45),g.k0s(),g.j41(3,"td",64),g.DNE(4,at,2,1,"span",46)(5,o,3,3,"i",45),g.k0s()),2&Mt){const Qt=g.XpG().$implicit,mt=g.XpG(3);g.R7$(),g.Y8G("ngIf",mt.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",mt.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!mt.hasValue(Qt.new))}}function Ft(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"tr",43),g.bIt("change",function(){g.eBV(Qt);const St=g.XpG(3);return g.Njj(St.setupTableHeadings())}),g.DNE(1,hn,3,3,"td",57)(2,mn,2,1,"td",57)(3,te,7,4,"ng-container",58)(4,ft,6,4,"ng-template",null,0,g.C5r),g.k0s()}if(2&Mt){const Qt=g.sdS(5),mt=g.XpG().$implicit,St=g.XpG(2);g.R7$(),g.Y8G("ngIf",mt.identifier!=St.summaryConflictsConstants.ClaimMappingsKey),g.R7$(),g.Y8G("ngIf",mt.identifier==St.summaryConflictsConstants.ClaimMappingsKey),g.R7$(),g.Y8G("ngIf",mt.identifier==St.summaryConflictsConstants.sloProperty||mt.identifier==St.summaryConflictsConstants.acsProperty)("ngIfElse",Qt)}}function _t(Mt,On){if(1&Mt&&(g.j41(0,"div",52)(1,"h4",53),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),g.EFF(8),g.nI1(9,"translate"),g.k0s(),g.j41(10,"th",41),g.EFF(11),g.nI1(12,"translate"),g.k0s(),g.j41(13,"th",41),g.EFF(14),g.nI1(15,"translate"),g.k0s()()(),g.j41(16,"tbody"),g.DNE(17,Ft,6,4,"tr",42),g.k0s()()()),2&Mt){const Qt=On.$implicit;g.R7$(2),g.SpI(" ",g.bMT(3,5,Qt.identifier)," "),g.R7$(6),g.JRh(g.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.R7$(3),g.JRh(g.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.R7$(3),g.JRh(g.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.R7$(3),g.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function lt(Mt,On){if(1&Mt&&(g.j41(0,"div",56)(1,"h3",55),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.DNE(4,_t,18,13,"div",51),g.k0s()),2&Mt){const Qt=g.XpG();g.R7$(2),g.SpI(" ",g.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),g.R7$(2),g.Y8G("ngForOf",Qt.serviceProviderConflicts)}}function Pt(Mt,On){if(1&Mt&&(g.j41(0,"td"),g.EFF(1),g.nI1(2,"beautifyPropertyName"),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.JRh(g.bMT(2,1,Qt.propertyName))}}function tn(Mt,On){if(1&Mt&&(g.j41(0,"td"),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.JRh(Qt.propertyName)}}function ct(Mt,On){if(1&Mt&&(g.j41(0,"span",47),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.previous," ")}}function Lt(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ce(Mt,On){if(1&Mt&&(g.j41(0,"span",49),g.EFF(1),g.k0s()),2&Mt){const Qt=g.XpG().$implicit;g.R7$(),g.SpI(" ",Qt.new," ")}}function le(Mt,On){1&Mt&&(g.j41(0,"i",48),g.EFF(1),g.nI1(2,"translate"),g.k0s()),2&Mt&&(g.R7$(),g.SpI(" ",g.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function j(Mt,On){if(1&Mt){const Qt=g.RV6();g.j41(0,"tr",43),g.bIt("change",function(){g.eBV(Qt);const St=g.XpG(3);return g.Njj(St.setupTableHeadings())}),g.DNE(1,Pt,3,3,"td",57)(2,tn,2,1,"td",57),g.j41(3,"td",64),g.DNE(4,ct,2,1,"span",44)(5,Lt,3,3,"i",45),g.k0s(),g.j41(6,"td",64),g.DNE(7,Ce,2,1,"span",46)(8,le,3,3,"i",45),g.k0s()()}if(2&Mt){const Qt=On.$implicit,mt=g.XpG().$implicit,St=g.XpG(2);g.R7$(),g.Y8G("ngIf",mt.identifier!=St.summaryConflictsConstants.ClaimMappingsIdentifier),g.R7$(),g.Y8G("ngIf",mt.identifier==St.summaryConflictsConstants.ClaimMappingsIdentifier),g.R7$(2),g.Y8G("ngIf",St.hasValue(Qt.previous)),g.R7$(),g.Y8G("ngIf",!St.hasValue(Qt.previous)),g.R7$(2),g.Y8G("ngIf",St.hasValue(Qt.new)),g.R7$(),g.Y8G("ngIf",!St.hasValue(Qt.new))}}function ae(Mt,On){if(1&Mt&&(g.j41(0,"div",52)(1,"h4",53),g.EFF(2),g.nI1(3,"beautifyPropertyName"),g.k0s(),g.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),g.EFF(8),g.nI1(9,"translate"),g.k0s(),g.j41(10,"th",41),g.EFF(11),g.nI1(12,"translate"),g.k0s(),g.j41(13,"th",41),g.EFF(14),g.nI1(15,"translate"),g.k0s()()(),g.j41(16,"tbody"),g.DNE(17,j,9,6,"tr",42),g.k0s()()()),2&Mt){const Qt=On.$implicit;g.R7$(2),g.SpI(" ",g.bMT(3,5,Qt.identifier)," "),g.R7$(6),g.JRh(g.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),g.R7$(3),g.JRh(g.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),g.R7$(3),g.JRh(g.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),g.R7$(3),g.Y8G("ngForOf",null==Qt?null:Qt.conflicts)}}function Ge(Mt,On){if(1&Mt&&(g.j41(0,"div",65)(1,"h3",55),g.EFF(2),g.nI1(3,"translate"),g.k0s(),g.DNE(4,ae,18,13,"div",51),g.k0s()),2&Mt){const Qt=g.XpG();g.R7$(2),g.SpI(" ",g.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),g.R7$(2),g.Y8G("ngForOf",Qt.relyingPartyConflicts)}}let tt=(()=>{class Mt extends C.P{set data(Qt){const mt=JSON.parse(JSON.stringify(Qt));this.resource=mt,this.summaryDisplayType=S.n.getSummaryDisplayType(mt.resourceType),this.setupLinkedClients(mt),this.resource.resourceType===t.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(St=>St.identifier===w.ClaimTypes)),this.resource.resourceType===t.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(St=>St.identifier===w.IdentityResources)),this.resource.resourceType===t.ot.Client&&(this.initClient(),this.resource.displayType===w.SamlDisplayType?this.initServiceProvider():this.resource.displayType===w.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===t.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(St=>St.identifier===w.ProtectedResources),this.initScopeConflicts())}constructor(Qt,mt,St){super(),this.importWizardService=Qt,this.translate=mt,this.localizeRouterService=St,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=w}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===S.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Qt){null!==Qt.dependantClients&&0!==Qt.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Qt.dependantClients.filter(mt=>mt.state===t.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Qt.dependantClients.filter(mt=>mt.state===t.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Qt){return Qt.sort((mt,St)=>mt.displayName.localeCompare(St.displayName))}buildHref(Qt){return this.localizeRouterService.translateRoute(`/clients/${Qt}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Qt){return!(null==Qt||(0,p.gP)(Qt.toString()))}initClient(){const Qt=this.resource.conflicts.find(dt=>dt.identifier===w.Client),mt=this.resource.conflicts.find(dt=>dt.identifier===w.ClaimsProperty),St=this.resource.conflicts.find(dt=>dt.identifier===w.PropertiesProperty);Qt&&(this.fieldConflicts=Qt),mt&&this.clientKeyValueConflicts.push(mt),St&&this.clientKeyValueConflicts.push(St)}initRelyingParty(){const Qt=this.resource.conflicts.find(St=>St.identifier===w.RelyingPartyProperty),mt=this.resource.conflicts.find(St=>St.identifier===w.ClaimMappingsKey);Qt&&this.relyingPartyConflicts.push(Qt),mt&&this.relyingPartyConflicts.push(mt)}initServiceProvider(){const Qt=this.resource.conflicts.find(Ut=>Ut.identifier===w.ServiceProviderProperty),mt=this.resource.conflicts.find(Ut=>Ut.identifier===w.ClaimMappingsKey),St=this.resource.conflicts.find(Ut=>Ut.identifier===w.acsProperty),dt=this.resource.conflicts.find(Ut=>Ut.identifier===w.sloProperty);Qt&&this.serviceProviderConflicts.push(Qt),mt&&this.serviceProviderConflicts.push(mt),St&&this.serviceProviderConflicts.push(St),dt&&this.serviceProviderConflicts.push(dt)}initScopeConflicts(){const Qt=this.resource.conflicts.filter(mt=>mt.identifier!==w.ProtectedResources);void 0!==Qt&&(Qt.forEach(mt=>{const St=mt.conflicts.find(dt=>dt.propertyName===w.UserClaimsProperty);St&&(St.new=St.new.join(", "),St.previous=St.previous.join(", "))}),this.scopeConflicts=Qt)}static{this.\u0275fac=function(mt){return new(mt||Mt)(g.rXU(h.o),g.rXU(E.c$),g.rXU(v.QG))}}static{this.\u0275cmp=g.VBU({type:Mt,selectors:[["app-import-summary-conflicts"]],viewQuery:function(mt,St){if(1&mt&&g.GBs(a,7),2&mt){let dt;g.mGM(dt=g.lsd())&&(St.importSummaryConflictsModal=dt.first)}},features:[g.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(mt,St){1&mt&&(g.j41(0,"div",1)(1,"h2",2)(2,"span",3),g.EFF(3),g.nI1(4,"translate"),g.k0s(),g.j41(5,"span"),g.EFF(6),g.k0s()(),g.j41(7,"div",4)(8,"p"),g.EFF(9),g.nI1(10,"translate"),g.k0s()(),g.DNE(11,de,10,8,"div",5)(12,K,15,10,"div",6)(13,Te,2,1,"div",7)(14,ut,5,4,"div",8)(15,lt,5,4,"div",9)(16,Ge,5,4,"div",10),g.k0s(),g.nrm(17,"div",11),g.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),g.bIt("click",function(){return St.accept()}),g.EFF(22),g.nI1(23,"translate"),g.k0s(),g.j41(24,"button",16),g.bIt("click",function(){return St.decline()}),g.EFF(25),g.nI1(26,"translate"),g.k0s()(),g.j41(27,"button",17),g.bIt("click",function(){return St.back()}),g.EFF(28),g.nI1(29,"translate"),g.k0s()()()),2&mt&&(g.R7$(3),g.SpI("",g.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+St.summaryDisplayType),":"),g.R7$(3),g.JRh(null==St.resource?null:St.resource.displayName),g.R7$(3),g.JRh(g.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+St.summaryDisplayType)),g.R7$(2),g.Y8G("ngIf",St.displayLinkedClients),g.R7$(),g.Y8G("ngIf",St.fieldConflicts&&St.fieldConflicts.conflicts.length>0),g.R7$(),g.Y8G("ngIf",St.clientKeyValueConflicts.length>0),g.R7$(),g.Y8G("ngIf",St.scopeConflicts.length>0),g.R7$(),g.Y8G("ngIf",St.serviceProviderConflicts.length>0),g.R7$(),g.Y8G("ngIf",St.relyingPartyConflicts.length>0),g.R7$(6),g.JRh(g.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),g.R7$(3),g.JRh(g.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),g.R7$(3),g.JRh(g.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[B.Sq,B.bT,E.D9,U],encapsulation:2})}}return Mt})()},7728:(nt,ye,d)=>{"use strict";d.d(ye,{z:()=>ne});var t=d(1744),e=d(4414),p=d(590),S=d(6799),C=d(4438),w=d(5826),g=d(1780),h=d(177),E=d(9417);const v=I=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":I});function B(I,pe){if(1&I){const K=C.RV6();C.j41(0,"th",21)(1,"label",22)(2,"input",23),C.mxI("ngModelChange",function(Oe){C.eBV(K);const Ae=C.XpG();return C.DH7(Ae.allSelected,Oe)||(Ae.allSelected=Oe),C.Njj(Oe)}),C.bIt("change",function(){C.eBV(K);const Oe=C.XpG();return C.Njj(Oe.toggleAllSelected())}),C.k0s()()()}if(2&I){const K=C.XpG();C.R7$(2),C.R50("ngModel",K.allSelected)}}function U(I,pe){if(1&I&&(C.j41(0,"th",24),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&I){const K=C.XpG();C.R7$(),C.JRh(C.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+K.summaryDisplayType))}}function a(I,pe){1&I&&(C.j41(0,"th",25),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&I&&(C.R7$(),C.SpI("",C.bMT(2,1,"Nav.Clients")," *"))}function k(I,pe){if(1&I){const K=C.RV6();C.j41(0,"label",22)(1,"input",23),C.nI1(2,"translate"),C.mxI("ngModelChange",function(Oe){C.eBV(K);const Ae=C.XpG(2).$implicit;return C.DH7(Ae.selected,Oe)||(Ae.selected=Oe),C.Njj(Oe)}),C.bIt("change",function(){C.eBV(K);const Oe=C.XpG(3);return C.Njj(Oe.selectionChanged())}),C.k0s()()}if(2&I){const K=C.XpG(2).$implicit;C.R7$(),C.R50("ngModel",K.selected),C.BMQ("aria-label",C.bMT(2,2,"Common.Add"))}}function O(I,pe){if(1&I&&(C.j41(0,"td",21),C.DNE(1,k,3,4,"label",32),C.k0s()),2&I){const K=C.XpG().$implicit;C.R7$(),C.Y8G("ngIf",K.isSelectable)}}function P(I,pe){if(1&I){const K=C.RV6();C.j41(0,"td",33),C.bIt("click",function(){C.eBV(K);const Oe=C.XpG().$implicit,Ae=C.XpG();return C.Njj(Ae.toggle(Oe))}),C.EFF(1),C.k0s()}if(2&I){const K=C.XpG().$implicit;C.Y8G("title",K.identifier),C.R7$(),C.SpI(" ",K.identifier," ")}}function W(I,pe){if(1&I&&(C.j41(0,"td",34),C.EFF(1),C.k0s()),2&I){const K=C.XpG().$implicit,he=C.XpG();C.R7$(),C.SpI(" ",he.displayLinkedClients(K)," ")}}function N(I,pe){1&I&&C.nrm(0,"span",40)}function H(I,pe){if(1&I){const K=C.RV6();C.qex(0),C.j41(1,"td",35),C.bIt("click",function(Oe){C.eBV(K);const Ae=C.XpG().$implicit,Fe=C.XpG();return C.Njj(Fe.viewConflicts(Oe,Ae))}),C.DNE(2,N,1,0,"span",36),C.k0s(),C.j41(3,"td",37),C.bIt("click",function(Oe){C.eBV(K);const Ae=C.XpG().$implicit,Fe=C.XpG();return C.Njj(Fe.viewConflicts(Oe,Ae))}),C.j41(4,"button",38),C.bIt("click",function(Oe){C.eBV(K);const Ae=C.XpG().$implicit,Fe=C.XpG();return C.Njj(Fe.viewConflicts(Oe,Ae))}),C.j41(5,"span",39),C.EFF(6),C.k0s()()(),C.bVm()}if(2&I){const K=C.XpG().$implicit,he=C.XpG();C.R7$(2),C.Y8G("ngIf",K.resourceState==he.resourceStates.Conflicted),C.R7$(4),C.JRh(he.getConflicts(K))}}function G(I,pe){1&I&&C.nrm(0,"span",45)}function z(I,pe){1&I&&C.nrm(0,"span",46)}function ce(I,pe){1&I&&C.nrm(0,"span",40)}function de(I,pe){if(1&I){const K=C.RV6();C.qex(0),C.j41(1,"td",41),C.bIt("click",function(){C.eBV(K);const Oe=C.XpG().$implicit,Ae=C.XpG();return C.Njj(Ae.toggle(Oe))}),C.DNE(2,G,1,0,"span",42)(3,z,1,0,"span",43)(4,ce,1,0,"span",36),C.k0s(),C.j41(5,"td",44),C.bIt("click",function(){C.eBV(K);const Oe=C.XpG().$implicit,Ae=C.XpG();return C.Njj(Ae.toggle(Oe))}),C.j41(6,"span",39),C.EFF(7),C.k0s()(),C.bVm()}if(2&I){const K=C.XpG().$implicit,he=C.XpG();C.R7$(2),C.Y8G("ngIf",K.resourceState==he.resourceStates.New),C.R7$(),C.Y8G("ngIf",K.resourceState==he.resourceStates.Duplicate),C.R7$(),C.Y8G("ngIf",K.conflictedByDependencies),C.R7$(2),C.AVh("tw-italic",!K.isSelectable),C.R7$(),C.SpI(" ",he.getResourceState(K)," ")}}function Y(I,pe){if(1&I){const K=C.RV6();C.j41(0,"tr",26),C.DNE(1,O,2,1,"td",3),C.j41(2,"td",27),C.bIt("click",function(){const Oe=C.eBV(K).$implicit,Ae=C.XpG();return C.Njj(Ae.toggle(Oe))}),C.j41(3,"b"),C.EFF(4),C.k0s()(),C.DNE(5,P,2,2,"td",28),C.j41(6,"td",29),C.bIt("click",function(){const Oe=C.eBV(K).$implicit,Ae=C.XpG();return C.Njj(Ae.toggle(Oe))}),C.EFF(7),C.nI1(8,"translate"),C.k0s(),C.DNE(9,W,2,1,"td",30)(10,H,7,2,"ng-container",31)(11,de,8,6,"ng-container",31),C.k0s()}if(2&I){const K=pe.$implicit,he=C.XpG();C.Y8G("ngClass",C.eq3(11,v,K.resourceState===he.resourceStates.Duplicate)),C.R7$(),C.Y8G("ngIf",he.showSelectAll()),C.R7$(),C.Y8G("title",K.displayName),C.R7$(2),C.JRh(K.displayName),C.R7$(),C.Y8G("ngIf","ClaimType"!==he.summaryDisplayType),C.R7$(2),C.SpI(" ",C.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+K.displayType)," "),C.R7$(2),C.Y8G("ngIf","Client"!==he.summaryDisplayType),C.R7$(),C.Y8G("ngIf",K.resourceState===he.resourceStates.Conflicted&&!K.conflictedByDependencies),C.R7$(),C.Y8G("ngIf",K.resourceState!==he.resourceStates.Conflicted||K.conflictedByDependencies)}}function Z(I,pe){1&I&&(C.j41(0,"p",47),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&I&&(C.R7$(),C.SpI(" * ",C.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let ne=(()=>{class I extends S.P{get data(){return this._importResourceType}set data(K){this._importResourceType=K}constructor(K,he){super(),this.importWizardService=K,this.translate=he,this.resourceStates=t.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=p.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(K=>{K.every(Oe=>Oe.resourceType===t.ot.Client)&&(this.nextImport=!0);let he=K.filter(Oe=>this.data.includes(Oe.resourceType));if(!this.data.includes(t.ot.Client)){const Oe=K.filter(Ae=>Ae.resourceType===t.ot.Client&&!0===Ae.selected).map(Ae=>Ae.identifier);he=he.filter(Ae=>Ae.dependantClients.map(Fe=>Fe.identifier).some(Fe=>Oe.includes(Fe)))}if(1===this.data.length&&this.data.includes(t.ot.Client)){const Oe=he.filter(Fe=>Fe.resourceState===t.jD.Duplicate),Ae=K.filter(Fe=>Fe.resourceType!==t.ot.Client&&Fe.dependantClients.length>0&&Fe.resourceState===t.jD.Conflicted);Oe.forEach(Fe=>{Ae.filter(Me=>Me.dependantClients.some(Te=>Te.identifier===Fe.identifier)).length>0&&(Fe.resourceState=t.jD.Conflicted,Fe.selected=!0,Fe.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(he),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(K=>K.selected)||this.displayData.every(K=>!1===K.isSelectable)&&this.summaryDisplayType!==p.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===p.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(K=>K.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(K=>K.resourceState!==this.resourceStates.Duplicate).every(K=>!0===K.selected)}toggle(K){K.isSelectable&&(K.selected=!K.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(K=>K.selected=this.allSelected),this.selectionChanged()}getConflicts(K){let Oe,he=0;return K.conflicts.forEach(Ae=>{he+=Ae.conflicts.length}),Oe=this.translate.instant(1===he?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),he+" "+Oe}viewConflicts(K,he){K.stopPropagation(),this.openModal(e.M.summaryConflicts,he)}showSelectAll(){return this.displayData.some(K=>K.isSelectable)&&!this.displayData.every(K=>K.resourceState===t.jD.Duplicate)}displayLinkedClients(K){return null===K.dependantClients||0===K.dependantClients.length?"-":K.dependantClients.length.toString()}getResourceState(K){return K.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[K.resourceState]}static{this.\u0275fac=function(he){return new(he||I)(C.rXU(w.o),C.rXU(g.c$))}}static{this.\u0275cmp=C.VBU({type:I,selectors:[["app-import-summary"]],features:[C.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(he,Oe){1&he&&(C.j41(0,"div",0)(1,"div",1)(2,"p"),C.EFF(3),C.nI1(4,"translate"),C.k0s()(),C.j41(5,"table",2)(6,"thead")(7,"tr"),C.DNE(8,B,3,1,"th",3),C.j41(9,"th",4),C.EFF(10),C.nI1(11,"translate"),C.k0s(),C.DNE(12,U,3,3,"th",5),C.j41(13,"th",6),C.EFF(14),C.nI1(15,"translate"),C.k0s(),C.DNE(16,a,3,3,"th",7),C.nrm(17,"td",8),C.j41(18,"th",9)(19,"span",10),C.EFF(20),C.nI1(21,"translate"),C.k0s()()()(),C.j41(22,"tbody",11),C.DNE(23,Y,12,13,"tr",12),C.k0s()(),C.DNE(24,Z,3,3,"p",13),C.k0s(),C.nrm(25,"div",14),C.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),C.bIt("click",function(){return Oe.goNext()}),C.EFF(30),C.k0s(),C.j41(31,"button",19),C.bIt("click",function(){return Oe.goBack()}),C.EFF(32),C.nI1(33,"translate"),C.k0s()(),C.j41(34,"button",20),C.bIt("click",function(){return Oe.cancel()}),C.EFF(35),C.nI1(36,"translate"),C.k0s()()()),2&he&&(C.R7$(3),C.JRh(C.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Oe.summaryDisplayType)),C.R7$(2),C.AVh("selectable",Oe.showSelectAll()),C.R7$(3),C.Y8G("ngIf",Oe.showSelectAll()),C.R7$(2),C.JRh(C.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Oe.summaryDisplayType)),C.R7$(2),C.Y8G("ngIf","ClaimType"!==Oe.summaryDisplayType),C.R7$(2),C.JRh(C.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Oe.summaryDisplayType)),C.R7$(2),C.Y8G("ngIf","Client"!==Oe.summaryDisplayType),C.R7$(4),C.JRh(C.bMT(21,21,"Common.Status")),C.R7$(3),C.Y8G("ngForOf",Oe.displayData),C.R7$(),C.Y8G("ngIf","Client"!==Oe.summaryDisplayType),C.R7$(5),C.Y8G("disabled",!Oe.canNext()),C.R7$(),C.JRh(Oe.getNextText()),C.R7$(2),C.JRh(C.bMT(33,23,"Common.Back")),C.R7$(3),C.JRh(C.bMT(36,25,"Common.Cancel")))},dependencies:[h.YU,h.Sq,h.bT,E.Zm,E.BC,E.vS,g.D9],encapsulation:2})}}return I})()},6799:(nt,ye,d)=>{"use strict";d.d(ye,{P:()=>t});class t{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(p){this._data=p}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(p,S){this.importWizardController.insertAndOpenStep(p,S)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},2653:(nt,ye,d)=>{"use strict";d.d(ye,{f:()=>e});var t=d(4438);let e=(()=>{class p{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(w){return new(w||p)}}static{this.\u0275prov=t.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},9006:(nt,ye,d)=>{"use strict";d.d(ye,{b:()=>v});var t=d(4438),e=d(9417),p=d(177),S=d(1780),C=d(2467);function w(B,U){if(1&B&&(t.j41(0,"span",17),t.EFF(1),t.k0s()),2&B){const a=U.$implicit;t.R7$(),t.JRh(a)}}function g(B,U){if(1&B){const a=t.RV6();t.j41(0,"tr",11)(1,"td",12),t.bIt("click",function(){t.eBV(a);const O=t.XpG().$implicit,P=t.XpG();return t.Njj(P.jumpToTab(O.stepName))}),t.j41(2,"b"),t.EFF(3),t.nI1(4,"keyToString"),t.nI1(5,"translate"),t.k0s()(),t.j41(6,"td",13),t.bIt("click",function(){t.eBV(a);const O=t.XpG().$implicit,P=t.XpG();return t.Njj(P.jumpToTab(O.stepName))}),t.DNE(7,w,2,1,"span",14),t.k0s(),t.j41(8,"td",12),t.bIt("click",function(){t.eBV(a);const O=t.XpG().$implicit,P=t.XpG();return t.Njj(P.jumpToTab(O.stepName))}),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(a);const O=t.XpG().$implicit,P=t.XpG();return t.Njj(P.jumpToTab(O.stepName))}),t.nrm(10,"span",16),t.j41(11,"span",2),t.EFF(12),t.nI1(13,"translate"),t.k0s()()()()}if(2&B){const a=U.$implicit;t.R7$(3),t.JRh(t.bMT(5,5,t.bMT(4,3,a.key))),t.R7$(4),t.Y8G("ngForOf",a.value),t.R7$(5),t.JRh(t.bMT(13,7,"Common.Edit"))}}function h(B,U){if(1&B&&(t.qex(0),t.DNE(1,g,14,9,"tr",10),t.nI1(2,"keyvalue"),t.bVm()),2&B){const a=U.$implicit;t.R7$(),t.Y8G("ngForOf",t.bMT(2,1,a.stepData))}}function E(B,U){if(1&B&&(t.j41(0,"form",18)(1,"div",19),t.nrm(2,"input",20),t.j41(3,"label",21),t.EFF(4),t.nI1(5,"translate"),t.k0s()()()),2&B){const a=t.XpG();t.Y8G("formGroup",a.summaryForm),t.R7$(),t.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),t.R7$(3),t.JRh(t.bMT(5,3,"Common.Enabled"))}}let v=(()=>{class B{constructor(a){this.fb=a,this.askIfEnabled=!1,this.emitNavigate=new t.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(a){this.emitNavigate.emit(a)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(k){return new(k||B)(t.rXU(e.ze))}}static{this.\u0275cmp=t.VBU({type:B,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(k,O){1&k&&(t.j41(0,"div",0)(1,"p"),t.EFF(2),t.nI1(3,"translate"),t.k0s()(),t.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),t.EFF(8),t.nI1(9,"translate"),t.k0s(),t.j41(10,"th"),t.EFF(11),t.nI1(12,"translate"),t.k0s(),t.j41(13,"th")(14,"span",2),t.EFF(15),t.nI1(16,"translate"),t.k0s()()()(),t.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),t.EFF(21),t.nI1(22,"translate"),t.k0s()(),t.j41(23,"td",5)(24,"span",6),t.EFF(25),t.nI1(26,"translate"),t.k0s()(),t.nrm(27,"td",7),t.k0s(),t.DNE(28,h,3,3,"ng-container",8),t.k0s()(),t.DNE(29,E,6,5,"form",9)),2&k&&(t.R7$(2),t.JRh(t.bMT(3,8,"Common.Wizards.Review")),t.R7$(6),t.JRh(t.bMT(9,10,"Common.Key")),t.R7$(3),t.JRh(t.bMT(12,12,"Common.Value")),t.R7$(4),t.JRh(t.bMT(16,14,"Common.Actions")),t.R7$(6),t.JRh(t.bMT(22,16,"Common.Type")),t.R7$(4),t.JRh(t.bMT(26,18,O.summaryTitle)),t.R7$(3),t.Y8G("ngForOf",O.summary),t.R7$(),t.Y8G("ngIf",O.askIfEnabled))},dependencies:[p.YU,p.Sq,p.bT,e.qT,e.Zm,e.BC,e.cb,e.j4,e.JD,p.lG,S.D9,C.C],encapsulation:2})}}return B})()},9947:(nt,ye,d)=>{"use strict";d.d(ye,{a:()=>H});var t=d(9417),e=d(177),p=d(1780),S=d(8400),C=d(1683),w=d(4179),g=d(2571),h=d(5826),E=d(7175),v=d(5847),B=d(779),U=d(534),a=d(6193),k=d(75),O=d(8389),P=d(2653),W=d(7677),N=d(4438);let H=(()=>{class G{static{this.\u0275fac=function(de){return new(de||G)}}static{this.\u0275mod=N.$C({type:G})}static{this.\u0275inj=N.G2t({providers:[P.f,h.o,v.a,a.V],imports:[e.MD,t.YN,t.X1,S.qP,p.h,U.Ss,C.Y,B.Q_,w.z,g.A,E.c,k.U,O.w,W.N]})}}return G})()},316:(nt,ye,d)=>{"use strict";function t(e){const p=e.value;if(null==p)return{validEmail:!1};if(p.indexOf(" ")>-1)return{validEmail:!1};let S=!1;for(let C=0;C<p.length;C++)if("@"===e.value[C]){if(S||0===C||C===p.length-1)return{validEmail:!1};S=!0}return S?null:{validEmail:!1}}d.d(ye,{D:()=>t})},3065:(nt,ye,d)=>{"use strict";var t=d(345),e=d(4438),p=d(9417),S=d(1626),C=d(9969);function g(l){return new e.wOt(3e3,!1)}function hn(l){switch(l.length){case 0:return new C.sf;case 1:return l[0];default:return new C.ui(l)}}function mn(l,y,r=new Map,c=new Map){const m=[],D=[];let ie=-1,Ne=null;if(y.forEach(et=>{const wt=et.get("offset"),Jt=wt==ie,fn=Jt&&Ne||new Map;et.forEach((En,Nn)=>{let Wn=Nn,zn=En;if("offset"!==Nn)switch(Wn=l.normalizePropertyName(Wn,m),zn){case C.FX:zn=r.get(Nn);break;case C.kp:zn=c.get(Nn);break;default:zn=l.normalizeStyleValue(Nn,Wn,zn,m)}fn.set(Wn,zn)}),Jt||D.push(fn),Ne=fn,ie=wt}),m.length)throw function Oe(l){return new e.wOt(3502,!1)}();return D}function Rt(l,y,r,c){switch(y){case"start":l.onStart(()=>c(r&&Dt(r,"start",l)));break;case"done":l.onDone(()=>c(r&&Dt(r,"done",l)));break;case"destroy":l.onDestroy(()=>c(r&&Dt(r,"destroy",l)))}}function Dt(l,y,r){const D=q(l.element,l.triggerName,l.fromState,l.toState,y||l.phaseName,r.totalTime??l.totalTime,!!r.disabled),ie=l._data;return null!=ie&&(D._data=ie),D}function q(l,y,r,c,m="",D=0,ie){return{element:l,triggerName:y,fromState:r,toState:c,phaseName:m,totalTime:D,disabled:!!ie}}function Q(l,y,r){let c=l.get(y);return c||l.set(y,c=r),c}function te(l){const y=l.indexOf(":");return[l.substring(1,y),l.slice(y+1)]}const De=typeof document>"u"?null:document.documentElement;function Re(l){const y=l.parentNode||l.host||null;return y===De?null:y}let o=null,ft=!1;function Pt(l,y){for(;y;){if(y===l)return!0;y=Re(y)}return!1}function tn(l,y,r){if(r)return Array.from(l.querySelectorAll(y));const c=l.querySelector(y);return c?[c]:[]}let Lt=(()=>{class l{validateStyleProperty(r){return function Ft(l){o||(o=function lt(){return typeof document<"u"?document.body:null}()||{},ft=!!o.style&&"WebkitAppearance"in o.style);let y=!0;return o.style&&!function at(l){return"ebkit"==l.substring(1,6)}(l)&&(y=l in o.style,!y&&ft&&(y="Webkit"+l.charAt(0).toUpperCase()+l.slice(1)in o.style)),y}(r)}matchesElement(r,c){return!1}containsElement(r,c){return Pt(r,c)}getParentElement(r){return Re(r)}query(r,c,m){return tn(r,c,m)}computeStyle(r,c,m){return m||""}animate(r,c,m,D,ie,Ne=[],et){return new C.sf(m,D)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();class Ce{static{this.NOOP=new Lt}}class le{}const ae=1e3,vt="ng-enter",Bt="ng-leave",ln="ng-trigger",sn=".ng-trigger",Pn="ng-animating",$n=".ng-animating";function Vn(l){if("number"==typeof l)return l;const y=l.match(/^(-?[\.\d]+)(m?s)/);return!y||y.length<2?0:Mt(parseFloat(y[1]),y[2])}function Mt(l,y){return"s"===y?l*ae:l}function On(l,y,r){return l.hasOwnProperty("duration")?l:function Qt(l,y,r){let m,D=0,ie="";if("string"==typeof l){const Ne=l.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ne)return y.push(g()),{duration:0,delay:0,easing:""};m=Mt(parseFloat(Ne[1]),Ne[2]);const et=Ne[3];null!=et&&(D=Mt(parseFloat(et),Ne[4]));const wt=Ne[5];wt&&(ie=wt)}else m=l;if(!r){let Ne=!1,et=y.length;m<0&&(y.push(function h(){return new e.wOt(3100,!1)}()),Ne=!0),D<0&&(y.push(function E(){return new e.wOt(3101,!1)}()),Ne=!0),Ne&&y.splice(et,0,g())}return{duration:m,delay:D,easing:ie}}(l,y,r)}function dt(l,y,r){y.forEach((c,m)=>{const D=xt(m);r&&!r.has(m)&&r.set(m,l.style[D]),l.style[D]=c})}function Ut(l,y){y.forEach((r,c)=>{const m=xt(c);l.style[m]=""})}function rn(l){return Array.isArray(l)?1==l.length?l[0]:(0,C.K2)(l):l}const Jn=new RegExp("{{\\s*(.+?)\\s*}}","g");function yn(l){let y=[];if("string"==typeof l){let r;for(;r=Jn.exec(l);)y.push(r[1]);Jn.lastIndex=0}return y}function yi(l,y,r){const c=`${l}`,m=c.replace(Jn,(D,ie)=>{let Ne=y[ie];return null==Ne&&(r.push(function B(l){return new e.wOt(3003,!1)}()),Ne=""),Ne.toString()});return m==c?l:m}const ii=/-+([a-z0-9])/g;function xt(l){return l.replace(ii,(...y)=>y[1].toUpperCase())}function en(l,y,r){switch(y.type){case C.If.Trigger:return l.visitTrigger(y,r);case C.If.State:return l.visitState(y,r);case C.If.Transition:return l.visitTransition(y,r);case C.If.Sequence:return l.visitSequence(y,r);case C.If.Group:return l.visitGroup(y,r);case C.If.Animate:return l.visitAnimate(y,r);case C.If.Keyframes:return l.visitKeyframes(y,r);case C.If.Style:return l.visitStyle(y,r);case C.If.Reference:return l.visitReference(y,r);case C.If.AnimateChild:return l.visitAnimateChild(y,r);case C.If.AnimateRef:return l.visitAnimateRef(y,r);case C.If.Query:return l.visitQuery(y,r);case C.If.Stagger:return l.visitStagger(y,r);default:throw function U(l){return new e.wOt(3004,!1)}()}}function Rn(l,y){return window.getComputedStyle(l)[y]}const Sn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class li extends le{normalizePropertyName(y,r){return xt(y)}normalizeStyleValue(y,r,c,m){let D="";const ie=c.toString().trim();if(Sn.has(r)&&0!==c&&"0"!==c)if("number"==typeof c)D="px";else{const Ne=c.match(/^[+-]?[\d\.]+([a-z]*)$/);Ne&&0==Ne[1].length&&m.push(function a(l,y){return new e.wOt(3005,!1)}())}return ie+D}}const ti="*";const Yn=new Set(["true","1"]),Ni=new Set(["false","0"]);function rt(l,y){const r=Yn.has(l)||Ni.has(l),c=Yn.has(y)||Ni.has(y);return(m,D)=>{let ie=l==ti||l==m,Ne=y==ti||y==D;return!ie&&r&&"boolean"==typeof m&&(ie=m?Yn.has(l):Ni.has(l)),!Ne&&c&&"boolean"==typeof D&&(Ne=D?Yn.has(y):Ni.has(y)),ie&&Ne}}const Ye=new RegExp("s*:selfs*,?","g");function Zt(l,y,r,c){return new Xt(l).build(y,r,c)}class Xt{constructor(y){this._driver=y}build(y,r,c){const m=new gn(r);return this._resetContextStyleTimingState(m),en(this,rn(y),m)}_resetContextStyleTimingState(y){y.currentQuerySelector="",y.collectedStyles=new Map,y.collectedStyles.set("",new Map),y.currentTime=0}visitTrigger(y,r){let c=r.queryCount=0,m=r.depCount=0;const D=[],ie=[];return"@"==y.name.charAt(0)&&r.errors.push(function k(){return new e.wOt(3006,!1)}()),y.definitions.forEach(Ne=>{if(this._resetContextStyleTimingState(r),Ne.type==C.If.State){const et=Ne,wt=et.name;wt.toString().split(/\s*,\s*/).forEach(Jt=>{et.name=Jt,D.push(this.visitState(et,r))}),et.name=wt}else if(Ne.type==C.If.Transition){const et=this.visitTransition(Ne,r);c+=et.queryCount,m+=et.depCount,ie.push(et)}else r.errors.push(function O(){return new e.wOt(3007,!1)}())}),{type:C.If.Trigger,name:y.name,states:D,transitions:ie,queryCount:c,depCount:m,options:null}}visitState(y,r){const c=this.visitStyle(y.styles,r),m=y.options&&y.options.params||null;if(c.containsDynamicStyles){const D=new Set,ie=m||{};c.styles.forEach(Ne=>{Ne instanceof Map&&Ne.forEach(et=>{yn(et).forEach(wt=>{ie.hasOwnProperty(wt)||D.add(wt)})})}),D.size&&r.errors.push(function P(l,y){return new e.wOt(3008,!1)}(0,D.values()))}return{type:C.If.State,name:y.name,style:c,options:m?{params:m}:null}}visitTransition(y,r){r.queryCount=0,r.depCount=0;const c=en(this,rn(y.animation),r),m=function Gn(l,y){const r=[];return"string"==typeof l?l.split(/\s*,\s*/).forEach(c=>function Ei(l,y,r){if(":"==l[0]){const et=function Vi(l,y){switch(l){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,c)=>parseFloat(c)>parseFloat(r);case":decrement":return(r,c)=>parseFloat(c)<parseFloat(r);default:return y.push(function I(l){return new e.wOt(3016,!1)}()),"* => *"}}(l,r);if("function"==typeof et)return void y.push(et);l=et}const c=l.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return r.push(function ne(l){return new e.wOt(3015,!1)}()),y;const m=c[1],D=c[2],ie=c[3];y.push(rt(m,ie)),"<"==D[0]&&(m!=ti||ie!=ti)&&y.push(rt(ie,m))}(c,r,y)):r.push(l),r}(y.expr,r.errors);return{type:C.If.Transition,matchers:m,animation:c,queryCount:r.queryCount,depCount:r.depCount,options:ot(y.options)}}visitSequence(y,r){return{type:C.If.Sequence,steps:y.steps.map(c=>en(this,c,r)),options:ot(y.options)}}visitGroup(y,r){const c=r.currentTime;let m=0;const D=y.steps.map(ie=>{r.currentTime=c;const Ne=en(this,ie,r);return m=Math.max(m,r.currentTime),Ne});return r.currentTime=m,{type:C.If.Group,steps:D,options:ot(y.options)}}visitAnimate(y,r){const c=function Xe(l,y){if(l.hasOwnProperty("duration"))return l;if("number"==typeof l)return Vt(On(l,y).duration,0,"");const r=l;if(r.split(/\s+/).some(D=>"{"==D.charAt(0)&&"{"==D.charAt(1))){const D=Vt(0,0,"");return D.dynamic=!0,D.strValue=r,D}const m=On(r,y);return Vt(m.duration,m.delay,m.easing)}(y.timings,r.errors);r.currentAnimateTimings=c;let m,D=y.styles?y.styles:(0,C.iF)({});if(D.type==C.If.Keyframes)m=this.visitKeyframes(D,r);else{let ie=y.styles,Ne=!1;if(!ie){Ne=!0;const wt={};c.easing&&(wt.easing=c.easing),ie=(0,C.iF)(wt)}r.currentTime+=c.duration+c.delay;const et=this.visitStyle(ie,r);et.isEmptyStep=Ne,m=et}return r.currentAnimateTimings=null,{type:C.If.Animate,timings:c,style:m,options:null}}visitStyle(y,r){const c=this._makeStyleAst(y,r);return this._validateStyleAst(c,r),c}_makeStyleAst(y,r){const c=[],m=Array.isArray(y.styles)?y.styles:[y.styles];for(let Ne of m)"string"==typeof Ne?Ne===C.kp?c.push(Ne):r.errors.push(new e.wOt(3002,!1)):c.push(new Map(Object.entries(Ne)));let D=!1,ie=null;return c.forEach(Ne=>{if(Ne instanceof Map&&(Ne.has("easing")&&(ie=Ne.get("easing"),Ne.delete("easing")),!D))for(let et of Ne.values())if(et.toString().indexOf("{{")>=0){D=!0;break}}),{type:C.If.Style,styles:c,easing:ie,offset:y.offset,containsDynamicStyles:D,options:null}}_validateStyleAst(y,r){const c=r.currentAnimateTimings;let m=r.currentTime,D=r.currentTime;c&&D>0&&(D-=c.duration+c.delay),y.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((Ne,et)=>{const wt=r.collectedStyles.get(r.currentQuerySelector),Jt=wt.get(et);let fn=!0;Jt&&(D!=m&&D>=Jt.startTime&&m<=Jt.endTime&&(r.errors.push(function H(l,y,r,c,m){return new e.wOt(3010,!1)}()),fn=!1),D=Jt.startTime),fn&&wt.set(et,{startTime:D,endTime:m}),r.options&&function Tn(l,y,r){const c=y.params||{},m=yn(l);m.length&&m.forEach(D=>{c.hasOwnProperty(D)||r.push(function v(l){return new e.wOt(3001,!1)}())})}(Ne,r.options,r.errors)})})}visitKeyframes(y,r){const c={type:C.If.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(function G(){return new e.wOt(3011,!1)}()),c;let D=0;const ie=[];let Ne=!1,et=!1,wt=0;const Jt=y.steps.map(ji=>{const Bi=this._makeStyleAst(ji,r);let Ji=null!=Bi.offset?Bi.offset:function Ue(l){if("string"==typeof l)return null;let y=null;if(Array.isArray(l))l.forEach(r=>{if(r instanceof Map&&r.has("offset")){const c=r;y=parseFloat(c.get("offset")),c.delete("offset")}});else if(l instanceof Map&&l.has("offset")){const r=l;y=parseFloat(r.get("offset")),r.delete("offset")}return y}(Bi.styles),Ci=0;return null!=Ji&&(D++,Ci=Bi.offset=Ji),et=et||Ci<0||Ci>1,Ne=Ne||Ci<wt,wt=Ci,ie.push(Ci),Bi});et&&r.errors.push(function z(){return new e.wOt(3012,!1)}()),Ne&&r.errors.push(function ce(){return new e.wOt(3200,!1)}());const fn=y.steps.length;let En=0;D>0&&D<fn?r.errors.push(function de(){return new e.wOt(3202,!1)}()):0==D&&(En=1/(fn-1));const Nn=fn-1,Wn=r.currentTime,zn=r.currentAnimateTimings,fi=zn.duration;return Jt.forEach((ji,Bi)=>{const Ji=En>0?Bi==Nn?1:En*Bi:ie[Bi],Ci=Ji*fi;r.currentTime=Wn+zn.delay+Ci,zn.duration=Ci,this._validateStyleAst(ji,r),ji.offset=Ji,c.styles.push(ji)}),c}visitReference(y,r){return{type:C.If.Reference,animation:en(this,rn(y.animation),r),options:ot(y.options)}}visitAnimateChild(y,r){return r.depCount++,{type:C.If.AnimateChild,options:ot(y.options)}}visitAnimateRef(y,r){return{type:C.If.AnimateRef,animation:this.visitReference(y.animation,r),options:ot(y.options)}}visitQuery(y,r){const c=r.currentQuerySelector,m=y.options||{};r.queryCount++,r.currentQuery=y;const[D,ie]=function $t(l){const y=!!l.split(/\s*,\s*/).find(r=>":self"==r);return y&&(l=l.replace(Ye,"")),l=l.replace(/@\*/g,sn).replace(/@\w+/g,r=>sn+"-"+r.slice(1)).replace(/:animating/g,$n),[l,y]}(y.selector);r.currentQuerySelector=c.length?c+" "+D:D,Q(r.collectedStyles,r.currentQuerySelector,new Map);const Ne=en(this,rn(y.animation),r);return r.currentQuery=null,r.currentQuerySelector=c,{type:C.If.Query,selector:D,limit:m.limit||0,optional:!!m.optional,includeSelf:ie,animation:Ne,originalSelector:y.selector,options:ot(y.options)}}visitStagger(y,r){r.currentQuery||r.errors.push(function Y(){return new e.wOt(3013,!1)}());const c="full"===y.timings?{duration:0,delay:0,easing:"full"}:On(y.timings,r.errors,!0);return{type:C.If.Stagger,animation:en(this,rn(y.animation),r),timings:c,options:null}}}class gn{constructor(y){this.errors=y,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ot(l){return l?(l={...l}).params&&(l.params=function an(l){return l?{...l}:null}(l.params)):l={},l}function Vt(l,y,r){return{duration:l,delay:y,easing:r}}function _n(l,y,r,c,m,D,ie=null,Ne=!1){return{type:1,element:l,keyframes:y,preStyleProps:r,postStyleProps:c,duration:m,delay:D,totalTime:m+D,easing:ie,subTimeline:Ne}}class bn{constructor(){this._map=new Map}get(y){return this._map.get(y)||[]}append(y,r){let c=this._map.get(y);c||this._map.set(y,c=[]),c.push(...r)}has(y){return this._map.has(y)}clear(){this._map.clear()}}const _i=new RegExp(":enter","g"),Ti=new RegExp(":leave","g");function mi(l,y,r,c,m,D=new Map,ie=new Map,Ne,et,wt=[]){return(new rr).buildKeyframes(l,y,r,c,m,D,ie,Ne,et,wt)}class rr{buildKeyframes(y,r,c,m,D,ie,Ne,et,wt,Jt=[]){wt=wt||new bn;const fn=new ei(y,r,wt,m,D,Jt,[]);fn.options=et;const En=et.delay?Vn(et.delay):0;fn.currentTimeline.delayNextStep(En),fn.currentTimeline.setStyles([ie],null,fn.errors,et),en(this,c,fn);const Nn=fn.timelines.filter(Wn=>Wn.containsAnimation());if(Nn.length&&Ne.size){let Wn;for(let zn=Nn.length-1;zn>=0;zn--){const fi=Nn[zn];if(fi.element===r){Wn=fi;break}}Wn&&!Wn.allowOnlyTimelineStyles()&&Wn.setStyles([Ne],null,fn.errors,et)}return Nn.length?Nn.map(Wn=>Wn.buildKeyframes()):[_n(r,[],[],[],0,En,"",!1)]}visitTrigger(y,r){}visitState(y,r){}visitTransition(y,r){}visitAnimateChild(y,r){const c=r.subInstructions.get(r.element);if(c){const m=r.createSubContext(y.options),D=r.currentTimeline.currentTime,ie=this._visitSubInstructions(c,m,m.options);D!=ie&&r.transformIntoNewTimeline(ie)}r.previousNode=y}visitAnimateRef(y,r){const c=r.createSubContext(y.options);c.transformIntoNewTimeline(),this._applyAnimationRefDelays([y.options,y.animation.options],r,c),this.visitReference(y.animation,c),r.transformIntoNewTimeline(c.currentTimeline.currentTime),r.previousNode=y}_applyAnimationRefDelays(y,r,c){for(const m of y){const D=m?.delay;if(D){const ie="number"==typeof D?D:Vn(yi(D,m?.params??{},r.errors));c.delayNextStep(ie)}}}_visitSubInstructions(y,r,c){let D=r.currentTimeline.currentTime;const ie=null!=c.duration?Vn(c.duration):null,Ne=null!=c.delay?Vn(c.delay):null;return 0!==ie&&y.forEach(et=>{const wt=r.appendInstructionToTimeline(et,ie,Ne);D=Math.max(D,wt.duration+wt.delay)}),D}visitReference(y,r){r.updateOptions(y.options,!0),en(this,y.animation,r),r.previousNode=y}visitSequence(y,r){const c=r.subContextCount;let m=r;const D=y.options;if(D&&(D.params||D.delay)&&(m=r.createSubContext(D),m.transformIntoNewTimeline(),null!=D.delay)){m.previousNode.type==C.If.Style&&(m.currentTimeline.snapshotCurrentStyles(),m.previousNode=br);const ie=Vn(D.delay);m.delayNextStep(ie)}y.steps.length&&(y.steps.forEach(ie=>en(this,ie,m)),m.currentTimeline.applyStylesToKeyframe(),m.subContextCount>c&&m.transformIntoNewTimeline()),r.previousNode=y}visitGroup(y,r){const c=[];let m=r.currentTimeline.currentTime;const D=y.options&&y.options.delay?Vn(y.options.delay):0;y.steps.forEach(ie=>{const Ne=r.createSubContext(y.options);D&&Ne.delayNextStep(D),en(this,ie,Ne),m=Math.max(m,Ne.currentTimeline.currentTime),c.push(Ne.currentTimeline)}),c.forEach(ie=>r.currentTimeline.mergeTimelineCollectedStyles(ie)),r.transformIntoNewTimeline(m),r.previousNode=y}_visitTiming(y,r){if(y.dynamic){const c=y.strValue;return On(r.params?yi(c,r.params,r.errors):c,r.errors)}return{duration:y.duration,delay:y.delay,easing:y.easing}}visitAnimate(y,r){const c=r.currentAnimateTimings=this._visitTiming(y.timings,r),m=r.currentTimeline;c.delay&&(r.incrementTime(c.delay),m.snapshotCurrentStyles());const D=y.style;D.type==C.If.Keyframes?this.visitKeyframes(D,r):(r.incrementTime(c.duration),this.visitStyle(D,r),m.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=y}visitStyle(y,r){const c=r.currentTimeline,m=r.currentAnimateTimings;!m&&c.hasCurrentStyleProperties()&&c.forwardFrame();const D=m&&m.easing||y.easing;y.isEmptyStep?c.applyEmptyStep(D):c.setStyles(y.styles,D,r.errors,r.options),r.previousNode=y}visitKeyframes(y,r){const c=r.currentAnimateTimings,m=r.currentTimeline.duration,D=c.duration,Ne=r.createSubContext().currentTimeline;Ne.easing=c.easing,y.styles.forEach(et=>{Ne.forwardTime((et.offset||0)*D),Ne.setStyles(et.styles,et.easing,r.errors,r.options),Ne.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(Ne),r.transformIntoNewTimeline(m+D),r.previousNode=y}visitQuery(y,r){const c=r.currentTimeline.currentTime,m=y.options||{},D=m.delay?Vn(m.delay):0;D&&(r.previousNode.type===C.If.Style||0==c&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=br);let ie=c;const Ne=r.invokeQuery(y.selector,y.originalSelector,y.limit,y.includeSelf,!!m.optional,r.errors);r.currentQueryTotal=Ne.length;let et=null;Ne.forEach((wt,Jt)=>{r.currentQueryIndex=Jt;const fn=r.createSubContext(y.options,wt);D&&fn.delayNextStep(D),wt===r.element&&(et=fn.currentTimeline),en(this,y.animation,fn),fn.currentTimeline.applyStylesToKeyframe(),ie=Math.max(ie,fn.currentTimeline.currentTime)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(ie),et&&(r.currentTimeline.mergeTimelineCollectedStyles(et),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=y}visitStagger(y,r){const c=r.parentContext,m=r.currentTimeline,D=y.timings,ie=Math.abs(D.duration),Ne=ie*(r.currentQueryTotal-1);let et=ie*r.currentQueryIndex;switch(D.duration<0?"reverse":D.easing){case"reverse":et=Ne-et;break;case"full":et=c.currentStaggerTime}const Jt=r.currentTimeline;et&&Jt.delayNextStep(et);const fn=Jt.currentTime;en(this,y.animation,r),r.previousNode=y,c.currentStaggerTime=m.currentTime-fn+(m.startTime-c.currentTimeline.startTime)}}const br={};class ei{constructor(y,r,c,m,D,ie,Ne,et){this._driver=y,this.element=r,this.subInstructions=c,this._enterClassName=m,this._leaveClassName=D,this.errors=ie,this.timelines=Ne,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=br,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=et||new hi(this._driver,r,0),Ne.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(y,r){if(!y)return;const c=y;let m=this.options;null!=c.duration&&(m.duration=Vn(c.duration)),null!=c.delay&&(m.delay=Vn(c.delay));const D=c.params;if(D){let ie=m.params;ie||(ie=this.options.params={}),Object.keys(D).forEach(Ne=>{(!r||!ie.hasOwnProperty(Ne))&&(ie[Ne]=yi(D[Ne],ie,this.errors))})}}_copyOptions(){const y={};if(this.options){const r=this.options.params;if(r){const c=y.params={};Object.keys(r).forEach(m=>{c[m]=r[m]})}}return y}createSubContext(y=null,r,c){const m=r||this.element,D=new ei(this._driver,m,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(m,c||0));return D.previousNode=this.previousNode,D.currentAnimateTimings=this.currentAnimateTimings,D.options=this._copyOptions(),D.updateOptions(y),D.currentQueryIndex=this.currentQueryIndex,D.currentQueryTotal=this.currentQueryTotal,D.parentContext=this,this.subContextCount++,D}transformIntoNewTimeline(y){return this.previousNode=br,this.currentTimeline=this.currentTimeline.fork(this.element,y),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(y,r,c){const m={duration:r??y.duration,delay:this.currentTimeline.currentTime+(c??0)+y.delay,easing:""},D=new mr(this._driver,y.element,y.keyframes,y.preStyleProps,y.postStyleProps,m,y.stretchStartingKeyframe);return this.timelines.push(D),m}incrementTime(y){this.currentTimeline.forwardTime(this.currentTimeline.duration+y)}delayNextStep(y){y>0&&this.currentTimeline.delayNextStep(y)}invokeQuery(y,r,c,m,D,ie){let Ne=[];if(m&&Ne.push(this.element),y.length>0){y=(y=y.replace(_i,"."+this._enterClassName)).replace(Ti,"."+this._leaveClassName);let wt=this._driver.query(this.element,y,1!=c);0!==c&&(wt=c<0?wt.slice(wt.length+c,wt.length):wt.slice(0,c)),Ne.push(...wt)}return!D&&0==Ne.length&&ie.push(function Z(l){return new e.wOt(3014,!1)}()),Ne}}class hi{constructor(y,r,c,m){this._driver=y,this.element=r,this.startTime=c,this._elementTimelineStylesLookup=m,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(y){const r=1===this._keyframes.size&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+y),r&&this.snapshotCurrentStyles()):this.startTime+=y}fork(y,r){return this.applyStylesToKeyframe(),new hi(this._driver,y,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(y){this.applyStylesToKeyframe(),this.duration=y,this._loadKeyframe()}_updateStyle(y,r){this._localTimelineStyles.set(y,r),this._globalTimelineStyles.set(y,r),this._styleSummary.set(y,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(y){y&&this._previousKeyframe.set("easing",y);for(let[r,c]of this._globalTimelineStyles)this._backFill.set(r,c||C.kp),this._currentKeyframe.set(r,C.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(y,r,c,m){r&&this._previousKeyframe.set("easing",r);const D=m&&m.params||{},ie=function Pr(l,y){const r=new Map;let c;return l.forEach(m=>{if("*"===m){c??=y.keys();for(let D of c)r.set(D,C.kp)}else for(let[D,ie]of m)r.set(D,ie)}),r}(y,this._globalTimelineStyles);for(let[Ne,et]of ie){const wt=yi(et,D,c);this._pendingStyles.set(Ne,wt),this._localTimelineStyles.has(Ne)||this._backFill.set(Ne,this._globalTimelineStyles.get(Ne)??C.kp),this._updateStyle(Ne,wt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((y,r)=>{this._currentKeyframe.set(r,y)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((y,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,y)}))}snapshotCurrentStyles(){for(let[y,r]of this._localTimelineStyles)this._pendingStyles.set(y,r),this._updateStyle(y,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const y=[];for(let r in this._currentKeyframe)y.push(r);return y}mergeTimelineCollectedStyles(y){y._styleSummary.forEach((r,c)=>{const m=this._styleSummary.get(c);(!m||r.time>m.time)&&this._updateStyle(c,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const y=new Set,r=new Set,c=1===this._keyframes.size&&0===this.duration;let m=[];this._keyframes.forEach((Ne,et)=>{const wt=new Map([...this._backFill,...Ne]);wt.forEach((Jt,fn)=>{Jt===C.FX?y.add(fn):Jt===C.kp&&r.add(fn)}),c||wt.set("offset",et/this.duration),m.push(wt)});const D=[...y.values()],ie=[...r.values()];if(c){const Ne=m[0],et=new Map(Ne);Ne.set("offset",0),et.set("offset",1),m=[Ne,et]}return _n(this.element,m,D,ie,this.duration,this.startTime,this.easing,!1)}}class mr extends hi{constructor(y,r,c,m,D,ie,Ne=!1){super(y,r,ie.delay),this.keyframes=c,this.preStyleProps=m,this.postStyleProps=D,this._stretchStartingKeyframe=Ne,this.timings={duration:ie.duration,delay:ie.delay,easing:ie.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let y=this.keyframes,{delay:r,duration:c,easing:m}=this.timings;if(this._stretchStartingKeyframe&&r){const D=[],ie=c+r,Ne=r/ie,et=new Map(y[0]);et.set("offset",0),D.push(et);const wt=new Map(y[0]);wt.set("offset",Oi(Ne)),D.push(wt);const Jt=y.length-1;for(let fn=1;fn<=Jt;fn++){let En=new Map(y[fn]);const Nn=En.get("offset");En.set("offset",Oi((r+Nn*c)/ie)),D.push(En)}c=ie,r=0,m="",y=D}return _n(this.element,y,this.preStyleProps,this.postStyleProps,c,r,m,!0)}}function Oi(l,y=3){const r=Math.pow(10,y-1);return Math.round(l*r)/r}function Br(l,y,r,c,m,D,ie,Ne,et,wt,Jt,fn,En){return{type:0,element:l,triggerName:y,isRemovalTransition:m,fromState:r,fromStyles:D,toState:c,toStyles:ie,timelines:Ne,queriedElements:et,preStyleProps:wt,postStyleProps:Jt,totalTime:fn,errors:En}}const ds={};class Vs{constructor(y,r,c){this._triggerName=y,this.ast=r,this._stateStyles=c}match(y,r,c,m){return function Lr(l,y,r,c,m){return l.some(D=>D(y,r,c,m))}(this.ast.matchers,y,r,c,m)}buildStyles(y,r,c){let m=this._stateStyles.get("*");return void 0!==y&&(m=this._stateStyles.get(y?.toString())||m),m?m.buildStyles(r,c):new Map}build(y,r,c,m,D,ie,Ne,et,wt,Jt){const fn=[],En=this.ast.options&&this.ast.options.params||ds,Wn=this.buildStyles(c,Ne&&Ne.params||ds,fn),zn=et&&et.params||ds,fi=this.buildStyles(m,zn,fn),ji=new Set,Bi=new Map,Ji=new Map,Ci="void"===m,Qi={params:ss(zn,En),delay:this.ast.options?.delay},ur=Jt?[]:mi(y,r,this.ast.animation,D,ie,Wn,fi,Qi,wt,fn);let fr=0;return ur.forEach(_r=>{fr=Math.max(_r.duration+_r.delay,fr)}),fn.length?Br(r,this._triggerName,c,m,Ci,Wn,fi,[],[],Bi,Ji,fr,fn):(ur.forEach(_r=>{const Ps=_r.element,Bs=Q(Bi,Ps,new Set);_r.preStyleProps.forEach(ho=>Bs.add(ho));const Ao=Q(Ji,Ps,new Set);_r.postStyleProps.forEach(ho=>Ao.add(ho)),Ps!==r&&ji.add(Ps)}),Br(r,this._triggerName,c,m,Ci,Wn,fi,ur,[...ji.values()],Bi,Ji,fr))}}function ss(l,y){const r={...y};return Object.entries(l).forEach(([c,m])=>{null!=m&&(r[c]=m)}),r}class kr{constructor(y,r,c){this.styles=y,this.defaultParams=r,this.normalizer=c}buildStyles(y,r){const c=new Map,m=ss(y,this.defaultParams);return this.styles.styles.forEach(D=>{"string"!=typeof D&&D.forEach((ie,Ne)=>{ie&&(ie=yi(ie,m,r));const et=this.normalizer.normalizePropertyName(Ne,r);ie=this.normalizer.normalizeStyleValue(Ne,et,ie,r),c.set(Ne,ie)})}),c}}class Er{constructor(y,r,c){this.name=y,this.ast=r,this._normalizer=c,this.transitionFactories=[],this.states=new Map,r.states.forEach(m=>{this.states.set(m.name,new kr(m.style,m.options&&m.options.params||{},c))}),Pi(this.states,"true","1"),Pi(this.states,"false","0"),r.transitions.forEach(m=>{this.transitionFactories.push(new Vs(y,m,this.states))}),this.fallbackTransition=function Tr(l,y,r){return new Vs(l,{type:C.If.Transition,animation:{type:C.If.Sequence,steps:[],options:null},matchers:[(ie,Ne)=>!0],options:null,queryCount:0,depCount:0},y)}(y,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(y,r,c,m){return this.transitionFactories.find(ie=>ie.match(y,r,c,m))||null}matchStyles(y,r,c){return this.fallbackTransition.buildStyles(y,r,c)}}function Pi(l,y,r){l.has(y)?l.has(r)||l.set(r,l.get(y)):l.has(r)&&l.set(y,l.get(r))}const Xs=new bn;class gi{constructor(y,r,c){this.bodyNode=y,this._driver=r,this._normalizer=c,this._animations=new Map,this._playersById=new Map,this.players=[]}register(y,r){const c=[],D=Zt(this._driver,r,c,[]);if(c.length)throw function Ae(l){return new e.wOt(3503,!1)}();this._animations.set(y,D)}_buildPlayer(y,r,c){const m=y.element,D=mn(this._normalizer,y.keyframes,r,c);return this._driver.animate(m,D,y.duration,y.delay,y.easing,[],!0)}create(y,r,c={}){const m=[],D=this._animations.get(y);let ie;const Ne=new Map;if(D?(ie=mi(this._driver,r,D,vt,Bt,new Map,new Map,c,Xs,m),ie.forEach(Jt=>{const fn=Q(Ne,Jt.element,new Map);Jt.postStyleProps.forEach(En=>fn.set(En,null))})):(m.push(function Fe(){return new e.wOt(3300,!1)}()),ie=[]),m.length)throw function qe(l){return new e.wOt(3504,!1)}();Ne.forEach((Jt,fn)=>{Jt.forEach((En,Nn)=>{Jt.set(Nn,this._driver.computeStyle(fn,Nn,C.kp))})});const wt=hn(ie.map(Jt=>{const fn=Ne.get(Jt.element);return this._buildPlayer(Jt,new Map,fn)}));return this._playersById.set(y,wt),wt.onDestroy(()=>this.destroy(y)),this.players.push(wt),wt}destroy(y){const r=this._getPlayer(y);r.destroy(),this._playersById.delete(y);const c=this.players.indexOf(r);c>=0&&this.players.splice(c,1)}_getPlayer(y){const r=this._playersById.get(y);if(!r)throw function Me(l){return new e.wOt(3301,!1)}();return r}listen(y,r,c,m){const D=q(r,"","","");return Rt(this._getPlayer(y),c,D,m),()=>{}}command(y,r,c,m){if("register"==c)return void this.register(y,m[0]);if("create"==c)return void this.create(y,r,m[0]||{});const D=this._getPlayer(y);switch(c){case"play":D.play();break;case"pause":D.pause();break;case"reset":D.reset();break;case"restart":D.restart();break;case"finish":D.finish();break;case"init":D.init();break;case"setPosition":D.setPosition(parseFloat(m[0]));break;case"destroy":this.destroy(y)}}}const _o="ng-animate-queued",Ur="ng-animate-disabled",Nr=[],Vr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Li="__ng_removed";class si{get params(){return this.options.params}constructor(y,r=""){this.namespaceId=r;const c=y&&y.hasOwnProperty("value");if(this.value=function bs(l){return l??null}(c?y.value:y),c){const{value:D,...ie}=y;this.options=ie}else this.options={};this.options.params||(this.options.params={})}absorbOptions(y){const r=y.params;if(r){const c=this.options.params;Object.keys(r).forEach(m=>{null==c[m]&&(c[m]=r[m])})}}}const jr="void",gr=new si(jr);class zr{constructor(y,r,c){this.id=y,this.hostElement=r,this._engine=c,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+y,Yr(r,this._hostClassName)}listen(y,r,c,m){if(!this._triggers.has(r))throw function Te(l,y){return new e.wOt(3302,!1)}();if(null==c||0==c.length)throw function ge(l){return new e.wOt(3303,!1)}();if(!function Cs(l){return"start"==l||"done"==l}(c))throw function $e(l,y){return new e.wOt(3400,!1)}();const D=Q(this._elementListeners,y,[]),ie={name:r,phase:c,callback:m};D.push(ie);const Ne=Q(this._engine.statesByElement,y,new Map);return Ne.has(r)||(Yr(y,ln),Yr(y,ln+"-"+r),Ne.set(r,gr)),()=>{this._engine.afterFlush(()=>{const et=D.indexOf(ie);et>=0&&D.splice(et,1),this._triggers.has(r)||Ne.delete(r)})}}register(y,r){return!this._triggers.has(y)&&(this._triggers.set(y,r),!0)}_getTrigger(y){const r=this._triggers.get(y);if(!r)throw function xe(l){return new e.wOt(3401,!1)}();return r}trigger(y,r,c,m=!0){const D=this._getTrigger(r),ie=new js(this.id,r,y);let Ne=this._engine.statesByElement.get(y);Ne||(Yr(y,ln),Yr(y,ln+"-"+r),this._engine.statesByElement.set(y,Ne=new Map));let et=Ne.get(r);const wt=new si(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&et&&wt.absorbOptions(et.options),Ne.set(r,wt),et||(et=gr),wt.value!==jr&&et.value===wt.value){if(!function qs(l,y){const r=Object.keys(l),c=Object.keys(y);if(r.length!=c.length)return!1;for(let m=0;m<r.length;m++){const D=r[m];if(!y.hasOwnProperty(D)||l[D]!==y[D])return!1}return!0}(et.params,wt.params)){const zn=[],fi=D.matchStyles(et.value,et.params,zn),ji=D.matchStyles(wt.value,wt.params,zn);zn.length?this._engine.reportError(zn):this._engine.afterFlush(()=>{Ut(y,fi),dt(y,ji)})}return}const En=Q(this._engine.playersByElement,y,[]);En.forEach(zn=>{zn.namespaceId==this.id&&zn.triggerName==r&&zn.queued&&zn.destroy()});let Nn=D.matchTransition(et.value,wt.value,y,wt.params),Wn=!1;if(!Nn){if(!m)return;Nn=D.fallbackTransition,Wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:r,transition:Nn,fromState:et,toState:wt,player:ie,isFallbackTransition:Wn}),Wn||(Yr(y,_o),ie.onStart(()=>{Cr(y,_o)})),ie.onDone(()=>{let zn=this.players.indexOf(ie);zn>=0&&this.players.splice(zn,1);const fi=this._engine.playersByElement.get(y);if(fi){let ji=fi.indexOf(ie);ji>=0&&fi.splice(ji,1)}}),this.players.push(ie),En.push(ie),ie}deregister(y){this._triggers.delete(y),this._engine.statesByElement.forEach(r=>r.delete(y)),this._elementListeners.forEach((r,c)=>{this._elementListeners.set(c,r.filter(m=>m.name!=y))})}clearElementCache(y){this._engine.statesByElement.delete(y),this._elementListeners.delete(y);const r=this._engine.playersByElement.get(y);r&&(r.forEach(c=>c.destroy()),this._engine.playersByElement.delete(y))}_signalRemovalForInnerTriggers(y,r){const c=this._engine.driver.query(y,sn,!0);c.forEach(m=>{if(m[Li])return;const D=this._engine.fetchNamespacesByElement(m);D.size?D.forEach(ie=>ie.triggerLeaveAnimation(m,r,!1,!0)):this.clearElementCache(m)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(m=>this.clearElementCache(m)))}triggerLeaveAnimation(y,r,c,m){const D=this._engine.statesByElement.get(y),ie=new Map;if(D){const Ne=[];if(D.forEach((et,wt)=>{if(ie.set(wt,et.value),this._triggers.has(wt)){const Jt=this.trigger(y,wt,jr,m);Jt&&Ne.push(Jt)}}),Ne.length)return this._engine.markElementAsRemoved(this.id,y,!0,r,ie),c&&hn(Ne).onDone(()=>this._engine.processLeaveNode(y)),!0}return!1}prepareLeaveAnimationListeners(y){const r=this._elementListeners.get(y),c=this._engine.statesByElement.get(y);if(r&&c){const m=new Set;r.forEach(D=>{const ie=D.name;if(m.has(ie))return;m.add(ie);const et=this._triggers.get(ie).fallbackTransition,wt=c.get(ie)||gr,Jt=new si(jr),fn=new js(this.id,ie,y);this._engine.totalQueuedPlayers++,this._queue.push({element:y,triggerName:ie,transition:et,fromState:wt,toState:Jt,player:fn,isFallbackTransition:!0})})}}removeNode(y,r){const c=this._engine;if(y.childElementCount&&this._signalRemovalForInnerTriggers(y,r),this.triggerLeaveAnimation(y,r,!0))return;let m=!1;if(c.totalAnimations){const D=c.players.length?c.playersByQueriedElement.get(y):[];if(D&&D.length)m=!0;else{let ie=y;for(;ie=ie.parentNode;)if(c.statesByElement.get(ie)){m=!0;break}}}if(this.prepareLeaveAnimationListeners(y),m)c.markElementAsRemoved(this.id,y,!1,r);else{const D=y[Li];(!D||D===Vr)&&(c.afterFlush(()=>this.clearElementCache(y)),c.destroyInnerAnimations(y),c._onRemovalComplete(y,r))}}insertNode(y,r){Yr(y,this._hostClassName)}drainQueuedTransitions(y){const r=[];return this._queue.forEach(c=>{const m=c.player;if(m.destroyed)return;const D=c.element,ie=this._elementListeners.get(D);ie&&ie.forEach(Ne=>{if(Ne.name==c.triggerName){const et=q(D,c.triggerName,c.fromState.value,c.toState.value);et._data=y,Rt(c.player,Ne.phase,et,Ne.callback)}}),m.markedForDestroy?this._engine.afterFlush(()=>{m.destroy()}):r.push(c)}),this._queue=[],r.sort((c,m)=>{const D=c.transition.ast.depCount,ie=m.transition.ast.depCount;return 0==D||0==ie?D-ie:this._engine.driver.containsElement(c.element,m.element)?1:-1})}destroy(y){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,y)}}class os{_onRemovalComplete(y,r){this.onRemovalComplete(y,r)}constructor(y,r,c,m){this.bodyNode=y,this.driver=r,this._normalizer=c,this.scheduler=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(D,ie)=>{}}get queuedPlayers(){const y=[];return this._namespaceList.forEach(r=>{r.players.forEach(c=>{c.queued&&y.push(c)})}),y}createNamespace(y,r){const c=new zr(y,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(c,r):(this.newHostElements.set(r,c),this.collectEnterElement(r)),this._namespaceLookup[y]=c}_balanceNamespaceList(y,r){const c=this._namespaceList,m=this.namespacesByHostElement;if(c.length-1>=0){let ie=!1,Ne=this.driver.getParentElement(r);for(;Ne;){const et=m.get(Ne);if(et){const wt=c.indexOf(et);c.splice(wt+1,0,y),ie=!0;break}Ne=this.driver.getParentElement(Ne)}ie||c.unshift(y)}else c.push(y);return m.set(r,y),y}register(y,r){let c=this._namespaceLookup[y];return c||(c=this.createNamespace(y,r)),c}registerTrigger(y,r,c){let m=this._namespaceLookup[y];m&&m.register(r,c)&&this.totalAnimations++}destroy(y,r){y&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const c=this._fetchNamespace(y);this.namespacesByHostElement.delete(c.hostElement);const m=this._namespaceList.indexOf(c);m>=0&&this._namespaceList.splice(m,1),c.destroy(r),delete this._namespaceLookup[y]}))}_fetchNamespace(y){return this._namespaceLookup[y]}fetchNamespacesByElement(y){const r=new Set,c=this.statesByElement.get(y);if(c)for(let m of c.values())if(m.namespaceId){const D=this._fetchNamespace(m.namespaceId);D&&r.add(D)}return r}trigger(y,r,c,m){if(vr(r)){const D=this._fetchNamespace(y);if(D)return D.trigger(r,c,m),!0}return!1}insertNode(y,r,c,m){if(!vr(r))return;const D=r[Li];if(D&&D.setForRemoval){D.setForRemoval=!1,D.setForMove=!0;const ie=this.collectedLeaveElements.indexOf(r);ie>=0&&this.collectedLeaveElements.splice(ie,1)}if(y){const ie=this._fetchNamespace(y);ie&&ie.insertNode(r,c)}m&&this.collectEnterElement(r)}collectEnterElement(y){this.collectedEnterElements.push(y)}markElementAsDisabled(y,r){r?this.disabledNodes.has(y)||(this.disabledNodes.add(y),Yr(y,Ur)):this.disabledNodes.has(y)&&(this.disabledNodes.delete(y),Cr(y,Ur))}removeNode(y,r,c){if(vr(r)){this.scheduler?.notify();const m=y?this._fetchNamespace(y):null;m?m.removeNode(r,c):this.markElementAsRemoved(y,r,!1,c);const D=this.namespacesByHostElement.get(r);D&&D.id!==y&&D.removeNode(r,c)}else this._onRemovalComplete(r,c)}markElementAsRemoved(y,r,c,m,D){this.collectedLeaveElements.push(r),r[Li]={namespaceId:y,setForRemoval:m,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:D}}listen(y,r,c,m,D){return vr(r)?this._fetchNamespace(y).listen(r,c,m,D):()=>{}}_buildInstruction(y,r,c,m,D){return y.transition.build(this.driver,y.element,y.fromState.value,y.toState.value,c,m,y.fromState.options,y.toState.options,r,D)}destroyInnerAnimations(y){let r=this.driver.query(y,sn,!0);r.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(r=this.driver.query(y,$n,!0),r.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(y){const r=this.playersByElement.get(y);r&&r.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(y){const r=this.playersByQueriedElement.get(y);r&&r.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(y=>{if(this.players.length)return hn(this.players).onDone(()=>y());y()})}processLeaveNode(y){const r=y[Li];if(r&&r.setForRemoval){if(y[Li]=Vr,r.namespaceId){this.destroyInnerAnimations(y);const c=this._fetchNamespace(r.namespaceId);c&&c.clearElementCache(y)}this._onRemovalComplete(y,r.setForRemoval)}y.classList?.contains(Ur)&&this.markElementAsDisabled(y,!1),this.driver.query(y,".ng-animate-disabled",!0).forEach(c=>{this.markElementAsDisabled(c,!1)})}flush(y=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,m)=>this._balanceNamespaceList(c,m)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Yr(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{r=this._flushAnimations(c,y)}finally{for(let m=0;m<c.length;m++)c[m]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],r.length?hn(r).onDone(()=>{c.forEach(m=>m())}):c.forEach(m=>m())}}reportError(y){throw function pt(l){return new e.wOt(3402,!1)}()}_flushAnimations(y,r){const c=new bn,m=[],D=new Map,ie=[],Ne=new Map,et=new Map,wt=new Map,Jt=new Set;this.disabledNodes.forEach(pi=>{Jt.add(pi);const Si=this.driver.query(pi,".ng-animate-queued",!0);for(let Ui=0;Ui<Si.length;Ui++)Jt.add(Si[Ui])});const fn=this.bodyNode,En=Array.from(this.statesByElement.keys()),Nn=Qr(En,this.collectedEnterElements),Wn=new Map;let zn=0;Nn.forEach((pi,Si)=>{const Ui=vt+zn++;Wn.set(Si,Ui),pi.forEach(pr=>Yr(pr,Ui))});const fi=[],ji=new Set,Bi=new Set;for(let pi=0;pi<this.collectedLeaveElements.length;pi++){const Si=this.collectedLeaveElements[pi],Ui=Si[Li];Ui&&Ui.setForRemoval&&(fi.push(Si),ji.add(Si),Ui.hasAnimation?this.driver.query(Si,".ng-star-inserted",!0).forEach(pr=>ji.add(pr)):Bi.add(Si))}const Ji=new Map,Ci=Qr(En,Array.from(ji));Ci.forEach((pi,Si)=>{const Ui=Bt+zn++;Ji.set(Si,Ui),pi.forEach(pr=>Yr(pr,Ui))}),y.push(()=>{Nn.forEach((pi,Si)=>{const Ui=Wn.get(Si);pi.forEach(pr=>Cr(pr,Ui))}),Ci.forEach((pi,Si)=>{const Ui=Ji.get(Si);pi.forEach(pr=>Cr(pr,Ui))}),fi.forEach(pi=>{this.processLeaveNode(pi)})});const Qi=[],ur=[];for(let pi=this._namespaceList.length-1;pi>=0;pi--)this._namespaceList[pi].drainQueuedTransitions(r).forEach(Ui=>{const pr=Ui.player,Ls=Ui.element;if(Qi.push(pr),this.collectedEnterElements.length){const fo=Ls[Li];if(fo&&fo.setForMove){if(fo.previousTriggersValues&&fo.previousTriggersValues.has(Ui.triggerName)){const ca=fo.previousTriggersValues.get(Ui.triggerName),ta=this.statesByElement.get(Ui.element);if(ta&&ta.has(Ui.triggerName)){const Bc=ta.get(Ui.triggerName);Bc.value=ca,ta.set(Ui.triggerName,Bc)}}return void pr.destroy()}}const ma=!fn||!this.driver.containsElement(fn,Ls),yo=Ji.get(Ls),ga=Wn.get(Ls),rs=this._buildInstruction(Ui,c,ga,yo,ma);if(rs.errors&&rs.errors.length)return void ur.push(rs);if(ma)return pr.onStart(()=>Ut(Ls,rs.fromStyles)),pr.onDestroy(()=>dt(Ls,rs.toStyles)),void m.push(pr);if(Ui.isFallbackTransition)return pr.onStart(()=>Ut(Ls,rs.fromStyles)),pr.onDestroy(()=>dt(Ls,rs.toStyles)),void m.push(pr);const ja=[];rs.timelines.forEach(fo=>{fo.stretchStartingKeyframe=!0,this.disabledNodes.has(fo.element)||ja.push(fo)}),rs.timelines=ja,c.append(Ls,rs.timelines),ie.push({instruction:rs,player:pr,element:Ls}),rs.queriedElements.forEach(fo=>Q(Ne,fo,[]).push(pr)),rs.preStyleProps.forEach((fo,ca)=>{if(fo.size){let ta=et.get(ca);ta||et.set(ca,ta=new Set),fo.forEach((Bc,tc)=>ta.add(tc))}}),rs.postStyleProps.forEach((fo,ca)=>{let ta=wt.get(ca);ta||wt.set(ca,ta=new Set),fo.forEach((Bc,tc)=>ta.add(tc))})});if(ur.length){const pi=[];ur.forEach(Si=>{pi.push(function Ct(l,y){return new e.wOt(3505,!1)}())}),Qi.forEach(Si=>Si.destroy()),this.reportError(pi)}const fr=new Map,_r=new Map;ie.forEach(pi=>{const Si=pi.element;c.has(Si)&&(_r.set(Si,Si),this._beforeAnimationBuild(pi.player.namespaceId,pi.instruction,fr))}),m.forEach(pi=>{const Si=pi.element;this._getPreviousPlayers(Si,!1,pi.namespaceId,pi.triggerName,null).forEach(pr=>{Q(fr,Si,[]).push(pr),pr.destroy()})});const Ps=fi.filter(pi=>$s(pi,et,wt)),Bs=new Map;Wo(Bs,this.driver,Bi,wt,C.kp).forEach(pi=>{$s(pi,et,wt)&&Ps.push(pi)});const ho=new Map;Nn.forEach((pi,Si)=>{Wo(ho,this.driver,new Set(pi),et,C.FX)}),Ps.forEach(pi=>{const Si=Bs.get(pi),Ui=ho.get(pi);Bs.set(pi,new Map([...Si?.entries()??[],...Ui?.entries()??[]]))});const Zs=[],nl=[],Va={};ie.forEach(pi=>{const{element:Si,player:Ui,instruction:pr}=pi;if(c.has(Si)){if(Jt.has(Si))return Ui.onDestroy(()=>dt(Si,pr.toStyles)),Ui.disabled=!0,Ui.overrideTotalTime(pr.totalTime),void m.push(Ui);let Ls=Va;if(_r.size>1){let yo=Si;const ga=[];for(;yo=yo.parentNode;){const rs=_r.get(yo);if(rs){Ls=rs;break}ga.push(yo)}ga.forEach(rs=>_r.set(rs,Ls))}const ma=this._buildAnimation(Ui.namespaceId,pr,fr,D,ho,Bs);if(Ui.setRealPlayer(ma),Ls===Va)Zs.push(Ui);else{const yo=this.playersByElement.get(Ls);yo&&yo.length&&(Ui.parentPlayer=hn(yo)),m.push(Ui)}}else Ut(Si,pr.fromStyles),Ui.onDestroy(()=>dt(Si,pr.toStyles)),nl.push(Ui),Jt.has(Si)&&m.push(Ui)}),nl.forEach(pi=>{const Si=D.get(pi.element);if(Si&&Si.length){const Ui=hn(Si);pi.setRealPlayer(Ui)}}),m.forEach(pi=>{pi.parentPlayer?pi.syncPlayerEvents(pi.parentPlayer):pi.destroy()});for(let pi=0;pi<fi.length;pi++){const Si=fi[pi],Ui=Si[Li];if(Cr(Si,Bt),Ui&&Ui.hasAnimation)continue;let pr=[];if(Ne.size){let ma=Ne.get(Si);ma&&ma.length&&pr.push(...ma);let yo=this.driver.query(Si,$n,!0);for(let ga=0;ga<yo.length;ga++){let rs=Ne.get(yo[ga]);rs&&rs.length&&pr.push(...rs)}}const Ls=pr.filter(ma=>!ma.destroyed);Ls.length?Rs(this,Si,Ls):this.processLeaveNode(Si)}return fi.length=0,Zs.forEach(pi=>{this.players.push(pi),pi.onDone(()=>{pi.destroy();const Si=this.players.indexOf(pi);this.players.splice(Si,1)}),pi.play()}),Zs}afterFlush(y){this._flushFns.push(y)}afterFlushAnimationsDone(y){this._whenQuietFns.push(y)}_getPreviousPlayers(y,r,c,m,D){let ie=[];if(r){const Ne=this.playersByQueriedElement.get(y);Ne&&(ie=Ne)}else{const Ne=this.playersByElement.get(y);if(Ne){const et=!D||D==jr;Ne.forEach(wt=>{wt.queued||!et&&wt.triggerName!=m||ie.push(wt)})}}return(c||m)&&(ie=ie.filter(Ne=>!(c&&c!=Ne.namespaceId||m&&m!=Ne.triggerName))),ie}_beforeAnimationBuild(y,r,c){const D=r.element,ie=r.isRemovalTransition?void 0:y,Ne=r.isRemovalTransition?void 0:r.triggerName;for(const et of r.timelines){const wt=et.element,Jt=wt!==D,fn=Q(c,wt,[]);this._getPreviousPlayers(wt,Jt,ie,Ne,r.toState).forEach(Nn=>{const Wn=Nn.getRealPlayer();Wn.beforeDestroy&&Wn.beforeDestroy(),Nn.destroy(),fn.push(Nn)})}Ut(D,r.fromStyles)}_buildAnimation(y,r,c,m,D,ie){const Ne=r.triggerName,et=r.element,wt=[],Jt=new Set,fn=new Set,En=r.timelines.map(Wn=>{const zn=Wn.element;Jt.add(zn);const fi=zn[Li];if(fi&&fi.removedBeforeQueried)return new C.sf(Wn.duration,Wn.delay);const ji=zn!==et,Bi=function Ws(l){const y=[];return Co(l,y),y}((c.get(zn)||Nr).map(fr=>fr.getRealPlayer())).filter(fr=>!!fr.element&&fr.element===zn),Ji=D.get(zn),Ci=ie.get(zn),Qi=mn(this._normalizer,Wn.keyframes,Ji,Ci),ur=this._buildPlayer(Wn,Qi,Bi);if(Wn.subTimeline&&m&&fn.add(zn),ji){const fr=new js(y,Ne,zn);fr.setRealPlayer(ur),wt.push(fr)}return ur});wt.forEach(Wn=>{Q(this.playersByQueriedElement,Wn.element,[]).push(Wn),Wn.onDone(()=>function bo(l,y,r){let c=l.get(y);if(c){if(c.length){const m=c.indexOf(r);c.splice(m,1)}0==c.length&&l.delete(y)}return c}(this.playersByQueriedElement,Wn.element,Wn))}),Jt.forEach(Wn=>Yr(Wn,Pn));const Nn=hn(En);return Nn.onDestroy(()=>{Jt.forEach(Wn=>Cr(Wn,Pn)),dt(et,r.toStyles)}),fn.forEach(Wn=>{Q(m,Wn,[]).push(Nn)}),Nn}_buildPlayer(y,r,c){return r.length>0?this.driver.animate(y.element,r,y.duration,y.delay,y.easing,c):new C.sf(y.duration,y.delay)}}class js{constructor(y,r,c){this.namespaceId=y,this.triggerName=r,this.element=c,this._player=new C.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(y){this._containsRealPlayer||(this._player=y,this._queuedCallbacks.forEach((r,c)=>{r.forEach(m=>Rt(y,c,void 0,m))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(y.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(y){this.totalTime=y}syncPlayerEvents(y){const r=this._player;r.triggerCallback&&y.onStart(()=>r.triggerCallback("start")),y.onDone(()=>this.finish()),y.onDestroy(()=>this.destroy())}_queueEvent(y,r){Q(this._queuedCallbacks,y,[]).push(r)}onDone(y){this.queued&&this._queueEvent("done",y),this._player.onDone(y)}onStart(y){this.queued&&this._queueEvent("start",y),this._player.onStart(y)}onDestroy(y){this.queued&&this._queueEvent("destroy",y),this._player.onDestroy(y)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(y){this.queued||this._player.setPosition(y)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(y){const r=this._player;r.triggerCallback&&r.triggerCallback(y)}}function vr(l){return l&&1===l.nodeType}function Jr(l,y){const r=l.style.display;return l.style.display=y??"none",r}function Wo(l,y,r,c,m){const D=[];r.forEach(et=>D.push(Jr(et)));const ie=[];c.forEach((et,wt)=>{const Jt=new Map;et.forEach(fn=>{const En=y.computeStyle(wt,fn,m);Jt.set(fn,En),(!En||0==En.length)&&(wt[Li]=or,ie.push(wt))}),l.set(wt,Jt)});let Ne=0;return r.forEach(et=>Jr(et,D[Ne++])),ie}function Qr(l,y){const r=new Map;if(l.forEach(Ne=>r.set(Ne,[])),0==y.length)return r;const m=new Set(y),D=new Map;function ie(Ne){if(!Ne)return 1;let et=D.get(Ne);if(et)return et;const wt=Ne.parentNode;return et=r.has(wt)?wt:m.has(wt)?1:ie(wt),D.set(Ne,et),et}return y.forEach(Ne=>{const et=ie(Ne);1!==et&&r.get(et).push(Ne)}),r}function Yr(l,y){l.classList?.add(y)}function Cr(l,y){l.classList?.remove(y)}function Rs(l,y,r){hn(r).onDone(()=>l.processLeaveNode(y))}function Co(l,y){for(let r=0;r<l.length;r++){const c=l[r];c instanceof C.ui?Co(c.players,y):y.push(c)}}function $s(l,y,r){const c=r.get(l);if(!c)return!1;let m=y.get(l);return m?c.forEach(D=>m.add(D)):y.set(l,c),r.delete(l),!0}class Js{constructor(y,r,c,m){this._driver=r,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(D,ie)=>{},this._transitionEngine=new os(y.body,r,c,m),this._timelineEngine=new gi(y.body,r,c),this._transitionEngine.onRemovalComplete=(D,ie)=>this.onRemovalComplete(D,ie)}registerTrigger(y,r,c,m,D){const ie=y+"-"+m;let Ne=this._triggerCache[ie];if(!Ne){const et=[],Jt=Zt(this._driver,D,et,[]);if(et.length)throw function he(l,y){return new e.wOt(3404,!1)}();Ne=function Ds(l,y,r){return new Er(l,y,r)}(m,Jt,this._normalizer),this._triggerCache[ie]=Ne}this._transitionEngine.registerTrigger(r,m,Ne)}register(y,r){this._transitionEngine.register(y,r)}destroy(y,r){this._transitionEngine.destroy(y,r)}onInsert(y,r,c,m){this._transitionEngine.insertNode(y,r,c,m)}onRemove(y,r,c){this._transitionEngine.removeNode(y,r,c)}disableAnimations(y,r){this._transitionEngine.markElementAsDisabled(y,r)}process(y,r,c,m){if("@"==c.charAt(0)){const[D,ie]=te(c);this._timelineEngine.command(D,r,ie,m)}else this._transitionEngine.trigger(y,r,c,m)}listen(y,r,c,m,D){if("@"==c.charAt(0)){const[ie,Ne]=te(c);return this._timelineEngine.listen(ie,r,Ne,D)}return this._transitionEngine.listen(y,r,c,m,D)}flush(y=-1){this._transitionEngine.flush(y)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(y){this._transitionEngine.afterFlushAnimationsDone(y)}}class wr{static{this.initialStylesByElement=new WeakMap}constructor(y,r,c){this._element=y,this._startStyles=r,this._endStyles=c,this._state=0;let m=wr.initialStylesByElement.get(y);m||wr.initialStylesByElement.set(y,m=new Map),this._initialStyles=m}start(){this._state<1&&(this._startStyles&&dt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dt(this._element,this._initialStyles),this._endStyles&&(dt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(wr.initialStylesByElement.delete(this._element),this._startStyles&&(Ut(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ut(this._element,this._endStyles),this._endStyles=null),dt(this._element,this._initialStyles),this._state=3)}}function dr(l){let y=null;return l.forEach((r,c)=>{(function $r(l){return"display"===l||"position"===l})(c)&&(y=y||new Map,y.set(c,r))}),y}class Zr{constructor(y,r,c,m){this.element=y,this.keyframes=r,this.options=c,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(y=>y()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const y=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,y,this.options),this._finalKeyframe=y.length?y[y.length-1]:new Map;const r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(y){const r=[];return y.forEach(c=>{r.push(Object.fromEntries(c))}),r}_triggerWebAnimation(y,r,c){return y.animate(this._convertKeyframesToObject(r),c)}onStart(y){this._originalOnStartFns.push(y),this._onStartFns.push(y)}onDone(y){this._originalOnDoneFns.push(y),this._onDoneFns.push(y)}onDestroy(y){this._onDestroyFns.push(y)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(y=>y()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(y=>y()),this._onDestroyFns=[])}setPosition(y){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=y*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const y=new Map;this.hasStarted()&&this._finalKeyframe.forEach((c,m)=>{"offset"!==m&&y.set(m,this._finished?c:Rn(this.element,m))}),this.currentSnapshot=y}triggerCallback(y){const r="start"===y?this._onStartFns:this._onDoneFns;r.forEach(c=>c()),r.length=0}}class Qs{validateStyleProperty(y){return!0}validateAnimatableStyleProperty(y){return!0}matchesElement(y,r){return!1}containsElement(y,r){return Pt(y,r)}getParentElement(y){return Re(y)}query(y,r,c){return tn(y,r,c)}computeStyle(y,r,c){return Rn(y,r)}animate(y,r,c,m,D,ie=[]){const et={duration:c,delay:m,fill:0==m?"both":"forwards"};D&&(et.easing=D);const wt=new Map,Jt=ie.filter(Nn=>Nn instanceof Zr);(function Gt(l,y){return 0===l||0===y})(c,m)&&Jt.forEach(Nn=>{Nn.currentSnapshot.forEach((Wn,zn)=>wt.set(zn,Wn))});let fn=function mt(l){return l.length?l[0]instanceof Map?l:l.map(y=>new Map(Object.entries(y))):[]}(r).map(Nn=>new Map(Nn));fn=function Kt(l,y,r){if(r.size&&y.length){let c=y[0],m=[];if(r.forEach((D,ie)=>{c.has(ie)||m.push(ie),c.set(ie,D)}),m.length)for(let D=1;D<y.length;D++){let ie=y[D];m.forEach(Ne=>ie.set(Ne,Rn(l,Ne)))}}return y}(y,fn,wt);const En=function Or(l,y){let r=null,c=null;return Array.isArray(y)&&y.length?(r=dr(y[0]),y.length>1&&(c=dr(y[y.length-1]))):y instanceof Map&&(r=dr(y)),r||c?new wr(l,r,c):null}(y,fn);return new Zr(y,fn,et,En)}}const as="@.disabled";class Gs{constructor(y,r,c,m){this.namespaceId=y,this.delegate=r,this.engine=c,this._onDestroy=m,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(y){this.delegate.destroyNode?.(y)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(y,r){return this.delegate.createElement(y,r)}createComment(y){return this.delegate.createComment(y)}createText(y){return this.delegate.createText(y)}appendChild(y,r){this.delegate.appendChild(y,r),this.engine.onInsert(this.namespaceId,r,y,!1)}insertBefore(y,r,c,m=!0){this.delegate.insertBefore(y,r,c),this.engine.onInsert(this.namespaceId,r,y,m)}removeChild(y,r,c){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(y,r){return this.delegate.selectRootElement(y,r)}parentNode(y){return this.delegate.parentNode(y)}nextSibling(y){return this.delegate.nextSibling(y)}setAttribute(y,r,c,m){this.delegate.setAttribute(y,r,c,m)}removeAttribute(y,r,c){this.delegate.removeAttribute(y,r,c)}addClass(y,r){this.delegate.addClass(y,r)}removeClass(y,r){this.delegate.removeClass(y,r)}setStyle(y,r,c,m){this.delegate.setStyle(y,r,c,m)}removeStyle(y,r,c){this.delegate.removeStyle(y,r,c)}setProperty(y,r,c){"@"==r.charAt(0)&&r==as?this.disableAnimations(y,!!c):this.delegate.setProperty(y,r,c)}setValue(y,r){this.delegate.setValue(y,r)}listen(y,r,c){return this.delegate.listen(y,r,c)}disableAnimations(y,r){this.engine.disableAnimations(y,r)}}class Rr extends Gs{constructor(y,r,c,m,D){super(r,c,m,D),this.factory=y,this.namespaceId=r}setProperty(y,r,c){"@"==r.charAt(0)?"."==r.charAt(1)&&r==as?this.disableAnimations(y,c=void 0===c||!!c):this.engine.process(this.namespaceId,y,r.slice(1),c):this.delegate.setProperty(y,r,c)}listen(y,r,c){if("@"==r.charAt(0)){const m=function Hs(l){switch(l){case"body":return document.body;case"document":return document;case"window":return window;default:return l}}(y);let D=r.slice(1),ie="";return"@"!=D.charAt(0)&&([D,ie]=function Gr(l){const y=l.indexOf(".");return[l.substring(0,y),l.slice(y+1)]}(D)),this.engine.listen(this.namespaceId,m,D,ie,Ne=>{this.factory.scheduleListenerCallback(Ne._data||-1,c,Ne)})}return this.delegate.listen(y,r,c)}}class Kr{constructor(y,r,c){this.delegate=y,this.engine=r,this._zone=c,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(m,D)=>{const ie=D?.parentNode(m);ie&&D.removeChild(ie,m)}}createRenderer(y,r){const m=this.delegate.createRenderer(y,r);if(!y||!r?.data?.animation){const wt=this._rendererCache;let Jt=wt.get(m);return Jt||(Jt=new Gs("",m,this.engine,()=>wt.delete(m)),wt.set(m,Jt)),Jt}const D=r.id,ie=r.id+"-"+this._currentId;this._currentId++,this.engine.register(ie,y);const Ne=wt=>{Array.isArray(wt)?wt.forEach(Ne):this.engine.registerTrigger(D,ie,y,wt.name,wt)};return r.data.animation.forEach(Ne),new Rr(this,ie,m,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(y,r,c){if(y>=0&&y<this._microtaskId)return void this._zone.run(()=>r(c));const m=this._animationCallbacksBuffer;0==m.length&&queueMicrotask(()=>{this._zone.run(()=>{m.forEach(D=>{const[ie,Ne]=D;ie(Ne)}),this._animationCallbacksBuffer=[]})}),m.push([r,c])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var Bn=d(177);const He=[{provide:le,useFactory:function ps(){return new li}},{provide:Js,useClass:(()=>{class l extends Js{constructor(r,c,m){super(r,c,m,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(Bn.qQ),e.KVO(Ce),e.KVO(le))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})()},{provide:e._9s,useFactory:function Ve(l,y,r){return new Kr(l,y,r)},deps:[t.B7,Js,e.SKi]}],ve=[{provide:Ce,useFactory:()=>new Qs},{provide:e.bc$,useValue:"BrowserAnimations"},...He],it=[{provide:Ce,useClass:Lt},{provide:e.bc$,useValue:"NoopAnimations"},...He];let jt=(()=>{class l{static withConfig(r){return{ngModule:l,providers:r.disableAnimations?it:ve}}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:ve,imports:[t.Bb]})}}return l})();var Hi=d(5794),jn=d(1583),Be=d(9767),Ze=d(7468),Et=d(5964),kt=d(6697);const zt="8.4.1";var Wt=d(9838),vn=d(7263),Hn=d(1258),xi=d(4861),nn=d(3178),cr=d(4549),cs=d(978),vi=d(7883),Ln=d(1780),ar=d(7005),wo=d(6801),zs=d(1339),Fi=d(5602),Zi=d(4754),qr=d(9625);let Ss=(()=>{class l{constructor(){let r=new qr.UAParser,c=r.getBrowser(),m=r.getOS();this.browserName=c.name,this.browserVersion=c.major,this.browserVersionToInt=parseInt(c.major),this.operatingSystem=m.name,this.operatingSystemVersion=m.version}validBrowser(){switch(this.browserName){case nr.InternetExplorer:return this.verifyInternetExplorer();case nr.Edge:return this.verifyEdge();case nr.Firefox:return this.verifyFirefox();case nr.Chrome:return this.verifyChrome();case nr.Safari:case nr.MobileSafari:return this.verifySafari();case nr.Opera:case nr.OperaMobile:return this.verifyOpera();case nr.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Mo.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Mo.Android||this.operatingSystem==Mo.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Mo.Android||this.operatingSystem==Mo.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const r=parseFloat(this.operatingSystemVersion);return this.browserName==nr.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&r>=10.14}verifyOpera(){return this.browserName==nr.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})(),nr=(()=>{class l{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return l})(),Mo=(()=>{class l{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return l})();var $i=d(2972),so=d(3853),po=d(9196),xo=d(1985),Fr=d(6977),Uo=d(983),yr=d(7673),ir=d(1413),xs=d(3726),So=d(1584),No=d(8750),zo=d(2326),Vo=d(4360);function jo(...l){return 1===(l=(0,zo.K)(l)).length?(0,No.Tg)(l[0]):new xo.c(function ia(l){return y=>{let r=[];for(let c=0;r&&!y.closed&&c<l.length;c++)r.push((0,No.Tg)(l[c]).subscribe((0,Vo._)(y,m=>{if(r){for(let D=0;D<r.length;D++)D!==c&&r[D].unsubscribe();r=null}y.next(m)})))}}(l))}d(7786);var Mr=d(9326);function Ks(...l){const y=(0,Mr.ms)(l),r=(0,zo.K)(l);return r.length?new xo.c(c=>{let m=r.map(()=>[]),D=r.map(()=>!1);c.add(()=>{m=D=null});for(let ie=0;!c.closed&&ie<r.length;ie++)(0,No.Tg)(r[ie]).subscribe((0,Vo._)(c,Ne=>{if(m[ie].push(Ne),m.every(et=>et.length)){const et=m.map(wt=>wt.shift());c.next(y?y(...et):et),m.some((wt,Jt)=>!wt.length&&D[Jt])&&c.complete()}},()=>{D[ie]=!0,!m[ie].length&&c.complete()}));return()=>{m=D=null}}):Uo.w}var Es=d(8793),mo=d(8141),hr=d(6354),Hr=d(3993),es=d(1986),Oo=d(5558),eo=d(9172),ks=d(3294),Fo={left:"right",right:"left",bottom:"top",top:"bottom"};function Ns(l){return l.replace(/left|right|bottom|top/g,function(y){return Fo[y]})}function re(l){return l.split("-")[0]}var Qe={start:"end",end:"start"};function Se(l){return l.replace(/start|end/g,function(y){return Qe[y]})}var je="top",Tt="bottom",cn="right",wn="left",oi="auto",sr=[je,Tt,cn,wn],qi="start",Ki="end",di="viewport",Yi="popper",we=sr.reduce(function(l,y){return l.concat([y+"-"+qi,y+"-"+Ki])},[]),L=[].concat(sr,[oi]).reduce(function(l,y){return l.concat([y,y+"-"+qi,y+"-"+Ki])},[]),Qn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Xi(l){if(null==l)return window;if("[object Window]"!==l.toString()){var y=l.ownerDocument;return y&&y.defaultView||window}return l}function Ie(l){return l instanceof Xi(l).Element||l instanceof Element}function Nt(l){return l instanceof Xi(l).HTMLElement||l instanceof HTMLElement}function _e(l){return!(typeof ShadowRoot>"u")&&(l instanceof Xi(l).ShadowRoot||l instanceof ShadowRoot)}function Je(l){return((Ie(l)?l.ownerDocument:l.document)||window.document).documentElement}var gt=Math.max,pn=Math.min,ni=Math.round;function Di(){var l=navigator.userAgentData;return null!=l&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(y){return y.brand+"/"+y.version}).join(" "):navigator.userAgent}function gs(){return!/^((?!chrome|android).)*safari/i.test(Di())}function Sr(l,y,r){void 0===y&&(y=!1),void 0===r&&(r=!1);var c=l.getBoundingClientRect(),m=1,D=1;y&&Nt(l)&&(m=l.offsetWidth>0&&ni(c.width)/l.offsetWidth||1,D=l.offsetHeight>0&&ni(c.height)/l.offsetHeight||1);var Ne=(Ie(l)?Xi(l):window).visualViewport,et=!gs()&&r,wt=(c.left+(et&&Ne?Ne.offsetLeft:0))/m,Jt=(c.top+(et&&Ne?Ne.offsetTop:0))/D,fn=c.width/m,En=c.height/D;return{width:fn,height:En,top:Jt,right:wt+fn,bottom:Jt+En,left:wt,x:wt,y:Jt}}function to(l){var y=Xi(l);return{scrollLeft:y.pageXOffset,scrollTop:y.pageYOffset}}function ki(l){return Sr(Je(l)).left+to(l).scrollLeft}function vs(l){return Xi(l).getComputedStyle(l)}function oo(l){return l?(l.nodeName||"").toLowerCase():null}function To(l){return"html"===oo(l)?l:l.assignedSlot||l.parentNode||(_e(l)?l.host:null)||Je(l)}function us(l){var y=vs(l);return/auto|scroll|overlay|hidden/.test(y.overflow+y.overflowY+y.overflowX)}function Ma(l){return["html","body","#document"].indexOf(oo(l))>=0?l.ownerDocument.body:Nt(l)&&us(l)?l:Ma(To(l))}function ts(l,y){var r;void 0===y&&(y=[]);var c=Ma(l),m=c===(null==(r=l.ownerDocument)?void 0:r.body),D=Xi(c),ie=m?[D].concat(D.visualViewport||[],us(c)?c:[]):c,Ne=y.concat(ie);return m?Ne:Ne.concat(ts(To(ie)))}function Os(l){return["table","td","th"].indexOf(oo(l))>=0}function il(l){return Nt(l)&&"fixed"!==vs(l).position?l.offsetParent:null}function Ko(l){for(var y=Xi(l),r=il(l);r&&Os(r)&&"static"===vs(r).position;)r=il(r);return r&&("html"===oo(r)||"body"===oo(r)&&"static"===vs(r).position)?y:r||function Ca(l){var y=/firefox/i.test(Di());if(/Trident/i.test(Di())&&Nt(l)&&"fixed"===vs(l).position)return null;var m=To(l);for(_e(m)&&(m=m.host);Nt(m)&&["html","body"].indexOf(oo(m))<0;){var D=vs(m);if("none"!==D.transform||"none"!==D.perspective||"paint"===D.contain||-1!==["transform","perspective"].indexOf(D.willChange)||y&&"filter"===D.willChange||y&&D.filter&&"none"!==D.filter)return m;m=m.parentNode}return null}(l)||y}function Po(l,y){var r=y.getRootNode&&y.getRootNode();if(l.contains(y))return!0;if(r&&_e(r)){var c=y;do{if(c&&l.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function xa(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function We(l,y,r){return y===di?xa(function Eo(l,y){var r=Xi(l),c=Je(l),m=r.visualViewport,D=c.clientWidth,ie=c.clientHeight,Ne=0,et=0;if(m){D=m.width,ie=m.height;var wt=gs();(wt||!wt&&"fixed"===y)&&(Ne=m.offsetLeft,et=m.offsetTop)}return{width:D,height:ie,x:Ne+ki(l),y:et}}(l,r)):Ie(y)?function xl(l,y){var r=Sr(l,!1,"fixed"===y);return r.top=r.top+l.clientTop,r.left=r.left+l.clientLeft,r.bottom=r.top+l.clientHeight,r.right=r.left+l.clientWidth,r.width=l.clientWidth,r.height=l.clientHeight,r.x=r.left,r.y=r.top,r}(y,r):xa(function go(l){var y,r=Je(l),c=to(l),m=null==(y=l.ownerDocument)?void 0:y.body,D=gt(r.scrollWidth,r.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),ie=gt(r.scrollHeight,r.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),Ne=-c.scrollLeft+ki(l),et=-c.scrollTop;return"rtl"===vs(m||r).direction&&(Ne+=gt(r.clientWidth,m?m.clientWidth:0)-D),{width:D,height:ie,x:Ne,y:et}}(Je(l)))}function x(l){return l.split("-")[1]}function J(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function ue(l){var et,y=l.reference,r=l.element,c=l.placement,m=c?re(c):null,D=c?x(c):null,ie=y.x+y.width/2-r.width/2,Ne=y.y+y.height/2-r.height/2;switch(m){case je:et={x:ie,y:y.y-r.height};break;case Tt:et={x:ie,y:y.y+y.height};break;case cn:et={x:y.x+y.width,y:Ne};break;case wn:et={x:y.x-r.width,y:Ne};break;default:et={x:y.x,y:y.y}}var wt=m?J(m):null;if(null!=wt){var Jt="y"===wt?"height":"width";switch(D){case qi:et[wt]=et[wt]-(y[Jt]/2-r[Jt]/2);break;case Ki:et[wt]=et[wt]+(y[Jt]/2-r[Jt]/2)}}return et}function ze(l){return Object.assign({},{top:0,right:0,bottom:0,left:0},l)}function A(l,y){return y.reduce(function(r,c){return r[c]=l,r},{})}function $(l,y){void 0===y&&(y={});var c=y.placement,m=void 0===c?l.placement:c,D=y.strategy,ie=void 0===D?l.strategy:D,Ne=y.boundary,et=void 0===Ne?"clippingParents":Ne,wt=y.rootBoundary,Jt=void 0===wt?di:wt,fn=y.elementContext,En=void 0===fn?Yi:fn,Nn=y.altBoundary,Wn=void 0!==Nn&&Nn,zn=y.padding,fi=void 0===zn?0:zn,ji=ze("number"!=typeof fi?fi:A(fi,sr)),Ji=l.rects.popper,Ci=l.elements[Wn?En===Yi?"reference":Yi:En],Qi=function b(l,y,r,c){var m="clippingParents"===y?function f(l){var y=ts(To(l)),c=["absolute","fixed"].indexOf(vs(l).position)>=0&&Nt(l)?Ko(l):l;return Ie(c)?y.filter(function(m){return Ie(m)&&Po(m,c)&&"body"!==oo(m)}):[]}(l):[].concat(y),D=[].concat(m,[r]),Ne=D.reduce(function(et,wt){var Jt=We(l,wt,c);return et.top=gt(Jt.top,et.top),et.right=pn(Jt.right,et.right),et.bottom=pn(Jt.bottom,et.bottom),et.left=gt(Jt.left,et.left),et},We(l,D[0],c));return Ne.width=Ne.right-Ne.left,Ne.height=Ne.bottom-Ne.top,Ne.x=Ne.left,Ne.y=Ne.top,Ne}(Ie(Ci)?Ci:Ci.contextElement||Je(l.elements.popper),et,Jt,ie),ur=Sr(l.elements.reference),fr=ue({reference:ur,element:Ji,strategy:"absolute",placement:m}),_r=xa(Object.assign({},Ji,fr)),Ps=En===Yi?_r:ur,Bs={top:Qi.top-Ps.top+ji.top,bottom:Ps.bottom-Qi.bottom+ji.bottom,left:Qi.left-Ps.left+ji.left,right:Ps.right-Qi.right+ji.right},Ao=l.modifiersData.offset;if(En===Yi&&Ao){var ho=Ao[m];Object.keys(Bs).forEach(function(Zs){var nl=[cn,Tt].indexOf(Zs)>=0?1:-1,Va=[je,Tt].indexOf(Zs)>=0?"y":"x";Bs[Zs]+=ho[Va]*nl})}return Bs}const be={name:"flip",enabled:!0,phase:"main",fn:function R(l){var y=l.state,r=l.options,c=l.name;if(!y.modifiersData[c]._skip){for(var m=r.mainAxis,D=void 0===m||m,ie=r.altAxis,Ne=void 0===ie||ie,et=r.fallbackPlacements,wt=r.padding,Jt=r.boundary,fn=r.rootBoundary,En=r.altBoundary,Nn=r.flipVariations,Wn=void 0===Nn||Nn,zn=r.allowedAutoPlacements,fi=y.options.placement,ji=re(fi),Ji=et||(ji!==fi&&Wn?function ee(l){if(re(l)===oi)return[];var y=Ns(l);return[Se(l),y,Se(y)]}(fi):[Ns(fi)]),Ci=[fi].concat(Ji).reduce(function(rs,ja){return rs.concat(re(ja)===oi?function V(l,y){void 0===y&&(y={});var m=y.boundary,D=y.rootBoundary,ie=y.padding,Ne=y.flipVariations,et=y.allowedAutoPlacements,wt=void 0===et?L:et,Jt=x(y.placement),fn=Jt?Ne?we:we.filter(function(Wn){return x(Wn)===Jt}):sr,En=fn.filter(function(Wn){return wt.indexOf(Wn)>=0});0===En.length&&(En=fn);var Nn=En.reduce(function(Wn,zn){return Wn[zn]=$(l,{placement:zn,boundary:m,rootBoundary:D,padding:ie})[re(zn)],Wn},{});return Object.keys(Nn).sort(function(Wn,zn){return Nn[Wn]-Nn[zn]})}(y,{placement:ja,boundary:Jt,rootBoundary:fn,padding:wt,flipVariations:Wn,allowedAutoPlacements:zn}):ja)},[]),Qi=y.rects.reference,ur=y.rects.popper,fr=new Map,_r=!0,Ps=Ci[0],Bs=0;Bs<Ci.length;Bs++){var Ao=Ci[Bs],ho=re(Ao),Zs=x(Ao)===qi,nl=[je,Tt].indexOf(ho)>=0,Va=nl?"width":"height",pi=$(y,{placement:Ao,boundary:Jt,rootBoundary:fn,altBoundary:En,padding:wt}),Si=nl?Zs?cn:wn:Zs?Tt:je;Qi[Va]>ur[Va]&&(Si=Ns(Si));var Ui=Ns(Si),pr=[];if(D&&pr.push(pi[ho]<=0),Ne&&pr.push(pi[Si]<=0,pi[Ui]<=0),pr.every(function(rs){return rs})){Ps=Ao,_r=!1;break}fr.set(Ao,pr)}if(_r)for(var ma=function(ja){var ec=Ci.find(function(fo){var ca=fr.get(fo);if(ca)return ca.slice(0,ja).every(function(ta){return ta})});if(ec)return Ps=ec,"break"},yo=Wn?3:1;yo>0&&"break"!==ma(yo);yo--);y.placement!==Ps&&(y.modifiersData[c]._skip=!0,y.placement=Ps,y.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function se(l,y,r){return gt(l,pn(y,r))}function Ot(l){var y=Sr(l),r=l.offsetWidth,c=l.offsetHeight;return Math.abs(y.width-r)<=1&&(r=y.width),Math.abs(y.height-c)<=1&&(c=y.height),{x:l.offsetLeft,y:l.offsetTop,width:r,height:c}}const Xn={name:"preventOverflow",enabled:!0,phase:"main",fn:function Fn(l){var y=l.state,r=l.options,c=l.name,m=r.mainAxis,D=void 0===m||m,ie=r.altAxis,Ne=void 0!==ie&&ie,En=r.tether,Nn=void 0===En||En,Wn=r.tetherOffset,zn=void 0===Wn?0:Wn,fi=$(y,{boundary:r.boundary,rootBoundary:r.rootBoundary,padding:r.padding,altBoundary:r.altBoundary}),ji=re(y.placement),Bi=x(y.placement),Ji=!Bi,Ci=J(ji),Qi=function M(l){return"x"===l?"y":"x"}(Ci),ur=y.modifiersData.popperOffsets,fr=y.rects.reference,_r=y.rects.popper,Ps="function"==typeof zn?zn(Object.assign({},y.rects,{placement:y.placement})):zn,Bs="number"==typeof Ps?{mainAxis:Ps,altAxis:Ps}:Object.assign({mainAxis:0,altAxis:0},Ps),Ao=y.modifiersData.offset?y.modifiersData.offset[y.placement]:null,ho={x:0,y:0};if(ur){if(D){var Zs,nl="y"===Ci?je:wn,Va="y"===Ci?Tt:cn,pi="y"===Ci?"height":"width",Si=ur[Ci],Ui=Si+fi[nl],pr=Si-fi[Va],Ls=Nn?-_r[pi]/2:0,ma=Bi===qi?fr[pi]:_r[pi],yo=Bi===qi?-_r[pi]:-fr[pi],ga=y.elements.arrow,rs=Nn&&ga?Ot(ga):{width:0,height:0},ja=y.modifiersData["arrow#persistent"]?y.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ec=ja[nl],fo=ja[Va],ca=se(0,fr[pi],rs[pi]),ta=Ji?fr[pi]/2-Ls-ca-ec-Bs.mainAxis:ma-ca-ec-Bs.mainAxis,Bc=Ji?-fr[pi]/2+Ls+ca+fo+Bs.mainAxis:yo+ca+fo+Bs.mainAxis,tc=y.elements.arrow&&Ko(y.elements.arrow),dC=tc?"y"===Ci?tc.clientTop||0:tc.clientLeft||0:0,P0=null!=(Zs=Ao?.[Ci])?Zs:0,hC=Si+Bc-P0,ah=se(Nn?pn(Ui,Si+ta-P0-dC):Ui,Si,Nn?gt(pr,hC):pr);ur[Ci]=ah,ho[Ci]=ah-Si}if(Ne){var Ap,Ml=ur[Qi],lh="y"===Qi?"height":"width",U0=Ml+fi["x"===Ci?je:wn],Mp=Ml-fi["x"===Ci?Tt:cn],xp=-1!==[je,wn].indexOf(ji),kp=null!=(Ap=Ao?.[Qi])?Ap:0,V0=xp?U0:Ml-fr[lh]-_r[lh]-kp+Bs.altAxis,Np=xp?Ml+fr[lh]+_r[lh]-kp-Bs.altAxis:Mp,ch=Nn&&xp?function fe(l,y,r){var c=se(l,y,r);return c>r?r:c}(V0,Ml,Np):se(Nn?V0:U0,Ml,Nn?Np:Mp);ur[Qi]=ch,ho[Qi]=ch-Ml}y.modifiersData[c]=ho}},requiresIfExists:["offset"]},Yo={name:"arrow",enabled:!0,phase:"main",fn:function ns(l){var y,r=l.state,c=l.name,m=l.options,D=r.elements.arrow,ie=r.modifiersData.popperOffsets,Ne=re(r.placement),et=J(Ne),Jt=[wn,cn].indexOf(Ne)>=0?"height":"width";if(D&&ie){var fn=function(y,r){return ze("number"!=typeof(y="function"==typeof y?y(Object.assign({},r.rects,{placement:r.placement})):y)?y:A(y,sr))}(m.padding,r),En=Ot(D),Nn="y"===et?je:wn,Wn="y"===et?Tt:cn,zn=r.rects.reference[Jt]+r.rects.reference[et]-ie[et]-r.rects.popper[Jt],fi=ie[et]-r.rects.reference[et],ji=Ko(D),Bi=ji?"y"===et?ji.clientHeight||0:ji.clientWidth||0:0,ur=Bi/2-En[Jt]/2+(zn/2-fi/2),fr=se(fn[Nn],ur,Bi-En[Jt]-fn[Wn]);r.modifiersData[c]=((y={})[et]=fr,y.centerOffset=fr-ur,y)}},effect:function hs(l){var y=l.state,c=l.options.element,m=void 0===c?"[data-popper-arrow]":c;null!=m&&("string"==typeof m&&!(m=y.elements.popper.querySelector(m))||Po(y.elements.popper,m)&&(y.elements.arrow=m))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vh(l,y,r){void 0===r&&(r=!1);var c=Nt(y),m=Nt(y)&&function hl(l){var y=l.getBoundingClientRect(),r=ni(y.width)/l.offsetWidth||1,c=ni(y.height)/l.offsetHeight||1;return 1!==r||1!==c}(y),D=Je(y),ie=Sr(l,m,r),Ne={scrollLeft:0,scrollTop:0},et={x:0,y:0};return(c||!c&&!r)&&(("body"!==oo(y)||us(D))&&(Ne=function vo(l){return l!==Xi(l)&&Nt(l)?function dl(l){return{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}}(l):to(l)}(y)),Nt(y)?((et=Sr(y,!0)).x+=y.clientLeft,et.y+=y.clientTop):D&&(et.x=ki(D))),{x:ie.left+Ne.scrollLeft-et.x,y:ie.top+Ne.scrollTop-et.y,width:ie.width,height:ie.height}}function ka(l){var y=new Map,r=new Set,c=[];function m(D){r.add(D.name),[].concat(D.requires||[],D.requiresIfExists||[]).forEach(function(Ne){if(!r.has(Ne)){var et=y.get(Ne);et&&m(et)}}),c.push(D)}return l.forEach(function(D){y.set(D.name,D)}),l.forEach(function(D){r.has(D.name)||m(D)}),c}function wa(l){var y;return function(){return y||(y=new Promise(function(r){Promise.resolve().then(function(){y=void 0,r(l())})})),y}}var Ga={placement:"bottom",modifiers:[],strategy:"absolute"};function Hu(){for(var l=arguments.length,y=new Array(l),r=0;r<l;r++)y[r]=arguments[r];return!y.some(function(c){return!(c&&"function"==typeof c.getBoundingClientRect)})}function da(l){void 0===l&&(l={});var r=l.defaultModifiers,c=void 0===r?[]:r,m=l.defaultOptions,D=void 0===m?Ga:m;return function(Ne,et,wt){void 0===wt&&(wt=D);var Jt={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ga,D),modifiersData:{},elements:{reference:Ne,popper:et},attributes:{},styles:{}},fn=[],En=!1,Nn={state:Jt,setOptions:function(ji){var Bi="function"==typeof ji?ji(Jt.options):ji;zn(),Jt.options=Object.assign({},D,Jt.options,Bi),Jt.scrollParents={reference:Ie(Ne)?ts(Ne):Ne.contextElement?ts(Ne.contextElement):[],popper:ts(et)};var Ji=function ys(l){var y=ka(l);return Qn.reduce(function(r,c){return r.concat(y.filter(function(m){return m.phase===c}))},[])}(function $a(l){var y=l.reduce(function(r,c){var m=r[c.name];return r[c.name]=m?Object.assign({},m,c,{options:Object.assign({},m.options,c.options),data:Object.assign({},m.data,c.data)}):c,r},{});return Object.keys(y).map(function(r){return y[r]})}([].concat(c,Jt.options.modifiers)));return Jt.orderedModifiers=Ji.filter(function(Ci){return Ci.enabled}),function Wn(){Jt.orderedModifiers.forEach(function(fi){var Bi=fi.options,Ci=fi.effect;if("function"==typeof Ci){var Qi=Ci({state:Jt,name:fi.name,instance:Nn,options:void 0===Bi?{}:Bi});fn.push(Qi||function(){})}})}(),Nn.update()},forceUpdate:function(){if(!En){var ji=Jt.elements,Bi=ji.reference,Ji=ji.popper;if(Hu(Bi,Ji)){Jt.rects={reference:vh(Bi,Ko(Ji),"fixed"===Jt.options.strategy),popper:Ot(Ji)},Jt.reset=!1,Jt.placement=Jt.options.placement,Jt.orderedModifiers.forEach(function(Bs){return Jt.modifiersData[Bs.name]=Object.assign({},Bs.data)});for(var Ci=0;Ci<Jt.orderedModifiers.length;Ci++)if(!0!==Jt.reset){var Qi=Jt.orderedModifiers[Ci],ur=Qi.fn,fr=Qi.options;"function"==typeof ur&&(Jt=ur({state:Jt,options:void 0===fr?{}:fr,name:Qi.name,instance:Nn})||Jt)}else Jt.reset=!1,Ci=-1}}},update:wa(function(){return new Promise(function(fi){Nn.forceUpdate(),fi(Jt)})}),destroy:function(){zn(),En=!0}};if(!Hu(Ne,et))return Nn;function zn(){fn.forEach(function(fi){return fi()}),fn=[]}return Nn.setOptions(wt).then(function(fi){!En&&wt.onFirstUpdate&&wt.onFirstUpdate(fi)}),Nn}}var fl={passive:!0},yh={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xo(l){var y,r=l.popper,c=l.popperRect,m=l.placement,D=l.variation,ie=l.offsets,Ne=l.position,et=l.gpuAcceleration,wt=l.adaptive,Jt=l.roundOffsets,fn=l.isFixed,En=ie.x,Nn=void 0===En?0:En,Wn=ie.y,zn=void 0===Wn?0:Wn,fi="function"==typeof Jt?Jt({x:Nn,y:zn}):{x:Nn,y:zn};Nn=fi.x,zn=fi.y;var ji=ie.hasOwnProperty("x"),Bi=ie.hasOwnProperty("y"),Ji=wn,Ci=je,Qi=window;if(wt){var ur=Ko(r),fr="clientHeight",_r="clientWidth";ur===Xi(r)&&"static"!==vs(ur=Je(r)).position&&"absolute"===Ne&&(fr="scrollHeight",_r="scrollWidth"),(m===je||(m===wn||m===cn)&&D===Ki)&&(Ci=Tt,zn-=(fn&&ur===Qi&&Qi.visualViewport?Qi.visualViewport.height:ur[fr])-c.height,zn*=et?1:-1),m!==wn&&(m!==je&&m!==Tt||D!==Ki)||(Ji=cn,Nn-=(fn&&ur===Qi&&Qi.visualViewport?Qi.visualViewport.width:ur[_r])-c.width,Nn*=et?1:-1)}var Zs,Ao=Object.assign({position:Ne},wt&&yh),ho=!0===Jt?function jc(l,y){var c=l.y,m=y.devicePixelRatio||1;return{x:ni(l.x*m)/m||0,y:ni(c*m)/m||0}}({x:Nn,y:zn},Xi(r)):{x:Nn,y:zn};return Nn=ho.x,zn=ho.y,Object.assign({},Ao,et?((Zs={})[Ci]=Bi?"0":"",Zs[Ji]=ji?"0":"",Zs.transform=(Qi.devicePixelRatio||1)<=1?"translate("+Nn+"px, "+zn+"px)":"translate3d("+Nn+"px, "+zn+"px, 0)",Zs):((y={})[Ci]=Bi?zn+"px":"",y[Ji]=ji?Nn+"px":"",y.transform="",y))}var dv=da({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function Ha(l){var y=l.state,r=l.instance,c=l.options,m=c.scroll,D=void 0===m||m,ie=c.resize,Ne=void 0===ie||ie,et=Xi(y.elements.popper),wt=[].concat(y.scrollParents.reference,y.scrollParents.popper);return D&&wt.forEach(function(Jt){Jt.addEventListener("scroll",r.update,fl)}),Ne&&et.addEventListener("resize",r.update,fl),function(){D&&wt.forEach(function(Jt){Jt.removeEventListener("scroll",r.update,fl)}),Ne&&et.removeEventListener("resize",r.update,fl)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function Wu(l){var y=l.state;y.modifiersData[l.name]=ue({reference:y.rects.reference,element:y.rects.popper,strategy:"absolute",placement:y.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function uv(l){var y=l.state,r=l.options,c=r.gpuAcceleration,m=void 0===c||c,D=r.adaptive,ie=void 0===D||D,Ne=r.roundOffsets,et=void 0===Ne||Ne,wt={placement:re(y.placement),variation:x(y.placement),popper:y.elements.popper,popperRect:y.rects.popper,gpuAcceleration:m,isFixed:"fixed"===y.options.strategy};null!=y.modifiersData.popperOffsets&&(y.styles.popper=Object.assign({},y.styles.popper,Xo(Object.assign({},wt,{offsets:y.modifiersData.popperOffsets,position:y.options.strategy,adaptive:ie,roundOffsets:et})))),null!=y.modifiersData.arrow&&(y.styles.arrow=Object.assign({},y.styles.arrow,Xo(Object.assign({},wt,{offsets:y.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:et})))),y.attributes.popper=Object.assign({},y.attributes.popper,{"data-popper-placement":y.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function nc(l){var y=l.state;Object.keys(y.elements).forEach(function(r){var c=y.styles[r]||{},m=y.attributes[r]||{},D=y.elements[r];!Nt(D)||!oo(D)||(Object.assign(D.style,c),Object.keys(m).forEach(function(ie){var Ne=m[ie];!1===Ne?D.removeAttribute(ie):D.setAttribute(ie,!0===Ne?"":Ne)}))})},effect:function va(l){var y=l.state,r={popper:{position:y.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(y.elements.popper.style,r.popper),y.styles=r,y.elements.arrow&&Object.assign(y.elements.arrow.style,r.arrow),function(){Object.keys(y.elements).forEach(function(c){var m=y.elements[c],D=y.attributes[c]||{},Ne=Object.keys(y.styles.hasOwnProperty(c)?y.styles[c]:r[c]).reduce(function(et,wt){return et[wt]="",et},{});!Nt(m)||!oo(m)||(Object.assign(m.style,Ne),Object.keys(D).forEach(function(et){m.removeAttribute(et)}))})}},requires:["computeStyles"]}]});const hv={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function zp(l){var y=l.state,c=l.name,m=l.options.offset,D=void 0===m?[0,0]:m,ie=L.reduce(function(Jt,fn){return Jt[fn]=function Wa(l,y,r){var c=re(l),m=[wn,je].indexOf(c)>=0?-1:1,D="function"==typeof r?r(Object.assign({},y,{placement:l})):r,ie=D[0],Ne=D[1];return ie=ie||0,Ne=(Ne||0)*m,[wn,cn].indexOf(c)>=0?{x:Ne,y:ie}:{x:ie,y:Ne}}(fn,y.rects,D),Jt},{}),Ne=ie[y.placement],wt=Ne.y;null!=y.modifiersData.popperOffsets&&(y.modifiersData.popperOffsets.x+=Ne.x,y.modifiersData.popperOffsets.y+=wt),y.modifiersData[c]=ie}},Kp=["*"],im=["dialog"],Fa={animation:!0,transitionTimerDelayMs:5};let Xu=(()=>{class l{constructor(){this.animation=Fa.animation}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();function rc(l){return"string"==typeof l}function pl(l){return null!=l}function sc(l){return(l||document.body).getBoundingClientRect()}function Pl(l=document){const y=l?.activeElement;return y?y.shadowRoot?Pl(y.shadowRoot):y:null}const oc=()=>{},{transitionTimerDelayMs:Io}=Fa,Jc=new Map,ya=(l,y,r,c)=>{let m=c.context||{};const D=Jc.get(y);if(D)switch(c.runningTransition){case"continue":return Uo.w;case"stop":l.run(()=>D.transition$.complete()),m=Object.assign(D.context,m),Jc.delete(y)}const ie=r(y,c.animation,m)||oc;if(!c.animation||"none"===window.getComputedStyle(y).transitionProperty)return l.run(()=>ie()),(0,yr.of)(void 0).pipe(function vm(l){return y=>new xo.c(r=>y.subscribe({next:ie=>l.run(()=>r.next(ie)),error:ie=>l.run(()=>r.error(ie)),complete:()=>l.run(()=>r.complete())}))}(l));const Ne=new ir.B,et=new ir.B,wt=Ne.pipe(function Ys(...l){return y=>(0,Es.x)(y,(0,yr.of)(...l))}(!0));Jc.set(y,{transition$:Ne,complete:()=>{et.next(),et.complete()},context:m});const Jt=function kh(l){const{transitionDelay:y,transitionDuration:r}=window.getComputedStyle(l);return 1e3*(parseFloat(y)+parseFloat(r))}(y);return l.runOutsideAngular(()=>{const fn=(0,xs.R)(y,"transitionend").pipe((0,Fr.Q)(wt),(0,Et.p)(({target:Nn})=>Nn===y));jo((0,So.O)(Jt+Io).pipe((0,Fr.Q)(wt)),fn,et).pipe((0,Fr.Q)(wt)).subscribe(()=>{Jc.delete(y),l.run(()=>{ie(),Ne.next(),Ne.complete()})})}),Ne.asObservable()};let Uh=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Vh=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Gv=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Hv=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})();var _s=function(l){return l[l.Tab=9]="Tab",l[l.Enter=13]="Enter",l[l.Escape=27]="Escape",l[l.Space=32]="Space",l[l.PageUp=33]="PageUp",l[l.PageDown=34]="PageDown",l[l.End=35]="End",l[l.Home=36]="Home",l[l.ArrowLeft=37]="ArrowLeft",l[l.ArrowUp=38]="ArrowUp",l[l.ArrowRight=39]="ArrowRight",l[l.ArrowDown=40]="ArrowDown",l}(_s||{});const id=(l,y)=>!!y&&y.some(r=>r.contains(l)),Jh=(l,y)=>!y||null!=function Fl(l,y){return!y||typeof l.closest>"u"?null:l.closest(y)}(l,y),Jv=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const xm=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function km(l){const y=Array.from(l.querySelectorAll(xm)).filter(r=>-1!==r.tabIndex);return[y[0],y[y.length-1]]}let Om=(()=>{class l{constructor(){this._element=(0,e.WQX)(Bn.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();const Fm=/\s+/,Pm=/  +/gi,rd={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Lm=/^left/,Um=/^right/,Vm=/^start/,Qv=/^end/;function jm({placement:l,baseClass:y},r){let c=Array.isArray(l)?l:l.split(Fm),D=c.findIndex(wt=>"auto"===wt);D>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(wt){null==c.find(Jt=>-1!==Jt.search("^"+wt))&&c.splice(D++,1,wt)});const ie=c.map(wt=>function Bm(l,y){const[r,c]=rd[l];return y&&c||r}(wt,r.isRTL()));return{placement:ie.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!y,phase:"write",fn({state:wt}){const Jt=new RegExp(y+"(-[a-z]+)*","gi"),fn=wt.elements.popper,En=wt.placement;let Nn=fn.className;Nn=Nn.replace(Jt,""),Nn+=` ${function Zv(l,y){let[r,c]=y.split("-");const m=r.replace(Lm,"start").replace(Um,"end");let D=[m];if(c){let ie=c;("left"===r||"right"===r)&&(ie=ie.replace(Vm,"top").replace(Qv,"bottom")),D.push(`${m}-${ie}`)}return l&&(D=D.map(ie=>`${l}-${ie}`)),D.join(" ")}(y,En)}`,Nn=Nn.trim().replace(Pm," "),fn.className=Nn}},be,Xn,Yo,{enabled:!0,name:"flip",options:{fallbackPlacements:ie}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function $m(l){return l}new Date(1882,10,12),new Date(2174,10,25);let ng=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),yy=(()=>{class l{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=r=>r,this.container=null}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),ud=(()=>{class l{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(r){this._disabled=""===r||!0===r}get disabled(){return this._disabled}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(c,m){2&c&&(e.Mr5("tabIndex",m.disabled?-1:m.tabindex),e.AVh("disabled",m.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return l})(),lf=(()=>{class l{constructor(){this.item=(0,e.WQX)(ud)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(c,m){2&c&&e.Mr5("disabled",m.item.disabled)},standalone:!0})}}return l})(),cf=(()=>{class l{constructor(){this.dropdown=(0,e.WQX)(hd),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(c,m,D){if(1&c&&e.wni(D,ud,4),2&c){let ie;e.mGM(ie=e.lsd())&&(m.menuItems=ie)}},hostVars:4,hostBindings:function(c,m){1&c&&e.bIt("keydown.ArrowUp",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.ArrowDown",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Home",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.End",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Enter",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Space",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Tab",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Shift.Tab",function(ie){return m.dropdown.onKeyDown(ie)}),2&c&&e.AVh("dropdown-menu",!0)("show",m.dropdown.isOpen())},standalone:!0})}}return l})(),dd=(()=>{class l{constructor(){this.dropdown=(0,e.WQX)(hd),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(c,m){2&c&&(e.BMQ("aria-expanded",m.dropdown.isOpen()),e.AVh("show",m.dropdown.isOpen()))},standalone:!0})}}return l})(),ig=(()=>{class l extends dd{static{this.\u0275fac=(()=>{let r;return function(m){return(r||(r=e.xGo(l)))(m||l)}})()}static{this.\u0275dir=e.FsC({type:l,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(c,m){1&c&&e.bIt("click",function(){return m.dropdown.toggle()})("keydown.ArrowUp",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.ArrowDown",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Home",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.End",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Tab",function(ie){return m.dropdown.onKeyDown(ie)})("keydown.Shift.Tab",function(ie){return m.dropdown.onKeyDown(ie)}),2&c&&(e.BMQ("aria-expanded",m.dropdown.isOpen()),e.AVh("show",m.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:dd,useExisting:(0,e.Rfq)(()=>l)}]),e.Vt3]})}}return l})(),hd=(()=>{class l{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(yy),this._document=(0,e.WQX)(Bn.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new ir.B,this._bodyContainer=null,this._positioning=function Qh(){const l=(0,e.WQX)(Om);let y=null;return{createPopper(r){if(!y){let m=(r.updatePopperOptions||$m)(jm(r,l));y=dv(r.hostElement,r.targetElement,m)}},update(){y&&y.update()},setOptions(r){if(y){let m=(r.updatePopperOptions||$m)(jm(r,l));y.setOptions(m)}},destroy(){y&&(y.destroy(),y=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,kt.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(r){if(r.container&&this._open&&this._applyContainer(this.container),r.placement&&!r.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),r.dropdownClass){const{currentValue:c,previousValue:m}=r.dropdownClass;this._applyCustomDropdownClass(c,m)}r.autoClose&&this._open&&(this.autoClose=r.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:r=>this.popperOptions(function ey(l){return y=>(y.modifiers.push(hv,{name:"offset",options:{offset:()=>l}}),y)}([0,2])(r))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Mm(l,y,r,c,m,D,ie,Ne){r&&l.runOutsideAngular((l=>Jv?()=>setTimeout(()=>l(),100):l)(()=>{const wt=(0,xs.R)(y,"keydown").pipe((0,Fr.Q)(m),(0,Et.p)(En=>En.which===_s.Escape),(0,mo.M)(En=>En.preventDefault())),Jt=(0,xs.R)(y,"mousedown").pipe((0,hr.T)(En=>{const Nn=En.target;return 2!==En.button&&!id(Nn,ie)&&("inside"===r?id(Nn,D)&&Jh(Nn,Ne):"outside"===r?!id(Nn,D):Jh(Nn,Ne)||!id(Nn,D))}),(0,Fr.Q)(m)),fn=(0,xs.R)(y,"mouseup").pipe((0,Hr.E)(Jt),(0,Et.p)(([En,Nn])=>Nn),(0,es.c)(0),(0,Fr.Q)(m));jo([wt.pipe((0,hr.T)(En=>0)),fn.pipe((0,hr.T)(En=>1))]).subscribe(En=>l.run(()=>c(En)))}))}(this._ngZone,this._document,this.autoClose,r=>{this.close(),0===r&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(r){const c=r.which,m=this._getMenuElements();let D=-1,ie=null;const Ne=this._isEventFromToggle(r);if(!Ne&&m.length&&m.forEach((et,wt)=>{et.contains(r.target)&&(ie=et),et===Pl(this._document)&&(D=wt)}),c!==_s.Space&&c!==_s.Enter){if(c!==_s.Tab){if(Ne||ie){if(this.open(),m.length){switch(c){case _s.ArrowDown:D=Math.min(D+1,m.length-1);break;case _s.ArrowUp:if(this._isDropup()&&-1===D){D=m.length-1;break}D=Math.max(D-1,0);break;case _s.Home:D=0;break;case _s.End:D=m.length-1}m[D].focus()}r.preventDefault()}}else if(r.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===r.target)return void("body"!==this.container||r.shiftKey?r.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const et=this._menu.nativeElement.querySelectorAll(xm);r.shiftKey&&r.target===et[0]?(this._anchor.nativeElement.focus(),r.preventDefault()):!r.shiftKey&&r.target===et[et.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,xs.R)(r.target,"focusout").pipe((0,kt.s)(1)).subscribe(({relatedTarget:et})=>{this._nativeElement.contains(et)||this.close()})}}else ie&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,xs.R)(ie,"click").pipe((0,kt.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(r){return this._anchor.nativeElement.contains(r.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:r})=>!r).map(({nativeElement:r})=>r):[]}_positionMenu(){const r=this._menu;this.isOpen()&&r&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(r){return Array.isArray(r)?r[0]:r.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(r=null){if(this._resetContainer(),"body"===r){const c=this._menu.nativeElement,m=this._bodyContainer=this._bodyContainer||this._document.createElement("div");m.style.position="absolute",c.style.position="static",m.style.zIndex="1055",m.appendChild(c),this._document.body.appendChild(m)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(r,c){const m="body"===this.container?this._bodyContainer:this._nativeElement;m&&(c&&m.classList.remove(c),r&&m.classList.add(r))}_applyPlacementClasses(r){if(this._menu){r||(r=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const c=-1!==r.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(c),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(c))}}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275dir=e.FsC({type:l,selectors:[["","ngbDropdown",""]],contentQueries:function(c,m,D){if(1&c&&(e.wni(D,cf,5),e.wni(D,dd,5)),2&c){let ie;e.mGM(ie=e.lsd())&&(m._menu=ie.first),e.mGM(ie=e.lsd())&&(m._anchor=ie.first)}},hostVars:2,hostBindings:function(c,m){2&c&&e.AVh("show",m.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}}return l})(),Ba=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),uu=(()=>{class l{constructor(){this._ngbConfig=(0,e.WQX)(Xu),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(r){this._animation=r}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();class _l{constructor(y,r,c){this.nodes=y,this.viewRef=r,this.componentRef=c}}let rg=(()=>{class l{constructor(){this._document=(0,e.WQX)(Bn.qQ)}hide(){const r=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,m=c.style,{overflow:D,paddingRight:ie}=m;if(r>0){const Ne=parseFloat(window.getComputedStyle(c).paddingRight);m.paddingRight=`${Ne+r}px`}return m.overflow="hidden",()=>{r>0&&(m.paddingRight=ie),m.overflow=D}}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),xw=(()=>{class l{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,kt.s)(1)).subscribe(()=>{ya(this._zone,this._nativeElement,(r,c)=>{c&&sc(r),r.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ya(this._zone,this._nativeElement,({classList:r})=>r.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(c,m){2&c&&(e.HbH("modal-backdrop"+(m.backdropClass?" "+m.backdropClass:"")),e.AVh("show",!m.animation)("fade",m.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(c,m){},encapsulation:2})}}return l})();class by{update(y){}close(y){}dismiss(y){}}const kw=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],df=["animation","backdropClass"];class hf{_applyWindowOptions(y,r){kw.forEach(c=>{pl(r[c])&&(y[c]=r[c])})}_applyBackdropOptions(y,r){df.forEach(c=>{pl(r[c])&&(y[c]=r[c])})}update(y){this._applyWindowOptions(this._windowCmptRef.instance,y),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,y)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Fr.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Fr.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(y,r,c,m){this._windowCmptRef=y,this._contentRef=r,this._backdropCmptRef=c,this._beforeDismiss=m,this._closed=new ir.B,this._dismissed=new ir.B,this._hidden=new ir.B,y.instance.dismissEvent.subscribe(D=>{this.dismiss(D)}),this.result=new Promise((D,ie)=>{this._resolve=D,this._reject=ie}),this.result.then(null,()=>{})}close(y){this._windowCmptRef&&(this._closed.next(y),this._resolve(y),this._removeModalElements())}_dismiss(y){this._dismissed.next(y),this._reject(y),this._removeModalElements()}dismiss(y){if(this._windowCmptRef)if(this._beforeDismiss){const r=this._beforeDismiss();!function Fh(l){return l&&l.then}(r)?!1!==r&&this._dismiss(y):r.then(c=>{!1!==c&&this._dismiss(y)},()=>{})}else this._dismiss(y)}_removeModalElements(){const y=this._windowCmptRef.instance.hide(),r=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,yr.of)(void 0);y.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),r.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ks(y,r).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sg=function(l){return l[l.BACKDROP_CLICK=0]="BACKDROP_CLICK",l[l.ESC=1]="ESC",l}(sg||{});let Nw=(()=>{class l{constructor(){this._document=(0,e.WQX)(Bn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new ir.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new ir.B,this.hidden=new ir.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":rc(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(r){this.dismissEvent.emit(r)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,kt.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:r}=this._elRef,c={animation:this.animation,runningTransition:"stop"},ie=Ks(ya(this._zone,r,()=>r.classList.remove("show"),c),ya(this._zone,this._dialogEl.nativeElement,()=>{},c));return ie.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),ie}_show(){const r={animation:this.animation,runningTransition:"continue"};Ks(ya(this._zone,this._elRef.nativeElement,(D,ie)=>{ie&&sc(D),D.classList.add("show")},r),ya(this._zone,this._dialogEl.nativeElement,()=>{},r)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:r}=this._elRef;this._zone.runOutsideAngular(()=>{(0,xs.R)(r,"keydown").pipe((0,Fr.Q)(this._closed$),(0,Et.p)(m=>m.which===_s.Escape)).subscribe(m=>{this.keyboard?requestAnimationFrame(()=>{m.defaultPrevented||this._zone.run(()=>this.dismiss(sg.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;(0,xs.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Fr.Q)(this._closed$),(0,mo.M)(()=>c=!1),(0,Oo.n)(()=>(0,xs.R)(r,"mouseup").pipe((0,Fr.Q)(this._closed$),(0,kt.s)(1))),(0,Et.p)(({target:m})=>r===m)).subscribe(()=>{c=!0}),(0,xs.R)(r,"click").pipe((0,Fr.Q)(this._closed$)).subscribe(({target:m})=>{r===m&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(sg.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:r}=this._elRef;if(!r.contains(document.activeElement)){const c=r.querySelector("[ngbAutofocus]"),m=km(r)[0];(c||m||r).focus()}}_restoreFocus(){const r=this._document.body,c=this._elWithFocus;let m;m=c&&c.focus&&r.contains(c)?c:r,this._zone.runOutsideAngular(()=>{setTimeout(()=>m.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ya(this._zone,this._elRef.nativeElement,({classList:r})=>(r.add("modal-static"),()=>r.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ngb-modal-window"]],viewQuery:function(c,m){if(1&c&&e.GBs(im,7),2&c){let D;e.mGM(D=e.lsd())&&(m._dialogEl=D.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(c,m){2&c&&(e.BMQ("aria-modal",!0)("aria-labelledby",m.ariaLabelledBy)("aria-describedby",m.ariaDescribedBy),e.HbH("modal d-block"+(m.windowClass?" "+m.windowClass:"")),e.AVh("fade",m.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:Kp,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(c,m){1&c&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&c&&e.HbH("modal-dialog"+(m.size?" modal-"+m.size:"")+(m.centered?" modal-dialog-centered":"")+m.fullscreenClass+(m.scrollable?" modal-dialog-scrollable":"")+(m.modalDialogClass?" "+m.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return l})(),og=(()=>{class l{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(Bn.qQ),this._scrollBar=(0,e.WQX)(rg),this._activeWindowCmptHasChanged=new ir.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const r=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const c=this._windowCmpts[this._windowCmpts.length-1];((l,y,r,c=!1)=>{l.runOutsideAngular(()=>{const m=(0,xs.R)(y,"focusin").pipe((0,Fr.Q)(r),(0,hr.T)(D=>D.target));(0,xs.R)(y,"keydown").pipe((0,Fr.Q)(r),(0,Et.p)(D=>D.which===_s.Tab),(0,Hr.E)(m)).subscribe(([D,ie])=>{const[Ne,et]=km(y);(ie===Ne||ie===y)&&D.shiftKey&&(et.focus(),D.preventDefault()),ie===et&&!D.shiftKey&&(Ne.focus(),D.preventDefault())}),c&&(0,xs.R)(y,"click").pipe((0,Fr.Q)(r),(0,Hr.E)(m),(0,hr.T)(D=>D[1])).subscribe(D=>D.focus())})})(r,c.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(c.location.nativeElement)}})}_restoreScrollBar(){const r=this._scrollBarRestoreFn;r&&(this._scrollBarRestoreFn=null,r())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(r,c,m){const D=m.container instanceof HTMLElement?m.container:pl(m.container)?this._document.querySelector(m.container):this._document.body;if(!D)throw new Error(`The specified modal container "${m.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const ie=new by,Ne=(r=m.injector||r).get(e.uvJ,null)||this._environmentInjector,et=this._getContentRef(r,Ne,c,ie,m);let wt=!1!==m.backdrop?this._attachBackdrop(D):void 0,Jt=this._attachWindowComponent(D,et.nodes),fn=new hf(Jt,et,wt,m.beforeDismiss);return this._registerModalRef(fn),this._registerWindowCmpt(Jt),fn.hidden.pipe((0,kt.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),ie.close=En=>{fn.close(En)},ie.dismiss=En=>{fn.dismiss(En)},ie.update=En=>{fn.update(En)},fn.update(m),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),wt&&wt.instance&&wt.changeDetectorRef.detectChanges(),Jt.changeDetectorRef.detectChanges(),fn}get activeInstances(){return this._activeInstances}dismissAll(r){this._modalRefs.forEach(c=>c.dismiss(r))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(r){let c=(0,e.a0P)(xw,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(r,c){let m=(0,e.a0P)(Nw,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:c});return this._applicationRef.attachView(m.hostView),r.appendChild(m.location.nativeElement),m}_getContentRef(r,c,m,D,ie){return m?m instanceof e.C4Q?this._createFromTemplateRef(m,D):rc(m)?this._createFromString(m):this._createFromComponent(r,c,m,D,ie):new _l([])}_createFromTemplateRef(r,c){const D=r.createEmbeddedView({$implicit:c,close(ie){c.close(ie)},dismiss(ie){c.dismiss(ie)}});return this._applicationRef.attachView(D),new _l([D.rootNodes],D)}_createFromString(r){const c=this._document.createTextNode(`${r}`);return new _l([[c]])}_createFromComponent(r,c,m,D,ie){const Ne=e.zZn.create({providers:[{provide:by,useValue:D}],parent:r}),et=(0,e.a0P)(m,{environmentInjector:c,elementInjector:Ne}),wt=et.location.nativeElement;return ie.scrollable&&wt.classList.add("component-host-scrollable"),this._applicationRef.attachView(et.hostView),new _l([[wt]],et.hostView,et)}_setAriaHidden(r){const c=r.parentElement;c&&r!==this._document.body&&(Array.from(c.children).forEach(m=>{m!==r&&"SCRIPT"!==m.nodeName&&(this._ariaHiddenValues.set(m,m.getAttribute("aria-hidden")),m.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((r,c)=>{r?c.setAttribute("aria-hidden",r):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(r){const c=()=>{const m=this._modalRefs.indexOf(r);m>-1&&(this._modalRefs.splice(m,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(r),this._activeInstances.emit(this._modalRefs),r.result.then(c,c)}_registerWindowCmpt(r){this._windowCmpts.push(r),this._activeWindowCmptHasChanged.next(),r.onDestroy(()=>{const c=this._windowCmpts.indexOf(r);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),Cy=(()=>{class l{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(og),this._config=(0,e.WQX)(uu)}open(r,c={}){const m={...this._config,animation:this._config.animation,...c};return this._modalStack.open(this._injector,r,m)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(r){this._modalStack.dismissAll(r)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})(),ag=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Cy]})}}return l})(),md=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),gg=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),yg=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),vd=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Ay=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),_f=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),bf=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Gl=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),Tg=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let _d=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})(),jy=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({})}}return l})();const bd=[Uh,Vh,Gv,Hv,ng,Ba,ag,md,jy,gg,yg,vd,Ay,_f,bf,Gl,Tg,_d];let $y=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[bd,Uh,Vh,Gv,Hv,ng,Ba,ag,md,jy,gg,yg,vd,Ay,_f,bf,Gl,Tg,_d]})}}return l})();var Cd=d(3899);const Rg=["sameSiteBrowserNotification"],Ag=["defaultUserResolveButton"],Ef=l=>({text:"IdentityServer",check:l}),Mg=(l,y)=>({"tw-opacity-75":l,"tw-pill-info":y}),mc=l=>[l],fu=l=>({title:l,classes:"lg:tw-hidden",activeClass:"tw-nav-active",route:"/home",display:!0}),xg=(l,y)=>({title:l,classes:"",activeClass:"tw-nav-active",route:"/users",display:y}),Tf=(l,y)=>({title:l,classes:"",activeClass:"tw-nav-active",route:"/roles",display:y}),pu=(l,y)=>({title:l,classes:"",activeClass:"tw-nav-active",route:"/claim-types",display:y}),kg=(l,y)=>({title:l,classes:"",activeClass:"tw-nav-active",route:"/clients",display:y}),If=(l,y)=>({title:l,id:"tabDynamicAuth",classes:"",activeClass:"tw-nav-active",route:"/dynamic-auth",display:y,starterUpgrade:!0}),wd=(l,y)=>({title:l,id:"tabAudit",classes:"",activeClass:"tw-nav-active",route:"/auditing",display:y,starterUpgrade:!0}),Gy=(l,y)=>({title:l,classes:"",activeClass:"tw-nav-active",route:"/settings/accesspolicy",display:y}),Ng=l=>({title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/identityresources",display:!0}),Hy=l=>({title:l,classes:"",activeClass:"tw-subnav-active",sub:!0,route:"/protectedresources",display:!0}),Og=(l,y)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":l,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":y});function Wy(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&l&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function Fg(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&l&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function Pg(l,y){if(1&l&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&l){const r=e.XpG(2);e.R7$(6),e.SpI(" ",r.licenseIsInStarterModeMessage," ")}}function lr(l,y){if(1&l&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&l){const r=e.XpG(2);e.R7$(6),e.SpI(" ",r.licenseIsInGracePeriodMessage," ")}}function Bg(l,y){if(1&l&&(e.j41(0,"div",15),e.DNE(1,Wy,13,6,"div",16)(2,Fg,13,6,"div",17)(3,Pg,7,1,"div",18)(4,lr,7,1,"div",19),e.k0s()),2&l){const r=e.XpG();e.R7$(),e.Y8G("ngIf",r.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",r.defaultUserExists),e.R7$(),e.Y8G("ngIf",r.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",r.licenseIsInGracePeriod)}}function Lg(l,y){if(1&l&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&l){const r=e.XpG(2);e.Y8G("ngClass",e.l_i(2,Mg,r.securityService.isNonProd(),!r.securityService.isNonProd())),e.R7$(),e.SpI(" ",r.securityService.licenseType," ")}}function gc(l,y){if(1&l){const r=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,Lg,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&l){const r=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=r.securityService.organisation),e.R7$(4),e.JRh(r.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function Ug(l,y){1&l&&e.nrm(0,"span",53)}function Vg(l,y){1&l&&e.nrm(0,"span",54)}function zy(l,y){1&l&&e.nrm(0,"div",60)}function Sd(l,y){1&l&&e.eu8(0)}function vc(l,y){1&l&&e.eu8(0)}function Df(l,y){1&l&&e.eu8(0)}function mu(l,y){1&l&&e.eu8(0)}function jg(l,y){1&l&&e.eu8(0)}function Rf(l,y){1&l&&e.eu8(0)}function Af(l,y){1&l&&e.eu8(0)}function Mf(l,y){if(1&l&&(e.j41(0,"li",61)(1,"button",62)(2,"span",63),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",64),e.k0s(),e.j41(6,"div",65),e.nI1(7,"translate"),e.j41(8,"ul",66),e.DNE(9,Rf,1,0,"ng-container",13),e.nI1(10,"translate"),e.DNE(11,Af,1,0,"ng-container",13),e.nI1(12,"translate"),e.k0s()()()),2&l){const r=e.XpG(3),c=e.sdS(9);e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",r.isActiveResourceRoute()),e.R7$(2),e.JRh(e.bMT(4,9,"Nav.Resources")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,11,"Nav.Resources")),e.R7$(3),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.eq3(17,Ng,e.bMT(10,13,"Nav.IdentityResources"))),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.eq3(19,Hy,e.bMT(12,15,"Nav.ProtectedResources")))}}function $g(l,y){1&l&&e.eu8(0)}function xf(l,y){1&l&&e.eu8(0)}function Ky(l,y){1&l&&e.eu8(0)}function Yy(l,y){if(1&l){const r=e.RV6();e.j41(0,"nav",55),e.DNE(1,zy,1,0,"div",56),e.j41(2,"ul",43),e.DNE(3,Sd,1,0,"ng-container",13),e.nI1(4,"translate"),e.DNE(5,vc,1,0,"ng-container",13),e.nI1(6,"translate"),e.DNE(7,Df,1,0,"ng-container",13),e.nI1(8,"translate"),e.DNE(9,mu,1,0,"ng-container",13),e.nI1(10,"translate"),e.DNE(11,jg,1,0,"ng-container",13),e.nI1(12,"translate"),e.DNE(13,Mf,13,21,"li",57)(14,$g,1,0,"ng-container",13),e.nI1(15,"translate"),e.DNE(16,xf,1,0,"ng-container",13),e.nI1(17,"translate"),e.DNE(18,Ky,1,0,"ng-container",13),e.nI1(19,"translate"),e.j41(20,"li",58)(21,"button",59),e.bIt("click",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.logoff())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&l){const r=e.XpG(2),c=e.sdS(7);e.R7$(),e.Y8G("ngIf",!r.healthCheckService.uiReady),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.eq3(37,fu,e.bMT(4,19,"Nav.Home"))),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(39,xg,e.bMT(6,21,"Nav.Users"),r.securityService.userManagerView||r.securityService.userManagerReadOnlyView)),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(42,Tf,e.bMT(8,23,"Nav.Roles"),r.securityService.userManagerView||r.securityService.userManagerReadOnlyView)),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(45,pu,e.bMT(10,25,"Nav.ClaimTypes"),r.securityService.userManagerView||r.securityService.userManagerReadOnlyView)),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(48,kg,e.bMT(12,27,"Nav.Clients"),r.securityService.identityServerManagerView||r.securityService.identityServerManagerReadOnlyView)),e.R7$(2),e.Y8G("ngIf",r.securityService.identityServerManagerView||r.securityService.identityServerManagerReadOnlyView),e.R7$(),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(51,If,e.bMT(15,29,"Nav.DynamicAuth"),(r.securityService.identityServerManagerView||r.securityService.identityServerManagerReadOnlyView)&&r.dynamicAuthEnabled)),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(54,wd,e.bMT(17,31,"Nav.Auditing"),r.securityService.auditerView)),e.R7$(2),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.l_i(57,Gy,e.bMT(19,33,"Nav.Settings"),r.securityService.allView)),e.R7$(4),e.SpI(" ",e.bMT(23,35,"Logout")," ")}}function Xy(l,y){if(1&l){const r=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,Ug,1,0,"span",50)(18,Vg,1,0,"span",51),e.k0s()(),e.DNE(19,Yy,24,60,"nav",52),e.k0s()()()}if(2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,mc,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",r.openMenu),e.BMQ("aria-expanded",1==r.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!r.openMenu),e.R7$(),e.Y8G("ngIf",r.openMenu),e.R7$(),e.Y8G("ngIf",r.openMenu&&r.appComponentViewConfig.showNav&&!r.expectingStarterModeConsent)}}function Gg(l,y){1&l&&(e.j41(0,"div",71)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",72),e.k0s()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Jy(l,y){if(1&l&&(e.j41(0,"li",68)(1,"button",69),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,Gg,5,3,"div",70),e.k0s()()),2&l){const r=e.XpG(),c=r.title,m=r.classes,D=r.activeClass,ie=r.sub,Ne=r.route,et=r.starterUpgrade,wt=r.id,Jt=e.XpG();e.HbH(m),e.Y8G("id",wt),e.R7$(),e.Y8G("ngClass",e.l_i(10,Og,ie,!ie))("routerLinkActive",D)("routerLink",e.eq3(13,mc,e.bMT(2,8,Ne))),e.R7$(2),e.SpI(" ",c," "),e.R7$(),e.Y8G("ngIf",et&&Jt.licenseIsInStarterMode)}}function Qy(l,y){1&l&&e.DNE(0,Jy,5,15,"li",67),2&l&&e.Y8G("ngIf",y.display)}function Zy(l,y){1&l&&(e.j41(0,"div",71)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",72),e.k0s()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function qy(l,y){if(1&l&&(e.j41(0,"li",68)(1,"button",73),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,Zy,5,3,"div",70),e.k0s()()),2&l){const r=e.XpG(),c=r.title,m=r.classes,D=r.activeClass,ie=r.sub,Ne=r.route,et=r.starterUpgrade,wt=r.id,Jt=e.XpG();e.HbH(m),e.Y8G("id",wt),e.R7$(),e.Y8G("ngClass",e.l_i(10,Og,ie,!ie))("routerLinkActive",D)("routerLink",e.eq3(13,mc,e.bMT(2,8,Ne))),e.R7$(2),e.SpI(" ",c," "),e.R7$(),e.Y8G("ngIf",et&&Jt.licenseIsInStarterMode)}}function Hg(l,y){1&l&&e.DNE(0,qy,5,15,"li",67),2&l&&e.Y8G("ngIf",y.display)}function Wg(l,y){1&l&&(e.j41(0,"div",74)(1,"div",75)(2,"div")(3,"h1",76),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&l&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function e_(l,y){1&l&&e.nrm(0,"router-outlet")}function t_(l,y){1&l&&e.eu8(0)}function fa(l,y){if(1&l&&(e.j41(0,"div",78)(1,"div",79),e.nrm(2,"span",80),e.j41(3,"span",81)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&l){const r=e.XpG(),c=r.text;e.Y8G("@fadeInOut",r.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",c," ")}}function n_(l,y){1&l&&e.DNE(0,fa,8,5,"div",77),2&l&&e.Y8G("ngIf",y.check)}function i_(l,y){if(1&l){const r=e.RV6();e.j41(0,"footer",82)(1,"button",83),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.jumpToTop())}),e.nrm(2,"span",84),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",85)(7,"div",86)(8,"p",87)(9,"span",88),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",89),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",90)(16,"li",91)(17,"a",92),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",93),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",94),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",r.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",r.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"LandingPage.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let eS=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt,Jt,fn,En,Nn,Wn){this.securityService=r,this.translate=c,this.localizeRouter=m,this.toastr=D,this.router=ie,this.healthCheckService=Ne,this.authService=et,this.userService=wt,this.modalService=Jt,this.browserSameSiteService=fn,this.appComponentViewService=En,this.licenseService=Nn,this.configService=Wn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Hn.N.Save],this.subscriptions=[],cr.wB.defaultLocale="utc",cr.wB.defaultZone="utc";const zn=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",zn),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const c={link:Wt.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",c),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(r=>r.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,Et.p)(r=>r instanceof jn.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=zt}),this.configService.getConfig().subscribe({next:r=>{this.dynamicAuthEnabled=r.featureFlagOptions.dynamicAuthenticationFlag!=cs.U.Disabled}}),this.router.events.subscribe({next:r=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:r=>{this.appComponentViewConfig=r}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,kt.s)(1)).subscribe({next:r=>this.uiHealthCheckSuccess(r),error:r=>this.uiHealthCheckFailed(r)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,kt.s)(1)).subscribe({next:r=>this.idsHealthCheckSuccess(),error:r=>this.idsHealthCheckFailed(r)})}uiHealthCheckSuccess(r){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof r&&!(0,vn.gP)(r)&&this.toastr.warning(r,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Ze.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(c=>{c.authentication.isAuthenticated&&c.authentication.username!=xi.M.DefaultAdministratorUsername&&c.permissions.includes(nn.a[nn.a.All])&&this.userService.defaultUserExists().subscribe(m=>{this.defaultUserExists=m})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(c=>{if(this.licenseIsInStarterMode=c.isStarterLicense(),this.expectingStarterModeConsent=c.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=c.isInGracePeriod,this.licenseIsInGracePeriod){const m=(0,vn.KU)(c.gracePeriodExpiry,"ccc LLL dd yyyy, T");let D=this.translate.instant("Common.LicenseIsInGracePeriod");D=D.replace("{0}",m),this.licenseIsInGracePeriodMessage=D}})}uiHealthCheckFailed(r){this.healthCheckService.uiHealthCheckComplete.next(!0);const c=this.getHealthCheckError(r);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:c?` (${c})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(r){this.healthCheckService.idsHealthCheckComplete.next(!0);const c=this.getHealthCheckError(r);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Wt.$9.checkHealthIdentityServerDocs,error:c?` (${c})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:r=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:r=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(r,c=!1){return this.router.isActive(r,c)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const r=window.matchMedia("(min-width: 1024px)");r.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!r.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(r){if(!r)return"";const c=r.error;if(c){if("string"==typeof c)return c;if(c.errors&&c.errors.length>0)return c.errors[0]}return r.message?r.message:r.statusText?r.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(vi.i),e.rXU(Ln.c$),e.rXU(ar.QG),e.rXU(Hi.tw),e.rXU(jn.Ix),e.rXU(wo.M),e.rXU(zs.u),e.rXU(Fi.D),e.rXU(Zi.B),e.rXU(Ss),e.rXU($i.X),e.rXU(so.X),e.rXU(po.w))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-root"]],viewQuery:function(c,m){if(1&c&&(e.GBs(Rg,5),e.GBs(Ag,5)),2&c){let D;e.mGM(D=e.lsd())&&(m.sameSiteBrowserNotification=D.first),e.mGM(D=e.lsd())&&(m.defaultUserResolveButton=D.first)}},decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","tw-transition-all","tw-ease-in-out",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],["class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],["ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuResourcesToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Bg,5,4,"div",6)(4,gc,14,8,"nav",7)(5,Xy,20,20,"header",8)(6,Qy,1,1,"ng-template",null,0,e.C5r)(8,Hg,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(D),e.Njj(m.removeDefaultUser())})("onCancel",function(){return e.eBV(D),e.Njj(m.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,Wg,9,6,"div",11)(15,e_,1,0,"router-outlet",12),e.k0s(),e.DNE(16,t_,1,0,"ng-container",13)(17,n_,1,1,"ng-template",null,2,e.C5r)(19,i_,26,14,"footer",14)}if(2&c){const D=e.sdS(18);e.Y8G("href",m.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",m.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",m.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",m.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",m.resolveModalActions)("title","Remove Default Administrator")("modalId",m.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",m.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!m.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.eq3(16,Ef,!m.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",m.appComponentViewConfig.showFooter)}},dependencies:[jn.n3,jn.Wk,jn.wQ,Bn.YU,Bn.bT,Bn.T3,hd,ig,cf,ud,lf,Cd.G,Ln.D9,ar.tl],encapsulation:2,data:{animation:[(0,Be.l1)(),(0,Be.Ws)()]}})}}return l})();var Ed=d(534),bl=d(4304),Ya=d(3816),La=d(779),zg=d(9865),kf=d(4589);class Kg{constructor(){this.rss=new r_,this.rss.channel=new Nf,this.rss.channel.item=new Array}}class r_{}class Nf{}class s_{}var o_=d(1108),Cl=d(7384);const a_=(l,y)=>({"tw-bg-white":l,"tw-bg-grey-100":y});function l_(l,y){1&l&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function Xa(l,y){if(1&l&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&l){const r=y.$implicit,c=e.XpG(2);e.R7$(),e.Y8G("href",c.domSanitizer.bypassSecurityTrustUrl(r.link),e.B4B),e.R7$(2),e.JRh(r.title),e.R7$(2),e.JRh(r.pubDate),e.R7$(2),e.JRh(r.description)}}function Of(l,y){if(1&l&&(e.j41(0,"ul"),e.DNE(1,Xa,8,4,"li",7),e.k0s()),2&l){const r=e.XpG();e.R7$(),e.Y8G("ngForOf",null==r.dto?null:r.dto.rss.channel.item)}}let Yg=(()=>{class l{constructor(r,c,m){this.http=r,this.domSanitizer=c,this.translate=m,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new s_}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new S.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(r=>{this.dto=(new o_).xml2js(r),Object.setPrototypeOf(this.dto,Kg.prototype),this.dto.rss.channel.item.forEach(c=>{c.pubDate=this.formatDate(c.pubDate)}),this.isLoading=!1},r=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Kg,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(r){return r?cr.c9.fromHTTP(r).toFormat("DD"):""}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(S.Qq),e.rXU(t.up),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,l_,2,0,"div",4)(8,Of,2,1,"ul",5),e.k0s()()),2&c&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,a_,!m.altTheme,m.altTheme)),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",!m.isLoading))},dependencies:[Bn.YU,Bn.Sq,Bn.bT,Cl.d,Ln.D9],encapsulation:2})}}return l})();const c_=(l,y)=>({title:l,link:y,icon:"fad fa-file fa-swap-opacity"}),Xg=(l,y)=>({title:l,link:y,icon:"fad fa-file-code fa-swap-opacity"}),Jg=(l,y)=>({title:l,link:y,icon:"fad fa-envelope fa-swap-opacity"}),Td=(l,y)=>({"tw-pill":l,"tw-pill-info":y});function Ff(l,y){if(1&l&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&l){const r=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",r.securityService.organisation," ")}}function tS(l,y){if(1&l&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Ff,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&l){const r=e.XpG();e.R7$(5),e.Y8G("ngIf",r.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Td,r.isNonProd(),!r.isNonProd())),e.R7$(),e.SpI(" ",r.securityService.licenseType," ")}}function Qg(l,y){1&l&&e.eu8(0)}function Zg(l,y){1&l&&e.eu8(0)}function qg(l,y){1&l&&e.eu8(0)}function Id(l,y){if(1&l&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&l){const r=y.title,c=y.link,m=y.icon;e.R7$(),e.Y8G("href",c,e.B4B),e.R7$(),e.ZvI("",m," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(r)}}let Pf=(()=>{class l{get LinkConstants(){return zg.e}constructor(r,c){this.titleService=r,this.securityService=c,this.titleService.setTitle(`Home - ${Wt.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===kf.G.Demo}isNonProd(){return this.securityService.licenseType!==kf.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(c,m){if(1&c&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,tS,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,Qg,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,Zg,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,qg,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,Id,5,5,"ng-template",null,0,e.C5r)),2&c){const D=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!m.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(16,c_,e.bMT(9,10,"LandingPage.Documentation"),m.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(19,Xg,e.bMT(11,12,"LandingPage.APIDocs"),m.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",D)("ngTemplateOutletContext",e.l_i(22,Jg,e.bMT(13,14,"Nav.Support"),m.LinkConstants.SupportLink))}},dependencies:[Bn.YU,Bn.bT,Bn.T3,Yg,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var Ua=d(152),Dd=d(8412),gu=d(1397),Ja=d(3519),no=d(5424),qo=d(3680),wl=d(7156),Ea=d(7294);let Sl=(()=>{class l{constructor(){this.placeholder=null,this.onSearch=new e.bkB}search(r){this.onSearch.emit(r.target.value)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"label",2),e.nrm(3,"span",3),e.j41(4,"span",4),e.EFF(5),e.nI1(6,"translate"),e.k0s()(),e.j41(7,"input",5),e.bIt("keyup",function(ie){return m.search(ie)}),e.k0s()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,2,"Common.Search")),e.R7$(2),e.Y8G("placeholder",m.placeholder))},dependencies:[Ln.D9],encapsulation:2})}}return l})();class Bf{constructor(){this.selected=!1}}var $o=d(8698);const e1=["addRoleModal"],t1=()=>({animated:!1,backdrop:"static"});let u_=(()=>{class l{constructor(r,c,m,D,ie,Ne){this.rolesService=r,this.errorService=c,this.translate=m,this.router=D,this.fb=ie,this.toastr=Ne,this.added=new e.bkB}keydown(r){"Enter"===r.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let r=new Bf;r=this.addRoleForm.value,r.name=r.name.trim(),this.rolesService.addRole(r).subscribe(c=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+r.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},c=>{this.errorService.handleError(c)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ja.P),e.rXU(no.I),e.rXU(Ln.c$),e.rXU(jn.Ix),e.rXU(p.ze),e.rXU(Hi.tw))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-role"]],viewQuery:function(c,m){if(1&c&&e.GBs(e1,7),2&c){let D;e.mGM(D=e.lsd())&&(m.addRoleModal=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(D),m.addRole(),e.Njj(m.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(D),e.Njj(m.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(25,t1)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",m.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!m.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!m.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,La.hZ,$o.Y,Ln.D9],encapsulation:2})}}return l})();const d_=(l,y)=>({"fad fa-pencil":l,"fas fa-eye":y});function h_(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(3);return e.Njj(m.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function f_(l,y){1&l&&e.nrm(0,"app-simple-loader")}function n1(l,y){1&l&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function Rd(l,y){1&l&&e.nrm(0,"span",23)}function p_(l,y){1&l&&e.nrm(0,"span",24)}function nS(l,y){1&l&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function m_(l,y){1&l&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function g_(l,y){if(1&l){const r=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.DNE(7,nS,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.DNE(9,m_,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.j41(11,"button",34),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditRole(m))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(2);e.R7$(3),e.JRh(r.name),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",c.isPolicyRole(r)),e.R7$(2),e.Y8G("ngIf",r.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,d_,!c.isUserManagerReadOnly,c.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function i1(l,y){if(1&l){const r=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Rd,1,0,"span",15)(8,p_,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,g_,16,11,"tr",22),e.k0s()()}if(2&l){const r=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",r.sortIcon),e.R7$(),e.Y8G("ngIf",!r.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.roles)}}function v_(l,y){if(1&l&&e.nrm(0,"app-pager",38),2&l){const r=e.XpG();e.Y8G("totalResults",null==r.roles?null:r.roles.length)}}let y_=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.rolesService=r,this.securityService=c,this.translate=m,this.router=D,this.titleService=ie,this.localize=Ne,this.errorService=et,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new ir.B,this.sortStream=new ir.B}ngOnInit(){const r=this.translate.instant("Nav.Roles")+" - "+Wt.$9.SITE_TITLE;this.titleService.setTitle(r),this.isLoading=!0;const c=this.sortStream.pipe((0,hr.T)(ie=>({search:this.term,sort:ie})));this.searchTermStream.pipe((0,Ua.B)(300),(0,ks.F)(),(0,hr.T)(ie=>(this.term=ie,{search:ie,sort:this.sortCriteria}))).pipe((0,Dd.X)(c),(0,eo.Z)({search:this.term,sort:this.sortCriteria}),(0,gu.Z)(ie=>this.rolesService.getRoles(ie.search,ie.sort))).subscribe({next:ie=>{this.roles=ie,this.isLoading=!1},error:ie=>{this.errorService.handleError(ie),this.isLoading=!1}})}search(r){this.searchTermStream.next(r)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(r){this.isUserManagerReadOnly?this.viewRole(r):this.editRole(r)}editRole(r){const c=[this.localize.translateRoute("/roles"),r.id];this.router.navigate(c)}viewRole(r){const c=[this.localize.translateRoute("/roles/view"),r.id];this.router.navigate(c)}allowedToEditRole(r){return!this.securityService.allView&&this.isPolicyRole(r)}isPolicyRole(r){const c=this.securityService.policyClaims;for(let m=0;m<c.length;m++)if("role"===c[m].type&&c[m].value===r.name)return!0;return!1}get isUserManagerReadOnly(){return(0,vn.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ja.P),e.rXU(vi.i),e.rXU(Ln.c$),e.rXU(jn.Ix),e.rXU(t.hE),e.rXU(ar.QG),e.rXU(no.I))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(c,m){if(1&c){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(D),e.Njj(m.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Ne){return e.eBV(D),e.Njj(m.search(Ne))}),e.k0s(),e.DNE(7,h_,5,3,"app-action-bar",5)(8,f_,1,0,"app-simple-loader",5)(9,n1,4,3,"div",6)(10,i1,26,18,"table",7)(11,v_,1,1,"app-pager",8),e.k0s()}2&c&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!m.isLoading&&!m.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",(!m.roles||m.roles.length<=0)&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.roles&&m.roles.length>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.roles&&m.roles.length>0&&!m.isLoading))},dependencies:[Bn.YU,Bn.Sq,Bn.bT,qo.z,wl.B,Ea.n,Sl,Cl.d,u_,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();function r1(l,y){1&l&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Lf(l,y){1&l&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let s1=(()=>{class l{constructor(r){this.isEnforcerCompilationError=!1,this.getNavigationState(r)}getNavigationState(r){const c=r.getCurrentNavigation();if(null!=c&&null!=c.extras.state){const m=c.extras.state;m.enforcer&&(this.isEnforcerCompilationError=m.enforcer)}}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.Ix))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(c,m){if(1&c&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,r1,3,3,"p",5)(8,Lf,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&c){const D=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",m.isEnforcerCompilationError)("ngIfElse",D)}},dependencies:[Bn.bT,Ln.D9],encapsulation:2})}}return l})(),vu=(()=>{class l{constructor(r){this.translate=r}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[Ln.D9],encapsulation:2})}}return l})();var yc=d(6719),_c=d(251);const __=(l,y)=>({title:l,link:y}),b_=l=>[l];function C_(l,y){1&l&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Ad(l,y){1&l&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Uf(l,y){if(1&l&&(e.qex(0,5),e.DNE(1,C_,3,3,"span",6)(2,Ad,3,3,"span",7),e.bVm()),2&l){const r=e.XpG();e.R7$(),e.Y8G("ngIf",r.isPolicyRole()),e.R7$(),e.Y8G("ngIf",r.role.reserved)}}let w_=(()=>{class l{constructor(r,c,m,D){this.activatedRoute=r,this.errorService=c,this.router=m,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(r=>{this.role=r.role},r=>{this.errorService.handleError(r)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const r=this.securityService.policyClaims;for(let c=0;c<r.length;c++)if("role"===r[c].type&&r[c].value===this.role.name)return!0;return!1}mobRoute(r){this.router.navigate([r],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.nX),e.rXU(no.I),e.rXU(jn.Ix),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Uf,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&c&&(e.Y8G("title",m.role.name)("crumbs",e.eq3(15,b_,e.l_i(12,__,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",m.isPolicyRole()||m.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[Bn.bT,jn.n3,qo.z,yc.G,_c.v,Ln.D9,ar.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})(),iS=(()=>{class l{constructor(r){this.translate=r}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[Ln.D9],encapsulation:2})}}return l})();var ll=d(8416),yu=d(1716),pa=d(526);class rS{}var cl=d(9957),bc=d(9550),S_=d(2292);function E_(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"input",6),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.newEnumValue,m)||(D.newEnumValue=m),e.Njj(m)}),e.k0s(),e.j41(3,"button",7),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.onAdd())}),e.nrm(4,"span",8),e.j41(5,"span",9),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()}if(2&l){const r=e.XpG();e.R7$(2),e.FS9("id",r.id+"-newValue-input"),e.R50("ngModel",r.newEnumValue),e.R7$(),e.FS9("id",r.id+"-newValue-button"),e.Y8G("disabled",r.addDisabled),e.R7$(3),e.JRh(e.bMT(7,5,"Common.Add"))}}function Vf(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-pill-list",10),e.bIt("onDelete",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.onDelete(m))}),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("readonly",r.reserved)("id",r.id)("values",r.value)}}function _u(l,y){if(1&l&&(e.j41(0,"span",11),e.EFF(1),e.nI1(2,"translate"),e.nI1(3,"number"),e.k0s()),2&l){const r=e.XpG();e.R7$(),e.Lme("",e.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",e.bMT(3,4,r.value.length),")")}}let Md=(()=>{class l{constructor(){this.id=(0,vn.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=r=>{},this.onTouched=()=>{}}writeValue(r){this.value=r}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.disabled=r}validate(r){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(r){this.value.splice(r,1),this.onChange(this.value)}isNullOrEmpty(r){return!r||null!==r.match(/^ *$/)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[e.Jv_([{provide:p.kq,useExisting:(0,e.Rfq)(()=>l),multi:!0},{provide:p.cz,useExisting:(0,e.Rfq)(()=>l),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(c,m){1&c&&(e.DNE(0,E_,8,7,"div",0),e.j41(1,"div",1),e.DNE(2,Vf,1,3,"app-pill-list",2)(3,_u,4,6,"span",3),e.k0s()),2&c&&(e.Y8G("ngIf",!m.reserved),e.R7$(2),e.Y8G("ngIf",m.value.length<=50||!m.reserved),e.R7$(),e.Y8G("ngIf",m.value.length>50&&m.reserved))},dependencies:[Bn.bT,p.me,p.BC,p.vS,S_.L,Bn.QX,Ln.D9],encapsulation:2})}}return l})();const xd=["addClaimTypeModal"],o1=()=>({animated:!1,backdrop:"static"});function bu(l,y){if(1&l&&(e.j41(0,"app-form-row",37),e.nrm(1,"app-edit-enum-claim-type",38),e.k0s()),2&l){const r=e.XpG();e.Y8G("label","Claims.AllowedValues"),e.R7$(),e.Y8G("required","Enum"===r.addClaimTypeForm.get("valueType").value)}}function a1(l,y){1&l&&(e.j41(0,"app-form-row",14),e.nrm(1,"input",39),e.k0s()),2&l&&e.Y8G("id","rules")("label","Claims.RegexRule")}function T_(l,y){1&l&&(e.j41(0,"app-form-row",14),e.nrm(1,"input",40),e.k0s()),2&l&&e.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Cu=(()=>{class l{constructor(r,c,m,D,ie,Ne){this.cdr=r,this.claimTypeService=c,this.errorService=m,this.translate=D,this.fb=ie,this.toastr=Ne,this.onSubmitted=new e.bkB,this.descFocus=!1}keydown(r){"Enter"===r.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",p.k0.required],name:["",p.k0.required],displayName:[""],description:["",p.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,p.k0.required],userEditable:[!1,p.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let r=new rS;r=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(r.rule=void 0,r.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(r).subscribe({next:c=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+r.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:c=>{(this.errorService.handleError(c)&cl.I.Toast)!==cl.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const r=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(r?.disable(),this.cdr.detectChanges()):(r?.setValue([]),r?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(e.gRc),e.rXU(pa.X),e.rXU(no.I),e.rXU(Ln.c$),e.rXU(p.ze),e.rXU(Hi.tw))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-claimtype"]],viewQuery:function(c,m){if(1&c&&e.GBs(xd,7),2&c){let D;e.mGM(D=e.lsd())&&(m.addClaimTypeModal=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",11),e.nrm(18,"input",13),e.k0s(),e.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),e.bIt("change",function(){return e.eBV(D),e.Njj(m.onValueTypeChanged())}),e.j41(22,"option",17),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"option",18),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.j41(28,"option",19),e.EFF(29),e.nI1(30,"translate"),e.k0s(),e.j41(31,"option",20),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.j41(34,"option",21),e.EFF(35),e.nI1(36,"translate"),e.k0s()()()(),e.DNE(37,bu,2,2,"app-form-row",22),e.j41(38,"app-form-row",14)(39,"textarea",23),e.bIt("focus",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)})("blur",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)}),e.k0s()(),e.DNE(40,a1,2,2,"app-form-row",24)(41,T_,2,2,"app-form-row",24),e.j41(42,"app-form-row",11)(43,"app-form-toggle",25),e.nrm(44,"input",26),e.k0s()(),e.j41(45,"app-form-row",27)(46,"app-form-toggle",25),e.nrm(47,"input",28),e.k0s()()()(),e.nrm(48,"div",29),e.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),e.bIt("click",function(){return e.eBV(D),e.Njj(m.addClaimType())}),e.EFF(53),e.nI1(54,"translate"),e.k0s(),e.j41(55,"span",34)(56,"button",35),e.bIt("click",function(){return e.eBV(D),e.Njj(m.addAnotherClaimType())}),e.EFF(57),e.nI1(58,"translate"),e.k0s()()(),e.j41(59,"button",36),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.EFF(60),e.nI1(61,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(56,o1)),e.R7$(6),e.JRh(e.bMT(7,36,"Claims.New")),e.R7$(5),e.JRh(e.bMT(12,38,"Common.Close")),e.R7$(3),e.Y8G("formGroup",m.addClaimTypeForm),e.R7$(),e.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.R7$(2),e.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.R7$(2),e.Y8G("id","type")("label","Common.Type"),e.R7$(4),e.JRh(e.bMT(24,40,"Common.Types.String")),e.R7$(3),e.JRh(e.bMT(27,42,"Common.Types.Int")),e.R7$(3),e.JRh(e.bMT(30,44,"Common.Types.DateTime")),e.R7$(3),e.JRh(e.bMT(33,46,"Common.Types.Boolean")),e.R7$(3),e.JRh(e.bMT(36,48,"Common.Types.Enum")),e.R7$(2),e.Y8G("ngIf","Enum"===m.addClaimTypeForm.get("valueType").value),e.R7$(),e.Y8G("id","description")("label","Common.Description"),e.R7$(2),e.Y8G("ngIf","String"===m.addClaimTypeForm.get("valueType").value),e.R7$(),e.Y8G("ngIf","String"===m.addClaimTypeForm.get("valueType").value),e.R7$(),e.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.R7$(),e.Y8G("id","required"),e.R7$(2),e.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.R7$(),e.Y8G("id","userEditable"),e.R7$(6),e.Y8G("disabled",!m.addClaimTypeForm.valid),e.R7$(),e.JRh(e.bMT(54,50,"Common.Save")),e.R7$(3),e.Y8G("disabled",!m.addClaimTypeForm.valid),e.R7$(),e.JRh(e.bMT(58,52,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(61,54,"Common.Cancel")))},dependencies:[Bn.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,La.hZ,$o.Y,bc.m,Md,Ln.D9],encapsulation:2})}}return l})();const l1=(l,y)=>({"fad fa-pencil":l,"fas fa-eye":y});function I_(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(3);return e.Njj(m.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Claims.Add")," "))}function c1(l,y){1&l&&e.nrm(0,"app-simple-loader")}function D_(l,y){1&l&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Claims.NoClaimsFound")))}function kd(l,y){1&l&&e.nrm(0,"span",25)}function R_(l,y){1&l&&e.nrm(0,"span",26)}function A_(l,y){1&l&&e.nrm(0,"span",27)}function M_(l,y){1&l&&e.nrm(0,"span",25)}function x_(l,y){1&l&&e.nrm(0,"span",26)}function k_(l,y){1&l&&e.nrm(0,"span",27)}function jf(l,y){1&l&&e.nrm(0,"span",25)}function wu(l,y){1&l&&e.nrm(0,"span",26)}function N_(l,y){1&l&&e.nrm(0,"span",27)}function Nd(l,y){1&l&&e.nrm(0,"span",25)}function Od(l,y){1&l&&e.nrm(0,"span",26)}function oS(l,y){1&l&&e.nrm(0,"span",27)}function O_(l,y){1&l&&(e.j41(0,"span",40)(1,"span",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Yes")))}function F_(l,y){1&l&&(e.j41(0,"span",41)(1,"span",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.No")))}function $f(l,y){1&l&&(e.j41(0,"span",40)(1,"span",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Yes")))}function P_(l,y){1&l&&(e.j41(0,"span",41)(1,"span",23),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.No")))}function u1(l,y){1&l&&(e.j41(0,"span",42),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function B_(l,y){if(1&l){const r=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.j41(2,"b",30),e.EFF(3),e.k0s()(),e.j41(4,"td",31),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.j41(5,"b",30),e.EFF(6),e.k0s()(),e.j41(7,"td",31),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",32),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.EFF(11),e.k0s(),e.j41(12,"td",33),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.DNE(13,O_,4,3,"span",34)(14,F_,4,3,"span",35),e.k0s(),e.j41(15,"td",33),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.DNE(16,$f,4,3,"span",34)(17,P_,4,3,"span",35),e.k0s(),e.j41(18,"td",36),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.DNE(19,u1,3,3,"span",37),e.k0s(),e.j41(20,"td",36),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.j41(21,"button",38),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditClaimType(m))}),e.nrm(22,"span",39),e.j41(23,"span",23),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(2);e.R7$(3),e.SpI(" ",r.name," "),e.R7$(3),e.SpI(" ",r.displayName," "),e.R7$(3),e.JRh(r.valueType),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",r.required),e.R7$(),e.Y8G("ngIf",!r.required),e.R7$(2),e.Y8G("ngIf",r.userEditable),e.R7$(),e.Y8G("ngIf",!r.userEditable),e.R7$(2),e.Y8G("ngIf",r.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(13,l1,c.isAllPermission&&!c.isAllPermissionReadOnly,!c.isAllPermission)),e.R7$(2),e.JRh(e.bMT(25,11,"Common.Edit"))}}function L_(l,y){if(1&l){const r=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.sort("name"))}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,kd,1,0,"span",15)(8,R_,1,0,"span",16)(9,A_,1,0,"span",17),e.k0s(),e.j41(10,"th",18),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th",19),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.sort("valueType"))}),e.j41(14,"span",14),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,M_,1,0,"span",15)(18,x_,1,0,"span",16)(19,k_,1,0,"span",17),e.k0s(),e.j41(20,"th",20),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.j41(23,"th",21),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.sort("required"))}),e.j41(24,"span",14),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.DNE(27,jf,1,0,"span",15)(28,wu,1,0,"span",16)(29,N_,1,0,"span",17),e.k0s(),e.j41(30,"th",21),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.sort("userEditable"))}),e.j41(31,"span",14),e.EFF(32),e.nI1(33,"translate"),e.k0s(),e.DNE(34,Nd,1,0,"span",15)(35,Od,1,0,"span",16)(36,oS,1,0,"span",17),e.k0s(),e.j41(37,"th",22)(38,"span",23),e.EFF(39),e.nI1(40,"translate"),e.k0s()(),e.j41(41,"th",22)(42,"span",23),e.EFF(43),e.nI1(44,"translate"),e.k0s()()()(),e.j41(45,"tbody"),e.DNE(46,B_,26,16,"tr",24),e.k0s()()}if(2&l){const r=e.XpG();e.R7$(5),e.JRh(e.bMT(6,21,"Common.Name")),e.R7$(2),e.Y8G("ngIf",!r.sortContains("name")),e.R7$(),e.Y8G("ngIf","name"===r.sortCriteria),e.R7$(),e.Y8G("ngIf","-name"===r.sortCriteria),e.R7$(2),e.SpI(" ",e.bMT(12,23,"Common.DisplayName")," "),e.R7$(4),e.JRh(e.bMT(16,25,"Common.Type")),e.R7$(2),e.Y8G("ngIf",!r.sortContains("valueType")),e.R7$(),e.Y8G("ngIf","valueType"===r.sortCriteria),e.R7$(),e.Y8G("ngIf","-valueType"===r.sortCriteria),e.R7$(2),e.SpI(" ",e.bMT(22,27,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(26,29,"Common.Required")),e.R7$(2),e.Y8G("ngIf",!r.sortContains("required")),e.R7$(),e.Y8G("ngIf","required"===r.sortCriteria),e.R7$(),e.Y8G("ngIf","-required"===r.sortCriteria),e.R7$(3),e.JRh(e.bMT(33,31,"Common.UserEditable")),e.R7$(2),e.Y8G("ngIf",!r.sortContains("userEditable")),e.R7$(),e.Y8G("ngIf","userEditable"===r.sortCriteria),e.R7$(),e.Y8G("ngIf","-userEditable"===r.sortCriteria),e.R7$(3),e.JRh(e.bMT(40,33,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(44,35,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.claimTypes)}}function d1(l,y){if(1&l&&e.nrm(0,"app-pager",43),2&l){const r=e.XpG();e.Y8G("totalResults",null==r.claimTypes?null:r.claimTypes.length)}}let U_=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.router=r,this.claimTypeService=c,this.errorService=m,this.translate=D,this.titleService=ie,this.localize=Ne,this.securityService=et,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new ir.B,this.searchStream=new ir.B}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+Wt.$9.SITE_TITLE);const r=this.searchStream.pipe((0,Ua.B)(300),(0,ks.F)(),(0,hr.T)(D=>(this.term=D,{search:D,sort:this.sortCriteria})));this.sortStream.pipe((0,hr.T)(D=>(this.sortCriteria=D,{search:this.term,sort:D}))).pipe((0,yu.h)(r),(0,eo.Z)({search:this.term,sort:this.sortCriteria}),(0,gu.Z)(D=>this.claimTypeService.getClaimTypes(D.search,D.sort,!0))).subscribe(D=>{this.claimTypes=D,this.isLoading=!1},D=>{this.errorService.handleError(D),this.isLoading=!1})}search(r){this.searchStream.next(r)}sort(r){this.sortCriteria=this.sortCriteria.startsWith("-")?r:"-"+r,this.sortStream.next(this.sortCriteria)}sortContains(r){return!!this.sortCriteria.includes(r)}onSubmitted(r){r&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(r){this.isAllPermission?this.editClaimType(r):this.viewClaimType(r)}viewClaimType(r){const c=this.localize.translateRoute("/claim-types/view");this.router.navigate([c,r.id])}editClaimType(r){const c=this.localize.translateRoute("/claim-types");this.router.navigate([c,r.id])}get isAllPermission(){return(0,vn.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,vn.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,vn.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.Ix),e.rXU(pa.X),e.rXU(no.I),e.rXU(Ln.c$),e.rXU(t.hE),e.rXU(ar.QG),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover","id","claimTypesTable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],["class","group",4,"ngFor","ngForOf"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(c,m){if(1&c){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-claimtype",2,0),e.bIt("onSubmitted",function(Ne){return e.eBV(D),e.Njj(m.onSubmitted(Ne))}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Ne){return e.eBV(D),e.Njj(m.search(Ne))}),e.k0s(),e.DNE(7,I_,5,3,"app-action-bar",5)(8,c1,1,0,"app-simple-loader",5)(9,D_,4,3,"div",6)(10,L_,47,37,"table",7)(11,d1,1,1,"app-pager",8),e.k0s()}2&c&&(e.Y8G("title",e.bMT(1,7,"Nav.ClaimTypes")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"ClaimTypes.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!m.isLoading&&m.isIdentityServerManager),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.claimTypes?null:m.claimTypes.length)<1&&!m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.claimTypes?null:m.claimTypes.length)>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.claimTypes?null:m.claimTypes.length)>0&&!m.isLoading))},dependencies:[Bn.YU,Bn.Sq,Bn.bT,qo.z,wl.B,Ea.n,Sl,Cl.d,Cu,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var Fd=d(6303),Ta=d(7499),ul=d(6728),Cc=d(6406),Su=d(8762),Eu=d(7778),Tu=d(4692);const aS=(l,y)=>({title:l,link:y}),Pd=l=>[l];function Iu(l,y){if(1&l){const r=e.RV6();e.j41(0,"select",23),e.bIt("change",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.onValueTypeChanged())}),e.j41(1,"option",24),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"option",25),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"option",26),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"option",27),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",28),e.EFF(14),e.nI1(15,"translate"),e.k0s()()}if(2&l){const r=e.XpG(2);e.R7$(),e.Y8G("selected","String"==r.claimType.valueType),e.R7$(),e.JRh(e.bMT(3,9,"Common.Types.String")),e.R7$(2),e.Y8G("selected","Int"==r.claimType.valueType),e.R7$(),e.JRh(e.bMT(6,11,"Common.Types.Int")),e.R7$(2),e.Y8G("selected","DateTime"==r.claimType.valueType),e.R7$(),e.JRh(e.bMT(9,13,"Common.Types.DateTime")),e.R7$(2),e.Y8G("selected","Boolean"==r.claimType.valueType),e.R7$(),e.JRh(e.bMT(12,15,"Common.Types.Boolean")),e.R7$(3),e.JRh(e.bMT(15,17,"Common.Types.Enum"))}}function h1(l,y){if(1&l&&(e.nrm(0,"app-readonly",10),e.nI1(1,"readOnlyValue")),2&l){const r=e.XpG(2);e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(4,Pd,e.bMT(1,2,r.claimType.valueType)))}}function V_(l,y){if(1&l&&(e.j41(0,"app-form-row",29),e.nrm(1,"app-edit-enum-claim-type",30),e.k0s()),2&l){const r=e.XpG(2);e.Y8G("label","Claims.AllowedValues"),e.R7$(),e.Y8G("reserved",r.claimType.reserved)("required","Enum"===r.claimTypeForm.get("valueType").value)}}function j_(l,y){1&l&&e.nrm(0,"textarea",31)}function $_(l,y){if(1&l&&(e.nrm(0,"app-readonly",10),e.nI1(1,"readOnlyValue")),2&l){const r=e.XpG(2);e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(4,Pd,e.bMT(1,2,r.claimType.description)))}}function Gf(l,y){1&l&&(e.j41(0,"app-form-row",12),e.nrm(1,"input",32),e.k0s()),2&l&&e.Y8G("id","rule")("label","Claims.RegexRule")}function lS(l,y){1&l&&(e.j41(0,"app-form-row",12),e.nrm(1,"input",33),e.k0s()),2&l&&e.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function f1(l,y){if(1&l&&(e.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),e.nrm(3,"app-readonly",10),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",9),e.nrm(6,"input",11),e.k0s(),e.j41(7,"app-form-row",12)(8,"div",13),e.DNE(9,Iu,16,19,"select",14)(10,h1,2,6,"app-readonly",15),e.k0s()(),e.DNE(11,V_,2,3,"app-form-row",16),e.j41(12,"app-form-row",12),e.DNE(13,j_,1,0,"textarea",17)(14,$_,2,6,"app-readonly",15),e.k0s(),e.DNE(15,Gf,2,2,"app-form-row",18)(16,lS,2,2,"app-form-row",18),e.j41(17,"app-form-row",9)(18,"app-form-toggle",19),e.nrm(19,"input",20),e.k0s()(),e.j41(20,"app-form-row",21)(21,"app-form-toggle",19),e.nrm(22,"input",22),e.k0s()()()()),2&l){const r=e.XpG();e.R7$(),e.Y8G("formGroup",r.claimTypeForm),e.R7$(),e.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(31,Pd,e.bMT(4,29,r.claimType.name))),e.R7$(2),e.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),e.R7$(2),e.Y8G("id","type")("label","Common.Type"),e.R7$(2),e.Y8G("ngIf",!r.claimType.reserved),e.R7$(),e.Y8G("ngIf",r.claimType.reserved),e.R7$(),e.Y8G("ngIf","Enum"===r.claimTypeForm.get("valueType").value),e.R7$(),e.Y8G("id","description")("label","Common.Description"),e.R7$(),e.Y8G("ngIf",!r.claimType.reserved),e.R7$(),e.Y8G("ngIf",r.claimType.reserved),e.R7$(),e.Y8G("ngIf","String"===r.claimTypeForm.get("valueType").value),e.R7$(),e.Y8G("ngIf","String"===r.claimTypeForm.get("valueType").value),e.R7$(),e.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),e.R7$(),e.Y8G("id","required"),e.R7$(2),e.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),e.R7$(),e.Y8G("id","userEditable")}}let Qa=(()=>{class l{get ReadOnlyFieldType(){return Fd.t}constructor(r,c,m,D,ie,Ne,et,wt,Jt,fn,En){this.router=r,this.translate=c,this.toastr=m,this.fb=D,this.claimTypeService=ie,this.titleService=Ne,this.dialogService=et,this.localize=wt,this.errorService=Jt,this.securityService=fn,this.cdr=En,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:r=>{this.claimType=r,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${Wt.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(r)},error:r=>{this.errorService.handleError(r)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,p.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[p.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},p.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},p.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,p.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const r=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(r.rule=void 0,r.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(r).subscribe({next:c=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(r),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:c=>{(this.errorService.handleError(c)&cl.I.Toast)!==cl.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:r=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const c=this.localize.translateRoute("/claim-types");this.router.navigate([c])},error:r=>{(this.errorService.handleError(r)&cl.I.Toast)!==cl.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const r=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(r?.disable(),this.cdr.detectChanges()):(r?.setValue(this.claimType.allowedValues||[]),r?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,vn.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.Ix),e.rXU(Ln.c$),e.rXU(Hi.tw),e.rXU(p.ze),e.rXU(pa.X),e.rXU(t.hE),e.rXU(Ta.o),e.rXU(ar.QG),e.rXU(no.I),e.rXU(vi.i),e.rXU(e.gRc))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(c,m){if(1&c){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,f1,23,33,"div",2),e.j41(4,"app-button-bar")(5,"button",3),e.bIt("click",function(){return e.eBV(D),e.Njj(m.submit())}),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.qex(8,4),e.j41(9,"button",5),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(13);return e.Njj(Ne.show())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(12,"app-delete-confirmation-modal",6,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(m.delete())}),e.k0s(),e.nrm(14,"app-can-deactivate")}2&c&&(e.Y8G("title",m.claimType.name)("crumbs",e.eq3(20,Pd,e.l_i(17,aS,e.bMT(1,9,"Nav.ClaimTypes"),e.bMT(2,11,"/claim-types")))),e.R7$(3),e.Y8G("ngIf",m.claimType),e.R7$(2),e.Y8G("disabled",!(m.claimTypeForm.dirty&&m.claimTypeForm.valid)),e.R7$(),e.SpI(" ",e.bMT(7,13,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",m.claimType.reserved||!m.isIdentityServerManager),e.R7$(),e.SpI(" ",e.bMT(11,15,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteClaimTypeModal")("resourceName",m.claimType.name))},dependencies:[Bn.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,ul.E,qo.z,Cc.z,$o.Y,bc.m,Su.O,Eu.w,Md,Ln.D9,ar.tl,Tu.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var Du=d(6199),Hf=d(8939),El=d(8261),is=d(1068),Hl=d(4354);const Wf=["IdentityResourcePicker"],G_=["tabs"],H_=["addIdentityResourceModal"],zf=()=>({animated:!1,backdrop:"static"});function p1(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function m1(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function g1(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("disabled",r.identityResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function W_(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("disabled",0==r.assignedClaims.length),e.R7$(),e.JRh(e.bMT(2,2,"Common.Save"))}}let z_=(()=>{class l{constructor(r,c,m,D,ie,Ne){this.claimTypesService=r,this.errorService=c,this.identityResourceService=m,this.translate=D,this.fb=ie,this.toastr=Ne,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(r){"Enter"===r.key&&this.identityResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.availableClaims=r,this.allAvailableClaims=r},error:r=>{this.errorService.handleError(r)}}),this.identityResourceForm=this.fb.group({name:["",p.k0.required],displayName:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}ngAfterViewInit(){this.resourcesPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,vn.Yt)(this.availableClaims.slice(),r);const c=this.assignedClaims.slice();this.assignedClaims=c.concat(r),this.resourcesPicker.availableCount=0}),this.resourcesPicker.unAssignedStream.subscribe(r=>{const c=this.availableClaims;this.assignedClaims=(0,vn.Yt)(this.assignedClaims.slice(),r),this.availableClaims=c.concat(r),this.resourcesPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const r=(0,is.kH)(this.assignedClaims,function(m){return m.name}),c=Object.assign(this.identityResourceForm.value,{allowedClaims:r});this.identityResourceService.addResource(c).subscribe(m=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.resetWizard(),this.hide(),this.onSubmit.emit()},m=>{let D;m.error.errors.length>0&&(D=m.error.errors[0]),this.toastr.error(D,this.translate.instant("Common.Error"))})}resetWizard(){this.identityResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvailableClaims}hide(){this.addIdentityResourceModal.hide()}show(){this.addIdentityResourceModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(pa.X),e.rXU(no.I),e.rXU(El.A),e.rXU(Ln.c$),e.rXU(p.ze),e.rXU(Hi.tw))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-identityresource"]],viewQuery:function(c,m){if(1&c&&(e.GBs(Wf,7),e.GBs(G_,7),e.GBs(H_,7)),2&c){let D;e.mGM(D=e.lsd())&&(m.resourcesPicker=D.first),e.mGM(D=e.lsd())&&(m.tabComponent=D.first),e.mGM(D=e.lsd())&&(m.addIdentityResourceModal=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},decls:47,vars:36,consts:[["addIdentityResourceModal","bs-modal"],["progressBar",""],["tabs",""],["IdentityResourcePicker",""],["bsModal","","id","addIdentityModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"disabled","click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12)(14,"div",13,1)(16,"span",11),e.EFF(17),e.k0s()()(),e.j41(18,"div",14)(19,"div",15),e.DNE(20,p1,3,3,"p",16)(21,m1,3,3,"p",16),e.k0s(),e.j41(22,"tabset",17,2)(24,"tab")(25,"form",18)(26,"app-form-row",19),e.nrm(27,"input",20),e.k0s(),e.j41(28,"app-form-row",19),e.nrm(29,"input",21),e.k0s(),e.j41(30,"app-form-row",22)(31,"textarea",23),e.bIt("focus",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)})("blur",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)}),e.k0s()()()(),e.j41(32,"tab"),e.nrm(33,"app-common-picker",24,3),e.k0s()()(),e.nrm(35,"div",25),e.j41(36,"div",26)(37,"div",27)(38,"div",28),e.DNE(39,g1,3,4,"button",29)(40,W_,3,4,"button",30),e.j41(41,"button",31),e.bIt("click",function(){return e.eBV(D),e.Njj(m.previousTab())}),e.EFF(42),e.nI1(43,"translate"),e.k0s()(),e.j41(44,"button",32),e.bIt("click",function(){return e.eBV(D),e.Njj(m.cancel())}),e.EFF(45),e.nI1(46,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(35,zf)),e.R7$(6),e.JRh(e.bMT(7,27,"IdentityResources.Create")),e.R7$(5),e.JRh(e.bMT(12,29,"Common.Close")),e.R7$(3),e.xc7("width",m.progressPercent+"%"),e.R7$(3),e.JRh(m.progressPercent+"%"),e.R7$(3),e.Y8G("ngIf",m.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",m.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",m.identityResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",m.tabIndex<m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",m.tabIndex==m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==m.tabIndex),e.R7$(),e.JRh(e.bMT(43,31,"Common.Back")),e.R7$(3),e.JRh(e.bMT(46,33,"Common.Cancel")))},dependencies:[Bn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,Ya.V6,Ya.fw,Hl.f,La.hZ,$o.Y,Ln.D9],encapsulation:2})}}return l})();const Wl=(l,y)=>({"fad fa-pencil":l,"fas fa-eye":y});function v1(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(3);return e.Njj(m.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Resources.AddResource")," "))}function Kf(l,y){1&l&&e.nrm(0,"app-simple-loader")}function K_(l,y){1&l&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"IdentityResources.NoIdentityResources")))}function y1(l,y){1&l&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function _1(l,y){if(1&l){const r=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",22),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.EFF(5),e.k0s(),e.j41(6,"td",23),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.EFF(7),e.k0s(),e.j41(8,"td",24),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.DNE(9,y1,3,3,"span",25),e.k0s(),e.j41(10,"td",24),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.j41(11,"button",26),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.nrm(12,"span",27),e.j41(13,"span",17),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(2);e.AVh("inactive",!r.enabled||(null==r?null:r.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!r.nonEditable),e.R7$(),e.JRh(r.displayName),e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",r.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(12,Wl,!c.isIdentityServerManagerReadOnly&&!r.nonEditable,c.isIdentityServerManagerReadOnly||r.nonEditable)),e.R7$(2),e.JRh(e.bMT(15,10,"Common.Edit"))}}function b1(l,y){if(1&l&&(e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",14),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",15),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",16)(13,"span",17),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",16)(17,"span",17),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",18),e.DNE(21,_1,16,15,"tr",19),e.k0s()()),2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.resources)}}function Ru(l,y){if(1&l&&e.nrm(0,"app-pager",29),2&l){const r=e.XpG();e.Y8G("totalResults",null==r.resources?null:r.resources.length)}}let Yf=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.identityResourceService=r,this.translate=c,this.router=m,this.errorService=D,this.localize=ie,this.titleService=Ne,this.securityService=et,this.term="",this.resources=[],this.isLoading=!0,this.searchTermStream=new ir.B}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.IdentityResources")+` - ${Wt.$9.SITE_TITLE}`),this.searchTermStream.pipe((0,Ua.B)(300),(0,ks.F)(),(0,hr.T)(m=>(this.term=m,{search:m}))).pipe((0,eo.Z)({search:this.term}),(0,gu.Z)(m=>this.identityResourceService.getIdentityResources(m.search))).subscribe({next:m=>{this.sortResources(m),this.isLoading=!1},error:m=>{this.errorService.handleError(m),this.isLoading=!1}})}sortResources(r){r.sort((c,m)=>Number(m.nonEditable)-Number(c.nonEditable)),this.resources=r}search(r){this.searchTermStream.next(r)}viewOrEditResource(r){this.isIdentityServerManagerReadOnly||r.nonEditable?this.viewResource(r):this.editResource(r)}viewResource(r){const c=this.localize.translateRoute("/identityresources/view");this.router.navigate([c,r.id])}editResource(r){const c=this.localize.translateRoute("/identityresources");this.router.navigate([c,r.id])}refreshList(){this.ngOnInit()}get isIdentityServerManagerReadOnly(){return(0,vn.ci)(this.securityService.userPermissions)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(El.A),e.rXU(Ln.c$),e.rXU(jn.Ix),e.rXU(no.I),e.rXU(ar.QG),e.rXU(t.hE),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addIdentityResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","identityResourceList",1,"tw-container","tw-mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(c,m){if(1&c){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-identityresource",2,0),e.bIt("onSubmit",function(){return e.eBV(D),e.Njj(m.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Ne){return e.eBV(D),e.Njj(m.search(Ne))}),e.k0s(),e.DNE(7,v1,5,3,"app-action-bar",5)(8,Kf,1,0,"app-simple-loader",5)(9,K_,4,3,"div",6)(10,b1,22,16,"table",7)(11,Ru,1,1,"app-pager",8),e.k0s()}2&c&&(e.Y8G("title",e.bMT(1,7,"Nav.IdentityResources")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!m.isLoading&&!m.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",(!m.resources||m.resources.length<=0)&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.resources&&m.resources.length>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.resources&&m.resources.length>0&&!m.isLoading))},dependencies:[Bn.YU,Bn.Sq,Bn.bT,qo.z,wl.B,Ea.n,Sl,Cl.d,z_,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var la=d(4444);const Bd=(l,y)=>({title:l,link:y}),C1=l=>[l],zl=()=>["active"];let Y_=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt){this.fb=r,this.route=c,this.router=m,this.titleService=D,this.identityResourceService=ie,this.translate=Ne,this.claimTypesService=et,this.scopesClaimService=wt}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(jn.nX),e.rXU(jn.Ix),e.rXU(t.hE),e.rXU(El.A),e.rXU(Ln.c$),e.rXU(pa.X),e.rXU(la.N))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:37,vars:43,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editIdentityResource",1,"tw-container","mx-auto"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(ie){return m.mobRoute(ie.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.j41(35,"div",14),e.nrm(36,"router-outlet"),e.k0s()),2&c&&(e.Y8G("title",null==m.identityResource?null:m.identityResource.name)("crumbs",e.eq3(38,C1,e.l_i(35,Bd,e.bMT(1,15,"IdentityResources.Title"),e.bMT(2,17,"/identityresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,19,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,21,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,23,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,25,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,27,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(40,zl)),e.R7$(),e.JRh(e.bMT(26,29,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(41,zl)),e.R7$(),e.JRh(e.bMT(30,31,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(42,zl)),e.R7$(),e.JRh(e.bMT(34,33,"Nav.Properties")))},dependencies:[jn.n3,jn.Wk,jn.wQ,p.xH,p.y7,qo.z,Ln.D9,ar.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var Xf=d(9437),Au=d(8284);let Ld=(()=>{class l{constructor(r,c){this.identityResourceService=r,this.errorService=c}resolve(r,c){const m=r.paramMap.get("Id");return this.identityResourceService.getResource(m).pipe((0,hr.T)(D=>(D&&this.identityResourceService.getCachedIdentityResource().next(D),D)),(0,Xf.W)((D,ie)=>(404===D.status?this.errorService.resourceNotFound(Au.v.identityResource):this.errorService.handleError(D),(0,Uo.I)())))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(El.A),e.KVO(no.I))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();var Za=d(4313),ea=d(5893);const cS=["ClaimPicker"],Ud=["tabs"],w1=["addProtectedModal"],S1=()=>({animated:!1,backdrop:"static"});function X_(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function Vd(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AssignClaims")))}function Mu(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("disabled",r.protectedResourceForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function J_(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let Q_=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.claimTypesService=r,this.errorService=c,this.protectedResourceService=m,this.translate=D,this.fb=ie,this.toastr=Ne,this.titleService=et,this.allAvailableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.resourceSecrets=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1,this.onSubmit=new e.bkB}keydown(r){"Enter"===r.key&&this.protectedResourceForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.availableClaims=r,this.allAvailableClaims=r},error:r=>{this.errorService.handleError(r)}}),this.protectedResourceForm=this.fb.group({name:["",[p.k0.required,p.k0.pattern(/^\S*$/)]],displayName:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}ngAfterViewInit(){this.handleClaims()}handleClaims(){this.claimPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,vn.Yt)(this.availableClaims.slice(),r);const c=this.assignedClaims.slice();this.assignedClaims=c.concat(r),this.claimPicker.availableCount=0}),this.claimPicker.unAssignedStream.subscribe(r=>{const c=this.availableClaims;this.assignedClaims=(0,vn.Yt)(this.assignedClaims.slice(),r),this.availableClaims=c.concat(r),this.claimPicker.assignedCount=0})}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.hide()}submit(){const r=(0,is.kH)(this.assignedClaims,function(m){return m.name}),c=Object.assign(this.protectedResourceForm.value,{allowedClaims:r},{resourceSecrets:this.resourceSecrets});this.protectedResourceService.addResource(c).subscribe(m=>{this.toastr.success(this.translate.instant("Resources.ResourceAddedSuccess"),this.translate.instant("Notifications.Saving Success Title")),this.onSubmit.emit(),this.resetWizard(),this.hide()},m=>{this.errorService.handleError(m)})}resetWizard(){this.protectedResourceForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.resourceSecrets=[],this.availableClaims=this.allAvailableClaims}hide(){this.addProtectedModal.hide()}show(){this.addProtectedModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(pa.X),e.rXU(no.I),e.rXU(ea.x),e.rXU(Ln.c$),e.rXU(p.ze),e.rXU(Hi.tw),e.rXU(t.hE))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-protectedresource"]],viewQuery:function(c,m){if(1&c&&(e.GBs(cS,7),e.GBs(Ud,7),e.GBs(w1,7)),2&c){let D;e.mGM(D=e.lsd())&&(m.claimPicker=D.first),e.mGM(D=e.lsd())&&(m.tabComponent=D.first),e.mGM(D=e.lsd())&&(m.addProtectedModal=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},outputs:{onSubmit:"onSubmit"},decls:45,vars:34,consts:[["addProtectedModal","bs-modal"],["progressBar",""],["tabs",""],["ClaimPicker",""],["bsModal","","id","addProtectedModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",4,0)(2,"div",5)(3,"div",6)(4,"div",7)(5,"h5",8),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",9),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",10),e.j41(10,"span",11),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",12),e.nrm(14,"div",13,1),e.k0s(),e.j41(16,"div",14)(17,"div",15),e.DNE(18,X_,3,3,"p",16)(19,Vd,3,3,"p",16),e.k0s(),e.j41(20,"tabset",17,2)(22,"tab")(23,"form",18)(24,"app-form-row",19),e.nrm(25,"input",20),e.k0s(),e.j41(26,"app-form-row",19),e.nrm(27,"input",21),e.k0s(),e.j41(28,"app-form-row",19)(29,"textarea",22),e.bIt("focus",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)})("blur",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)}),e.k0s()()()(),e.j41(30,"tab"),e.nrm(31,"app-common-picker",23,3),e.k0s()()(),e.nrm(33,"div",24),e.j41(34,"div",25)(35,"div",26)(36,"div",27),e.DNE(37,Mu,3,4,"button",28)(38,J_,3,3,"button",29),e.j41(39,"button",30),e.bIt("click",function(){return e.eBV(D),e.Njj(m.previousTab())}),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"button",31),e.bIt("click",function(){return e.eBV(D),e.Njj(m.cancel())}),e.EFF(43),e.nI1(44,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(33,S1)),e.R7$(6),e.JRh(e.bMT(7,25,"ProtectedResources.Create")),e.R7$(5),e.JRh(e.bMT(12,27,"Common.Close")),e.R7$(3),e.xc7("width",m.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",m.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",m.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",m.protectedResourceForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(3),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",m.tabIndex<m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",m.tabIndex==m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==m.tabIndex),e.R7$(),e.JRh(e.bMT(41,29,"Common.Back")),e.R7$(3),e.JRh(e.bMT(44,31,"Common.Cancel")))},dependencies:[Bn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,Ya.V6,Ya.fw,Hl.f,La.hZ,$o.Y,Ln.D9],encapsulation:2})}}return l})();const Z_=(l,y)=>({"fad fa-pencil":l,"fas fa-eye":y});function q_(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2);return e.DH7(D.pageSize,m)||(D.pageSize=m),e.Njj(m)}),e.bIt("change",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.setPageLength(+m.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&l){const r=e.XpG(2);e.R7$(2),e.Lme("",r.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",r.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function eb(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,q_,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(3);return e.Njj(m.show())}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&l){const r=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==r.pagedResult?null:r.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Resources.AddResource")," ")}}function tb(l,y){1&l&&e.nrm(0,"app-simple-loader")}function nb(l,y){1&l&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"ProtectedResources.NoneFound")))}function ib(l,y){1&l&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function jd(l,y){if(1&l){const r=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.DNE(9,ib,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.j41(11,"button",34),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.viewOrEditResource(m))}),e.nrm(12,"span",35),e.j41(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(2);e.AVh("inactive",!r.enabled||(null==r?null:r.nonEditable)),e.R7$(2),e.AVh("tw-text-blue-500",!r.nonEditable),e.R7$(),e.JRh(r.displayName),e.R7$(2),e.SpI(" ",r.name," "),e.R7$(2),e.SpI(" ",r.description," "),e.R7$(2),e.Y8G("ngIf",r.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(12,Z_,!c.isIdentityServerManagerReadOnly&&!r.nonEditable,c.isIdentityServerManagerReadOnly||r.nonEditable)),e.R7$(2),e.JRh(e.bMT(15,10,"Common.Edit"))}}function rb(l,y){if(1&l&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,jd,16,15,"tr",27),e.k0s()()),2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.ID")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.pagedResult.results)}}function sb(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-pager",37),e.bIt("onGoToPage",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.goToPage(m))}),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("totalResults",null==r.pagedResult?null:r.pagedResult.totalCount)("currentPage",r.page)("lastPage",null==r.pagedResult?null:r.pagedResult.pageCount)}}let E1=(()=>{class l extends Za.if{constructor(r,c,m,D,ie,Ne,et,wt){super(et,Ne,!0),this.protectedResourcesService=r,this.router=c,this.errorService=m,this.localize=D,this.titleService=ie,this.translate=Ne,this.securityService=wt,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new ir.B,this.pageSizeStream=new ir.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(r){return this.term=r,this.page=1,{searchTerm:r,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.ProtectedResources")+` - ${Wt.$9.SITE_TITLE}`);const r=this.pageStream.pipe((0,hr.T)(D=>(this.page=D,{searchTerm:this.term,page:D,pageSize:this.pageSize}))),c=this.pageSizeStream.pipe((0,hr.T)(D=>(this.pageSize=D,{searchTerm:this.term,page:this.page,pageSize:D})));r.pipe((0,Dd.X)(c),(0,Dd.X)(this.searchSource),(0,Dd.X)(this.enterKeySource),(0,eo.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,gu.Z)(D=>(this.isLoading=!0,this.protectedResourcesService.getResourcesPaginated(D.searchTerm,D.page,D.pageSize).pipe((0,es.c)(200))))).subscribe({next:D=>{this.pagedResult=D,this.isLoading=!1},error:D=>{this.errorService.handleError(D),this.isLoading=!1}})}searchResource(r){this.searchTermStream.next(r)}goToPage(r){this.pageStream.next(r)}setPageLength(r){this.page=1,this.pageSizeStream.next(r)}viewOrEditResource(r){this.isIdentityServerManagerReadOnly||r.nonEditable?this.viewResource(r):this.editResource(r)}viewResource(r){const c=this.localize.translateRoute("/protectedresources/view");this.router.navigate([c,r.id])}editResource(r){const c=this.localize.translateRoute("/protectedresources");this.router.navigate([c,r.id])}get isIdentityServerManagerReadOnly(){return(0,vn.ci)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(ea.x),e.rXU(jn.Ix),e.rXU(no.I),e.rXU(ar.QG),e.rXU(t.hE),e.rXU(Ln.c$),e.rXU(Hi.tw),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],features:[e.Vt3],decls:12,vars:11,consts:[["listProtectedResourcesModal",""],[3,"title"],[3,"onSubmit"],["id","protectedResourcesList",1,"tw-container","tw-mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],["class","group",3,"inactive",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(c,m){if(1&c){const D=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-protectedresource",2,0),e.bIt("onSubmit",function(){return e.eBV(D),e.Njj(m.refreshList())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Ne){return e.eBV(D),e.Njj(m.searchResource(Ne))}),e.k0s(),e.DNE(7,eb,7,4,"app-action-bar",5)(8,tb,1,0,"app-simple-loader",5)(9,nb,4,3,"div",6)(10,rb,22,16,"table",7)(11,sb,1,3,"app-pager",8),e.k0s()}2&c&&(e.Y8G("title",e.bMT(1,7,"ProtectedResources.TitlePlural")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Resources.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!m.isLoading&&!m.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",(!m.pagedResult||m.pagedResult.results.length<=0)&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.pagedResult&&m.pagedResult.results.length>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.pagedResult?null:m.pagedResult.results.length)>0&&!m.isLoading))},dependencies:[Bn.YU,Bn.Sq,Bn.bT,p.xH,p.y7,p.wz,p.BC,p.vS,qo.z,wl.B,Ea.n,Sl,Cl.d,Q_,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})(),$d=(()=>{class l{constructor(r,c){this.protectedResourceService=r,this.errorService=c}resolve(r,c){const m=r.paramMap.get("Id");return this.protectedResourceService.getResource(m).pipe((0,hr.T)(D=>(D&&this.protectedResourceService.getCachedProtectedResource().next(D),D)),(0,Xf.W)((D,ie)=>(404===D.status?this.errorService.resourceNotFound(Au.v.protectedResource):this.errorService.handleError(D),(0,Uo.I)())))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(ea.x),e.KVO(no.I))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();const Jf=(l,y)=>({title:l,link:y}),T1=l=>[l],xu=()=>["active"];function I1(l,y){1&l&&(e.j41(0,"div",19),e.nrm(1,"router-outlet"),e.k0s())}function Gd(){return Object.assign(new bl.P0,{closeOthers:!0})}let D1=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt){this.fb=r,this.route=c,this.router=m,this.titleService=D,this.protectedResourceService=ie,this.claimTypesService=Ne,this.translate=et,this.scopesClaimService=wt}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r;const c=this.translate.instant("ProtectedResources.Title")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+" - "+Wt.$9.SITE_TITLE;this.titleService.setTitle(c)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(jn.nX),e.rXU(jn.Ix),e.rXU(t.hE),e.rXU(ea.x),e.rXU(pa.X),e.rXU(Ln.c$),e.rXU(la.N))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-edit-protectedresource"]],features:[e.Jv_([{provide:bl.P0,useFactory:Gd}])],decls:51,vars:62,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes"],["value","claims"],["value","secrets"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","secrets","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","editProtectedResource","class","tw-container tw-mx-auto",4,"ngIf"],["id","editProtectedResource",1,"tw-container","tw-mx-auto"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(ie){return m.mobRoute(ie.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.j41(22,"option",9),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"option",10),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"ul",11),e.nI1(29,"translate"),e.j41(30,"li",12)(31,"button",13),e.EFF(32),e.nI1(33,"translate"),e.k0s()(),e.j41(34,"li",12)(35,"button",14),e.EFF(36),e.nI1(37,"translate"),e.k0s()(),e.j41(38,"li",12)(39,"button",15),e.EFF(40),e.nI1(41,"translate"),e.k0s()(),e.j41(42,"li",12)(43,"button",16),e.EFF(44),e.nI1(45,"translate"),e.k0s()(),e.j41(46,"li",12)(47,"button",17),e.EFF(48),e.nI1(49,"translate"),e.k0s()()(),e.bVm(),e.k0s(),e.DNE(50,I1,2,0,"div",18)),2&c&&(e.Y8G("title",null==m.protectedResource?null:m.protectedResource.name)("crumbs",e.eq3(55,T1,e.l_i(52,Jf,e.bMT(1,22,"ProtectedResources.Title"),e.bMT(2,24,"/protectedresources"))))("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,26,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,28,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,30,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,32,"Nav.Scopes")),e.R7$(3),e.JRh(e.bMT(21,34,"Nav.Claims")),e.R7$(3),e.JRh(e.bMT(24,36,"Nav.Secrets")),e.R7$(3),e.JRh(e.bMT(27,38,"Nav.Properties")),e.R7$(2),e.BMQ("aria-label",e.bMT(29,40,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(57,xu)),e.R7$(),e.JRh(e.bMT(33,42,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(58,xu)),e.R7$(),e.JRh(e.bMT(37,44,"Nav.Scopes")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(59,xu)),e.R7$(),e.JRh(e.bMT(41,46,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(60,xu)),e.R7$(),e.JRh(e.bMT(45,48,"Nav.Secrets")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(61,xu)),e.R7$(),e.JRh(e.bMT(49,50,"Nav.Properties")),e.R7$(2),e.Y8G("ngIf",m.protectedResource))},dependencies:[Bn.bT,jn.n3,jn.Wk,jn.wQ,p.xH,p.y7,qo.z,Ln.D9,ar.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})(),R1=(()=>{class l{constructor(r,c,m){this.authService=r,this.securityService=c,this.appComponentViewService=m}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(r=>{this.authService.user=r.username,this.authService.isAuthenticated=r.isAuthenticated,r.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(r)})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(zs.u),e.rXU(vi.i),e.rXU($i.X))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-auth"]],decls:0,vars:0,template:function(c,m){},encapsulation:2})}}return l})();class ob{}var ku=d(9564);let Qf=(()=>{class l{constructor(r,c){this.http=r,this.headersService=c,this.actionUrl="policy",this.headers=c.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(r){return this.http.put(this.actionUrl,r,{headers:this.headers})}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(S.Qq),e.KVO(ku.m))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();class Zf{constructor(y,r,c){this.isDateTime=!1,this.type=y,this.value=r,this.permission=c}}var qf=d(7811),ep=d(6536);const tp=["addPolicyModal"],np=()=>({animated:!1,backdrop:"static"});function ab(l,y){if(1&l&&(e.j41(0,"option"),e.EFF(1),e.k0s()),2&l){const r=y.$implicit;e.R7$(),e.SpI(" ",null==r?null:r.name," ")}}function lb(l,y){if(1&l){const r=e.RV6();e.j41(0,"input",31),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s()}if(2&l){const r=e.XpG();e.R50("ngModel",r.value)}}function cb(l,y){if(1&l&&(e.j41(0,"option"),e.EFF(1),e.k0s()),2&l){const r=y.$implicit;e.R7$(),e.SpI(" ",null==r?null:r.name," ")}}function ub(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",11)(1,"select",32),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.DNE(2,cb,2,1,"option",13),e.k0s()()}if(2&l){const r=e.XpG();e.R7$(),e.R50("ngModel",r.value),e.R7$(),e.Y8G("ngForOf",r.avaliableRoles)}}function A1(l,y){if(1&l){const r=e.RV6();e.j41(0,"input",31),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s()}if(2&l){const r=e.XpG();e.R50("ngModel",r.value)}}function ip(l,y){if(1&l){const r=e.RV6();e.j41(0,"input",33),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s()}if(2&l){const r=e.XpG();e.R50("ngModel",r.value)}}function rp(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",11)(1,"select",32),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.j41(2,"option",34),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",35),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&l){const r=e.XpG();e.R7$(),e.R50("ngModel",r.value),e.R7$(2),e.JRh(e.bMT(4,3,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,5,"Common.False"))}}function M1(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",36)(1,"app-enum-claim-type-input",37),e.bIt("valueChanged",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.value=m)}),e.k0s()()}if(2&l){const r=e.XpG();e.Y8G("id","value-for-"+r.selectedClaimType.id),e.R7$(),e.Y8G("id","claimsFormInput")("typeId",r.selectedClaimType.id)("hostingModal","addPolicyModal")("value",r.value)}}function x1(l,y){if(1&l){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",40),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2);return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s(),e.bVm()}if(2&l){const r=e.XpG(2);e.R7$(),e.R50("ngModel",r.value)}}function k1(l,y){if(1&l){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",41),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2);return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s(),e.bVm()}if(2&l){const r=e.XpG(2);e.R7$(),e.R50("ngModel",r.value),e.Y8G("displayType","date")}}function db(l,y){if(1&l&&(e.j41(0,"div",38),e.DNE(1,x1,2,1,"ng-container",39)(2,k1,2,2,"ng-container",39),e.k0s()),2&l){const r=e.XpG();e.R7$(),e.Y8G("ngIf","birthdate"!=r.claimType),e.R7$(),e.Y8G("ngIf","birthdate"==r.claimType)}}function N1(l,y){if(1&l&&(e.j41(0,"option",42),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l){const r=y.$implicit;e.FS9("value",r),e.R7$(),e.SpI(" ",e.bMT(2,2,"Permission."+r)," ")}}let hb=(()=>{class l{constructor(r){this.toastr=r,this.added=new e.bkB,this.addAnother=!1}keydown(r){"Enter"===r.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(r=>r.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const r=new Zf(this.claimType,this.value,this.permission);this.added.next(r),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Hi.tw))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-accesspolicy"]],viewQuery:function(c,m){if(1&c&&e.GBs(tp,7),2&c){let D;e.mGM(D=e.lsd())&&(m.addPolicyModal=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),e.mxI("ngModelChange",function(Ne){return e.eBV(D),e.DH7(m.claimType,Ne)||(m.claimType=Ne),e.Njj(Ne)}),e.bIt("ngModelChange",function(){return e.eBV(D),e.Njj(m.getClaimType())}),e.nrm(17,"option"),e.DNE(18,ab,2,1,"option",13),e.k0s()()(),e.j41(19,"app-form-row",14),e.DNE(20,lb,1,1,"input",15)(21,ub,3,2,"div",16)(22,A1,1,1,"input",15)(23,ip,1,1,"input",17)(24,rp,8,7,"div",16)(25,M1,2,5,"div",18)(26,db,3,2,"div",19),e.k0s(),e.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),e.mxI("ngModelChange",function(Ne){return e.eBV(D),e.DH7(m.permission,Ne)||(m.permission=Ne),e.Njj(Ne)}),e.nrm(30,"option"),e.DNE(31,N1,3,4,"option",22),e.k0s()()()(),e.nrm(32,"div",23),e.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),e.bIt("click",function(){return e.eBV(D),m.addPolicy(),e.Njj(m.hide())}),e.EFF(37),e.nI1(38,"translate"),e.k0s(),e.j41(39,"span",28)(40,"button",29),e.bIt("click",function(){return e.eBV(D),e.Njj(m.addAnotherPolicy())}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()(),e.j41(43,"button",30),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.EFF(44),e.nI1(45,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(37,np)),e.R7$(6),e.JRh(e.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),e.R7$(5),e.JRh(e.bMT(12,29,"Common.Close")),e.R7$(3),e.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),e.R7$(2),e.R50("ngModel",m.claimType),e.R7$(2),e.Y8G("ngForOf",m.avaliableClaimTypes),e.R7$(),e.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),e.R7$(),e.Y8G("ngIf",null==m.claimType||""==m.claimType),e.R7$(),e.Y8G("ngIf","role"==m.claimType),e.R7$(),e.Y8G("ngIf","String"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)&&"role"!=m.claimType),e.R7$(),e.Y8G("ngIf","Int"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)&&"role"!=m.claimType),e.R7$(),e.Y8G("ngIf","Boolean"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)&&"role"!=m.claimType),e.R7$(),e.Y8G("ngIf","Enum"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)),e.R7$(),e.Y8G("ngIf","DateTime"==(null==m.selectedClaimType?null:m.selectedClaimType.valueType)&&"role"!=m.claimType),e.R7$(),e.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),e.R7$(2),e.R50("ngModel",m.permission),e.R7$(2),e.Y8G("ngForOf",m.avaliablePermissions),e.R7$(5),e.Y8G("disabled",!m.isValid()),e.R7$(),e.JRh(e.bMT(38,31,"Common.Add")),e.R7$(3),e.Y8G("disabled",!m.isValid()),e.R7$(),e.JRh(e.bMT(42,33,"Common.AddAndAdd")),e.R7$(3),e.JRh(e.bMT(45,35,"Common.Cancel")))},dependencies:[Bn.Sq,Bn.bT,p.xH,p.y7,p.me,p.Q0,p.wz,p.BC,p.YS,p.vS,La.hZ,$o.Y,qf.j,ep.Z,Ln.D9],encapsulation:2})}}return l})();var sp=d(1589);const O1=["deleteAccessPolicyModal"],F1=l=>({"inactive disabled":l});function uS(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,10),e.j41(2,"button",11),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(1);return e.Njj(m.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function dS(l,y){1&l&&e.nrm(0,"app-simple-loader")}function fb(l,y){if(1&l&&(e.j41(0,"td",25),e.EFF(1),e.k0s()),2&l){const r=e.XpG().$implicit;e.R7$(),e.SpI(" ",r.value," ")}}function P1(l,y){if(1&l&&(e.j41(0,"td",25),e.EFF(1),e.nI1(2,"standardDate"),e.k0s()),2&l){const r=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,r.value)," ")}}function B1(l,y){1&l&&(e.j41(0,"span",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function op(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(r);const m=e.XpG().$implicit,D=e.XpG(2);return e.Njj(D.openDeletePolicyConfirmation(m.type,m.value,m.permission))}),e.nrm(1,"span",28),e.j41(2,"span",17),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&l&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Common.Remove.Title")," "))}function L1(l,y){if(1&l&&(e.j41(0,"tr",19)(1,"td",20)(2,"b"),e.EFF(3),e.k0s()(),e.DNE(4,fb,2,1,"td",21)(5,P1,3,3,"ng-template",null,2,e.C5r),e.j41(7,"td",22),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"td"),e.DNE(11,B1,3,3,"span",23),e.k0s(),e.j41(12,"td"),e.DNE(13,op,5,3,"button",24),e.k0s()()),2&l){const r=y.$implicit,c=e.sdS(6);e.Y8G("ngClass",e.eq3(9,F1,"role"===r.type&&"AdminUI Administrator"===r.value&&"All"===r.permission)),e.R7$(3),e.JRh(r.type),e.R7$(),e.Y8G("ngIf",!r.isDateTime)("ngIfElse",c),e.R7$(4),e.SpI(" ",e.bMT(9,7,"Permission."+r.permission)," "),e.R7$(3),e.Y8G("ngIf","role"===r.type&&"AdminUI Administrator"===r.value&&"All"===r.permission),e.R7$(2),e.Y8G("ngIf",!("role"==r.type&&"AdminUI Administrator"==r.value&&"All"==r.permission))}}function U1(l,y){if(1&l&&(e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",14),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",15),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",16)(13,"span",17),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",16)(17,"span",17),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,L1,14,11,"tr",18),e.k0s(),e.nrm(22,"tbody"),e.k0s()),2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Settings.AccessPolicy.ClaimType")),e.R7$(3),e.JRh(e.bMT(8,8,"Settings.AccessPolicy.ClaimValue")),e.R7$(3),e.JRh(e.bMT(11,10,"Settings.AccessPolicy.Permission")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",null==r.accessPolicy?null:r.accessPolicy.policyClaims)}}function V1(l,y){if(1&l&&e.nrm(0,"app-pager",29),2&l){const r=e.XpG();e.Y8G("totalResults",null==r.accessPolicy||null==r.accessPolicy.policyClaims?null:r.accessPolicy.policyClaims.length)}}let j1=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.accessPolicyService=r,this.translate=c,this.toastr=m,this.errorService=D,this.healthCheckService=ie,this.dialogService=Ne,this.activatedRoute=et,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(r=>{this.accessPolicyResolverData=r.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const c=this.accessPolicyResolverData.accessPolicy.policyClaims.find(m=>"role"===m.type&&"AdminUI Administrator"===m.value&&"All"===m.permission);this.accessPolicy=new ob,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((m,D)=>m===c?-1:D===c?1:0),this.accessPolicy.policyClaims.forEach(m=>{cr.c9.fromISO(m.value).isValid&&(m.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((m,D)=>m.name.toUpperCase()<D.name.toUpperCase()?-1:m.name.toUpperCase()>D.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1})}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(r=>r.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(r){this.hasChanged=!0,this.accessPolicy.policyClaims.push(r),this.warnToSave()}openDeletePolicyConfirmation(r,c,m){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(D=>D.type===r&&D.value===c&&D.permission===m),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(r){this.accessPolicy.policyClaims.splice(r,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(r=>{this.accessPolicy=r;const c=this.accessPolicy.policyClaims.find(m=>"role"===m.type&&"AdminUI Administrator"===m.value&&"All"===m.permission);this.accessPolicy.policyClaims.sort((m,D)=>m===c?-1:D===c?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},r=>{"409"===r.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(r)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Qf),e.rXU(Ln.c$),e.rXU(Hi.tw),e.rXU(no.I),e.rXU(wo.M),e.rXU(Ta.o),e.rXU(jn.nX))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-update-accesspolicy"]],viewQuery:function(c,m){if(1&c&&e.GBs(O1,7),2&c){let D;e.mGM(D=e.lsd())&&(m.deleteAccessPolicyModal=D.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:14,vars:14,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],[4,"ngIf"],["class","datatable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","destructive"],["right",""],[1,"tw-btn-success",3,"click"],[1,"datatable","hover"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],["class","tw-pill",4,"ngIf"],["id","remove","class","tw-btn-link tw-btn-small tw-text-red-500",3,"click",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-pill"],["id","remove",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["hidePager","true",3,"totalResults"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"app-add-accesspolicy",3,0),e.bIt("added",function(Ne){return e.eBV(D),e.Njj(m.addPolicy(Ne))}),e.k0s(),e.j41(2,"div",4),e.DNE(3,uS,5,3,"app-action-bar",5)(4,dS,1,0,"app-simple-loader",5)(5,U1,23,16,"table",6)(6,V1,1,1,"app-pager",7),e.k0s(),e.j41(7,"app-button-bar")(8,"button",8),e.bIt("click",function(){return e.eBV(D),e.Njj(m.updatePolicy())}),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"app-delete-confirmation-modal",9,1),e.bIt("delete",function(){return e.eBV(D),e.Njj(m.removePolicy(m.indexToDelete))}),e.k0s(),e.nrm(13,"app-can-deactivate")}if(2&c){const D=e.sdS(12);e.Y8G("avaliableClaimTypes",m.avaliableClaimTypes)("avaliableRoles",m.avaliableRoles)("avaliablePermissions",m.avaliablePermissions)("accessPolicy",m.accessPolicy),e.R7$(3),e.Y8G("ngIf",!m.isLoading),e.R7$(),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.accessPolicy||null==m.accessPolicy.policyClaims?null:m.accessPolicy.policyClaims.length)>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.accessPolicy||null==m.accessPolicy.policyClaims?null:m.accessPolicy.policyClaims.length)>0&&!m.isLoading),e.R7$(2),e.Y8G("disabled",m.saveDisabled),e.R7$(),e.SpI(" ",e.bMT(10,12,"Common.Save")," "),e.R7$(2),e.Y8G("modalId",D)("destructive",!1)}},dependencies:[Bn.YU,Bn.Sq,Bn.bT,ul.E,wl.B,Cl.d,Ea.n,Cc.z,Eu.w,hb,Ln.D9,sp.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var qa=d(1594),hS=d(6648),fS=d(6888);function pS(l,y){1&l&&e.nrm(0,"span",27)}let mS=(()=>{class l{get LinkConstants(){return zg.e}constructor(r,c,m,D,ie,Ne,et){this.authService=r,this.securityService=c,this.titleService=m,this.healthCheckService=D,this.localizeRouter=ie,this.router=Ne,this.loginTrackingService=et,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Wt.$9.SITE_TITLE}`),this.versionNumber=zt;const wt=new Date;this.appCopyright=2017!==wt.getFullYear()?"2017 - "+wt.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const r=this.healthCheckService.idsHealthCheckComplete.pipe((0,qa.$)()),c=this.healthCheckService.uiHealthCheckComplete.pipe((0,qa.$)());(0,Ze.p)([r,c]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const r=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,hS.H)(this.router.navigate([r]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(zs.u),e.rXU(vi.i),e.rXU(t.hE),e.rXU(wo.M),e.rXU(ar.QG),e.rXU(jn.Ix),e.rXU(fS.W))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(c,m){1&c&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return m.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,pS,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&c&&(e.R7$(6),e.SpI("v",m.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!m.loginAllowed||m.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",m.startLogin),e.R7$(3),e.FS9("href",m.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",m.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"LandingPage.Documentation")," "),e.R7$(5),e.FS9("href",m.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",m.appCopyright,""))},dependencies:[Bn.bT,Yg,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var io=d(2892);const $1=()=>["active"];function gS(l,y){1&l&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function vS(l,y){1&l&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Keys")))}function G1(l,y){1&l&&(e.j41(0,"li",17)(1,"button",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,$1)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}function H1(l,y){1&l&&(e.j41(0,"li",19)(1,"button",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,$1)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.Keys")))}let yS=(()=>{class l{constructor(r,c,m){this.titleService=r,this.translate=c,this.configService=m,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,qa.$)()).subscribe(r=>{this.targetIdentityServer4=r.targetIdentityServer4,this.hideAccessPolicy=r.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Wt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(Ln.c$),e.rXU(po.w))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,gS,3,3,"option",7)(13,vS,3,3,"option",8),e.j41(14,"option",9),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"ul",10),e.nI1(18,"translate"),e.DNE(19,G1,4,5,"li",11),e.j41(20,"li",12)(21,"button",13),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.DNE(24,H1,4,5,"li",14),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&c&&(e.Y8G("title",e.bMT(1,12,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,14,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,16,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!m.hideAccessPolicy),e.R7$(),e.Y8G("ngIf",!m.targetIdentityServer4),e.R7$(2),e.JRh(e.bMT(16,18,"Nav.Webhooks")),e.R7$(2),e.BMQ("aria-label",e.bMT(18,20,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!m.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(24,$1)),e.R7$(),e.JRh(e.bMT(23,22,"Nav.Webhooks")),e.R7$(2),e.Y8G("ngIf",!m.targetIdentityServer4))},dependencies:[Bn.bT,p.xH,p.y7,jn.n3,jn.Wk,jn.wQ,qo.z,Ln.D9],encapsulation:2})}}return l})(),_S=(()=>{class l{constructor(r,c){this.route=r,this.translate=c}ngOnInit(){const r=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=r in Au.v?r:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.nX),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&c&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[Ln.D9],encapsulation:2})}}return l})();var bS=d(2771),pb=d(2734);let CS=(()=>{class l extends pb.x{constructor(r,c){super(),this.http=r,this.headersService=c,this.userSubject=new bS.m(1),this.actionUrl="auditedEvents",this.headers=this.headersService.setHeaders()}getAudits(r,c,m,D,ie,Ne,et){const wt=this.buildParams(r,m,c,D,ie,Ne,et);return this.http.get(this.actionUrl,{headers:this.headers,params:wt})}getResourceAudits(r,c,m,D,ie,Ne,et,wt,Jt){throw new Error("AuditingService doesn't support getResourceAudits method")}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(S.Qq),e.KVO(ku.m))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();var wS=d(9861);let SS=(()=>{class l{constructor(r,c){r.setTitle(c.instant("Nav.Auditing")+` - ${Wt.$9.SITE_TITLE}`)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-all-audits"]],features:[e.Jv_([{provide:pb.x,useClass:CS}])],decls:4,vars:3,consts:[[3,"title"],[1,"tw-container","tw-mx-auto"]],template:function(c,m){1&c&&(e.nrm(0,"app-title-bar",0),e.nI1(1,"translate"),e.j41(2,"div",1),e.nrm(3,"app-audits-list"),e.k0s()),2&c&&e.Y8G("title",e.bMT(1,1,"Nav.Auditing"))},dependencies:[wS.k,qo.z,Ln.D9],encapsulation:2})}}return l})();var W1=d(467),ES=d(9350);function ap(l,y){const r="object"==typeof y;return new Promise((c,m)=>{let ie,D=!1;l.subscribe({next:Ne=>{ie=Ne,D=!0},error:m,complete:()=>{D?c(ie):r?c(y.defaultValue):m(new ES.G)}})})}const wc=l=>[l];let Nu=(()=>{class l{get ReadOnlyFieldType(){return Fd.t}constructor(r,c,m,D,ie,Ne,et,wt,Jt){this.fb=r,this.route=c,this.router=m,this.titleService=D,this.identityResourceService=ie,this.toastr=Ne,this.dialogService=et,this.translate=wt,this.localize=Jt}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.buildForm(),this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}buildForm(){this.identityResourceForm=this.fb.group({id:[this.identityResource.id],name:[this.identityResource.name,p.k0.required],displayName:[this.identityResource.displayName,p.k0.required],description:[this.identityResource.description,[p.k0.required,p.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.identityResource.showInDiscoveryDocument],emphasize:[this.identityResource.emphasize],required:[this.identityResource.required],enabled:[this.identityResource.enabled]})}canDeactivate(){return!!this.identityResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){var r=this;return(0,W1.A)(function*(){const c=Object.assign(r.identityResourceForm.value,{allowedClaims:r.identityResource.allowedClaims});try{yield ap(r.identityResourceService.deleteIdentityResource(r.identityResource.id)),r.identityResourceForm.markAsPristine(),r.identityResource=c,r.identityResourceService.getCachedIdentityResource().next(c),r.toastr.success(r.translate.instant("IdentityResources.UpdatedResource"),r.translate.instant("Notifications.Success"))}catch{r.toastr.error(r.translate.instant("Resources.UpdateResource"),r.translate.instant("Notifications.Failed"))}})()}delete(){var r=this;return(0,W1.A)(function*(){try{yield ap(r.identityResourceService.deleteIdentityResource(r.identityResource.id)),r.toastr.success(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Success"));const m=r.localize.translateRoute("/identityresources");r.router.navigate([m])}catch{r.toastr.error(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Failed"))}})()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(jn.nX),e.rXU(jn.Ix),e.rXU(t.hE),e.rXU(El.A),e.rXU(Hi.tw),e.rXU(Ta.o),e.rXU(Ln.c$),e.rXU(ar.QG))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-identityresource-details"]],decls:31,vars:41,consts:[["deleteIdentityResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["id","displayNameInput","name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id"],["id","Required","formControlName","required","type","checkbox",1,"tw-form-switch__input"],["id","showInDiscoveryDocument","formControlName","showInDiscoveryDocument","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","emphasize","formControlName","emphasize","type","checkbox",1,"tw-form-switch__input"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.j41(11,"app-form-row",5)(12,"app-form-toggle",9),e.nrm(13,"input",10),e.k0s()(),e.j41(14,"app-form-row",5)(15,"app-form-toggle",9),e.nrm(16,"input",11),e.k0s()(),e.j41(17,"app-form-row",12)(18,"app-form-toggle",9),e.nrm(19,"input",13),e.k0s()()(),e.j41(20,"app-button-bar")(21,"button",14),e.bIt("click",function(){return e.eBV(D),e.Njj(m.submit())}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.qex(24,15),e.j41(25,"button",16),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(29);return e.Njj(Ne.show())}),e.EFF(26),e.nI1(27,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(28,"app-delete-confirmation-modal",17,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(m.delete())}),e.k0s(),e.nrm(30,"app-can-deactivate")}2&c&&(e.Y8G("formGroup",m.identityResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",m.ReadOnlyFieldType.Single)("values",e.eq3(39,wc,e.bMT(6,33,m.identityResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.DescriptionHelp"),e.R7$(2),e.Y8G("id","Required")("label","Common.Required")("help","IdentityResources.ConsentResource"),e.R7$(),e.Y8G("id","Required"),e.R7$(2),e.Y8G("id","showInDiscoveryDocument")("label","IdentityResources.ShowInDiscoveryDocument")("help","IdentityResources.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","showInDiscoveryDocument"),e.R7$(2),e.Y8G("id","emphasize")("label","Common.Emphasize")("help","IdentityResources.ConsentScreen")("isLast",!0),e.R7$(),e.Y8G("id","emphasize"),e.R7$(3),e.Y8G("disabled",m.identityResourceForm.pristine),e.R7$(),e.SpI(" ",e.bMT(23,35,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(27,37,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==m.identityResource?null:m.identityResource.displayName))},dependencies:[p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,ul.E,Cc.z,$o.Y,bc.m,Su.O,Eu.w,Ln.D9,Tu.u],encapsulation:2})}}return l})();var z1=d(140);class mb{}const K1=["ClaimsPicker"];let gb=(()=>{class l{constructor(r,c,m,D,ie){this.titleService=r,this.identityResourceService=c,this.scopeClaimService=m,this.toastr=D,this.translate=ie,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().pipe((0,z1.v)(this.scopeClaimService.cachedClaimTypes$),(0,hr.T)(([r,c])=>({resource:r,claimTypes:c})),(0,qa.$)()).subscribe({next:r=>{this.identityResource=r.resource,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`),this.originalClaims=r.claimTypes.slice(),this.identityResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(r.claimTypes):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(r.claimTypes)}})}convertOriginalClaimTypesToPickerClaimTypes(r){let c=[];return r.map(m=>{const D=new mb;D.name=m.displayName?m.displayName:m.name,c.push(D)}),c}convertPickerClaimsToClaim(r){let c=[];return r.map(m=>{c.push(this.originalClaims.find(D=>D.displayName===m.name||D.name===m.name))}),c}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.toSendClaims=this.assignedClaims.concat(r),this.submit().then(c=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,vn.Yt)(this.availableClaims.slice(),r),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.toSendClaims=(0,vn.Yt)(this.assignedClaims,r),this.submit().then(c=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(r),this.claimsPicker.assignedCount=0})})}submit(){const r=(0,is.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(m){return m.name}),c=Object.assign(this.identityResource,{allowedClaims:r});return this.identityResourceService.updateResource(c).toPromise().then(m=>{this.identityResource=c,this.identityResourceService.getCachedIdentityResource().next(c),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(r){let c=[],m=r.filter(D=>(c.push(D),this.identityResource.allowedClaims.some(ie=>ie===D.name)));c=(0,vn.Yt)(c,m),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(c),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(m)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(El.A),e.rXU(la.N),e.rXU(Hi.tw),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-identity-resource-claims"]],viewQuery:function(c,m){if(1&c&&e.GBs(K1,7),2&c){let D;e.mGM(D=e.lsd())&&(m.claimsPicker=D.first)}},decls:6,vars:5,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput"]],template:function(c,m){1&c&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&c&&(e.R7$(2),e.JRh(e.bMT(3,3,"IdentityResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims))},dependencies:[Hl.f,Ln.D9],encapsulation:2})}}return l})();var TS=d(7830);const vb=l=>[l];function yb(l,y){1&l&&(e.j41(0,"app-form-row",5)(1,"app-form-toggle",16),e.nrm(2,"input",17),e.k0s()()),2&l&&(e.Y8G("id","requireResourceIndicatorInput")("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.R7$(),e.Y8G("id","requireResourceIndicatorInput"))}let _b=(()=>{class l{get ReadOnlyFieldType(){return Fd.t}constructor(r,c,m,D,ie,Ne,et,wt){this.protectedResourceService=r,this.fb=c,this.toastr=m,this.translate=D,this.dialogService=ie,this.configService=Ne,this.router=et,this.localize=wt,this.targetIdentityServer4=!1}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.configService.getConfig().pipe((0,qa.$)()).subscribe(c=>{this.targetIdentityServer4=c.targetIdentityServer4,this.buildForm()})})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}buildForm(){const r={id:[this.protectedResource.id],name:[this.protectedResource.name,p.k0.required],displayName:[this.protectedResource.displayName,p.k0.required],description:[this.protectedResource.description,[p.k0.maxLength(1e3)]],enabled:[this.protectedResource.enabled],allowedAccessTokenSigningAlgorithms:[this.protectedResource.allowedAccessTokenSigningAlgorithms]};this.targetIdentityServer4||(r.requireResourceIndicator=[this.protectedResource.requireResourceIndicator]),this.protectedResourceForm=this.fb.group(r)}canDeactivate(){return!!this.protectedResourceForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}submit(){const r={...this.protectedResourceForm.value,allowedClaims:this.protectedResource.allowedClaims,secrets:this.protectedResource.secrets,scopes:this.protectedResource.scopes,properties:this.protectedResource.properties};this.protectedResourceService.updateResource(r).subscribe({next:c=>{this.protectedResourceForm.markAsPristine(),this.protectedResource=r,this.protectedResourceService.getCachedProtectedResource().next(r),this.toastr.success(this.translate.instant("Resources.UpdatedSuccess"),this.translate.instant("Notifications.Success"))},error:c=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}delete(){var r=this;return(0,W1.A)(function*(){try{yield ap(r.protectedResourceService.deleteProtectedResource(r.protectedResource.id));const m=r.localize.translateRoute("/protectedresources");r.router.navigate([m]),r.toastr.success(r.translate.instant("Resources.RemovedResource"),r.translate.instant("Notifications.Success"))}catch{r.toastr.error("Removed Resource","Failed!")}})()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(ea.x),e.rXU(p.ze),e.rXU(Hi.tw),e.rXU(Ln.c$),e.rXU(Ta.o),e.rXU(po.w),e.rXU(jn.Ix),e.rXU(ar.QG))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-protectedresource-details"]],decls:25,vars:34,consts:[["deleteProtectedResource",""],[3,"formGroup"],[3,"id","label"],[3,"id","isTraffic"],["id","Status","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help"],[3,"fieldType","values"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName",1,"tw-form-control"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","isLast"],[3,"form","algorithmControlName"],[1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"],[3,"id"],["id","requireResourceIndicatorInput","type","checkbox","name","requireResourceIndicator","formControlName","requireResourceIndicator",1,"tw-form-switch__input"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"form",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-readonly",6),e.nI1(6,"readOnlyValue"),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"input",7),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"textarea",8),e.k0s(),e.DNE(11,yb,3,4,"app-form-row",9),e.j41(12,"app-form-row",10),e.nrm(13,"app-signing-algorithm-picker",11),e.k0s()(),e.j41(14,"app-button-bar")(15,"button",12),e.bIt("click",function(){return e.eBV(D),e.Njj(m.submit())}),e.EFF(16),e.nI1(17,"translate"),e.k0s(),e.qex(18,13),e.j41(19,"button",14),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(23);return e.Njj(Ne.show())}),e.EFF(20),e.nI1(21,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(22,"app-delete-confirmation-modal",15,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(m.delete())}),e.k0s(),e.nrm(24,"app-can-deactivate")}2&c&&(e.Y8G("formGroup",m.protectedResourceForm),e.R7$(),e.Y8G("id","Status")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Status")("isTraffic",!0),e.R7$(2),e.Y8G("id","ResourceID")("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.R7$(),e.Y8G("fieldType",m.ReadOnlyFieldType.Single)("values",e.eq3(32,vb,e.bMT(6,26,m.protectedResource.id))),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.ResourceName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.ResourceDescription"),e.R7$(2),e.Y8G("ngIf",!m.targetIdentityServer4),e.R7$(),e.Y8G("id","allowedAccessTokenSigningAlgorithms")("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.R7$(),e.Y8G("form",m.protectedResourceForm)("algorithmControlName","allowedAccessTokenSigningAlgorithms"),e.R7$(2),e.Y8G("disabled",!(m.protectedResourceForm.dirty&&m.protectedResourceForm.valid)),e.R7$(),e.SpI(" ",e.bMT(17,28,"Common.Save")," "),e.R7$(4),e.SpI(" ",e.bMT(21,30,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("resourceName",null==m.protectedResource?null:m.protectedResource.displayName))},dependencies:[Bn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,ul.E,Cc.z,$o.Y,bc.m,TS.Q,Su.O,Eu.w,Ln.D9,Tu.u],encapsulation:2})}}return l})();var Hd=d(8359),Wd=d(632),lp=d(6520);const Y1=["ClaimPicker"],IS=["tabs"];let X1=(()=>{class l{set scope(r){this._scope=r||new Wd.H}get scope(){return this._scope}constructor(r,c,m,D,ie){this.fb=r,this.claimsService=c,this.translate=m,this.dialogService=D,this.scopesClaimService=ie,this._scope=new Wd.H,this.isEdit=!0,this.submit=new e.bkB,this.delete=new e.bkB,this.availableClaims=[],this.assignedClaims=[],this.properties=[]}ngOnInit(){this.buildForm(),this.scopesClaimService.cachedClaimTypes$.subscribe(r=>{const c=r.slice();this.scope.userClaims.length>0?this.sortClaims(c):this.availableClaims=c}),this.properties=this.scope.properties}buildForm(){this.scopeForm=this.fb.group({id:[this.scope.id],name:[this.scope.name,p.k0.required],displayName:[this.scope.displayName,p.k0.required],description:[this.scope.description,[p.k0.required,p.k0.maxLength(1e3)]],showInDiscoveryDocument:[this.scope.showInDiscoveryDocument],emphasize:[this.scope.emphasize],required:[this.scope.required],enabled:[this.scope.enabled]})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.assignClaims(r)}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.unassignClaims(r)})}unassignClaims(r){const c=r.map(Ne=>Ne.name),m=this.assignedClaims.map(Ne=>Ne.name),D=(0,is.R9)(m,c),ie=Object.assign(this.scopeForm.value,{userClaims:D});this.submit.emit(ie)}assignClaims(r){const c=[...this.assignedClaims,...r].map(D=>D.name),m={...this.scopeForm.value,userClaims:c};this.submit.emit(m)}submitForm(){const r=this.assignedClaims.map(m=>m.name),c=Object.assign(this.scopeForm.value,{userClaims:r},{properties:this.properties});this.submit.emit(c)}deleteScope(){this.delete.emit(this.scope)}sortClaims(r){const c=[];this.scope.userClaims.forEach(m=>{r.forEach((D,ie)=>{D.name===m&&(r.splice(ie,1),c.push(D))})}),this.availableClaims=r,this.assignedClaims=c}onPropertiesChanged(r){this.properties=r}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(pa.X),e.rXU(Ln.c$),e.rXU(Ta.o),e.rXU(la.N))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-api-scope"]],viewQuery:function(c,m){if(1&c&&(e.GBs(Y1,7),e.GBs(IS,7)),2&c){let D;e.mGM(D=e.lsd())&&(m.claimsPicker=D.first),e.mGM(D=e.lsd())&&(m.tabsComponent=D.first)}},inputs:{scope:"scope",isEdit:"isEdit"},outputs:{submit:"submit",delete:"delete"},decls:37,vars:55,consts:[["tabs",""],["ClaimPicker",""],[3,"heading"],[1,"tw-pt-5",3,"formGroup"],[3,"id","label","help"],["type","text","readonly","",1,"tw-form-control",3,"id","value"],["name","displayNameInput","type","text","formControlName","displayName","required","",1,"tw-form-control",3,"id"],["name","descriptionInput","type","text","formControlName","description","required","",1,"tw-form-control",3,"id"],[3,"id"],["type","checkbox","formControlName","required",1,"tw-form-switch__input",3,"id"],["type","checkbox","formControlName","showInDiscoveryDocument",1,"tw-form-switch__input",3,"id"],[3,"id","label","help","isLast"],["type","checkbox","formControlName","emphasize",1,"tw-form-switch__input",3,"id"],[1,"tw-flex","tw-items-center","tw-border-t","tw-border-grey-300","tw-mt-20","tw-pt-5"],[1,"tw-btn-success",3,"click"],["data-toggle","modal","id","deleteBtn",1,"tw-btn-danger","tw-ml-auto",3,"click"],[1,"cms","tw-pt-5"],[3,"assignedInput","availableInput","availableSearch"],["id","propertiesEditor",3,"propertiesChanged","modalId","properties"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"tabset",null,0)(2,"tab",2),e.nI1(3,"translate"),e.j41(4,"div")(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"textarea",7),e.k0s(),e.j41(12,"app-form-row",4)(13,"app-form-toggle",8),e.nrm(14,"input",9),e.k0s()(),e.j41(15,"app-form-row",4)(16,"app-form-toggle",8),e.nrm(17,"input",10),e.k0s()(),e.j41(18,"app-form-row",11)(19,"app-form-toggle",8),e.nrm(20,"input",12),e.k0s()()(),e.j41(21,"div",13)(22,"button",14),e.bIt("click",function(){return e.eBV(D),e.Njj(m.submitForm())}),e.EFF(23),e.nI1(24,"translate"),e.k0s(),e.j41(25,"button",15),e.bIt("click",function(){return e.eBV(D),e.Njj(m.deleteScope())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()(),e.j41(28,"tab",2)(29,"div",16)(30,"p"),e.EFF(31),e.nI1(32,"translate"),e.k0s()(),e.nrm(33,"app-common-picker",17,1),e.k0s(),e.j41(35,"tab",2)(36,"app-properties-editor",18),e.bIt("propertiesChanged",function(Ne){return e.eBV(D),e.Njj(m.onPropertiesChanged(Ne))}),e.k0s()()()}2&c&&(e.R7$(2),e.Y8G("heading",e.bMT(3,47,"Nav.Details")),e.R7$(3),e.Y8G("formGroup",m.scopeForm),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Id")("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Id"),e.Y8G("value",m.scope.name),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Name")("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Name"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Description")("label","Common.Description")("help","Resources.Scope.Description"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Description"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Required")("label","Common.Required")("help","Resources.Scope.Consent"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Required"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Required"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Discovery")("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Discovery"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Discovery"),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Emphasise")("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.R7$(),e.Y8G("id","scope"+m.scope.id+"Emphasise"),e.R7$(),e.Mz_("id","scope",m.scope.id,"Emphasise"),e.R7$(3),e.JRh(e.bMT(24,49,"Common.Save")),e.R7$(3),e.JRh(e.bMT(27,51,"Common.Remove.Title")),e.R7$(2),e.Y8G("heading","Claims"),e.R7$(3),e.JRh(e.bMT(32,53,"Resources.Scope.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims)("availableSearch",!0),e.R7$(2),e.Y8G("heading","Properties"),e.R7$(),e.Y8G("modalId",m.scope.id)("properties",m.scope.properties))},dependencies:[Hl.f,p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,Ya.V6,Ya.fw,$o.Y,bc.m,lp.C,Ln.D9],encapsulation:2,changeDetection:0})}}return l})();const DS=["ClaimPicker"],bb=["tabs"];function J1(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.EnterBasicDetails")))}function cp(l,y){1&l&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Resources.AssignClaims")))}function Cb(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("disabled",r.scopeForm.invalid),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function wb(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",32),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.addScope())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}let zd=(()=>{class l{constructor(r,c,m,D,ie,Ne,et){this.fb=r,this.claimsService=c,this.protectedResourceService=m,this.toastr=D,this.translate=ie,this.scopesClaimService=Ne,this.errorService=et,this.submitConfirmed=new e.bkB,this.cancelOut=new e.bkB,this.scope=new Wd.H,this.allAvaliableClaims=[],this.availableClaims=[],this.assignedClaims=[],this.tabIndex=0,this.progressPercent=0,this.descFocus=!1}keydown(r){"Enter"===r.key&&this.scopeForm.valid&&this.tabComponent.tabs[0].active&&!this.descFocus&&this.nextTab()}ngOnInit(){this.updateProgress(),this.scopeForm=this.fb.group({name:[this.scope.name,[p.k0.required,p.k0.pattern(/^\S*$/)]],displayName:[this.scope.displayName,p.k0.required],description:[this.scope.description,[p.k0.required,p.k0.maxLength(1e3)]],showInDiscoveryDocument:[!0],emphasize:[!1],required:[!1]}),this.claimsSubscription=this.scopesClaimService.cachedClaimTypes$.subscribe(r=>{const c=r.slice();this.scope.userClaims.length>0?this.sortClaims(c):(this.availableClaims=c,this.allAvaliableClaims=c)})}ngOnDestroy(){this.claimsSubscription?.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.availableClaims=(0,vn.Yt)(this.availableClaims.slice(),r);const c=this.assignedClaims.slice();this.assignedClaims=c.concat(r),this.claimsPicker.availableCount=0}),this.claimsPicker.unAssignedStream.subscribe(r=>{const c=this.availableClaims;this.assignedClaims=(0,vn.Yt)(this.assignedClaims.slice(),r),this.availableClaims=c.concat(r),this.claimsPicker.assignedCount=0})}sortClaims(r){const c=[];this.scope.userClaims.forEach(m=>{r.forEach((D,ie)=>{D.name===m&&(r.splice(ie,1),c.push(D))})}),this.availableClaims=r,this.assignedClaims=c}previousTab(){this.tabComponent.tabs[--this.tabIndex].active=!0,this.updateProgress()}nextTab(){this.tabComponent.tabs[++this.tabIndex].active=!0,this.updateProgress()}updateProgress(){this.progressPercent=(this.tabIndex+1)/this.tabComponent.tabs.length*100}cancel(){this.resetWizard(),this.cancelOut.emit(!0)}addScope(){const r=(0,is.kH)(this.assignedClaims,m=>m.name),c=Object.assign(this.scopeForm.value,{userClaims:r});this.protectedResourceService.addResourceScope(this.resource.id,c).subscribe(m=>{this.submitConfirmed.emit(),this.resetWizard(),this.toastr.success(this.translate.instant("Resources.Scope.ScopeAdded"),this.translate.instant("Notifications.Success"))},m=>{this.errorService.handleError(m)})}resetWizard(){this.scopeForm.reset(),this.tabComponent.tabs[0].active=!0,this.tabIndex=0,this.assignedClaims=[],this.availableClaims=this.allAvaliableClaims,this.scopeForm.controls.showInDiscoveryDocument.setValue(!0),this.scopeForm.controls.emphasize.setValue(!1),this.scopeForm.controls.required.setValue(!1)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(pa.X),e.rXU(ea.x),e.rXU(Hi.tw),e.rXU(Ln.c$),e.rXU(la.N),e.rXU(no.I))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-add-protectedresource-scope"]],viewQuery:function(c,m){if(1&c&&(e.GBs(DS,7),e.GBs(bb,7)),2&c){let D;e.mGM(D=e.lsd())&&(m.claimsPicker=D.first),e.mGM(D=e.lsd())&&(m.tabComponent=D.first)}},hostBindings:function(c,m){1&c&&e.bIt("keydown",function(ie){return m.keydown(ie)},!1,e.EBC)},inputs:{resource:"resource"},outputs:{submitConfirmed:"submitConfirmed",cancelOut:"cancelOut"},decls:43,vars:34,consts:[["progressBar",""],["tabs",""],["ClaimPicker",""],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"],[1,"modal-body","scrollbars"],[1,"cms"],[4,"ngIf"],[1,"hide-tabs"],[3,"formGroup"],[3,"id","label","help"],["name","idInput","id","idInput","formControlName","name","maxlength","200",1,"tw-form-control"],["name","displayNameInput","id","displayNameInput","type","text","formControlName","displayName","maxlength","200",1,"tw-form-control"],[3,"id","label","help","isLast"],["name","descriptionInput","id","descriptionInput","type","text","formControlName","description","maxlength","1000",1,"tw-form-control",3,"focus","blur"],[3,"assignedInput","availableInput","availableSearch"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["data-dismiss","modal","class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["id","backBtn",1,"tw-btn",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["data-dismiss","modal","id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"h5",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(m.cancel())}),e.nrm(7,"span",8),e.j41(8,"span",9),e.EFF(9),e.nI1(10,"translate"),e.k0s()()(),e.j41(11,"div",10),e.nrm(12,"div",11,0),e.k0s(),e.j41(14,"div",12)(15,"div",13),e.DNE(16,J1,3,3,"p",14)(17,cp,3,3,"p",14),e.k0s(),e.j41(18,"tabset",15,1)(20,"tab")(21,"form",16)(22,"app-form-row",17),e.nrm(23,"input",18),e.k0s(),e.j41(24,"app-form-row",17),e.nrm(25,"input",19),e.k0s(),e.j41(26,"app-form-row",20)(27,"textarea",21),e.bIt("focus",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)})("blur",function(){return e.eBV(D),e.Njj(m.descFocus=!m.descFocus)}),e.k0s()()()(),e.j41(28,"tab"),e.nrm(29,"app-common-picker",22,2),e.k0s()()(),e.nrm(31,"div",23),e.j41(32,"div",24)(33,"div",25)(34,"div",26),e.DNE(35,Cb,3,4,"button",27)(36,wb,3,3,"button",28),e.j41(37,"button",29),e.bIt("click",function(){return e.eBV(D),e.Njj(m.previousTab())}),e.EFF(38),e.nI1(39,"translate"),e.k0s()(),e.j41(40,"button",30),e.bIt("click",function(){return e.eBV(D),e.Njj(m.cancel())}),e.EFF(41),e.nI1(42,"translate"),e.k0s()()()()()}2&c&&(e.R7$(4),e.Lme("",e.bMT(5,26,"Resources.Scope.NewScope")," ",m.resource.name,""),e.R7$(5),e.JRh(e.bMT(10,28,"Common.Close")),e.R7$(3),e.xc7("width",m.progressPercent+"%"),e.R7$(4),e.Y8G("ngIf",m.tabComponent.tabs[0].active),e.R7$(),e.Y8G("ngIf",m.tabComponent.tabs[1].active),e.R7$(4),e.Y8G("formGroup",m.scopeForm),e.R7$(),e.Y8G("id","idInput")("label","Common.ID")("help","IdentityResources.IDHelp"),e.R7$(2),e.Y8G("id","displayNameInput")("label","Common.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(2),e.Y8G("id","descriptionInput")("label","Common.Description")("help","Resources.Scope.Description")("isLast",!0),e.R7$(3),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims)("availableSearch",!0),e.R7$(6),e.Y8G("ngIf",m.tabIndex<m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("ngIf",m.tabIndex==m.tabComponent.tabs.length-1),e.R7$(),e.Y8G("disabled",0==m.tabIndex),e.R7$(),e.JRh(e.bMT(39,30,"Common.Back")),e.R7$(3),e.JRh(e.bMT(42,32,"Common.Cancel")))},dependencies:[Bn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,Ya.V6,Ya.fw,Hl.f,$o.Y,Ln.D9],encapsulation:2})}}return l})();const Sb=["createScope"],Eb=["addScope"],Tb=["deleteScopeModal"],Ib=["scopePicker"],up=()=>({animated:!1,backdrop:"static"});function Db(l,y){if(1&l){const r=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.addSharedScopeShow())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&l&&(e.R7$(),e.JRh(e.bMT(2,1,"ProtectedResources.AddSharedScope")))}function Q1(l,y){if(1&l&&e.nrm(0,"app-common-picker",37,3),2&l){const r=e.XpG();e.Y8G("assignedInput",r.pickerScopes.assignedScopes)("availableInput",r.pickerScopes.availableScopes)("availableSearch",!0)}}function Z1(l,y){1&l&&(e.j41(0,"div",38),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.DisplayName")," "))}function q1(l,y){if(1&l){const r=e.RV6();e.j41(0,"accordion-group",null,4)(2,"button",39)(3,"b",40),e.EFF(4),e.k0s(),e.j41(5,"div",41),e.nrm(6,"span",42),e.k0s()(),e.j41(7,"div")(8,"app-api-scope",43),e.bIt("delete",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.deleteScopeConfirm(m))})("submit",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.submitScopeClaims(m))}),e.k0s()()()}if(2&l){const r=y.$implicit;e.R7$(4),e.JRh(r.displayName),e.R7$(4),e.Y8G("scope",r)}}function Rb(l,y){if(1&l&&e.nrm(0,"app-pager",44),2&l){const r=e.XpG();e.Y8G("totalResults",null==r.protectedResource.scopes?null:r.protectedResource.scopes.length)}}function RS(l,y){1&l&&(e.nrm(0,"p",45),e.nI1(1,"translate")),2&l&&e.Y8G("innerHTML",e.bMT(1,1,"Common.Delete.FinalScopeOnResourceWarning"),e.npT)}class e0{constructor(y,r){this.availableScopes=[],this.assignedScopes=[],this.availableScopes=y,this.assignedScopes=r}}let t0=(()=>{class l{set content(r){this.pickerScopes&&(this.sharedScopePicker=r,this.pageSubscriptions.add(this.sharedScopePicker.assignedStream.subscribe(c=>{this.pickerScopes.assignedScopes.push(...c),c.forEach(m=>{let D=this.pickerScopes.availableScopes.findIndex(ie=>ie.name==m.name);this.pickerScopes.availableScopes.splice(D,1)})})),this.pageSubscriptions.add(this.sharedScopePicker.unAssignedStream.subscribe(c=>{this.pickerScopes.availableScopes.push(...c),c.forEach(m=>{let D=this.pickerScopes.assignedScopes.findIndex(ie=>ie.name==m.name);this.pickerScopes.assignedScopes.splice(D,1)})})))}constructor(r,c,m,D,ie){this.protectedResourceService=r,this.fb=c,this.toastr=m,this.translate=D,this.configService=ie,this.pageSubscriptions=new Hd.yU}ngOnInit(){this.configService.getConfig().pipe((0,qa.$)()).subscribe(r=>{this.sharedScopesEnabled=r.featureFlagOptions.enableSharedScopes}),this.pageSubscriptions.add(this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.refreshScopes(r)}))}ngOnDestroy(){this.pageSubscriptions?.unsubscribe()}refreshResource(){this.createScopeModal.isShown&&this.createScopeModal.hide(),this.existingScopeModal.isShown&&this.existingScopeModal.hide(),this.protectedResourceService.getResource(this.protectedResource.id).subscribe(r=>{this.protectedResource=r,this.protectedResourceService.getCachedProtectedResource().next(r),this.refreshScopes(r)})}refreshScopes(r){this.protectedResourceService.getAllScopes().subscribe(c=>{const m=r.scopes;this.pickerScopes=new e0(c.filter(D=>-1===m.findIndex(ie=>ie.name==D.name)),[])})}submitScopeClaims(r){this.protectedResourceService.updateResourceScope(this.protectedResource.id,r,r.name).subscribe(c=>{this.refreshResource(),this.toastr.success(this.translate.instant("Resources.Scope.Updated"),this.translate.instant("Notifications.Saving Success Title"))},c=>{this.toastr.error(this.translate.instant("Resources.Scope.Failed"),this.translate.instant("Common.Error"))})}deleteScopeConfirm(r){this.scopeToDelete=r,this.deleteScopeConfirmModal.show()}deleteScope(r){return this.protectedResourceService.deleteScope(this.protectedResource.id,r).toPromise().then(c=>{this.refreshResource(),this.deleteScopeConfirmModal.hide(),this.toastr.success(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Success"))},c=>{this.toastr.error(this.translate.instant("Resources.RemovedResourceScope"),this.translate.instant("Notifications.Failed"))})}commitScopeChanges(){return this.protectedResource.scopes.push(...this.pickerScopes.assignedScopes),this.protectedResourceService.updateResource(this.protectedResource).subscribe({next:()=>{this.refreshResource(),this.existingScopeModal.hide(),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))},error:()=>{this.toastr.error(this.translate.instant("Resources.Failed"),this.translate.instant("Notifications.Failed"))}})}createScopeShow(){this.createScopeModal.show()}addSharedScopeShow(){this.existingScopeModal.show()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(ea.x),e.rXU(p.ze),e.rXU(Hi.tw),e.rXU(Ln.c$),e.rXU(po.w))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-protectedresource-scopes"]],viewQuery:function(c,m){if(1&c&&(e.GBs(Sb,7),e.GBs(Eb,7),e.GBs(Tb,7),e.GBs(Ib,5)),2&c){let D;e.mGM(D=e.lsd())&&(m.createScopeModal=D.first),e.mGM(D=e.lsd())&&(m.existingScopeModal=D.first),e.mGM(D=e.lsd())&&(m.deleteScopeConfirmModal=D.first),e.mGM(D=e.lsd())&&(m.content=D.first)}},features:[e.Jv_([{provide:bl.P0,useFactory:Gd}])],decls:75,vars:51,consts:[["createScope","bs-modal"],["addScope","bs-modal"],["deleteScopeModal","bs-modal"],["scopePicker",""],["group",""],["right",""],[1,"tw-btn-success",3,"click"],["id","assignSharedScopesBtn","class","tw-btn ml-2",3,"click",4,"ngIf"],["bsModal","","id","createScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[3,"cancelOut","submitConfirmed","resource"],["bsModal","","id","addScope","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"assignedInput","availableInput","availableSearch",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex"],[1,"tw-mr-auto"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["id","deleteScope","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-body","tw-text-center","scrollbars"],[1,"tw-mb-4"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],[1,"tw-flex","tw-item-center"],[1,"tw-btn-danger",3,"click"],["id","assignSharedScopesBtn",1,"tw-btn","ml-2",3,"click"],[3,"assignedInput","availableInput","availableSearch"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","tw-transition-all","tw-ease-in-out"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"delete","submit","scope"],["hidePager","true",3,"totalResults"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,5),e.j41(2,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(m.createScopeShow())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.DNE(5,Db,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"div",8,0)(8,"app-add-protectedresource-scope",9),e.bIt("cancelOut",function(){return e.eBV(D),e.Njj(m.createScopeModal.hide())})("submitConfirmed",function(){return e.eBV(D),e.Njj(m.refreshResource())}),e.k0s()(),e.j41(9,"div",10,1)(11,"div",11)(12,"div",12)(13,"div",13)(14,"h5",14),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.j41(17,"button",15),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(10);return e.Njj(Ne.hide())}),e.nrm(18,"span",16),e.j41(19,"span",17),e.EFF(20),e.nI1(21,"translate"),e.k0s()()(),e.j41(22,"div",18),e.DNE(23,Q1,2,3,"app-common-picker",19),e.k0s(),e.nrm(24,"div",20),e.j41(25,"div",21)(26,"div",22)(27,"div",23)(28,"button",6),e.bIt("click",function(){return e.eBV(D),e.Njj(m.commitScopeChanges())}),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"button",24),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(10);return e.Njj(Ne.hide())}),e.EFF(32),e.nI1(33,"translate"),e.k0s()()()()()(),e.j41(34,"div",25),e.DNE(35,Z1,3,3,"div",26),e.j41(36,"accordion"),e.DNE(37,q1,9,2,"accordion-group",27),e.k0s(),e.DNE(38,Rb,1,1,"app-pager",28),e.k0s(),e.j41(39,"div",29,2)(41,"div",30)(42,"div",12)(43,"div",13)(44,"h5",14),e.EFF(45),e.nI1(46,"translate"),e.k0s(),e.j41(47,"button",15),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(40);return e.Njj(Ne.hide())}),e.nrm(48,"span",16),e.j41(49,"span",17),e.EFF(50),e.nI1(51,"translate"),e.k0s()()(),e.j41(52,"div",31)(53,"p",32),e.EFF(54),e.nI1(55,"translate"),e.j41(56,"strong"),e.EFF(57),e.k0s(),e.EFF(58),e.nI1(59,"translate"),e.j41(60,"strong"),e.EFF(61),e.k0s(),e.EFF(62),e.nI1(63,"translate"),e.k0s(),e.DNE(64,RS,2,3,"p",33),e.k0s(),e.nrm(65,"div",20),e.j41(66,"div",21)(67,"div",34)(68,"div",23)(69,"button",35),e.bIt("click",function(){return e.eBV(D),e.Njj(m.deleteScope(m.scopeToDelete.name))}),e.EFF(70),e.nI1(71,"translate"),e.k0s()(),e.j41(72,"button",24),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(40);return e.Njj(Ne.hide())}),e.EFF(73),e.nI1(74,"translate"),e.k0s()()()()()()}2&c&&(e.R7$(3),e.JRh(e.bMT(4,24,"ProtectedResources.AddScope")),e.R7$(2),e.Y8G("ngIf",m.sharedScopesEnabled),e.R7$(),e.Y8G("config",e.lJ4(48,up)),e.R7$(2),e.Y8G("resource",m.protectedResource),e.R7$(),e.Y8G("config",e.lJ4(49,up)),e.R7$(6),e.SpI(" ",e.bMT(16,26,"ProtectedResources.AddSharedScope")," "),e.R7$(5),e.JRh(e.bMT(21,28,"Common.Close")),e.R7$(3),e.Y8G("ngIf",m.pickerScopes),e.R7$(6),e.JRh(e.bMT(30,30,"Common.Save")),e.R7$(3),e.JRh(e.bMT(33,32,"Common.Cancel")),e.R7$(3),e.Y8G("ngIf",m.protectedResource.scopes.length>0),e.R7$(2),e.Y8G("ngForOf",m.protectedResource.scopes),e.R7$(),e.Y8G("ngIf",(null==m.protectedResource.scopes?null:m.protectedResource.scopes.length)>0),e.R7$(),e.Y8G("config",e.lJ4(50,up)),e.R7$(6),e.SpI(" ",e.bMT(46,34,"Common.Delete.Confirm")," "),e.R7$(5),e.JRh(e.bMT(51,36,"Common.Close")),e.R7$(4),e.SpI("",e.bMT(55,38,"Common.Delete.AreYouSureSimple2")," "),e.R7$(3),e.JRh(null==m.scopeToDelete?null:m.scopeToDelete.displayName),e.R7$(),e.SpI(" ",e.bMT(59,40,"Resources.Scope.ScopeFor")," "),e.R7$(3),e.JRh(m.protectedResource.displayName),e.R7$(),e.SpI(" ",e.bMT(63,42,"ProtectedResources.ProtectedResource"),""),e.R7$(2),e.Y8G("ngIf",null==m.scopeToDelete?null:m.scopeToDelete.isFinalInstanceOnResource),e.R7$(6),e.JRh(e.bMT(71,44,"Common.Delete.Title")),e.R7$(3),e.JRh(e.bMT(74,46,"Common.Delete.No")))},dependencies:[Bn.Sq,Bn.bT,Hl.f,bl.Mj,bl.kt,La.hZ,X1,wl.B,Ea.n,zd,Ln.D9],encapsulation:2})}}return l})();const Kl=["ClaimsPicker"];let n0=(()=>{class l{constructor(r,c,m,D){this.protectedResourceService=r,this.scopeClaimService=c,this.toastr=m,this.translate=D,this.originalClaims=[],this.availableClaims=[],this.assignedClaims=[],this.toSendClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().pipe((0,z1.v)(this.scopeClaimService.cachedClaimTypes$),(0,hr.T)(([r,c])=>({resource:r,claimTypes:c})),(0,qa.$)()).subscribe({next:r=>{this.protectedResource=r.resource,this.originalClaims=r.claimTypes.slice();const c=r.claimTypes.slice();this.protectedResource.allowedClaims.length>0?this.populateAvailableAndAssignedClaims(c):this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(c)}})}convertOriginalClaimTypesToPickerClaimTypes(r){let c=[];return r.map(m=>{let D=new mb;D.name=m.displayName?m.displayName:m.name,c.push(D)}),c}convertPickerClaimsToClaim(r){let c=[];return r.map(m=>{c.push(this.originalClaims.find(D=>D.displayName===m.name||D.name===m.name))}),c}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(r=>{this.toSendClaims=this.assignedClaims.concat(r),this.submit().then(c=>{this.assignedClaims=this.toSendClaims,this.availableClaims=(0,vn.Yt)(this.availableClaims.slice(),r),this.claimsPicker.availableCount=0})}),this.claimsPicker.unAssignedStream.subscribe(r=>{this.toSendClaims=(0,vn.Yt)(this.assignedClaims,r),this.submit().then(c=>{this.assignedClaims=this.toSendClaims.slice(),this.availableClaims=this.availableClaims.concat(r),this.claimsPicker.assignedCount=0})})}submit(){const r=(0,is.kH)(this.convertPickerClaimsToClaim(this.toSendClaims),function(m){return m.name}),c=Object.assign(this.protectedResource,{allowedClaims:r});return this.protectedResourceService.updateResource(c).toPromise().then(m=>{this.protectedResource=c,this.protectedResourceService.getCachedProtectedResource().next(c),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}populateAvailableAndAssignedClaims(r){let c=[],m=r.filter(D=>(c.push(D),this.protectedResource.allowedClaims.some(ie=>ie===D.name)));c=(0,vn.Yt)(c,m),this.availableClaims=this.convertOriginalClaimTypesToPickerClaimTypes(c),this.assignedClaims=this.convertOriginalClaimTypesToPickerClaimTypes(m)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(ea.x),e.rXU(la.N),e.rXU(Hi.tw),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-protectedresource-claims"]],viewQuery:function(c,m){if(1&c&&e.GBs(Kl,7),2&c){let D;e.mGM(D=e.lsd())&&(m.claimsPicker=D.first)}},decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(c,m){1&c&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&c&&(e.R7$(2),e.JRh(e.bMT(3,4,"ProtectedResources.UserClaimTypes")),e.R7$(2),e.Y8G("assignedInput",m.assignedClaims)("availableInput",m.availableClaims)("availableSearch",!0))},dependencies:[Hl.f,Ln.D9],encapsulation:2})}}return l})();var Ab=d(9764);const AS=["SecretPicker"];let dp=(()=>{class l{constructor(r){this.protectedResourceService=r,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}ngAfterViewInit(){this.secretPicker.secretsAddStream.subscribe(r=>{r.id?this.editSecret(r):this.submitSecret(r)}),this.secretPicker.secretsRemoveStream.subscribe(r=>{this.removeSecret(r)})}submitSecret(r){this.protectedResourceService.addResourceSecret(this.protectedResource.id,r).subscribe(c=>{this.refreshResource()})}editSecret(r){this.protectedResourceService.updateResourceSecret(this.protectedResource.id,r).subscribe(c=>{this.refreshResource()})}removeSecret(r){this.protectedResourceService.removeResourceSecret(this.protectedResource.id,r.id).subscribe(c=>{this.refreshResource()})}refreshResource(){this.protectedResourceService.getResource(this.protectedResource.id).subscribe(r=>{this.protectedResource=r,this.resourceSecrets=this.protectedResource.secrets,this.protectedResourceService.getCachedProtectedResource().next(r)})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(ea.x))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-protectedresource-secrets"]],viewQuery:function(c,m){if(1&c&&e.GBs(AS,7),2&c){let D;e.mGM(D=e.lsd())&&(m.secretPicker=D.first)}},decls:2,vars:2,consts:[["SecretPicker",""],[3,"clientSecrets","nonModelCertPicker"]],template:function(c,m){1&c&&e.nrm(0,"app-secret-picker",1,0),2&c&&e.Y8G("clientSecrets",m.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[Ab.s],encapsulation:2})}}return l})();const Kd=l=>[l];function Mb(l,y){1&l&&e.nrm(0,"input",12)}function r0(l,y){if(1&l&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&l){const r=e.XpG();e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(4,Kd,e.bMT(1,2,r.role.name)))}}function hp(l,y){1&l&&e.nrm(0,"textarea",14)}function xb(l,y){if(1&l&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&l){const r=e.XpG();e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(4,Kd,e.bMT(1,2,r.role.description)))}}let Yd=(()=>{class l{get ReadOnlyFieldType(){return Fd.t}constructor(r,c,m,D,ie,Ne,et,wt,Jt,fn,En){this.rolesService=r,this.route=c,this.securityService=m,this.router=D,this.fb=ie,this.titleService=Ne,this.toastr=et,this.dialogService=wt,this.translate=Jt,this.localize=fn,this.errorService=En}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(r=>{this.role=r,this.buildForms(),this.initialData=JSON.stringify(r);const c=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Wt.$9.SITE_TITLE;this.titleService.setTitle(c)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const r=this.translate.instant("Notifications.Saving Success Title"),c=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(c,r)},r=>{if(401===r.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const c={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(r,c)&cl.I.Toast)!==cl.I.Toast&&this.toastr.error(c.toastBody,c.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(r=>{const c=this.localize.translateRoute("/roles");this.router.navigate([c]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},r=>{if(401===r.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const c={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(r,c)&cl.I.Toast)!==cl.I.Toast&&this.toastr.error(c.toastBody,c.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const r=this.securityService.policyClaims;for(let c=0;c<r.length;c++)if("role"===r[c].type&&r[c].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ja.P),e.rXU(jn.nX),e.rXU(vi.i),e.rXU(jn.Ix),e.rXU(p.ze),e.rXU(t.hE),e.rXU(Hi.tw),e.rXU(Ta.o),e.rXU(Ln.c$),e.rXU(ar.QG),e.rXU(no.I))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,Mb,1,0,"input",4)(4,r0,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,hp,1,0,"textarea",7)(7,xb,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(D),e.Njj(m.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(D);const Ne=e.sdS(17);return e.Njj(Ne.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(D),e.Njj(m.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&c&&(e.R7$(),e.Y8G("formGroup",m.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!m.isControlDisabled()),e.R7$(),e.Y8G("ngIf",m.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!m.isControlDisabled()),e.R7$(),e.Y8G("ngIf",m.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!m.editRoleForm.dirty&&m.editRoleForm.valid||m.allowedToEditRole()||m.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",m.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",m.role.name))},dependencies:[Bn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ul.E,Cc.z,$o.Y,Su.O,Eu.w,Tu.u,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var MS=d(8114),s0=function(l){return l.Remove="Remove",l.Add="Add",l}(s0||{});const kb=["roleManagerUsers"],xS=()=>({animated:!1,backdrop:"static"}),Sc=(l,y,r,c)=>({id:"usersAddingSummary",title:l,data:y,label:r,empty:c}),kS=(l,y,r,c)=>({id:"usersRemovingSummary",title:l,data:y,label:r,empty:c});function Xd(l,y){1&l&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&l&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function Nb(l,y){if(1&l){const r=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const m=e.eBV(r).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(m))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(3);e.R7$(2),e.Y8G("checked",c.checkChecked(r)),e.R7$(3),e.JRh(r.userName),e.R7$(2),e.JRh(r.email)}}function Ob(l,y){if(1&l&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,Nb,8,3,"li",37),e.k0s()()),2&l){const r=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",r.users)}}function fp(l,y){1&l&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function Fb(l,y){1&l&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function el(l,y){1&l&&e.nrm(0,"app-simple-loader")}function Ou(l,y){1&l&&e.eu8(0)}function ao(l,y){1&l&&e.eu8(0)}function Yl(l,y){if(1&l){const r=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG();return e.DH7(D.searchTerm,m)||(D.searchTerm=m),e.Njj(m)}),e.bIt("keyup",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.search(m))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,Ob,3,1,"div",29)(16,fp,3,3,"p",30)(17,Fb,3,3,"p",30)(18,el,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,Ou,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,ao,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&l){const r=e.XpG(),c=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",r.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",r.searchTerm),e.R7$(3),e.Y8G("ngIf",!r.isLoading&&r.hasSearched&&r.users.length>0),e.R7$(),e.Y8G("ngIf",!r.isLoading&&!r.hasSearched&&r.users.length<1),e.R7$(),e.Y8G("ngIf",!r.isLoading&&r.hasSearched&&r.users.length<1),e.R7$(),e.Y8G("ngIf",r.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.ziG(28,Sc,e.bMT(22,16,"Roles.Adding"),r.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.ziG(33,kS,e.bMT(27,22,"Roles.Removing"),r.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function Jd(l,y){if(1&l&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&l){const r=e.XpG().empty;e.R7$(),e.JRh(r)}}function Ia(l,y){if(1&l){const r=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(3);return e.Njj(D.toggleIfInRole(m))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&l){const r=y.$implicit,c=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",c+" "+r.userName),e.R7$(4),e.JRh(r.userName)}}function Fu(l,y){if(1&l&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,Ia,6,2,"li",51),e.k0s()()),2&l){const r=e.XpG(),c=r.id,m=r.data;e.R7$(),e.FS9("id",c),e.R7$(),e.Y8G("ngForOf",m)}}function Pb(l,y){if(1&l&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,Jd,2,1,"p",30)(6,Fu,3,2,"div",48),e.k0s()),2&l){const r=y.title,c=y.data;e.R7$(),e.SpI(" ",r," "),e.R7$(2),e.SpI("(",c.length,")"),e.R7$(2),e.Y8G("ngIf",c.length<1),e.R7$(),e.Y8G("ngIf",c.length>0)}}let Ec=(()=>{class l extends Za.if{constructor(r,c,m,D,ie){super(D,ie,!1),this.userService=r,this.rolesService=c,this.translateService=m,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,yu.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(ie=>{this.users=ie.results;const Ne=[...this.users.filter(et=>et.isInRole),...this.usersInRole];this.usersInRole=is.Am(Ne,!1,et=>et.subject),this.isLoading=!1,this.hasSearched=!0},ie=>{this.isLoading=!1})})}mapSearchTerm(r){return{searchTerm:r}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(r){if(r.isInRole){const c=is.SL(this.usersRemoving,m=>m.subject===r.subject);c>-1?(this.usersRemoving.splice(c,1),this.usersInRole.push(r)):(this.usersRemoving.push(r),this.usersInRole.splice(this.usersInRole.indexOf(r),1))}else{const c=is.SL(this.usersAdding,m=>m.subject===r.subject);c>-1?(this.usersAdding.splice(c,1),this.usersInRole.splice(this.usersInRole.indexOf(r),1)):(this.usersAdding.push(r),this.usersInRole.push(r))}}checkChecked(r){let c;return r.isInRole?(c=is.I6(this.usersRemoving,m=>m.subject===r.subject),void 0===c):(c=is.I6(this.usersAdding,m=>m.subject===r.subject),void 0!==c)}addOrRemoveUsers(){const r=[];this.isSaving=!0,r.push(...this.usersAdding.map(c=>({username:c.userName,subject:c.subject,addOrRemove:s0.Add}))),r.push(...this.usersRemoving.map(c=>({username:c.userName,subject:c.subject,addOrRemove:s0.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,r).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},c=>{this.isSaving=!1,401===c.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Fi.D),e.rXU(Ja.P),e.rXU(Ln.c$),e.rXU(Hi.tw),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-role-manageusers"]],viewQuery:function(c,m){if(1&c&&e.GBs(kb,7),2&c){let D;e.mGM(D=e.lsd())&&(m.roleManagerUsers=D.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,Xd,2,3,"app-simple-loader",11)(15,Yl,30,38,"div",12)(16,Pb,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(D),e.Njj(m.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(D),e.Njj(m.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&c&&(e.Y8G("config",e.lJ4(18,xS)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",m.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",m.isSaving),e.R7$(),e.Y8G("ngIf",!m.isSaving),e.R7$(7),e.Y8G("disabled",m.isSaving||m.usersAdding.length<1&&m.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",m.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[Bn.Sq,Bn.bT,Bn.T3,p.me,p.BC,p.YS,p.xh,p.tU,p.vS,La.hZ,Cl.d,Ln.D9],encapsulation:2})}}return l})();function o0(l,y){if(1&l){const r=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2);return e.DH7(D.pageSize,m)||(D.pageSize=m),e.Njj(m)}),e.bIt("change",function(){e.eBV(r);const m=e.XpG(2);return e.Njj(m.setPageLength(+m.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&l){const r=e.XpG(2);e.R7$(3),e.Lme("",r.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",r.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function a0(l,y){1&l&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Bb(l,y){1&l&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function Lb(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,o0,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(r),e.XpG();const m=e.sdS(11);return e.Njj(m.show())}),e.DNE(4,a0,3,3,"span",9)(5,Bb,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&l){const r=e.XpG();e.R7$(),e.Y8G("ngIf",(null==r.pagedResult?null:r.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",r.users&&r.users.length>0),e.R7$(),e.Y8G("ngIf",r.users&&r.users.length<1)}}function lo(l,y){1&l&&e.nrm(0,"app-simple-loader")}function l0(l,y){1&l&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function Ub(l,y){if(1&l){const r=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(m))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(m))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.goToUser(m))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2);return e.Njj(D.removeUser(m))}),e.j41(9,"button",38),e.bIt("click",function(){const m=e.eBV(r).$implicit,D=e.XpG(2),ie=e.sdS(17);return D.removeUser(m),e.Njj(ie.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&l){const r=y.$implicit;e.R7$(3),e.JRh(r.username),e.R7$(2),e.SpI(" ",r.firstName," "),e.R7$(2),e.SpI(" ",r.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function co(l,y){if(1&l&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,Ub,14,6,"tr",33),e.k0s()()),2&l){const r=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",r.users)}}function Pu(l,y){if(1&l){const r=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(m){e.eBV(r);const D=e.XpG();return e.Njj(D.goToPage(m))}),e.k0s()}if(2&l){const r=e.XpG();e.Y8G("totalResults",null==r.pagedResult?null:r.pagedResult.totalCount)("currentPage",r.page)("lastPage",null==r.pagedResult?null:r.pagedResult.pageCount)}}let Tc=(()=>{class l extends Za.if{constructor(r,c,m,D,ie,Ne,et){super(ie,c,!0),this.rolesService=r,this.localize=m,this.router=D,this.errorService=Ne,this.userService=et,this.pageStream=new ir.B,this.pageSizeStream=new ir.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=c.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,qa.$)()).subscribe(r=>{this.role=r,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const c=this.pageStream.pipe((0,hr.T)(ie=>(this.page=ie,{searchTerm:this.searchTerm,page:ie,pageSize:this.pageSize}))),m=this.pageSizeStream.pipe((0,hr.T)(ie=>(this.pageSize=ie,{searchTerm:this.searchTerm,page:this.page,pageSize:ie})));c.pipe((0,yu.h)(m),(0,yu.h)(this.searchSource),(0,yu.h)(this.enterKeySource),(0,eo.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,gu.Z)(ie=>(this.isLoading=!0,this.rolesService.getUsersInRole(r.id,ie.page,ie.pageSize,ie.searchTerm).pipe((0,es.c)(200))))).subscribe(ie=>{this.pagedResult=ie,this.users=ie.results,this.isLoading=!1},ie=>{this.errorService.handleError(ie),this.isLoading=!1})})}mapSearchTerm(r){return this.searchTerm=r,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(r){this.pageStream.next(1)}goToPage(r){this.pageStream.next(r)}setPageLength(r){this.page=1,this.pageSizeStream.next(r)}goToUser(r){const c=[this.localize.translateRoute("/users"),r.subject,"roles"];this.router.navigate(c)}removeUser(r){this.removeSummary=this.removeSummaryTranslation.replace("{0}",r.username),this.userToRemove=r}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(r=>{let c=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;c<1&&(c=1),this.goToPage(c),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},r=>{this.isLoading=!1,401===r.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(Ja.P),e.rXU(Ln.c$),e.rXU(ar.QG),e.rXU(jn.Ix),e.rXU(Hi.tw),e.rXU(no.I),e.rXU(Fi.D))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(c,m){if(1&c){const D=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(Ne){return e.eBV(D),e.DH7(m.searchTerm,Ne)||(m.searchTerm=Ne),e.Njj(Ne)}),e.bIt("keyup",function(Ne){return e.eBV(D),e.Njj(m.search(Ne))}),e.k0s()()(),e.DNE(9,Lb,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(Ne){return e.eBV(D),e.Njj(m.onSubmit(Ne))}),e.k0s(),e.DNE(12,lo,1,0,"app-simple-loader",9)(13,l0,4,3,"div",11)(14,co,18,13,"table",12)(15,Pu,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(D),e.Njj(m.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&c&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",m.searchTerm),e.R7$(),e.Y8G("ngIf",!m.isLoading),e.R7$(),e.Y8G("role",m.role),e.R7$(2),e.Y8G("ngIf",m.isLoading),e.R7$(),e.Y8G("ngIf",m.users&&0==m.users.length&&!m.isLoading),e.R7$(),e.Y8G("ngIf",m.users&&m.users.length>0&&!m.isLoading),e.R7$(),e.Y8G("ngIf",(null==m.pagedResult?null:m.pagedResult.results.length)>0&&!m.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",m.removeSummary,e.npT))},dependencies:[Bn.Sq,Bn.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.YS,p.xh,p.tU,p.vS,wl.B,Ea.n,Cl.d,MS.B,Ec,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();class Qd{}var Ic=d(7773);let Bu=(()=>{class l{constructor(r,c,m,D,ie){this.claimTypeService=r,this.permissionService=c,this.accessPolicyService=m,this.rolesService=D,this.errorService=ie}resolve(){const r=this.permissionService.getAvaliablePermissions(),c=this.accessPolicyService.getAccessPolicy(),m=this.claimTypeService.getClaimTypes(),D=this.rolesService.getRoles();return(0,Ze.p)([r,c,m,D]).pipe((0,hr.T)(([Ne,et,wt,Jt])=>{const fn=new Qd;return fn.permissions=Ne,fn.claimTypes=wt,fn.accessPolicy=et,fn.roles=Jt,fn},Ne=>{this.errorService.handleError(Ne)}))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(pa.X),e.KVO(Ic.n),e.KVO(Qf),e.KVO(Ja.P),e.KVO(no.I))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})(),c0=(()=>{class l{constructor(r,c,m,D){this.titleService=r,this.identityResourceService=c,this.toastr=m,this.translate=D,this.properties=[]}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.properties=this.identityResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`)})}ngOnDestroy(){this.identityResourceSubscription?.unsubscribe()}onPropertiesChanged(r){this.properties=r;const c=Object.assign(this.identityResource,{properties:this.properties});this.identityResourceService.updateResource(c).pipe((0,kt.s)(1)).subscribe(m=>{this.identityResource=c,this.identityResourceService.getCachedIdentityResource().next(c),this.toastr.success(this.translate.instant("IdentityResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(El.A),e.rXU(Hi.tw),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-identity-resource-properties"]],decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(c,m){1&c&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(ie){return m.onPropertiesChanged(ie)}),e.k0s()),2&c&&e.Y8G("modalId",m.identityResource.id)("properties",m.properties)},dependencies:[lp.C],encapsulation:2})}}return l})(),u0=(()=>{class l{constructor(r,c,m,D){this.titleService=r,this.protectedResourceService=c,this.toastr=m,this.translate=D,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(r=>{this.protectedResource=r,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`),this.modalId=this.protectedResource.id})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}onPropertiesChanged(r){this.properties=r;const c=Object.assign(this.protectedResource,{properties:this.properties});this.protectedResourceService.updateResource(c).pipe((0,kt.s)(1)).subscribe(m=>{this.protectedResource=c,this.protectedResourceService.getCachedProtectedResource().next(c),this.toastr.success(this.translate.instant("ProtectedResources.UpdatedResource"),this.translate.instant("Notifications.Success"))})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(t.hE),e.rXU(ea.x),e.rXU(Hi.tw),e.rXU(Ln.c$))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-protected-resource-properties"]],decls:1,vars:2,consts:[[3,"propertiesChanged","modalId","properties"]],template:function(c,m){1&c&&(e.j41(0,"app-properties-editor",0),e.bIt("propertiesChanged",function(ie){return m.onPropertiesChanged(ie)}),e.k0s()),2&c&&e.Y8G("modalId",m.modalId)("properties",m.properties)},dependencies:[lp.C],encapsulation:2})}}return l})();var pp=d(4252),Zd=d(7185);let qd=(()=>{class l{constructor(r,c){this.http=r,this.headersService=c,this.actionUrl="signingkey",this.headers=c.setHeaders()}getKeys(){const r=new S.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:r})}deleteKey(r){return this.http.delete(`${this.actionUrl}/${r}`,{headers:this.headers})}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(S.Qq),e.KVO(ku.m))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var mp=d(9812),eh=d(8577);let Xl=(()=>{class l{constructor(r,c,m,D,ie){this.keyService=r,this.toastr=c,this.translate=m,this.modalService=D,this.dataTableService=ie,this.keysDataTableActions=[pp.AA.Delete],this.deleteModalType=Zd.q.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(r=>{this.startDeleteKey(r)})}getSerializedKeys(){this.keyService.getKeys().subscribe(r=>{this.keys=r})}startDeleteKey(r){this.keyToDelete=this.keys[r],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(r=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},r=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(qd),e.rXU(Hi.tw),e.rXU(Ln.c$),e.rXU(Zi.B),e.rXU(mp.I))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"app-data-table",1),e.nrm(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),e.k0s()(),e.j41(7,"app-custom-modal",5),e.bIt("onCancel",function(){return m.resetAndCloseDeleteModal()})("onDelete",function(){return m.deleteKey()}),e.j41(8,"div",6)(9,"p",7),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"p",8),e.nI1(13,"translate"),e.k0s()()),2&c&&(e.R7$(),e.Y8G("rows",m.keys)("actions",m.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),e.R7$(),e.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),e.R7$(),e.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),e.R7$(),e.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),e.R7$(),e.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),e.R7$(),e.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),e.R7$(),e.Y8G("title","Settings.Keys.DeleteKey")("modalId",m.deleteModalId)("actions",m.keysDataTableActions)("modalType",m.deleteModalType),e.R7$(3),e.JRh(e.bMT(11,31,"Common.Delete.AreYouSureSimple")),e.R7$(2),e.Y8G("innerHTML",e.bMT(13,33,"Common.Delete.Warning"),e.npT))},dependencies:[pp.up,eh.w,Cd.G,Ln.D9],encapsulation:2})}}return l})();const Vb=(l,y)=>({title:l,link:y}),_a=l=>[l];function jb(l,y){1&l&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function $b(l,y){1&l&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function gp(l,y){if(1&l&&(e.qex(0,5),e.DNE(1,jb,3,3,"span",6)(2,$b,3,3,"span",7),e.bVm()),2&l){const r=e.XpG();e.R7$(),e.Y8G("ngIf",r.isPolicyRole()),e.R7$(),e.Y8G("ngIf",r.role.reserved)}}let d0=(()=>{class l{constructor(r,c,m,D){this.activatedRoute=r,this.errorService=c,this.router=m,this.securityService=D}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(r=>{this.role=r.role},r=>{this.errorService.handleError(r)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const r=this.securityService.policyClaims;for(let c=0;c<r.length;c++)if("role"===r[c].type&&r[c].value===this.role.name)return!0;return!1}mobRoute(r){this.router.navigate([r],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.nX),e.rXU(no.I),e.rXU(jn.Ix),e.rXU(vi.i))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,gp,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&c&&(e.Y8G("title",m.role.name)("crumbs",e.eq3(16,_a,e.l_i(13,Vb,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",m.isPolicyRole()||m.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[Bn.bT,jn.n3,qo.z,yc.G,_c.v,Ln.D9,ar.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();const h0=(l,y)=>({title:l,link:y}),Gb=l=>[l],f0=()=>["active"];function Hb(l,y){1&l&&(e.j41(0,"span",17),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&l&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let th=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt){this.fb=r,this.route=c,this.router=m,this.titleService=D,this.identityResourceService=ie,this.translate=Ne,this.claimTypesService=et,this.scopesClaimService=wt}ngOnInit(){this.identityResourceSubscription=this.identityResourceService.getCachedIdentityResource().subscribe(r=>{this.identityResource=r,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.identityResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${Wt.$9.SITE_TITLE}`)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe({next:r=>{this.scopesClaimService.setClaimTypes(r)}})}ngOnDestroy(){this.identityResourceSubscription.unsubscribe()}mobRoute(r){this.router.navigate([r],{relativeTo:this.route})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(p.ze),e.rXU(jn.nX),e.rXU(jn.Ix),e.rXU(t.hE),e.rXU(El.A),e.rXU(Ln.c$),e.rXU(pa.X),e.rXU(la.N))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["ng-component"]],decls:39,vars:46,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","claims"],["value","properties"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrClaimsTabButton","routerLink","claims","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","idrPropertiesTabButton","routerLink","properties","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewIdentityResource",1,"tw-container","mx-auto"],[1,"tw-pill-warning","tw-mr-2"]],template:function(c,m){1&c&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(ie){return m.mobRoute(ie.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.j41(16,"option",7),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"option",8),e.EFF(20),e.k0s()()()(),e.j41(21,"ul",9),e.nI1(22,"translate"),e.j41(23,"li",10)(24,"button",11),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.j41(27,"li",10)(28,"button",12),e.EFF(29),e.nI1(30,"translate"),e.k0s()(),e.j41(31,"li",10)(32,"button",13),e.EFF(33),e.nI1(34,"translate"),e.k0s()()(),e.bVm(),e.qex(35,14),e.DNE(36,Hb,3,3,"span",15),e.bVm(),e.k0s(),e.j41(37,"div",16),e.nrm(38,"router-outlet"),e.k0s()),2&c&&(e.Y8G("title",null==m.identityResource?null:m.identityResource.name)("crumbs",e.eq3(41,Gb,e.l_i(38,h0,e.bMT(1,18,"IdentityResources.Title"),e.bMT(2,20,"/identityresources"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",m.identityResource.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,24,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,26,"Nav.Details")),e.R7$(3),e.JRh(e.bMT(18,28,"Nav.Claims")),e.R7$(3),e.JRh("Nav.Properties | translate"),e.R7$(),e.BMQ("aria-label",e.bMT(22,30,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(43,f0)),e.R7$(),e.JRh(e.bMT(26,32,"Nav.Details")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(44,f0)),e.R7$(),e.JRh(e.bMT(30,34,"Nav.Claims")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(45,f0)),e.R7$(),e.JRh(e.bMT(34,36,"Nav.Properties")),e.R7$(3),e.Y8G("ngIf",!m.identityResource.enabled))},dependencies:[Bn.bT,jn.n3,jn.Wk,jn.wQ,qo.z,Ln.D9,ar.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();var vp=d(2109),yp=d(316);const Dc=["requiredClaimsForm"];function p0(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&l&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function m0(l,y){1&l&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function Rc(l,y){1&l&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&l&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function _p(l,y){if(1&l){const r=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG().$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s()}if(2&l){const r=e.XpG(),c=r.$implicit;e.Mz_("id","claim-",r.index,""),e.R50("ngModel",c.value)}}function bp(l,y){if(1&l){const r=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG().$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s()}if(2&l){const r=e.XpG(),c=r.$implicit;e.Mz_("id","claim-",r.index,""),e.R50("ngModel",c.value)}}function g0(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG().$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&l){const r=e.XpG(),c=r.$implicit,m=r.index;e.R7$(),e.Mz_("id","claim-",m,""),e.R50("ngModel",c.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function v0(l,y){if(1&l){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2).$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s(),e.bVm()}if(2&l){const r=e.XpG(2),c=r.$implicit,m=r.index;e.R7$(),e.Mz_("id","claim-",m,""),e.R50("ngModel",c.value)}}function y0(l,y){if(1&l){const r=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG(2).$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.k0s(),e.bVm()}if(2&l){const r=e.XpG(2),c=r.$implicit,m=r.index;e.R7$(),e.Mz_("id","claim-",m,""),e.R50("ngModel",c.value),e.Y8G("displayType","date")}}function Wb(l,y){if(1&l&&(e.j41(0,"div",56),e.DNE(1,v0,2,3,"ng-container",57)(2,y0,2,4,"ng-container",57),e.k0s()),2&l){const r=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=r.name),e.R7$(),e.Y8G("ngIf","birthdate"==r.name)}}function zb(l,y){if(1&l&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&l){const r=y.$implicit;e.Y8G("value",r),e.R7$(),e.JRh(r)}}function Ac(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(m){e.eBV(r);const D=e.XpG().$implicit;return e.DH7(D.value,m)||(D.value=m),e.Njj(m)}),e.DNE(2,zb,2,2,"option",61),e.k0s()()}if(2&l){const r=e.XpG(),c=r.$implicit,m=r.index;e.R7$(),e.Mz_("id","claim-",m,""),e.R50("ngModel",c.value),e.R7$(),e.Y8G("ngForOf",c.allowedValues)}}function _0(l,y){if(1&l&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&l){const r=e.XpG().$implicit;e.R7$(),e.SpI(" ",r.failureMessage," ")}}function Kb(l,y){if(1&l&&(e.j41(0,"app-form-row",44),e.DNE(1,_p,1,3,"input",45)(2,bp,1,3,"input",46)(3,g0,8,9,"div",47)(4,Wb,3,2,"div",48)(5,Ac,3,4,"div",47)(6,_0,2,1,"span",49),e.k0s()),2&l){const r=y.$implicit,c=y.index,m=e.XpG(3);e.Y8G("id","claim-"+c)("label",r.name)("help","DateTime"==r.format?"Common.Dates.UTCWarning":"")("isLast",c===m.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==r.format),e.R7$(),e.Y8G("ngIf","Int"==r.format),e.R7$(),e.Y8G("ngIf","Boolean"==r.format),e.R7$(),e.Y8G("ngIf","DateTime"==r.format),e.R7$(),e.Y8G("ngIf","Enum"==r.format),e.R7$(),e.Y8G("ngIf",null!=r.failureMessage)}}function Yb(l,y){if(1&l&&(e.j41(0,"div",42),e.DNE(1,Kb,7,10,"app-form-row",43),e.k0s()),2&l){const r=e.XpG(2);e.R7$(),e.Y8G("ngForOf",r.displayClaims)}}function Xb(l,y){1&l&&e.nrm(0,"span",64)}function b0(l,y){if(1&l){const r=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,m0,2,0,"span",28)(27,Rc,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Yb,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(r);const m=e.XpG();return e.Njj(m.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,Xb,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&l){const r=e.sdS(29),c=e.XpG();e.R7$(2),e.JRh(e.bMT(3,27,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,29,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,31,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",c.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(),e.BMQ("Required",c.requireEmail),e.R7$(),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",c.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",c.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",c.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!c.addUserForm.valid||!r.form.valid||c.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,33,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",c.inFlight),e.R7$(3),e.FS9("href",c.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,35,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,37,"LandingPage.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,39,"Nav.Support")," ")}}let C0=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt,Jt){this.authService=r,this.titleService=c,this.toastr=m,this.fb=D,this.userService=ie,this.errorService=Ne,this.claimTypesService=et,this.configService=wt,this.appComponentViewService=Jt,this.versionNumber="",this.createdAdmin=!1,this.requireEmail=!0,this.displayClaims=[],this.checkPasswords=En=>En.get("password").value===En.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Wt.$9.SITE_TITLE}`),this.versionNumber=zt;const fn=new Date;this.appCopyright=2017!==fn.getFullYear()?"2017 - "+fn.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.configService.getConfig(!0).pipe((0,qa.$)()).subscribe(r=>{this.requireEmail=r.requireEmailInUsers,this.createForms()}),this.claimTypesService.getClaimTypes(null,null).subscribe(r=>{this.claimTypes=r;for(const m of this.claimTypes)m.required&&this.displayClaims.push({claimTypeId:m.id,format:m.valueType,name:m.name,value:null,failureMessage:m.ruleValidationFailureDescription,allowedValues:m.allowedValues})},r=>{this.errorService.handleError(r)})}addUser(){let r;r=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(r,{claims:[]});for(const c of this.displayClaims){if(null===c.value)continue;let m=c.value;"DateTime"===c.format&&(m=c.value),"Int"===c.format&&(m=m.toString()),r.claims.push({claimTypeId:c.claimTypeId,value:m,type:c.name})}this.inFlight=!0,this.userService.addInitialAdministrator(r).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},c=>{this.inFlight=!1,this.errorService.handleError(c)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[p.k0.required,(0,vn.Zt)()]],email:["",this.requireEmail?yp.D:[]],firstName:["",p.k0.required],lastName:["",p.k0.required],password:["",p.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(zs.u),e.rXU(t.hE),e.rXU(Hi.tw),e.rXU(p.ze),e.rXU(Fi.D),e.rXU(no.I),e.rXU(pa.X),e.rXU(po.w),e.rXU($i.X))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-initial-admin-creation"]],viewQuery:function(c,m){if(1&c&&e.GBs(Dc,5),2&c){let D;e.mGM(D=e.lsd())&&(m.requiredClaimsForm=D.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(c,m){1&c&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,p0,16,12,"div",8)(9,b0,54,41,"div",9),e.k0s()()),2&c&&(e.R7$(6),e.SpI("v",m.versionNumber,""),e.R7$(2),e.Y8G("ngIf",m.createdAdmin),e.R7$(),e.Y8G("ngIf",!m.createdAdmin&&m.addUserForm))},dependencies:[Bn.Sq,Bn.bT,p.qT,p.xH,p.y7,p.me,p.Q0,p.wz,p.BC,p.cb,p.YS,p.vS,p.cV,p.j4,p.JD,$o.Y,ep.Z,Ln.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return l})();class OS{constructor(y,r,c,m){this.webhooks={MfaReset:y,PasswordReset:r,UserRegistration:c,ServerSideSessionDelete:m}}}var tl=function(l){return l.MFAReset="MfaReset",l.PasswordReset="PasswordReset",l.UserRegistration="UserRegistration",l.ServerSideSessionDelete="ServerSideSessionDelete",l}(tl||{});let Lu=(()=>{class l{constructor(r,c){this.http=r,this.headersService=c,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(r){const c=JSON.stringify(r);return this.http.put(this.actionUrl,c,{headers:this.headers})}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(S.Qq),e.KVO(ku.m))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})(),S0=(()=>{class l{constructor(r,c,m){this.webhookService=r,this.protectedResourceService=c,this.errorService=m}resolve(){return(0,Ze.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,hr.T)(r=>{const c=new Jb;c.webhookConfiguration=r.webhooks;const m=[];return r.protectedResources.forEach(D=>{m.push(...D.scopes)}),c.scopeNames=m.map(D=>D.name).sort(),c},r=>{this.errorService.handleError(r)}))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(Lu),e.KVO(ea.x),e.KVO(no.I))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();class Jb{}function Zb(l,y){if(1&l&&(e.j41(0,"option",11),e.EFF(1),e.k0s()),2&l){const r=y.$implicit;e.Y8G("ngValue",r),e.R7$(),e.JRh(r)}}let qb=(()=>{class l{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(c,m){1&c&&(e.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),e.bIt("click",function(){return m.toggle()}),e.k0s()()(),e.j41(5,"app-form-row",5),e.nrm(6,"input",6),e.k0s(),e.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),e.DNE(10,Zb,2,2,"option",10),e.k0s()()()()()),2&c&&(e.Y8G("formGroup",m.parentForm),e.R7$(),e.FS9("formGroupName",m.webhookName),e.R7$(),e.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),e.R7$(),e.Y8G("id","WebhookEnabled"+m.webhookName)("isTraffic",!0)("isAlt",!1),e.R7$(),e.Y8G("id","WebhookEnabled"+m.webhookName),e.R7$(),e.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),e.R7$(2),e.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",m.scopeNames))},dependencies:[Bn.Sq,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.cV,p.j4,p.JD,p.$R,$o.Y,bc.m],encapsulation:2})}}return l})();const eC=["save"];function tC(l,y){if(1&l&&(e.j41(0,"div",5)(1,"form",6)(2,"h2",7),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"app-edit-webhook",8),e.j41(6,"h2",7),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.nrm(9,"app-edit-webhook",8),e.j41(10,"h2",7),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.nrm(13,"app-edit-webhook",8),e.j41(14,"h2",7),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.nrm(17,"app-edit-webhook",8),e.k0s()()),2&l){const r=e.XpG();e.R7$(),e.Y8G("formGroup",r.webhooksForm),e.R7$(2),e.JRh(e.bMT(4,17,"Webhooks.MultiFactorHeading")),e.R7$(2),e.Y8G("webhookName",r.webhookNames.MFAReset)("scopeNames",r.scopeNames)("parentForm",r.webhooksForm),e.R7$(2),e.JRh(e.bMT(8,19,"Webhooks.PasswordResetHeading")),e.R7$(2),e.Y8G("webhookName",r.webhookNames.PasswordReset)("scopeNames",r.scopeNames)("parentForm",r.webhooksForm),e.R7$(2),e.JRh(e.bMT(12,21,"Webhooks.UserRegistrationHeading")),e.R7$(2),e.Y8G("webhookName",r.webhookNames.UserRegistration)("scopeNames",r.scopeNames)("parentForm",r.webhooksForm),e.R7$(2),e.JRh(e.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),e.R7$(2),e.Y8G("webhookName",r.webhookNames.ServerSideSessionDelete)("scopeNames",r.scopeNames)("parentForm",r.webhooksForm)}}let nC=(()=>{class l{constructor(r,c,m,D,ie,Ne,et,wt){this.activatedRoute=r,this.errorService=c,this.fb=m,this.webhookService=D,this.translate=ie,this.toastr=Ne,this.modalService=et,this.dialogService=wt,this.webhookNames=tl,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[Hn.N.Save]}ngOnInit(){this.activatedRoute.data.pipe(function Qb(...l){const y=l.length;if(0===y)throw new Error("list of properties cannot be empty.");return(0,hr.T)(r=>{let c=r;for(let m=0;m<y;m++){const D=c?.[l[m]];if(!(typeof D<"u"))return;c=D}return c})}("webhookResolverObject")).subscribe(r=>{this.webhookConfiguration=r.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=r.scopeNames,this.webhooksForm=this.fb.group({[tl.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[tl.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[tl.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[tl.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(c=>{this.saveLock=!(this.webhooksForm.controls[tl.MFAReset].valid&&this.webhooksForm.controls[tl.PasswordReset].valid&&this.webhooksForm.controls[tl.UserRegistration].valid&&this.webhooksForm.controls[tl.ServerSideSessionDelete].valid)})},r=>{this.errorService.handleError(r)})}createFormGroup(r){return this.fb.group({url:[{value:r.url,disabled:!r.enabled},p.k0.required],scopeName:[{value:r.scopeName,disabled:!r.enabled}],enabled:[r.enabled]})}processWebhookConfigurationUpdate(){const r=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(r)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(r)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const r=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(r).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(c=>{this.webhookConfiguration=c,this.webhooksEnabled=this.checkWebhooksEnabled()},c=>{this.errorService.handleError(c)}),this.webhooksForm.markAsPristine()},c=>{this.errorService.handleError(c)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const r=this.webhooksForm.getRawValue();return new OS(r.MfaReset,r.PasswordReset,r.UserRegistration,r.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(r){return r.webhooks.PasswordReset.enabled||r.webhooks.UserRegistration.enabled||r.webhooks.MfaReset.enabled||r.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(r){return!(r.webhooks.PasswordReset.enabled||r.webhooks.UserRegistration.enabled||r.webhooks.MfaReset.enabled||r.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(c){return new(c||l)(e.rXU(jn.nX),e.rXU(no.I),e.rXU(p.ze),e.rXU(Lu),e.rXU(Ln.c$),e.rXU(Hi.tw),e.rXU(Zi.B),e.rXU(Ta.o))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-manage-webhooks"]],viewQuery:function(c,m){if(1&c&&e.GBs(eC,5),2&c){let D;e.mGM(D=e.lsd())&&(m.saveButtonRef=D.first)}},decls:20,vars:25,consts:[["class","tw-container tw-mx-auto",4,"ngIf"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[1,"tw-container","tw-mx-auto"],[3,"formGroup"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","scopeNames","parentForm"]],template:function(c,m){1&c&&(e.DNE(0,tC,18,25,"div",0),e.j41(1,"app-custom-modal",1),e.bIt("onCancel",function(){return m.cancelWebhookUpdate()})("onSave",function(){return m.acceptClientCreation()}),e.j41(2,"h2",2),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",3),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-custom-modal",1),e.bIt("onCancel",function(){return m.cancelWebhookUpdate()})("onSave",function(){return m.acceptClientCreation()}),e.j41(9,"h2",2),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",3),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"app-button-bar")(16,"button",4),e.bIt("click",function(){return m.processWebhookConfigurationUpdate()}),e.EFF(17),e.nI1(18,"translate"),e.k0s()(),e.nrm(19,"app-can-deactivate")),2&c&&(e.Y8G("ngIf",m.webhookConfiguration),e.R7$(),e.Y8G("saveText","Common.Continue")("actions",m.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",m.clientCreationConfirmationModalId),e.R7$(2),e.JRh(e.bMT(4,15,"Common.Warning")),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),e.R7$(2),e.Y8G("saveText","Common.Continue")("actions",m.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",m.clientDeletionConfirmationModalId),e.R7$(2),e.JRh(e.bMT(11,19,"Common.Warning")),e.R7$(3),e.SpI(" ",e.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),e.R7$(3),e.Y8G("disabled",m.saveLock),e.R7$(),e.SpI(" ",e.bMT(18,23,"Common.Save")," "))},dependencies:[Bn.bT,p.qT,p.cb,p.j4,ul.E,Cc.z,Cd.G,qb,Ln.D9],encapsulation:2})}}return l})(),iC=(()=>{class l{constructor(r,c,m){this.router=r,this.config=c,this.localizeRouter=m}canActivate(r,c){return this.config.getConfig().pipe((0,qa.$)(),(0,hr.T)(m=>{if("accesspolicy"!=r.firstChild.routeConfig.path||!m.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const D=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([D])}}))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(jn.Ix),e.KVO(po.w),e.KVO(ar.QG))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}}return l})();var rC=d(4855),Cp=d(6923),uo=d(4446),sC=d(5517);const E0=[{path:"",component:mS},{path:"initial-admin-creation",component:C0,canActivate:[io.h],data:{permissions:[nn.a[nn.a.All]]}},{path:"home",component:Pf,canActivate:[io.h,uo._]},{path:"settings",component:yS,children:[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:j1,canDeactivate:[ll.M],resolve:{accessPolicyObject:Bu}},{path:"webhooks",component:nC,canDeactivate:[ll.M],resolve:{webhookResolverObject:S0}},{path:"keys",component:Xl,canDeactivate:[ll.M]}],canActivate:[io.h,uo._,iC],canDeactivate:[ll.M],data:{permissions:[nn.a[nn.a.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(d.bind(d,7101)).then(l=>l.UsersModule),canActivate:[io.h,uo._]},{path:"roles",component:y_,canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.UserManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"roles/:Id",component:w_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Yd,canDeactivate:[ll.M]},{path:"users",component:Tc,canDeactivate:[ll.M]}],resolve:{role:Du.v},canDeactivate:[ll.M],canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.All]]}},{path:"roles/view/:Id",component:d0,loadChildren:()=>d.e(907).then(d.bind(d,5907)).then(l=>l.ViewRolesModule),resolve:{role:Du.v},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.UserManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"identityresources",component:Yf,canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.IdentityServerManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"identityresources/:Id",component:Y_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Nu,canDeactivate:[ll.M]},{path:"claims",component:gb},{path:"properties",component:c0}],resolve:{resource:Ld},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.All]]}},{path:"identityresources/view/:Id",component:th,loadChildren:()=>d.e(582).then(d.bind(d,5582)).then(l=>l.ViewIdentityResourcesModule),resolve:{resource:Ld},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.IdentityServerManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"protectedresources",component:E1,canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.IdentityServerManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"protectedresources/:Id",component:D1,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:_b,canDeactivate:[ll.M]},{path:"scopes",component:t0},{path:"claims",component:n0},{path:"secrets",component:dp},{path:"properties",component:u0}],resolve:{resource:$d},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.All]]}},{path:"protectedresources/view/:Id",component:vp.J,loadChildren:()=>d.e(26).then(d.bind(d,9026)).then(l=>l.ViewProtectedResourceModule),resolve:{resource:$d},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.IdentityServerManager],nn.a[nn.a.IdentityServerManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"clients",loadChildren:()=>Promise.resolve().then(d.bind(d,8511)).then(l=>l.ClientModule),canActivate:[io.h,uo._]},{path:"claim-types",component:U_,canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.UserManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"claim-types/:Id",component:Qa,resolve:{resource:Hf.R},canDeactivate:[ll.M],canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>d.e(691).then(d.bind(d,9691)).then(l=>l.ClaimTypesModule),resolve:{resource:Hf.R},canActivate:[io.h,uo._],data:{permissions:[nn.a[nn.a.UserManager],nn.a[nn.a.UserManagerReadOnly],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"dynamic-auth",loadChildren:()=>Promise.resolve().then(d.bind(d,5928)).then(l=>l.DynamicAuthModule),canActivate:[io.h,uo._,rC.F,Cp.q]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(d.bind(d,9624)).then(l=>l.StarterModeModule),canActivate:[io.h,sC.H]},{path:"auditing",component:SS,canActivate:[io.h,uo._,Cp.q],data:{permissions:[nn.a[nn.a.Auditer],nn.a[nn.a.AllReadOnly],nn.a[nn.a.All]]}},{path:"unauthorized",component:s1},{path:"forbidden",component:vu},{path:"auth",component:R1,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:_S,canActivate:[io.h,uo._]},{path:"**",component:iS,canActivate:[io.h,uo._]}];let T0=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[jn.iI.forRoot(E0,{scrollPositionRestoration:"enabled"}),jn.iI]})}}return l})();var Uu=d(1683),Tl=d(7101),nh=d(8455),Vu=d(367),wp=d(5731),ih=d(4193),Sp=d(3665),Il=d(7175),rh=d(275),Dl=d(1993),ju=d(8389),Jl=d(7677),Mc=d(4367);let xc=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Du.v],imports:[Bn.MD,p.YN,p.X1,La.Q_,Uu.Y,jn.iI,Ln.h,nh.p,ar.XE,Vu.m,wp.i,ih.c,Sp.t,Il.c,rh.W,Dl.E,ju.w,Jl.N,Mc.N]})}}return l})();var Ql=d(2571),kc=d(4179),Zl=d(7415),Nc=d(9945),Oc=d(6843);let Fc=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Ld,$d,la.N],imports:[Bn.MD,jn.iI,Ln.h,p.YN,Uu.Y,p.X1,Ya.jr,Ed.Ss,kc.z,Ql.A,nh.p,bl.h6,La.Q_,Zl.P,ar.XE,Vu.m,wp.i,ih.c,Sp.t,Il.c,Dl.E,ju.w,Nc.f,Oc.l,Jl.N,Mc.N]})}}return l})();var Pc=d(8511),ql=d(520),I0=d(4811);class D0 extends ar.xq{constructor(y,r,c,m,D="assets/locales.json"){super(y,r,c),this.http=m,this.path=D}load(y){return new Promise(r=>{this.http.get(`${this.path}`).subscribe(c=>{this.locales=c.locales,this.prefix=c.prefix||"",this.escapePrefix=c.escapePrefix||"",this.init(y).then(r)})})}}var sh=d(6599),Ep=d(8251);let R0=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({providers:[Bu,Qf,vi.i,pa.X,Ja.P,qd,S0,mp.I],imports:[Bn.MD,p.YN,p.X1,La.Q_,Ln.h,Uu.Y,jn.iI,Ql.A,nh.p,ar.XE,Vu.m,Ep.h,wp.i,Il.c,ih.c,Dl.E,ju.w,Mc.N,sh.Y,rh.W,ql.W]})}}return l})();var A0=d(6807),M0=d(9475);let x0=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[Ln.h,M0.F,jn.iI,Vu.m,sh.Y]})}}return l})();var k0=d(967),oh=d(9686);let Rl=(()=>{class l{intercept(r,c){if(r.url.startsWith("https://"))return c.handle(r);const m=(0,vn.$_)(),D=r.clone({url:`${m}${r.url}`});return c.handle(D)}static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();class oC{constructor(y,r="/assets/i18n/",c=".json"){this.http=y,this.prefix=r,this.suffix=c}getTranslation(y){return this.http.get(`${this.prefix}${y}${this.suffix}`)}}var N0=d(5060),Tp=d(8810);let Al=(()=>{class l{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return l})(),Ip=(()=>{class l{constructor(r,c,m,D){this.router=r,this.localizeRouterService=c,this.appComponentViewService=m,this.securityService=D}intercept(r,c){return c.handle(r).pipe((0,Xf.W)(m=>{if(m.status===Al.ExpiredTokenRedirect)return this.securityService.startLogin(),N0.t;if(m.status===Al.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const D=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([D],{state:{enforcer:!0}}),N0.t}return(0,Tp.$)(()=>m)}))}static{this.\u0275fac=function(c){return new(c||l)(e.KVO(jn.Ix),e.KVO(ar.QG),e.KVO($i.X),e.KVO(vi.i))}}static{this.\u0275prov=e.jDH({token:l,factory:l.\u0275fac})}}return l})();var aC=d(3488),Dp=d(5928),BS=d(854),LS=d(7767),lC=d(9624),cC=d(8853),O0=d(2633);function uC(l,y,r,c){return new D0(l,y,r,c,"resources/locales.json?cb="+zt)}function Ro(l){return new oC(l,"./resources/",".json?cb="+zt)}let F0=(()=>{class l{static{this.\u0275fac=function(c){return new(c||l)}}static{this.\u0275mod=e.$C({type:l,bootstrap:[eS]})}static{this.\u0275inj=e.G2t({providers:[aC.F,Ic.n,Fi.D,vi.i,io.h,uo._,Cp.q,cC.a,O0.g,Ja.P,ku.m,pa.X,Wt.Vk,I0.M,Du.v,Hf.R,BS.q,El.A,ea.x,ar.QG,wo.M,Ss,Ln.c$,so.X,po.w,A0.B,no.I,oh.D,Lu,LS.g,{provide:S.a7,useClass:Rl,multi:!0},{provide:S.a7,useClass:Ip,multi:!0}],imports:[T0,Bn.MD,p.YN,p.X1,jt,S.q1,Uu.Y,Tl.UsersModule,xc,Pc.ClientModule,Dp.DynamicAuthModule,lC.StarterModeModule,Fc,nh.p,Zl.P,Ln.h.forRoot({loader:{provide:Ln.Wr,useFactory:Ro,deps:[S.Qq]}}),ar.XE.forRoot(E0,{parser:{provide:ar.xq,useFactory:uC,deps:[Ln.c$,Bn.aZ,ar.wY,S.Qq]}}),La.Q_.forRoot(),Ya.jr.forRoot(),Ed.Ss.forRoot(),bl.h6.forRoot(),ql.W,Hi._B.forRoot(),R0,x0,k0.M,$y,Il.c,Ep.h,Mc.N,ju.w,sh.Y,Ba,ar.XE]})}}return l})();(0,e.SmG)(),t.sG().bootstrapModule(F0)},3981:(nt,ye)=>{"use strict";ye.byteLength=function g(a){var k=w(a),P=k[1];return 3*(k[0]+P)/4-P},ye.toByteArray=function E(a){var k,z,O=w(a),P=O[0],W=O[1],N=new e(function h(a,k,O){return 3*(k+O)/4-O}(0,P,W)),H=0,G=W>0?P-4:P;for(z=0;z<G;z+=4)k=t[a.charCodeAt(z)]<<18|t[a.charCodeAt(z+1)]<<12|t[a.charCodeAt(z+2)]<<6|t[a.charCodeAt(z+3)],N[H++]=k>>16&255,N[H++]=k>>8&255,N[H++]=255&k;return 2===W&&(k=t[a.charCodeAt(z)]<<2|t[a.charCodeAt(z+1)]>>4,N[H++]=255&k),1===W&&(k=t[a.charCodeAt(z)]<<10|t[a.charCodeAt(z+1)]<<4|t[a.charCodeAt(z+2)]>>2,N[H++]=k>>8&255,N[H++]=255&k),N},ye.fromByteArray=function U(a){for(var k,O=a.length,P=O%3,W=[],N=16383,H=0,G=O-P;H<G;H+=N)W.push(B(a,H,H+N>G?G:H+N));return 1===P?W.push(d[(k=a[O-1])>>2]+d[k<<4&63]+"=="):2===P&&W.push(d[(k=(a[O-2]<<8)+a[O-1])>>10]+d[k>>4&63]+d[k<<2&63]+"="),W.join("")};for(var d=[],t=[],e=typeof Uint8Array<"u"?Uint8Array:Array,p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",S=0;S<64;++S)d[S]=p[S],t[p.charCodeAt(S)]=S;function w(a){var k=a.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=a.indexOf("=");return-1===O&&(O=k),[O,O===k?0:4-O%4]}function v(a){return d[a>>18&63]+d[a>>12&63]+d[a>>6&63]+d[63&a]}function B(a,k,O){for(var W=[],N=k;N<O;N+=3)W.push(v((a[N]<<16&16711680)+(a[N+1]<<8&65280)+(255&a[N+2])));return W.join("")}t[45]=62,t[95]=63},3838:(nt,ye,d)=>{"use strict";const e=d(3981),p=d(2020),S="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;ye.hp=h,ye.IS=50;const C=2147483647;function g(le){if(le>C)throw new RangeError('The value "'+le+'" is invalid for option "size"');const j=new Uint8Array(le);return Object.setPrototypeOf(j,h.prototype),j}function h(le,j,ae){if("number"==typeof le){if("string"==typeof j)throw new TypeError('The "string" argument must be of type string. Received type number');return U(le)}return E(le,j,ae)}function E(le,j,ae){if("string"==typeof le)return function a(le,j){if(("string"!=typeof j||""===j)&&(j="utf8"),!h.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const ae=0|G(le,j);let Ge=g(ae);const tt=Ge.write(le,j);return tt!==ae&&(Ge=Ge.slice(0,tt)),Ge}(le,j);if(ArrayBuffer.isView(le))return function O(le){if(Pt(le,Uint8Array)){const j=new Uint8Array(le);return P(j.buffer,j.byteOffset,j.byteLength)}return k(le)}(le);if(null==le)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le);if(Pt(le,ArrayBuffer)||le&&Pt(le.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Pt(le,SharedArrayBuffer)||le&&Pt(le.buffer,SharedArrayBuffer)))return P(le,j,ae);if("number"==typeof le)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ge=le.valueOf&&le.valueOf();if(null!=Ge&&Ge!==le)return h.from(Ge,j,ae);const tt=function W(le){if(h.isBuffer(le)){const j=0|N(le.length),ae=g(j);return 0===ae.length||le.copy(ae,0,0,j),ae}return void 0!==le.length?"number"!=typeof le.length||tn(le.length)?g(0):k(le):"Buffer"===le.type&&Array.isArray(le.data)?k(le.data):void 0}(le);if(tt)return tt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof le[Symbol.toPrimitive])return h.from(le[Symbol.toPrimitive]("string"),j,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof le)}function v(le){if("number"!=typeof le)throw new TypeError('"size" argument must be of type number');if(le<0)throw new RangeError('The value "'+le+'" is invalid for option "size"')}function U(le){return v(le),g(le<0?0:0|N(le))}function k(le){const j=le.length<0?0:0|N(le.length),ae=g(j);for(let Ge=0;Ge<j;Ge+=1)ae[Ge]=255&le[Ge];return ae}function P(le,j,ae){if(j<0||le.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(le.byteLength<j+(ae||0))throw new RangeError('"length" is outside of buffer bounds');let Ge;return Ge=void 0===j&&void 0===ae?new Uint8Array(le):void 0===ae?new Uint8Array(le,j):new Uint8Array(le,j,ae),Object.setPrototypeOf(Ge,h.prototype),Ge}function N(le){if(le>=C)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+C.toString(16)+" bytes");return 0|le}function G(le,j){if(h.isBuffer(le))return le.length;if(ArrayBuffer.isView(le)||Pt(le,ArrayBuffer))return le.byteLength;if("string"!=typeof le)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof le);const ae=le.length,Ge=arguments.length>2&&!0===arguments[2];if(!Ge&&0===ae)return 0;let tt=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return o(le).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ae;case"hex":return ae>>>1;case"base64":return _t(le).length;default:if(tt)return Ge?-1:o(le).length;j=(""+j).toLowerCase(),tt=!0}}function z(le,j,ae){let Ge=!1;if((void 0===j||j<0)&&(j=0),j>this.length||((void 0===ae||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0)<=(j>>>=0))return"";for(le||(le="utf8");;)switch(le){case"hex":return Te(this,j,ae);case"utf8":case"utf-8":return Oe(this,j,ae);case"ascii":return qe(this,j,ae);case"latin1":case"binary":return Me(this,j,ae);case"base64":return he(this,j,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ge(this,j,ae);default:if(Ge)throw new TypeError("Unknown encoding: "+le);le=(le+"").toLowerCase(),Ge=!0}}function ce(le,j,ae){const Ge=le[j];le[j]=le[ae],le[ae]=Ge}function de(le,j,ae,Ge,tt){if(0===le.length)return-1;if("string"==typeof ae?(Ge=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),tn(ae=+ae)&&(ae=tt?0:le.length-1),ae<0&&(ae=le.length+ae),ae>=le.length){if(tt)return-1;ae=le.length-1}else if(ae<0){if(!tt)return-1;ae=0}if("string"==typeof j&&(j=h.from(j,Ge)),h.isBuffer(j))return 0===j.length?-1:Y(le,j,ae,Ge,tt);if("number"==typeof j)return j&=255,"function"==typeof Uint8Array.prototype.indexOf?tt?Uint8Array.prototype.indexOf.call(le,j,ae):Uint8Array.prototype.lastIndexOf.call(le,j,ae):Y(le,[j],ae,Ge,tt);throw new TypeError("val must be string, number or Buffer")}function Y(le,j,ae,Ge,tt){let Pn,vt=1,Bt=le.length,ln=j.length;if(void 0!==Ge&&("ucs2"===(Ge=String(Ge).toLowerCase())||"ucs-2"===Ge||"utf16le"===Ge||"utf-16le"===Ge)){if(le.length<2||j.length<2)return-1;vt=2,Bt/=2,ln/=2,ae/=2}function sn($n,Vn){return 1===vt?$n[Vn]:$n.readUInt16BE(Vn*vt)}if(tt){let $n=-1;for(Pn=ae;Pn<Bt;Pn++)if(sn(le,Pn)===sn(j,-1===$n?0:Pn-$n)){if(-1===$n&&($n=Pn),Pn-$n+1===ln)return $n*vt}else-1!==$n&&(Pn-=Pn-$n),$n=-1}else for(ae+ln>Bt&&(ae=Bt-ln),Pn=ae;Pn>=0;Pn--){let $n=!0;for(let Vn=0;Vn<ln;Vn++)if(sn(le,Pn+Vn)!==sn(j,Vn)){$n=!1;break}if($n)return Pn}return-1}function Z(le,j,ae,Ge){ae=Number(ae)||0;const tt=le.length-ae;Ge?(Ge=Number(Ge))>tt&&(Ge=tt):Ge=tt;const vt=j.length;let Bt;for(Ge>vt/2&&(Ge=vt/2),Bt=0;Bt<Ge;++Bt){const ln=parseInt(j.substr(2*Bt,2),16);if(tn(ln))return Bt;le[ae+Bt]=ln}return Bt}function ne(le,j,ae,Ge){return lt(o(j,le.length-ae),le,ae,Ge)}function I(le,j,ae,Ge){return lt(function ft(le){const j=[];for(let ae=0;ae<le.length;++ae)j.push(255&le.charCodeAt(ae));return j}(j),le,ae,Ge)}function pe(le,j,ae,Ge){return lt(_t(j),le,ae,Ge)}function K(le,j,ae,Ge){return lt(function Ft(le,j){let ae,Ge,tt;const vt=[];for(let Bt=0;Bt<le.length&&!((j-=2)<0);++Bt)ae=le.charCodeAt(Bt),Ge=ae>>8,tt=ae%256,vt.push(tt),vt.push(Ge);return vt}(j,le.length-ae),le,ae,Ge)}function he(le,j,ae){return e.fromByteArray(0===j&&ae===le.length?le:le.slice(j,ae))}function Oe(le,j,ae){ae=Math.min(le.length,ae);const Ge=[];let tt=j;for(;tt<ae;){const vt=le[tt];let Bt=null,ln=vt>239?4:vt>223?3:vt>191?2:1;if(tt+ln<=ae){let sn,Pn,$n,Vn;switch(ln){case 1:vt<128&&(Bt=vt);break;case 2:sn=le[tt+1],128==(192&sn)&&(Vn=(31&vt)<<6|63&sn,Vn>127&&(Bt=Vn));break;case 3:sn=le[tt+1],Pn=le[tt+2],128==(192&sn)&&128==(192&Pn)&&(Vn=(15&vt)<<12|(63&sn)<<6|63&Pn,Vn>2047&&(Vn<55296||Vn>57343)&&(Bt=Vn));break;case 4:sn=le[tt+1],Pn=le[tt+2],$n=le[tt+3],128==(192&sn)&&128==(192&Pn)&&128==(192&$n)&&(Vn=(15&vt)<<18|(63&sn)<<12|(63&Pn)<<6|63&$n,Vn>65535&&Vn<1114112&&(Bt=Vn))}}null===Bt?(Bt=65533,ln=1):Bt>65535&&(Bt-=65536,Ge.push(Bt>>>10&1023|55296),Bt=56320|1023&Bt),Ge.push(Bt),tt+=ln}return function Fe(le){const j=le.length;if(j<=Ae)return String.fromCharCode.apply(String,le);let ae="",Ge=0;for(;Ge<j;)ae+=String.fromCharCode.apply(String,le.slice(Ge,Ge+=Ae));return ae}(Ge)}!(h.TYPED_ARRAY_SUPPORT=function w(){try{const le=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(le,j),42===le.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(le,j,ae){return E(le,j,ae)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(le,j,ae){return function B(le,j,ae){return v(le),le<=0?g(le):void 0!==j?"string"==typeof ae?g(le).fill(j,ae):g(le).fill(j):g(le)}(le,j,ae)},h.allocUnsafe=function(le){return U(le)},h.allocUnsafeSlow=function(le){return U(le)},h.isBuffer=function(j){return null!=j&&!0===j._isBuffer&&j!==h.prototype},h.compare=function(j,ae){if(Pt(j,Uint8Array)&&(j=h.from(j,j.offset,j.byteLength)),Pt(ae,Uint8Array)&&(ae=h.from(ae,ae.offset,ae.byteLength)),!h.isBuffer(j)||!h.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===ae)return 0;let Ge=j.length,tt=ae.length;for(let vt=0,Bt=Math.min(Ge,tt);vt<Bt;++vt)if(j[vt]!==ae[vt]){Ge=j[vt],tt=ae[vt];break}return Ge<tt?-1:tt<Ge?1:0},h.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(j,ae){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(0===j.length)return h.alloc(0);let Ge;if(void 0===ae)for(ae=0,Ge=0;Ge<j.length;++Ge)ae+=j[Ge].length;const tt=h.allocUnsafe(ae);let vt=0;for(Ge=0;Ge<j.length;++Ge){let Bt=j[Ge];if(Pt(Bt,Uint8Array))vt+Bt.length>tt.length?(h.isBuffer(Bt)||(Bt=h.from(Bt)),Bt.copy(tt,vt)):Uint8Array.prototype.set.call(tt,Bt,vt);else{if(!h.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(tt,vt)}vt+=Bt.length}return tt},h.byteLength=G,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ae=0;ae<j;ae+=2)ce(this,ae,ae+1);return this},h.prototype.swap32=function(){const j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ae=0;ae<j;ae+=4)ce(this,ae,ae+3),ce(this,ae+1,ae+2);return this},h.prototype.swap64=function(){const j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ae=0;ae<j;ae+=8)ce(this,ae,ae+7),ce(this,ae+1,ae+6),ce(this,ae+2,ae+5),ce(this,ae+3,ae+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){const j=this.length;return 0===j?"":0===arguments.length?Oe(this,0,j):z.apply(this,arguments)},h.prototype.equals=function(j){if(!h.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||0===h.compare(this,j)},h.prototype.inspect=function(){let j="";const ae=ye.IS;return j=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(j+=" ... "),"<Buffer "+j+">"},S&&(h.prototype[S]=h.prototype.inspect),h.prototype.compare=function(j,ae,Ge,tt,vt){if(Pt(j,Uint8Array)&&(j=h.from(j,j.offset,j.byteLength)),!h.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(void 0===ae&&(ae=0),void 0===Ge&&(Ge=j?j.length:0),void 0===tt&&(tt=0),void 0===vt&&(vt=this.length),ae<0||Ge>j.length||tt<0||vt>this.length)throw new RangeError("out of range index");if(tt>=vt&&ae>=Ge)return 0;if(tt>=vt)return-1;if(ae>=Ge)return 1;if(this===j)return 0;let Bt=(vt>>>=0)-(tt>>>=0),ln=(Ge>>>=0)-(ae>>>=0);const sn=Math.min(Bt,ln),Pn=this.slice(tt,vt),$n=j.slice(ae,Ge);for(let Vn=0;Vn<sn;++Vn)if(Pn[Vn]!==$n[Vn]){Bt=Pn[Vn],ln=$n[Vn];break}return Bt<ln?-1:ln<Bt?1:0},h.prototype.includes=function(j,ae,Ge){return-1!==this.indexOf(j,ae,Ge)},h.prototype.indexOf=function(j,ae,Ge){return de(this,j,ae,Ge,!0)},h.prototype.lastIndexOf=function(j,ae,Ge){return de(this,j,ae,Ge,!1)},h.prototype.write=function(j,ae,Ge,tt){if(void 0===ae)tt="utf8",Ge=this.length,ae=0;else if(void 0===Ge&&"string"==typeof ae)tt=ae,Ge=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae>>>=0,isFinite(Ge)?(Ge>>>=0,void 0===tt&&(tt="utf8")):(tt=Ge,Ge=void 0)}const vt=this.length-ae;if((void 0===Ge||Ge>vt)&&(Ge=vt),j.length>0&&(Ge<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");tt||(tt="utf8");let Bt=!1;for(;;)switch(tt){case"hex":return Z(this,j,ae,Ge);case"utf8":case"utf-8":return ne(this,j,ae,Ge);case"ascii":case"latin1":case"binary":return I(this,j,ae,Ge);case"base64":return pe(this,j,ae,Ge);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,j,ae,Ge);default:if(Bt)throw new TypeError("Unknown encoding: "+tt);tt=(""+tt).toLowerCase(),Bt=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Ae=4096;function qe(le,j,ae){let Ge="";ae=Math.min(le.length,ae);for(let tt=j;tt<ae;++tt)Ge+=String.fromCharCode(127&le[tt]);return Ge}function Me(le,j,ae){let Ge="";ae=Math.min(le.length,ae);for(let tt=j;tt<ae;++tt)Ge+=String.fromCharCode(le[tt]);return Ge}function Te(le,j,ae){const Ge=le.length;(!j||j<0)&&(j=0),(!ae||ae<0||ae>Ge)&&(ae=Ge);let tt="";for(let vt=j;vt<ae;++vt)tt+=ct[le[vt]];return tt}function ge(le,j,ae){const Ge=le.slice(j,ae);let tt="";for(let vt=0;vt<Ge.length-1;vt+=2)tt+=String.fromCharCode(Ge[vt]+256*Ge[vt+1]);return tt}function $e(le,j,ae){if(le%1!=0||le<0)throw new RangeError("offset is not uint");if(le+j>ae)throw new RangeError("Trying to access beyond buffer length")}function xe(le,j,ae,Ge,tt,vt){if(!h.isBuffer(le))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>tt||j<vt)throw new RangeError('"value" argument is out of bounds');if(ae+Ge>le.length)throw new RangeError("Index out of range")}function pt(le,j,ae,Ge,tt){Q(j,Ge,tt,le,ae,7);let vt=Number(j&BigInt(4294967295));le[ae++]=vt,vt>>=8,le[ae++]=vt,vt>>=8,le[ae++]=vt,vt>>=8,le[ae++]=vt;let Bt=Number(j>>BigInt(32)&BigInt(4294967295));return le[ae++]=Bt,Bt>>=8,le[ae++]=Bt,Bt>>=8,le[ae++]=Bt,Bt>>=8,le[ae++]=Bt,ae}function Le(le,j,ae,Ge,tt){Q(j,Ge,tt,le,ae,7);let vt=Number(j&BigInt(4294967295));le[ae+7]=vt,vt>>=8,le[ae+6]=vt,vt>>=8,le[ae+5]=vt,vt>>=8,le[ae+4]=vt;let Bt=Number(j>>BigInt(32)&BigInt(4294967295));return le[ae+3]=Bt,Bt>>=8,le[ae+2]=Bt,Bt>>=8,le[ae+1]=Bt,Bt>>=8,le[ae]=Bt,ae+8}function Ct(le,j,ae,Ge,tt,vt){if(ae+Ge>le.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function ut(le,j,ae,Ge,tt){return j=+j,ae>>>=0,tt||Ct(le,0,ae,4),p.write(le,j,ae,Ge,23,4),ae+4}function hn(le,j,ae,Ge,tt){return j=+j,ae>>>=0,tt||Ct(le,0,ae,8),p.write(le,j,ae,Ge,52,8),ae+8}h.prototype.slice=function(j,ae){const Ge=this.length;(j=~~j)<0?(j+=Ge)<0&&(j=0):j>Ge&&(j=Ge),(ae=void 0===ae?Ge:~~ae)<0?(ae+=Ge)<0&&(ae=0):ae>Ge&&(ae=Ge),ae<j&&(ae=j);const tt=this.subarray(j,ae);return Object.setPrototypeOf(tt,h.prototype),tt},h.prototype.readUintLE=h.prototype.readUIntLE=function(j,ae,Ge){j>>>=0,ae>>>=0,Ge||$e(j,ae,this.length);let tt=this[j],vt=1,Bt=0;for(;++Bt<ae&&(vt*=256);)tt+=this[j+Bt]*vt;return tt},h.prototype.readUintBE=h.prototype.readUIntBE=function(j,ae,Ge){j>>>=0,ae>>>=0,Ge||$e(j,ae,this.length);let tt=this[j+--ae],vt=1;for(;ae>0&&(vt*=256);)tt+=this[j+--ae]*vt;return tt},h.prototype.readUint8=h.prototype.readUInt8=function(j,ae){return j>>>=0,ae||$e(j,1,this.length),this[j]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(j,ae){return j>>>=0,ae||$e(j,2,this.length),this[j]|this[j+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(j,ae){return j>>>=0,ae||$e(j,2,this.length),this[j]<<8|this[j+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},h.prototype.readBigUInt64LE=Lt(function(j){te(j>>>=0,"offset");const ae=this[j],Ge=this[j+7];(void 0===ae||void 0===Ge)&&De(j,this.length-8);const tt=ae+256*this[++j]+65536*this[++j]+this[++j]*2**24,vt=this[++j]+256*this[++j]+65536*this[++j]+Ge*2**24;return BigInt(tt)+(BigInt(vt)<<BigInt(32))}),h.prototype.readBigUInt64BE=Lt(function(j){te(j>>>=0,"offset");const ae=this[j],Ge=this[j+7];(void 0===ae||void 0===Ge)&&De(j,this.length-8);const tt=ae*2**24+65536*this[++j]+256*this[++j]+this[++j],vt=this[++j]*2**24+65536*this[++j]+256*this[++j]+Ge;return(BigInt(tt)<<BigInt(32))+BigInt(vt)}),h.prototype.readIntLE=function(j,ae,Ge){j>>>=0,ae>>>=0,Ge||$e(j,ae,this.length);let tt=this[j],vt=1,Bt=0;for(;++Bt<ae&&(vt*=256);)tt+=this[j+Bt]*vt;return vt*=128,tt>=vt&&(tt-=Math.pow(2,8*ae)),tt},h.prototype.readIntBE=function(j,ae,Ge){j>>>=0,ae>>>=0,Ge||$e(j,ae,this.length);let tt=ae,vt=1,Bt=this[j+--tt];for(;tt>0&&(vt*=256);)Bt+=this[j+--tt]*vt;return vt*=128,Bt>=vt&&(Bt-=Math.pow(2,8*ae)),Bt},h.prototype.readInt8=function(j,ae){return j>>>=0,ae||$e(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},h.prototype.readInt16LE=function(j,ae){j>>>=0,ae||$e(j,2,this.length);const Ge=this[j]|this[j+1]<<8;return 32768&Ge?4294901760|Ge:Ge},h.prototype.readInt16BE=function(j,ae){j>>>=0,ae||$e(j,2,this.length);const Ge=this[j+1]|this[j]<<8;return 32768&Ge?4294901760|Ge:Ge},h.prototype.readInt32LE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},h.prototype.readInt32BE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},h.prototype.readBigInt64LE=Lt(function(j){te(j>>>=0,"offset");const ae=this[j],Ge=this[j+7];return(void 0===ae||void 0===Ge)&&De(j,this.length-8),(BigInt(this[j+4]+256*this[j+5]+65536*this[j+6]+(Ge<<24))<<BigInt(32))+BigInt(ae+256*this[++j]+65536*this[++j]+this[++j]*2**24)}),h.prototype.readBigInt64BE=Lt(function(j){te(j>>>=0,"offset");const ae=this[j],Ge=this[j+7];(void 0===ae||void 0===Ge)&&De(j,this.length-8);const tt=(ae<<24)+65536*this[++j]+256*this[++j]+this[++j];return(BigInt(tt)<<BigInt(32))+BigInt(this[++j]*2**24+65536*this[++j]+256*this[++j]+Ge)}),h.prototype.readFloatLE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),p.read(this,j,!0,23,4)},h.prototype.readFloatBE=function(j,ae){return j>>>=0,ae||$e(j,4,this.length),p.read(this,j,!1,23,4)},h.prototype.readDoubleLE=function(j,ae){return j>>>=0,ae||$e(j,8,this.length),p.read(this,j,!0,52,8)},h.prototype.readDoubleBE=function(j,ae){return j>>>=0,ae||$e(j,8,this.length),p.read(this,j,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(j,ae,Ge,tt){j=+j,ae>>>=0,Ge>>>=0,tt||xe(this,j,ae,Ge,Math.pow(2,8*Ge)-1,0);let vt=1,Bt=0;for(this[ae]=255&j;++Bt<Ge&&(vt*=256);)this[ae+Bt]=j/vt&255;return ae+Ge},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(j,ae,Ge,tt){j=+j,ae>>>=0,Ge>>>=0,tt||xe(this,j,ae,Ge,Math.pow(2,8*Ge)-1,0);let vt=Ge-1,Bt=1;for(this[ae+vt]=255&j;--vt>=0&&(Bt*=256);)this[ae+vt]=j/Bt&255;return ae+Ge},h.prototype.writeUint8=h.prototype.writeUInt8=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,1,255,0),this[ae]=255&j,ae+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,2,65535,0),this[ae]=255&j,this[ae+1]=j>>>8,ae+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,2,65535,0),this[ae]=j>>>8,this[ae+1]=255&j,ae+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,4,4294967295,0),this[ae+3]=j>>>24,this[ae+2]=j>>>16,this[ae+1]=j>>>8,this[ae]=255&j,ae+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,4,4294967295,0),this[ae]=j>>>24,this[ae+1]=j>>>16,this[ae+2]=j>>>8,this[ae+3]=255&j,ae+4},h.prototype.writeBigUInt64LE=Lt(function(j,ae=0){return pt(this,j,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Lt(function(j,ae=0){return Le(this,j,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(j,ae,Ge,tt){if(j=+j,ae>>>=0,!tt){const sn=Math.pow(2,8*Ge-1);xe(this,j,ae,Ge,sn-1,-sn)}let vt=0,Bt=1,ln=0;for(this[ae]=255&j;++vt<Ge&&(Bt*=256);)j<0&&0===ln&&0!==this[ae+vt-1]&&(ln=1),this[ae+vt]=(j/Bt|0)-ln&255;return ae+Ge},h.prototype.writeIntBE=function(j,ae,Ge,tt){if(j=+j,ae>>>=0,!tt){const sn=Math.pow(2,8*Ge-1);xe(this,j,ae,Ge,sn-1,-sn)}let vt=Ge-1,Bt=1,ln=0;for(this[ae+vt]=255&j;--vt>=0&&(Bt*=256);)j<0&&0===ln&&0!==this[ae+vt+1]&&(ln=1),this[ae+vt]=(j/Bt|0)-ln&255;return ae+Ge},h.prototype.writeInt8=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,1,127,-128),j<0&&(j=255+j+1),this[ae]=255&j,ae+1},h.prototype.writeInt16LE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,2,32767,-32768),this[ae]=255&j,this[ae+1]=j>>>8,ae+2},h.prototype.writeInt16BE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,2,32767,-32768),this[ae]=j>>>8,this[ae+1]=255&j,ae+2},h.prototype.writeInt32LE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,4,2147483647,-2147483648),this[ae]=255&j,this[ae+1]=j>>>8,this[ae+2]=j>>>16,this[ae+3]=j>>>24,ae+4},h.prototype.writeInt32BE=function(j,ae,Ge){return j=+j,ae>>>=0,Ge||xe(this,j,ae,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[ae]=j>>>24,this[ae+1]=j>>>16,this[ae+2]=j>>>8,this[ae+3]=255&j,ae+4},h.prototype.writeBigInt64LE=Lt(function(j,ae=0){return pt(this,j,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Lt(function(j,ae=0){return Le(this,j,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(j,ae,Ge){return ut(this,j,ae,!0,Ge)},h.prototype.writeFloatBE=function(j,ae,Ge){return ut(this,j,ae,!1,Ge)},h.prototype.writeDoubleLE=function(j,ae,Ge){return hn(this,j,ae,!0,Ge)},h.prototype.writeDoubleBE=function(j,ae,Ge){return hn(this,j,ae,!1,Ge)},h.prototype.copy=function(j,ae,Ge,tt){if(!h.isBuffer(j))throw new TypeError("argument should be a Buffer");if(Ge||(Ge=0),!tt&&0!==tt&&(tt=this.length),ae>=j.length&&(ae=j.length),ae||(ae=0),tt>0&&tt<Ge&&(tt=Ge),tt===Ge||0===j.length||0===this.length)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(Ge<0||Ge>=this.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("sourceEnd out of bounds");tt>this.length&&(tt=this.length),j.length-ae<tt-Ge&&(tt=j.length-ae+Ge);const vt=tt-Ge;return this===j&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(ae,Ge,tt):Uint8Array.prototype.set.call(j,this.subarray(Ge,tt),ae),vt},h.prototype.fill=function(j,ae,Ge,tt){if("string"==typeof j){if("string"==typeof ae?(tt=ae,ae=0,Ge=this.length):"string"==typeof Ge&&(tt=Ge,Ge=this.length),void 0!==tt&&"string"!=typeof tt)throw new TypeError("encoding must be a string");if("string"==typeof tt&&!h.isEncoding(tt))throw new TypeError("Unknown encoding: "+tt);if(1===j.length){const Bt=j.charCodeAt(0);("utf8"===tt&&Bt<128||"latin1"===tt)&&(j=Bt)}}else"number"==typeof j?j&=255:"boolean"==typeof j&&(j=Number(j));if(ae<0||this.length<ae||this.length<Ge)throw new RangeError("Out of range index");if(Ge<=ae)return this;let vt;if(ae>>>=0,Ge=void 0===Ge?this.length:Ge>>>0,j||(j=0),"number"==typeof j)for(vt=ae;vt<Ge;++vt)this[vt]=j;else{const Bt=h.isBuffer(j)?j:h.from(j,tt),ln=Bt.length;if(0===ln)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(vt=0;vt<Ge-ae;++vt)this[vt+ae]=Bt[vt%ln]}return this};const mn={};function Rt(le,j,ae){mn[le]=class extends ae{constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${le}]`,delete this.name}get code(){return le}set code(tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tt,writable:!0})}toString(){return`${this.name} [${le}]: ${this.message}`}}}function Dt(le){let j="",ae=le.length;const Ge="-"===le[0]?1:0;for(;ae>=Ge+4;ae-=3)j=`_${le.slice(ae-3,ae)}${j}`;return`${le.slice(0,ae)}${j}`}function Q(le,j,ae,Ge,tt,vt){if(le>ae||le<j){const Bt="bigint"==typeof j?"n":"";let ln;throw ln=vt>3?0===j||j===BigInt(0)?`>= 0${Bt} and < 2${Bt} ** ${8*(vt+1)}${Bt}`:`>= -(2${Bt} ** ${8*(vt+1)-1}${Bt}) and < 2 ** ${8*(vt+1)-1}${Bt}`:`>= ${j}${Bt} and <= ${ae}${Bt}`,new mn.ERR_OUT_OF_RANGE("value",ln,le)}!function q(le,j,ae){te(j,"offset"),(void 0===le[j]||void 0===le[j+ae])&&De(j,le.length-(ae+1))}(Ge,tt,vt)}function te(le,j){if("number"!=typeof le)throw new mn.ERR_INVALID_ARG_TYPE(j,"number",le)}function De(le,j,ae){throw Math.floor(le)!==le?(te(le,ae),new mn.ERR_OUT_OF_RANGE(ae||"offset","an integer",le)):j<0?new mn.ERR_BUFFER_OUT_OF_BOUNDS:new mn.ERR_OUT_OF_RANGE(ae||"offset",`>= ${ae?1:0} and <= ${j}`,le)}Rt("ERR_BUFFER_OUT_OF_BOUNDS",function(le){return le?`${le} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Rt("ERR_INVALID_ARG_TYPE",function(le,j){return`The "${le}" argument must be of type number. Received type ${typeof j}`},TypeError),Rt("ERR_OUT_OF_RANGE",function(le,j,ae){let Ge=`The value of "${le}" is out of range.`,tt=ae;return Number.isInteger(ae)&&Math.abs(ae)>2**32?tt=Dt(String(ae)):"bigint"==typeof ae&&(tt=String(ae),(ae>BigInt(2)**BigInt(32)||ae<-(BigInt(2)**BigInt(32)))&&(tt=Dt(tt)),tt+="n"),Ge+=` It must be ${j}. Received ${tt}`,Ge},RangeError);const Re=/[^+/0-9A-Za-z-_]/g;function o(le,j){let ae;j=j||1/0;const Ge=le.length;let tt=null;const vt=[];for(let Bt=0;Bt<Ge;++Bt){if(ae=le.charCodeAt(Bt),ae>55295&&ae<57344){if(!tt){if(ae>56319){(j-=3)>-1&&vt.push(239,191,189);continue}if(Bt+1===Ge){(j-=3)>-1&&vt.push(239,191,189);continue}tt=ae;continue}if(ae<56320){(j-=3)>-1&&vt.push(239,191,189),tt=ae;continue}ae=65536+(tt-55296<<10|ae-56320)}else tt&&(j-=3)>-1&&vt.push(239,191,189);if(tt=null,ae<128){if((j-=1)<0)break;vt.push(ae)}else if(ae<2048){if((j-=2)<0)break;vt.push(ae>>6|192,63&ae|128)}else if(ae<65536){if((j-=3)<0)break;vt.push(ae>>12|224,ae>>6&63|128,63&ae|128)}else{if(!(ae<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;vt.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,63&ae|128)}}return vt}function _t(le){return e.toByteArray(function at(le){if((le=(le=le.split("=")[0]).trim().replace(Re,"")).length<2)return"";for(;le.length%4!=0;)le+="=";return le}(le))}function lt(le,j,ae,Ge){let tt;for(tt=0;tt<Ge&&!(tt+ae>=j.length||tt>=le.length);++tt)j[tt+ae]=le[tt];return tt}function Pt(le,j){return le instanceof j||null!=le&&null!=le.constructor&&null!=le.constructor.name&&le.constructor.name===j.name}function tn(le){return le!=le}const ct=function(){const le="0123456789abcdef",j=new Array(256);for(let ae=0;ae<16;++ae){const Ge=16*ae;for(let tt=0;tt<16;++tt)j[Ge+tt]=le[ae]+le[tt]}return j}();function Lt(le){return typeof BigInt>"u"?Ce:le}function Ce(){throw new Error("BigInt not supported")}},2020:(nt,ye)=>{ye.read=function(d,t,e,p,S){var C,w,g=8*S-p-1,h=(1<<g)-1,E=h>>1,v=-7,B=e?S-1:0,U=e?-1:1,a=d[t+B];for(B+=U,C=a&(1<<-v)-1,a>>=-v,v+=g;v>0;C=256*C+d[t+B],B+=U,v-=8);for(w=C&(1<<-v)-1,C>>=-v,v+=p;v>0;w=256*w+d[t+B],B+=U,v-=8);if(0===C)C=1-E;else{if(C===h)return w?NaN:1/0*(a?-1:1);w+=Math.pow(2,p),C-=E}return(a?-1:1)*w*Math.pow(2,C-p)},ye.write=function(d,t,e,p,S,C){var w,g,h,E=8*C-S-1,v=(1<<E)-1,B=v>>1,U=23===S?Math.pow(2,-24)-Math.pow(2,-77):0,a=p?0:C-1,k=p?1:-1,O=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(g=isNaN(t)?1:0,w=v):(w=Math.floor(Math.log(t)/Math.LN2),t*(h=Math.pow(2,-w))<1&&(w--,h*=2),(t+=w+B>=1?U/h:U*Math.pow(2,1-B))*h>=2&&(w++,h/=2),w+B>=v?(g=0,w=v):w+B>=1?(g=(t*h-1)*Math.pow(2,S),w+=B):(g=t*Math.pow(2,B-1)*Math.pow(2,S),w=0));S>=8;d[e+a]=255&g,a+=k,g/=256,S-=8);for(w=w<<S|g,E+=S;E>0;d[e+a]=255&w,a+=k,w/=256,E-=8);d[e+a-k]|=128*O}},57:(nt,ye,d)=>{var t=d(6589);function e(k,O){t.cipher.registerAlgorithm(k,function(){return new t.aes.Algorithm(k,O)})}d(5855),d(8580),d(812),nt.exports=t.aes=t.aes||{},t.aes.startEncrypting=function(k,O,P,W){var N=a({key:k,output:P,decrypt:!1,mode:W});return N.start(O),N},t.aes.createEncryptionCipher=function(k,O){return a({key:k,output:null,decrypt:!1,mode:O})},t.aes.startDecrypting=function(k,O,P,W){var N=a({key:k,output:P,decrypt:!0,mode:W});return N.start(O),N},t.aes.createDecryptionCipher=function(k,O){return a({key:k,output:null,decrypt:!0,mode:O})},t.aes.Algorithm=function(k,O){p||v();var P=this;P.name=k,P.mode=new O({blockSize:16,cipher:{encrypt:function(W,N){return U(P._w,W,N,!1)},decrypt:function(W,N){return U(P._w,W,N,!0)}}}),P._init=!1},t.aes.Algorithm.prototype.initialize=function(k){if(!this._init){var P,O=k.key;if("string"!=typeof O||16!==O.length&&24!==O.length&&32!==O.length){if(t.util.isArray(O)&&(16===O.length||24===O.length||32===O.length)){P=O,O=t.util.createBuffer();for(var W=0;W<P.length;++W)O.putByte(P[W])}}else O=t.util.createBuffer(O);if(!t.util.isArray(O)){P=O,O=[];var N=P.length();if(16===N||24===N||32===N)for(N>>>=2,W=0;W<N;++W)O.push(P.getInt32())}if(!t.util.isArray(O)||4!==O.length&&6!==O.length&&8!==O.length)throw new Error("Invalid key parameter.");var G=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=B(O,k.decrypt&&!G),this._init=!0}},t.aes._expandKey=function(k,O){return p||v(),B(k,O)},t.aes._updateBlock=U,e("AES-ECB",t.cipher.modes.ecb),e("AES-CBC",t.cipher.modes.cbc),e("AES-CFB",t.cipher.modes.cfb),e("AES-OFB",t.cipher.modes.ofb),e("AES-CTR",t.cipher.modes.ctr),e("AES-GCM",t.cipher.modes.gcm);var C,w,g,h,E,p=!1,S=4;function v(){p=!0,g=[0,1,2,4,8,16,32,64,128,27,54];for(var k=new Array(256),O=0;O<128;++O)k[O]=O<<1,k[O+128]=O+128<<1^283;for(C=new Array(256),w=new Array(256),h=new Array(4),E=new Array(4),O=0;O<4;++O)h[O]=new Array(256),E[O]=new Array(256);var N,H,G,z,ce,de,Y,P=0,W=0;for(O=0;O<256;++O){C[P]=z=(z=W^W<<1^W<<2^W<<3^W<<4)>>8^255&z^99,w[z]=P,de=(ce=k[z])<<24^z<<16^z<<8^z^ce,Y=((N=k[P])^(H=k[N])^(G=k[H]))<<24^(P^G)<<16^(P^H^G)<<8^P^N^G;for(var Z=0;Z<4;++Z)h[Z][P]=de,E[Z][z]=Y,de=de<<24|de>>>8,Y=Y<<24|Y>>>8;0===P?P=W=1:(P=N^k[k[k[N^G]]],W^=k[k[W]])}}function B(k,O){for(var W,P=k.slice(0),N=1,H=P.length,z=S*(H+6+1),ce=H;ce<z;++ce)W=P[ce-1],ce%H==0?(W=C[W>>>16&255]<<24^C[W>>>8&255]<<16^C[255&W]<<8^C[W>>>24]^g[N]<<24,N++):H>6&&ce%H==4&&(W=C[W>>>24]<<24^C[W>>>16&255]<<16^C[W>>>8&255]<<8^C[255&W]),P[ce]=P[ce-H]^W;if(O){for(var de,Y=E[0],Z=E[1],ne=E[2],I=E[3],pe=P.slice(0),K=(ce=0,(z=P.length)-S);ce<z;ce+=S,K-=S)if(0===ce||ce===z-S)pe[ce]=P[K],pe[ce+1]=P[K+3],pe[ce+2]=P[K+2],pe[ce+3]=P[K+1];else for(var he=0;he<S;++he)pe[ce+(3&-he)]=Y[C[(de=P[K+he])>>>24]]^Z[C[de>>>16&255]]^ne[C[de>>>8&255]]^I[C[255&de]];P=pe}return P}function U(k,O,P,W){var H,G,z,ce,de,Y,Z,ne,I,pe,K,he,N=k.length/4-1;W?(H=E[0],G=E[1],z=E[2],ce=E[3],de=w):(H=h[0],G=h[1],z=h[2],ce=h[3],de=C),Y=O[0]^k[0],Z=O[W?3:1]^k[1],ne=O[2]^k[2],I=O[W?1:3]^k[3];for(var Oe=3,Ae=1;Ae<N;++Ae)pe=H[Y>>>24]^G[Z>>>16&255]^z[ne>>>8&255]^ce[255&I]^k[++Oe],K=H[Z>>>24]^G[ne>>>16&255]^z[I>>>8&255]^ce[255&Y]^k[++Oe],he=H[ne>>>24]^G[I>>>16&255]^z[Y>>>8&255]^ce[255&Z]^k[++Oe],I=H[I>>>24]^G[Y>>>16&255]^z[Z>>>8&255]^ce[255&ne]^k[++Oe],Y=pe,Z=K,ne=he;P[0]=de[Y>>>24]<<24^de[Z>>>16&255]<<16^de[ne>>>8&255]<<8^de[255&I]^k[++Oe],P[W?3:1]=de[Z>>>24]<<24^de[ne>>>16&255]<<16^de[I>>>8&255]<<8^de[255&Y]^k[++Oe],P[2]=de[ne>>>24]<<24^de[I>>>16&255]<<16^de[Y>>>8&255]<<8^de[255&Z]^k[++Oe],P[W?1:3]=de[I>>>24]<<24^de[Y>>>16&255]<<16^de[Z>>>8&255]<<8^de[255&ne]^k[++Oe]}function a(k){var W,P="AES-"+((k=k||{}).mode||"CBC").toUpperCase(),N=(W=k.decrypt?t.cipher.createDecipher(P,k.key):t.cipher.createCipher(P,k.key)).start;return W.start=function(H,G){var z=null;G instanceof t.util.ByteBuffer&&(z=G,G={}),(G=G||{}).output=z,G.iv=H,N.call(W,G)},W}},3707:(nt,ye,d)=>{var t=d(6589);d(57),d(9807);var e=nt.exports=t.tls;function p(E,v,B){var U=v.entity===t.tls.ConnectionEnd.client;E.read.cipherState={init:!1,cipher:t.cipher.createDecipher("AES-CBC",U?B.keys.server_write_key:B.keys.client_write_key),iv:U?B.keys.server_write_IV:B.keys.client_write_IV},E.write.cipherState={init:!1,cipher:t.cipher.createCipher("AES-CBC",U?B.keys.client_write_key:B.keys.server_write_key),iv:U?B.keys.client_write_IV:B.keys.server_write_IV},E.read.cipherFunction=g,E.write.cipherFunction=S,E.read.macLength=E.write.macLength=B.mac_length,E.read.macFunction=E.write.macFunction=e.hmac_sha1}function S(E,v){var a,B=!1,U=v.macFunction(v.macKey,v.sequenceNumber,E);E.fragment.putBytes(U),v.updateSequenceNumber(),a=E.version.minor===e.Versions.TLS_1_0.minor?v.cipherState.init?null:v.cipherState.iv:t.random.getBytesSync(16),v.cipherState.init=!0;var k=v.cipherState.cipher;return k.start({iv:a}),E.version.minor>=e.Versions.TLS_1_1.minor&&k.output.putBytes(a),k.update(E.fragment),k.finish(C)&&(E.fragment=k.output,E.length=E.fragment.length(),B=!0),B}function C(E,v,B){if(!B){var U=E-v.length()%E;v.fillWithByte(U-1,U)}return!0}function w(E,v,B){var U=!0;if(B){for(var a=v.length(),k=v.last(),O=a-1-k;O<a-1;++O)U=U&&v.at(O)==k;U&&v.truncate(k+1)}return U}function g(E,v){var U,B=!1;U=E.version.minor===e.Versions.TLS_1_0.minor?v.cipherState.init?null:v.cipherState.iv:E.fragment.getBytes(16),v.cipherState.init=!0;var a=v.cipherState.cipher;a.start({iv:U}),a.update(E.fragment),B=a.finish(w);var k=v.macLength,O=t.random.getBytesSync(k),P=a.output.length();P>=k?(E.fragment=a.output.getBytes(P-k),O=a.output.getBytes(k)):E.fragment=a.output.getBytes(),E.fragment=t.util.createBuffer(E.fragment),E.length=E.fragment.length();var W=v.macFunction(v.macKey,v.sequenceNumber,E);return v.updateSequenceNumber(),B=function h(E,v,B){var U=t.hmac.create();return U.start("SHA1",E),U.update(v),v=U.digest().getBytes(),U.start(null,null),U.update(B),v===(B=U.digest().getBytes())}(v.macKey,O,W)&&B,B}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=16,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:p},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(E){E.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,E.cipher_type=e.CipherType.block,E.enc_key_length=32,E.block_length=16,E.fixed_iv_length=16,E.record_iv_length=16,E.mac_algorithm=e.MACAlgorithm.hmac_sha1,E.mac_length=20,E.mac_key_length=20},initConnectionState:p}},2758:(nt,ye,d)=>{var t=d(6589);d(7097);var e=t.asn1;ye.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},ye.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(nt,ye,d)=>{var t=d(6589);d(812),d(1817);var e=nt.exports=t.asn1=t.asn1||{};function p(g,h,E){if(E>h){var v=new Error("Too few bytes to parse DER.");throw v.available=g.length(),v.remaining=h,v.requested=E,v}}function C(g,h,E,v){var B;p(g,h,2);var U=g.getByte();h--;var a=192&U,k=31&U;B=g.length();var O=function(g,h){var E=g.getByte();if(h--,128!==E){var v;if(128&E){var U=127&E;p(g,h,U),v=g.getInt(U<<3)}else v=E;if(v<0)throw new Error("Negative length: "+v);return v}}(g,h);if(h-=B-g.length(),void 0!==O&&O>h){if(v.strict){var P=new Error("Too few bytes to read ASN.1 value.");throw P.available=g.length(),P.remaining=h,P.requested=O,P}O=h}var W,N,H=!(32&~U);if(H)if(W=[],void 0===O)for(;;){if(p(g,h,2),"\0\0"===g.bytes(2)){g.getBytes(2),h-=2;break}B=g.length(),W.push(C(g,h,E+1,v)),h-=B-g.length()}else for(;O>0;)B=g.length(),W.push(C(g,O,E+1,v)),h-=B-g.length(),O-=B-g.length();if(void 0===W&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&(N=g.bytes(O)),void 0===W&&v.decodeBitStrings&&a===e.Class.UNIVERSAL&&k===e.Type.BITSTRING&&O>1){var G=g.read,z=h,ce=0;if(k===e.Type.BITSTRING&&(p(g,h,1),ce=g.getByte(),h--),0===ce)try{B=g.length();var Y=C(g,h,E+1,{strict:!0,decodeBitStrings:!0}),Z=B-g.length();h-=Z,k==e.Type.BITSTRING&&Z++;var ne=Y.tagClass;Z===O&&(ne===e.Class.UNIVERSAL||ne===e.Class.CONTEXT_SPECIFIC)&&(W=[Y])}catch{}void 0===W&&(g.read=G,h=z)}if(void 0===W){if(void 0===O){if(v.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");O=h}if(k===e.Type.BMPSTRING)for(W="";O>0;O-=2)p(g,h,2),W+=String.fromCharCode(g.getInt16()),h-=2;else W=g.getBytes(O),h-=O}return e.create(a,k,H,W,void 0===N?null:{bitStringContents:N})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(g,h,E,v,B){if(t.util.isArray(v)){for(var U=[],a=0;a<v.length;++a)void 0!==v[a]&&U.push(v[a]);v=U}var k={tagClass:g,type:h,constructed:E,composed:E||t.util.isArray(v),value:v};return B&&"bitStringContents"in B&&(k.bitStringContents=B.bitStringContents,k.original=e.copy(k)),k},e.copy=function(g,h){var E;if(t.util.isArray(g)){E=[];for(var v=0;v<g.length;++v)E.push(e.copy(g[v],h));return E}return"string"==typeof g?g:(E={tagClass:g.tagClass,type:g.type,constructed:g.constructed,composed:g.composed,value:e.copy(g.value,h)},h&&!h.excludeBitStringContents&&(E.bitStringContents=g.bitStringContents),E)},e.equals=function(g,h,E){if(t.util.isArray(g)){if(!t.util.isArray(h)||g.length!==h.length)return!1;for(var v=0;v<g.length;++v)if(!e.equals(g[v],h[v]))return!1;return!0}if(typeof g!=typeof h)return!1;if("string"==typeof g)return g===h;var B=g.tagClass===h.tagClass&&g.type===h.type&&g.constructed===h.constructed&&g.composed===h.composed&&e.equals(g.value,h.value);return E&&E.includeBitStringContents&&(B=B&&g.bitStringContents===h.bitStringContents),B},e.getBerValueLength=function(g){var h=g.getByte();if(128!==h)return 128&h?g.getInt((127&h)<<3):h},e.fromDer=function(g,h){void 0===h&&(h={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof h&&(h={strict:h,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in h||(h.strict=!0),"parseAllBytes"in h||(h.parseAllBytes=!0),"decodeBitStrings"in h||(h.decodeBitStrings=!0),"string"==typeof g&&(g=t.util.createBuffer(g));var E=g.length(),v=C(g,g.length(),0,h);if(h.parseAllBytes&&0!==g.length()){var B=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw B.byteCount=E,B.remaining=g.length(),B}return v},e.toDer=function(g){var h=t.util.createBuffer(),E=g.tagClass|g.type,v=t.util.createBuffer(),B=!1;if("bitStringContents"in g&&(B=!0,g.original&&(B=e.equals(g,g.original))),B)v.putBytes(g.bitStringContents);else if(g.composed){g.constructed?E|=32:v.putByte(0);for(var U=0;U<g.value.length;++U)void 0!==g.value[U]&&v.putBuffer(e.toDer(g.value[U]))}else if(g.type===e.Type.BMPSTRING)for(U=0;U<g.value.length;++U)v.putInt16(g.value.charCodeAt(U));else!(g.type===e.Type.INTEGER&&g.value.length>1)||(0!==g.value.charCodeAt(0)||128&g.value.charCodeAt(1))&&(255!==g.value.charCodeAt(0)||128&~g.value.charCodeAt(1))?v.putBytes(g.value):v.putBytes(g.value.substr(1));if(h.putByte(E),v.length()<=127)h.putByte(127&v.length());else{var a=v.length(),k="";do{k+=String.fromCharCode(255&a),a>>>=8}while(a>0);for(h.putByte(128|k.length),U=k.length-1;U>=0;--U)h.putByte(k.charCodeAt(U))}return h.putBuffer(v),h},e.oidToDer=function(g){var h=g.split("."),E=t.util.createBuffer();E.putByte(40*parseInt(h[0],10)+parseInt(h[1],10));for(var v,B,U,a,k=2;k<h.length;++k){v=!0,B=[],U=parseInt(h[k],10);do{a=127&U,U>>>=7,v||(a|=128),B.push(a),v=!1}while(U>0);for(var O=B.length-1;O>=0;--O)E.putByte(B[O])}return E},e.derToOid=function(g){var h;"string"==typeof g&&(g=t.util.createBuffer(g));var E=g.getByte();h=Math.floor(E/40)+"."+E%40;for(var v=0;g.length()>0;)v<<=7,128&(E=g.getByte())?v+=127&E:(h+="."+(v+E),v=0);return h},e.utcTimeToDate=function(g){var h=new Date,E=parseInt(g.substr(0,2),10);E=E>=50?1900+E:2e3+E;var v=parseInt(g.substr(2,2),10)-1,B=parseInt(g.substr(4,2),10),U=parseInt(g.substr(6,2),10),a=parseInt(g.substr(8,2),10),k=0;if(g.length>11){var O=g.charAt(10),P=10;"+"!==O&&"-"!==O&&(k=parseInt(g.substr(10,2),10),P+=2)}if(h.setUTCFullYear(E,v,B),h.setUTCHours(U,a,k,0),P&&("+"===(O=g.charAt(P))||"-"===O)){var H=60*parseInt(g.substr(P+1,2),10)+parseInt(g.substr(P+4,2),10);H*=6e4,h.setTime("+"===O?+h-H:+h+H)}return h},e.generalizedTimeToDate=function(g){var h=new Date,E=parseInt(g.substr(0,4),10),v=parseInt(g.substr(4,2),10)-1,B=parseInt(g.substr(6,2),10),U=parseInt(g.substr(8,2),10),a=parseInt(g.substr(10,2),10),k=parseInt(g.substr(12,2),10),O=0,P=0,W=!1;"Z"===g.charAt(g.length-1)&&(W=!0);var N=g.length-5,H=g.charAt(N);return"+"!==H&&"-"!==H||(P=60*parseInt(g.substr(N+1,2),10)+parseInt(g.substr(N+4,2),10),P*=6e4,"+"===H&&(P*=-1),W=!0),"."===g.charAt(14)&&(O=1e3*parseFloat(g.substr(14),10)),W?(h.setUTCFullYear(E,v,B),h.setUTCHours(U,a,k,O),h.setTime(+h+P)):(h.setFullYear(E,v,B),h.setHours(U,a,k,O)),h},e.dateToUtcTime=function(g){if("string"==typeof g)return g;var h="",E=[];E.push((""+g.getUTCFullYear()).substr(2)),E.push(""+(g.getUTCMonth()+1)),E.push(""+g.getUTCDate()),E.push(""+g.getUTCHours()),E.push(""+g.getUTCMinutes()),E.push(""+g.getUTCSeconds());for(var v=0;v<E.length;++v)E[v].length<2&&(h+="0"),h+=E[v];return h+"Z"},e.dateToGeneralizedTime=function(g){if("string"==typeof g)return g;var h="",E=[];E.push(""+g.getUTCFullYear()),E.push(""+(g.getUTCMonth()+1)),E.push(""+g.getUTCDate()),E.push(""+g.getUTCHours()),E.push(""+g.getUTCMinutes()),E.push(""+g.getUTCSeconds());for(var v=0;v<E.length;++v)E[v].length<2&&(h+="0"),h+=E[v];return h+"Z"},e.integerToDer=function(g){var h=t.util.createBuffer();if(g>=-128&&g<128)return h.putSignedInt(g,8);if(g>=-32768&&g<32768)return h.putSignedInt(g,16);if(g>=-8388608&&g<8388608)return h.putSignedInt(g,24);if(g>=-2147483648&&g<2147483648)return h.putSignedInt(g,32);var E=new Error("Integer too large; max is 32-bits.");throw E.integer=g,E},e.derToInteger=function(g){"string"==typeof g&&(g=t.util.createBuffer(g));var h=8*g.length();if(h>32)throw new Error("Integer too large; max is 32-bits.");return g.getSignedInt(h)},e.validate=function(g,h,E,v){var B=!1;if((g.tagClass===h.tagClass||typeof h.tagClass>"u")&&(g.type===h.type||typeof h.type>"u"))if(g.constructed===h.constructed||typeof h.constructed>"u"){if(B=!0,h.value&&t.util.isArray(h.value))for(var U=0,a=0;B&&a<h.value.length;++a)B=h.value[a].optional||!1,g.value[U]&&((B=e.validate(g.value[U],h.value[a],E,v))?++U:h.value[a].optional&&(B=!0)),!B&&v&&v.push("["+h.name+'] Tag class "'+h.tagClass+'", type "'+h.type+'" expected value length "'+h.value.length+'", got "'+g.value.length+'"');if(B&&E&&(h.capture&&(E[h.capture]=g.value),h.captureAsn1&&(E[h.captureAsn1]=g),h.captureBitStringContents&&"bitStringContents"in g&&(E[h.captureBitStringContents]=g.bitStringContents),h.captureBitStringValue&&"bitStringContents"in g))if(g.bitStringContents.length<2)E[h.captureBitStringValue]="";else{if(0!==g.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");E[h.captureBitStringValue]=g.bitStringContents.slice(1)}}else v&&v.push("["+h.name+'] Expected constructed "'+h.constructed+'", got "'+g.constructed+'"');else v&&(g.tagClass!==h.tagClass&&v.push("["+h.name+'] Expected tag class "'+h.tagClass+'", got "'+g.tagClass+'"'),g.type!==h.type&&v.push("["+h.name+'] Expected type "'+h.type+'", got "'+g.type+'"'));return B};var w=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(g,h,E){var v="";E=E||2,(h=h||0)>0&&(v+="\n");for(var B="",U=0;U<h*E;++U)B+=" ";switch(v+=B+"Tag: ",g.tagClass){case e.Class.UNIVERSAL:v+="Universal:";break;case e.Class.APPLICATION:v+="Application:";break;case e.Class.CONTEXT_SPECIFIC:v+="Context-Specific:";break;case e.Class.PRIVATE:v+="Private:"}if(g.tagClass===e.Class.UNIVERSAL)switch(v+=g.type,g.type){case e.Type.NONE:v+=" (None)";break;case e.Type.BOOLEAN:v+=" (Boolean)";break;case e.Type.INTEGER:v+=" (Integer)";break;case e.Type.BITSTRING:v+=" (Bit string)";break;case e.Type.OCTETSTRING:v+=" (Octet string)";break;case e.Type.NULL:v+=" (Null)";break;case e.Type.OID:v+=" (Object Identifier)";break;case e.Type.ODESC:v+=" (Object Descriptor)";break;case e.Type.EXTERNAL:v+=" (External or Instance of)";break;case e.Type.REAL:v+=" (Real)";break;case e.Type.ENUMERATED:v+=" (Enumerated)";break;case e.Type.EMBEDDED:v+=" (Embedded PDV)";break;case e.Type.UTF8:v+=" (UTF8)";break;case e.Type.ROID:v+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:v+=" (Sequence)";break;case e.Type.SET:v+=" (Set)";break;case e.Type.PRINTABLESTRING:v+=" (Printable String)";break;case e.Type.IA5String:v+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:v+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:v+=" (Generalized time)";break;case e.Type.BMPSTRING:v+=" (BMP String)"}else v+=g.type;if(v+="\n",v+=B+"Constructed: "+g.constructed+"\n",g.composed){var a=0,k="";for(U=0;U<g.value.length;++U)void 0!==g.value[U]&&(a+=1,k+=e.prettyPrint(g.value[U],h+1,E),U+1<g.value.length&&(k+=","));v+=B+"Sub values: "+a+k}else{if(v+=B+"Value: ",g.type===e.Type.OID){var O=e.derToOid(g.value);v+=O,t.pki&&t.pki.oids&&O in t.pki.oids&&(v+=" ("+t.pki.oids[O]+") ")}if(g.type===e.Type.INTEGER)try{v+=e.derToInteger(g.value)}catch{v+="0x"+t.util.bytesToHex(g.value)}else if(g.type===e.Type.BITSTRING){if(v+=g.value.length>1?"0x"+t.util.bytesToHex(g.value.slice(1)):"(none)",g.value.length>0){var P=g.value.charCodeAt(0);1==P?v+=" (1 unused bit shown)":P>1&&(v+=" ("+P+" unused bits shown)")}}else if(g.type===e.Type.OCTETSTRING)w.test(g.value)||(v+="("+g.value+") "),v+="0x"+t.util.bytesToHex(g.value);else if(g.type===e.Type.UTF8)try{v+=t.util.decodeUtf8(g.value)}catch(W){if("URI malformed"!==W.message)throw W;v+="0x"+t.util.bytesToHex(g.value)+" (malformed UTF8)"}else g.type===e.Type.PRINTABLESTRING||g.type===e.Type.IA5String?v+=g.value:w.test(g.value)?v+="0x"+t.util.bytesToHex(g.value):v+=0===g.value.length?"[null]":g.value}return v}},3175:nt=>{var ye={};nt.exports=ye;var d={};ye.encode=function(e,p,S){if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');if(void 0!==S&&"number"!=typeof S)throw new TypeError('"maxline" must be a number.');var C="";if(e instanceof Uint8Array){var w=0,g=p.length,h=p.charAt(0),E=[0];for(w=0;w<e.length;++w){for(var v=0,B=e[w];v<E.length;++v)E[v]=(B+=E[v]<<8)%g,B=B/g|0;for(;B>0;)E.push(B%g),B=B/g|0}for(w=0;0===e[w]&&w<e.length-1;++w)C+=h;for(w=E.length-1;w>=0;--w)C+=p[E[w]]}else C=function t(e,p){var S=0,C=p.length,w=p.charAt(0),g=[0];for(S=0;S<e.length();++S){for(var h=0,E=e.at(S);h<g.length;++h)g[h]=(E+=g[h]<<8)%C,E=E/C|0;for(;E>0;)g.push(E%C),E=E/C|0}var v="";for(S=0;0===e.at(S)&&S<e.length()-1;++S)v+=w;for(S=g.length-1;S>=0;--S)v+=p[g[S]];return v}(e,p);if(S){var U=new RegExp(".{1,"+S+"}","g");C=C.match(U).join("\r\n")}return C},ye.decode=function(e,p){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof p)throw new TypeError('"alphabet" must be a string.');var S=d[p];if(!S){S=d[p]=[];for(var C=0;C<p.length;++C)S[p.charCodeAt(C)]=C}e=e.replace(/\s/g,"");var w=p.length,g=p.charAt(0),h=[0];for(C=0;C<e.length;C++){var E=S[e.charCodeAt(C)];if(void 0===E)return;for(var v=0,B=E;v<h.length;++v)h[v]=255&(B+=h[v]*w),B>>=8;for(;B>0;)h.push(255&B),B>>=8}for(var U=0;e[U]===g&&U<e.length-1;++U)h.push(0);return typeof Buffer<"u"?Buffer.from(h.reverse()):new Uint8Array(h.reverse())}},5855:(nt,ye,d)=>{var t=d(6589);d(812),nt.exports=t.cipher=t.cipher||{},t.cipher.algorithms=t.cipher.algorithms||{},t.cipher.createCipher=function(p,S){var C=p;if("string"==typeof C&&(C=t.cipher.getAlgorithm(C))&&(C=C()),!C)throw new Error("Unsupported algorithm: "+p);return new t.cipher.BlockCipher({algorithm:C,key:S,decrypt:!1})},t.cipher.createDecipher=function(p,S){var C=p;if("string"==typeof C&&(C=t.cipher.getAlgorithm(C))&&(C=C()),!C)throw new Error("Unsupported algorithm: "+p);return new t.cipher.BlockCipher({algorithm:C,key:S,decrypt:!0})},t.cipher.registerAlgorithm=function(p,S){p=p.toUpperCase(),t.cipher.algorithms[p]=S},t.cipher.getAlgorithm=function(p){return(p=p.toUpperCase())in t.cipher.algorithms?t.cipher.algorithms[p]:null};var e=t.cipher.BlockCipher=function(p){this.algorithm=p.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=p.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=p.decrypt,this.algorithm.initialize(p)};e.prototype.start=function(p){p=p||{};var S={};for(var C in p)S[C]=p[C];S.decrypt=this._decrypt,this._finish=!1,this._input=t.util.createBuffer(),this.output=p.output||t.util.createBuffer(),this.mode.start(S)},e.prototype.update=function(p){for(p&&this._input.putBuffer(p);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(p){p&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(C){return p(this.blockSize,C,!1)},this.mode.unpad=function(C){return p(this.blockSize,C,!0)});var S={};return S.decrypt=this._decrypt,S.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,S)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,S))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,S))}},8580:(nt,ye,d)=>{var t=d(6589);d(812),t.cipher=t.cipher||{};var e=nt.exports=t.cipher.modes=t.cipher.modes||{};function p(w,g){if("string"==typeof w&&(w=t.util.createBuffer(w)),t.util.isArray(w)&&w.length>4){var h=w;w=t.util.createBuffer();for(var E=0;E<h.length;++E)w.putByte(h[E])}if(w.length()<g)throw new Error("Invalid IV length; got "+w.length()+" bytes and expected "+g+" bytes.");if(!t.util.isArray(w)){var v=[],B=g/4;for(E=0;E<B;++E)v.push(w.getInt32());w=v}return w}function S(w){w[w.length-1]=w[w.length-1]+1&4294967295}function C(w){return[w/4294967296|0,4294967295&w]}e.ecb=function(w){w=w||{},this.name="ECB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(w){},e.ecb.prototype.encrypt=function(w,g,h){if(w.length()<this.blockSize&&!(h&&w.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)g.putInt32(this._outBlock[E])},e.ecb.prototype.decrypt=function(w,g,h){if(w.length()<this.blockSize&&!(h&&w.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)g.putInt32(this._outBlock[E])},e.ecb.prototype.pad=function(w,g){var h=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(h,h),!0},e.ecb.prototype.unpad=function(w,g){if(g.overflow>0)return!1;var h=w.length(),E=w.at(h-1);return!(E>this.blockSize<<2||(w.truncate(E),0))},e.cbc=function(w){w=w||{},this.name="CBC",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(w){if(null===w.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(w,g,h){if(w.length()<this.blockSize&&!(h&&w.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=this._prev[E]^w.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)g.putInt32(this._outBlock[E]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(w,g,h){if(w.length()<this.blockSize&&!(h&&w.length()>0))return!0;for(var E=0;E<this._ints;++E)this._inBlock[E]=w.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),E=0;E<this._ints;++E)g.putInt32(this._prev[E]^this._outBlock[E]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(w,g){var h=w.length()===this.blockSize?this.blockSize:this.blockSize-w.length();return w.fillWithByte(h,h),!0},e.cbc.prototype.unpad=function(w,g){if(g.overflow>0)return!1;var h=w.length(),E=w.at(h-1);return!(E>this.blockSize<<2||(w.truncate(E),0))},e.cfb=function(w){w=w||{},this.name="CFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(w,g,h){var E=w.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var v=0;v<this._ints;++v)this._inBlock[v]=w.getInt32()^this._outBlock[v],g.putInt32(this._inBlock[v]);else{var B=(this.blockSize-E)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),v=0;v<this._ints;++v)this._partialBlock[v]=w.getInt32()^this._outBlock[v],this._partialOutput.putInt32(this._partialBlock[v]);if(B>0)w.read-=this.blockSize;else for(v=0;v<this._ints;++v)this._inBlock[v]=this._partialBlock[v];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!h)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(w,g,h){var E=w.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var v=0;v<this._ints;++v)this._inBlock[v]=w.getInt32(),g.putInt32(this._inBlock[v]^this._outBlock[v]);else{var B=(this.blockSize-E)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),v=0;v<this._ints;++v)this._partialBlock[v]=w.getInt32(),this._partialOutput.putInt32(this._partialBlock[v]^this._outBlock[v]);if(B>0)w.read-=this.blockSize;else for(v=0;v<this._ints;++v)this._inBlock[v]=this._partialBlock[v];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!h)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb=function(w){w=w||{},this.name="OFB",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(w,g,h){var E=w.length();if(0===w.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var v=0;v<this._ints;++v)g.putInt32(w.getInt32()^this._outBlock[v]),this._inBlock[v]=this._outBlock[v];else{var B=(this.blockSize-E)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),v=0;v<this._ints;++v)this._partialOutput.putInt32(w.getInt32()^this._outBlock[v]);if(B>0)w.read-=this.blockSize;else for(v=0;v<this._ints;++v)this._inBlock[v]=this._outBlock[v];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!h)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(w){w=w||{},this.name="CTR",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");this._iv=p(w.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(w,g,h){var E=w.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize)for(var v=0;v<this._ints;++v)g.putInt32(w.getInt32()^this._outBlock[v]);else{var B=(this.blockSize-E)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),v=0;v<this._ints;++v)this._partialOutput.putInt32(w.getInt32()^this._outBlock[v]);if(B>0&&(w.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!h)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}S(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(w){w=w||{},this.name="GCM",this.cipher=w.cipher,this.blockSize=w.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=t.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(w){if(!("iv"in w))throw new Error("Invalid IV parameter.");var h,g=t.util.createBuffer(w.iv);if(this._cipherLength=0,h="additionalData"in w?t.util.createBuffer(w.additionalData):t.util.createBuffer(),this._tagLength="tagLength"in w?w.tagLength:128,this._tag=null,w.decrypt&&(this._tag=t.util.createBuffer(w.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var E=g.length();if(12===E)this._j0=[g.getInt32(),g.getInt32(),g.getInt32(),1];else{for(this._j0=[0,0,0,0];g.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[g.getInt32(),g.getInt32(),g.getInt32(),g.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(C(8*E)))}this._inBlock=this._j0.slice(0),S(this._inBlock),this._partialBytes=0,h=t.util.createBuffer(h),this._aDataLength=C(8*h.length());var v=h.length()%this.blockSize;for(v&&h.fillWithByte(0,this.blockSize-v),this._s=[0,0,0,0];h.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[h.getInt32(),h.getInt32(),h.getInt32(),h.getInt32()])},e.gcm.prototype.encrypt=function(w,g,h){var E=w.length();if(0===E)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&E>=this.blockSize){for(var v=0;v<this._ints;++v)g.putInt32(this._outBlock[v]^=w.getInt32());this._cipherLength+=this.blockSize}else{var B=(this.blockSize-E)%this.blockSize;for(B>0&&(B=this.blockSize-B),this._partialOutput.clear(),v=0;v<this._ints;++v)this._partialOutput.putInt32(w.getInt32()^this._outBlock[v]);if(B<=0||h){if(h){var U=E%this.blockSize;this._cipherLength+=U,this._partialOutput.truncate(this.blockSize-U)}else this._cipherLength+=this.blockSize;for(v=0;v<this._ints;++v)this._outBlock[v]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),B>0&&!h)return w.read-=this.blockSize,g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(E-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),S(this._inBlock)},e.gcm.prototype.decrypt=function(w,g,h){var E=w.length();if(E<this.blockSize&&!(h&&E>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),S(this._inBlock),this._hashBlock[0]=w.getInt32(),this._hashBlock[1]=w.getInt32(),this._hashBlock[2]=w.getInt32(),this._hashBlock[3]=w.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var v=0;v<this._ints;++v)g.putInt32(this._outBlock[v]^this._hashBlock[v]);this._cipherLength+=E<this.blockSize?E%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(w,g){var h=!0;g.decrypt&&g.overflow&&w.truncate(this.blockSize-g.overflow),this.tag=t.util.createBuffer();var E=this._aDataLength.concat(C(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,E);var v=[];this.cipher.encrypt(this._j0,v);for(var B=0;B<this._ints;++B)this.tag.putInt32(this._s[B]^v[B]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),g.decrypt&&this.tag.bytes()!==this._tag&&(h=!1),h},e.gcm.prototype.multiply=function(w,g){for(var h=[0,0,0,0],E=g.slice(0),v=0;v<128;++v)w[v/32|0]&1<<31-v%32&&(h[0]^=E[0],h[1]^=E[1],h[2]^=E[2],h[3]^=E[3]),this.pow(E,E);return h},e.gcm.prototype.pow=function(w,g){for(var h=1&w[3],E=3;E>0;--E)g[E]=w[E]>>>1|(1&w[E-1])<<31;g[0]=w[0]>>>1,h&&(g[0]^=this._R)},e.gcm.prototype.tableMultiply=function(w){for(var g=[0,0,0,0],h=0;h<32;++h){var B=this._m[h][w[h/8|0]>>>4*(7-h%8)&15];g[0]^=B[0],g[1]^=B[1],g[2]^=B[2],g[3]^=B[3]}return g},e.gcm.prototype.ghash=function(w,g,h){return g[0]^=h[0],g[1]^=h[1],g[2]^=h[2],g[3]^=h[3],this.tableMultiply(g)},e.gcm.prototype.generateHashTable=function(w,g){for(var h=8/g,E=4*h,v=16*h,B=new Array(v),U=0;U<v;++U){var a=[0,0,0,0];a[U/E|0]=1<<g-1<<(E-1-U%E)*g,B[U]=this.generateSubHashTable(this.multiply(a,w),g)}return B},e.gcm.prototype.generateSubHashTable=function(w,g){var h=1<<g,E=h>>>1,v=new Array(h);v[E]=w.slice(0);for(var B=E>>>1;B>0;)this.pow(v[2*B],v[B]=[]),B>>=1;for(B=2;B<E;){for(var U=1;U<B;++U){var a=v[B],k=v[U];v[B+U]=[a[0]^k[0],a[1]^k[1],a[2]^k[2],a[3]^k[3]]}B*=2}for(v[0]=[0,0,0,0],B=E+1;B<h;++B){var O=v[B^E];v[B]=[w[0]^O[0],w[1]^O[1],w[2]^O[2],w[3]^O[3]]}return v}},3674:(nt,ye,d)=>{var t=d(6589);function e(k,O){t.cipher.registerAlgorithm(k,function(){return new t.des.Algorithm(k,O)})}d(5855),d(8580),d(812),nt.exports=t.des=t.des||{},t.des.startEncrypting=function(k,O,P,W){var N=a({key:k,output:P,decrypt:!1,mode:W||(null===O?"ECB":"CBC")});return N.start(O),N},t.des.createEncryptionCipher=function(k,O){return a({key:k,output:null,decrypt:!1,mode:O})},t.des.startDecrypting=function(k,O,P,W){var N=a({key:k,output:P,decrypt:!0,mode:W||(null===O?"ECB":"CBC")});return N.start(O),N},t.des.createDecryptionCipher=function(k,O){return a({key:k,output:null,decrypt:!0,mode:O})},t.des.Algorithm=function(k,O){var P=this;P.name=k,P.mode=new O({blockSize:8,cipher:{encrypt:function(W,N){return U(P._keys,W,N,!1)},decrypt:function(W,N){return U(P._keys,W,N,!0)}}}),P._init=!1},t.des.Algorithm.prototype.initialize=function(k){if(!this._init){var O=t.util.createBuffer(k.key);if(0===this.name.indexOf("3DES")&&24!==O.length())throw new Error("Invalid Triple-DES key size: "+8*O.length());this._keys=function B(k){for(var Fe,O=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],P=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],W=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],N=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],H=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],G=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],z=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ce=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],de=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],Y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],Z=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],ne=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],I=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],pe=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],K=k.length()>8?3:1,he=[],Oe=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Ae=0,qe=0;qe<K;qe++){var Me=k.getInt32(),Te=k.getInt32();Me^=(Fe=252645135&(Me>>>4^Te))<<4,Me^=Fe=65535&((Te^=Fe)>>>-16^Me),Me^=(Fe=858993459&(Me>>>2^(Te^=Fe<<-16)))<<2,Me^=Fe=65535&((Te^=Fe)>>>-16^Me),Me^=(Fe=1431655765&(Me>>>1^(Te^=Fe<<-16)))<<1,Me^=Fe=16711935&((Te^=Fe)>>>8^Me),Fe=(Me^=(Fe=1431655765&(Me>>>1^(Te^=Fe<<8)))<<1)<<8|(Te^=Fe)>>>20&240,Me=Te<<24|Te<<8&16711680|Te>>>8&65280|Te>>>24&240,Te=Fe;for(var ge=0;ge<Oe.length;++ge){Oe[ge]?(Me=Me<<2|Me>>>26,Te=Te<<2|Te>>>26):(Me=Me<<1|Me>>>27,Te=Te<<1|Te>>>27);var $e=O[(Me&=-15)>>>28]|P[Me>>>24&15]|W[Me>>>20&15]|N[Me>>>16&15]|H[Me>>>12&15]|G[Me>>>8&15]|z[Me>>>4&15],xe=ce[(Te&=-15)>>>28]|de[Te>>>24&15]|Y[Te>>>20&15]|Z[Te>>>16&15]|ne[Te>>>12&15]|I[Te>>>8&15]|pe[Te>>>4&15];he[Ae++]=$e^(Fe=65535&(xe>>>16^$e)),he[Ae++]=xe^Fe<<16}}return he}(O),this._init=!0}},e("DES-ECB",t.cipher.modes.ecb),e("DES-CBC",t.cipher.modes.cbc),e("DES-CFB",t.cipher.modes.cfb),e("DES-OFB",t.cipher.modes.ofb),e("DES-CTR",t.cipher.modes.ctr),e("3DES-ECB",t.cipher.modes.ecb),e("3DES-CBC",t.cipher.modes.cbc),e("3DES-CFB",t.cipher.modes.cfb),e("3DES-OFB",t.cipher.modes.ofb),e("3DES-CTR",t.cipher.modes.ctr);var p=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],S=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],C=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],w=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],g=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],E=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],v=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function U(k,O,P,W){var H,N=32===k.length?3:9;H=3===N?W?[30,-2,-2]:[0,32,2]:W?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var G,z=O[0],ce=O[1];z^=(G=252645135&(z>>>4^ce))<<4,z^=(G=65535&(z>>>16^(ce^=G)))<<16,z^=G=858993459&((ce^=G)>>>2^z),z^=G=16711935&((ce^=G<<2)>>>8^z),z=(z^=(G=1431655765&(z>>>1^(ce^=G<<8)))<<1)<<1|z>>>31,ce=(ce^=G)<<1|ce>>>31;for(var de=0;de<N;de+=3){for(var Y=H[de+1],Z=H[de+2],ne=H[de];ne!=Y;ne+=Z){var I=ce^k[ne],pe=(ce>>>4|ce<<28)^k[ne+1];G=z,z=ce,ce=G^(S[I>>>24&63]|w[I>>>16&63]|h[I>>>8&63]|v[63&I]|p[pe>>>24&63]|C[pe>>>16&63]|g[pe>>>8&63]|E[63&pe])}G=z,z=ce,ce=G}ce=ce>>>1|ce<<31,ce^=G=1431655765&((z=z>>>1|z<<31)>>>1^ce),ce^=(G=16711935&(ce>>>8^(z^=G<<1)))<<8,ce^=(G=858993459&(ce>>>2^(z^=G)))<<2,ce^=G=65535&((z^=G)>>>16^ce),ce^=G=252645135&((z^=G<<16)>>>4^ce),P[0]=z^=G<<4,P[1]=ce}function a(k){var W,P="DES-"+((k=k||{}).mode||"CBC").toUpperCase(),N=(W=k.decrypt?t.cipher.createDecipher(P,k.key):t.cipher.createCipher(P,k.key)).start;return W.start=function(H,G){var z=null;G instanceof t.util.ByteBuffer&&(z=G,G={}),(G=G||{}).output=z,G.iv=H,N.call(W,G)},W}},651:(nt,ye,d)=>{var t=d(6589);d(3364),d(1675),d(1290),d(812);var e=d(2758),p=e.publicKeyValidator,S=e.privateKeyValidator;if(typeof C>"u")var C=t.jsbn.BigInteger;var w=t.util.ByteBuffer,g=typeof Buffer>"u"?Uint8Array:Buffer;t.pki=t.pki||{},nt.exports=t.pki.ed25519=t.ed25519=t.ed25519||{};var h=t.ed25519;function E(Rt){var Dt=Rt.message;if(Dt instanceof Uint8Array||Dt instanceof g)return Dt;var q=Rt.encoding;if(void 0===Dt){if(!Rt.md)throw new TypeError('"options.message" or "options.md" not specified.');Dt=Rt.md.digest().getBytes(),q="binary"}if("string"==typeof Dt&&!q)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof Dt){if(typeof Buffer<"u")return Buffer.from(Dt,q);Dt=new w(Dt,q)}else if(!(Dt instanceof w))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Q=new g(Dt.length()),te=0;te<Q.length;++te)Q[te]=Dt.at(te);return Q}h.constants={},h.constants.PUBLIC_KEY_BYTE_LENGTH=32,h.constants.PRIVATE_KEY_BYTE_LENGTH=64,h.constants.SEED_BYTE_LENGTH=32,h.constants.SIGN_BYTE_LENGTH=64,h.constants.HASH_BYTE_LENGTH=64,h.generateKeyPair=function(Rt){var Dt=(Rt=Rt||{}).seed;if(void 0===Dt)Dt=t.random.getBytesSync(h.constants.SEED_BYTE_LENGTH);else if("string"==typeof Dt){if(Dt.length!==h.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+h.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(Dt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');Dt=E({message:Dt,encoding:"binary"});for(var q=new g(h.constants.PUBLIC_KEY_BYTE_LENGTH),Q=new g(h.constants.PRIVATE_KEY_BYTE_LENGTH),te=0;te<32;++te)Q[te]=Dt[te];return function H(Rt,Dt){var Q,q=[Le(),Le(),Le(),Le()],te=N(Dt,32);for(te[0]&=248,te[31]&=127,te[31]|=64,Te(q,te),ne(Rt,q),Q=0;Q<32;++Q)Dt[Q+32]=Rt[Q]}(q,Q),{publicKey:q,privateKey:Q}},h.privateKeyFromAsn1=function(Rt){var Dt={},q=[];if(!t.asn1.validate(Rt,S,Dt,q)){var te=new Error("Invalid Key.");throw te.errors=q,te}var De=t.asn1.derToOid(Dt.privateKeyOid),Re=t.oids.EdDSA25519;if(De!==Re)throw new Error('Invalid OID "'+De+'"; OID must be "'+Re+'".');return{privateKeyBytes:E({message:t.asn1.fromDer(Dt.privateKey).value,encoding:"binary"})}},h.publicKeyFromAsn1=function(Rt){var Dt={},q=[];if(!t.asn1.validate(Rt,p,Dt,q)){var te=new Error("Invalid Key.");throw te.errors=q,te}var De=t.asn1.derToOid(Dt.publicKeyOid),Re=t.oids.EdDSA25519;if(De!==Re)throw new Error('Invalid OID "'+De+'"; OID must be "'+Re+'".');var at=Dt.ed25519PublicKey;if(at.length!==h.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return E({message:at,encoding:"binary"})},h.publicKeyFromPrivateKey=function(Rt){var Dt=E({message:(Rt=Rt||{}).privateKey,encoding:"binary"});if(Dt.length!==h.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+h.constants.PRIVATE_KEY_BYTE_LENGTH);for(var q=new g(h.constants.PUBLIC_KEY_BYTE_LENGTH),Q=0;Q<q.length;++Q)q[Q]=Dt[32+Q];return q},h.sign=function(Rt){var Dt=E(Rt=Rt||{}),q=E({message:Rt.privateKey,encoding:"binary"});if(q.length===h.constants.SEED_BYTE_LENGTH)q=h.generateKeyPair({seed:q}).privateKey;else if(q.length!==h.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+h.constants.SEED_BYTE_LENGTH+" or "+h.constants.PRIVATE_KEY_BYTE_LENGTH);var te=new g(h.constants.SIGN_BYTE_LENGTH+Dt.length);!function G(Rt,Dt,q,Q){var te,De,Re=new Float64Array(64),at=[Le(),Le(),Le(),Le()],o=N(Q,32);o[0]&=248,o[31]&=127,o[31]|=64;var ft=q+64;for(te=0;te<q;++te)Rt[64+te]=Dt[te];for(te=0;te<32;++te)Rt[32+te]=o[32+te];var Ft=N(Rt.subarray(32),q+32);for(de(Ft),Te(at,Ft),ne(Rt,at),te=32;te<64;++te)Rt[te]=Q[te];var _t=N(Rt,q+64);for(de(_t),te=32;te<64;++te)Re[te]=0;for(te=0;te<32;++te)Re[te]=Ft[te];for(te=0;te<32;++te)for(De=0;De<32;De++)Re[te+De]+=_t[te]*o[De];ce(Rt.subarray(32),Re)}(te,Dt,Dt.length,q);for(var De=new g(h.constants.SIGN_BYTE_LENGTH),Re=0;Re<De.length;++Re)De[Re]=te[Re];return De},h.verify=function(Rt){var Dt=E(Rt=Rt||{});if(void 0===Rt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var q=E({message:Rt.signature,encoding:"binary"});if(q.length!==h.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+h.constants.SIGN_BYTE_LENGTH);var Q=E({message:Rt.publicKey,encoding:"binary"});if(Q.length!==h.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+h.constants.PUBLIC_KEY_BYTE_LENGTH);var Re,te=new g(h.constants.SIGN_BYTE_LENGTH+Dt.length),De=new g(h.constants.SIGN_BYTE_LENGTH+Dt.length);for(Re=0;Re<h.constants.SIGN_BYTE_LENGTH;++Re)te[Re]=q[Re];for(Re=0;Re<Dt.length;++Re)te[Re+h.constants.SIGN_BYTE_LENGTH]=Dt[Re];return function z(Rt,Dt,q,Q){var te,Re=new g(32),at=[Le(),Le(),Le(),Le()],o=[Le(),Le(),Le(),Le()];if(-1,q<64||function pe(Rt,Dt){var q=Le(),Q=Le(),te=Le(),De=Le(),Re=Le(),at=Le(),o=Le();return ge(Rt[2],B),function K(Rt,Dt){var q;for(q=0;q<16;++q)Rt[q]=Dt[2*q]+(Dt[2*q+1]<<8);Rt[15]&=32767}(Rt[1],Dt),hn(te,Rt[1]),mn(De,te,U),ut(te,te,Rt[2]),Ct(De,Rt[2],De),hn(Re,De),hn(at,Re),mn(o,at,Re),mn(q,o,te),mn(q,q,De),function he(Rt,Dt){var Q,q=Le();for(Q=0;Q<16;++Q)q[Q]=Dt[Q];for(Q=250;Q>=0;--Q)hn(q,q),1!==Q&&mn(q,q,Dt);for(Q=0;Q<16;++Q)Rt[Q]=q[Q]}(q,q),mn(q,q,te),mn(q,q,De),mn(q,q,De),mn(Rt[0],q,De),hn(Q,Rt[0]),mn(Q,Q,De),Oe(Q,te)&&mn(Rt[0],Rt[0],W),hn(Q,Rt[0]),mn(Q,Q,De),Oe(Q,te)?-1:(qe(Rt[0])===Dt[31]>>7&&ut(Rt[0],v,Rt[0]),mn(Rt[3],Rt[0],Rt[1]),0)}(o,Q))return-1;for(te=0;te<q;++te)Rt[te]=Dt[te];for(te=0;te<32;++te)Rt[te+32]=Q[te];var ft=N(Rt,q);if(de(ft),Me(at,o,ft),Te(o,Dt.subarray(32)),Y(at,o),ne(Re,at),q-=64,Ae(Dt,0,Re,0)){for(te=0;te<q;++te)Rt[te]=0;return-1}for(te=0;te<q;++te)Rt[te]=Dt[te+64];return q}(De,te,te.length,Q)>=0};var v=Le(),B=Le([1]),U=Le([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),a=Le([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),k=Le([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),O=Le([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),P=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),W=Le([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function N(Rt,Dt){var q=t.md.sha512.create(),Q=new w(Rt);q.update(Q.getBytes(Dt),"binary");var te=q.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(te,"binary");for(var De=new g(h.constants.HASH_BYTE_LENGTH),Re=0;Re<64;++Re)De[Re]=te.charCodeAt(Re);return De}function ce(Rt,Dt){var q,Q,te,De;for(Q=63;Q>=32;--Q){for(q=0,te=Q-32,De=Q-12;te<De;++te)Dt[te]+=q-16*Dt[Q]*P[te-(Q-32)],Dt[te]-=256*(q=Dt[te]+128>>8);Dt[te]+=q,Dt[Q]=0}for(q=0,te=0;te<32;++te)Dt[te]+=q-(Dt[31]>>4)*P[te],q=Dt[te]>>8,Dt[te]&=255;for(te=0;te<32;++te)Dt[te]-=q*P[te];for(Q=0;Q<32;++Q)Dt[Q+1]+=Dt[Q]>>8,Rt[Q]=255&Dt[Q]}function de(Rt){for(var Dt=new Float64Array(64),q=0;q<64;++q)Dt[q]=Rt[q],Rt[q]=0;ce(Rt,Dt)}function Y(Rt,Dt){var q=Le(),Q=Le(),te=Le(),De=Le(),Re=Le(),at=Le(),o=Le(),ft=Le(),Ft=Le();ut(q,Rt[1],Rt[0]),ut(Ft,Dt[1],Dt[0]),mn(q,q,Ft),Ct(Q,Rt[0],Rt[1]),Ct(Ft,Dt[0],Dt[1]),mn(Q,Q,Ft),mn(te,Rt[3],Dt[3]),mn(te,te,a),mn(De,Rt[2],Dt[2]),Ct(De,De,De),ut(Re,Q,q),ut(at,De,te),Ct(o,De,te),Ct(ft,Q,q),mn(Rt[0],Re,at),mn(Rt[1],ft,o),mn(Rt[2],o,at),mn(Rt[3],Re,ft)}function Z(Rt,Dt,q){for(var Q=0;Q<4;++Q)pt(Rt[Q],Dt[Q],q)}function ne(Rt,Dt){var q=Le(),Q=Le(),te=Le();(function $e(Rt,Dt){var Q,q=Le();for(Q=0;Q<16;++Q)q[Q]=Dt[Q];for(Q=253;Q>=0;--Q)hn(q,q),2!==Q&&4!==Q&&mn(q,q,Dt);for(Q=0;Q<16;++Q)Rt[Q]=q[Q]})(te,Dt[2]),mn(q,Dt[0],te),mn(Q,Dt[1],te),I(Rt,Q),Rt[31]^=qe(q)<<7}function I(Rt,Dt){var q,Q,te,De=Le(),Re=Le();for(q=0;q<16;++q)Re[q]=Dt[q];for(xe(Re),xe(Re),xe(Re),Q=0;Q<2;++Q){for(De[0]=Re[0]-65517,q=1;q<15;++q)De[q]=Re[q]-65535-(De[q-1]>>16&1),De[q-1]&=65535;De[15]=Re[15]-32767-(De[14]>>16&1),te=De[15]>>16&1,De[14]&=65535,pt(Re,De,1-te)}for(q=0;q<16;q++)Rt[2*q]=255&Re[q],Rt[2*q+1]=Re[q]>>8}function Oe(Rt,Dt){var q=new g(32),Q=new g(32);return I(q,Rt),I(Q,Dt),Ae(q,0,Q,0)}function Ae(Rt,Dt,q,Q){return function Fe(Rt,Dt,q,Q,te){var De,Re=0;for(De=0;De<te;++De)Re|=Rt[Dt+De]^q[Q+De];return(1&Re-1>>>8)-1}(Rt,Dt,q,Q,32)}function qe(Rt){var Dt=new g(32);return I(Dt,Rt),1&Dt[0]}function Me(Rt,Dt,q){var Q,te;for(ge(Rt[0],v),ge(Rt[1],B),ge(Rt[2],B),ge(Rt[3],v),te=255;te>=0;--te)Z(Rt,Dt,Q=q[te/8|0]>>(7&te)&1),Y(Dt,Rt),Y(Rt,Rt),Z(Rt,Dt,Q)}function Te(Rt,Dt){var q=[Le(),Le(),Le(),Le()];ge(q[0],k),ge(q[1],O),ge(q[2],B),mn(q[3],k,O),Me(Rt,q,Dt)}function ge(Rt,Dt){var q;for(q=0;q<16;q++)Rt[q]=0|Dt[q]}function xe(Rt){var Dt,q,Q=1;for(Dt=0;Dt<16;++Dt)q=Rt[Dt]+Q+65535,Q=Math.floor(q/65536),Rt[Dt]=q-65536*Q;Rt[0]+=Q-1+37*(Q-1)}function pt(Rt,Dt,q){for(var Q,te=~(q-1),De=0;De<16;++De)Rt[De]^=Q=te&(Rt[De]^Dt[De]),Dt[De]^=Q}function Le(Rt){var Dt,q=new Float64Array(16);if(Rt)for(Dt=0;Dt<Rt.length;++Dt)q[Dt]=Rt[Dt];return q}function Ct(Rt,Dt,q){for(var Q=0;Q<16;++Q)Rt[Q]=Dt[Q]+q[Q]}function ut(Rt,Dt,q){for(var Q=0;Q<16;++Q)Rt[Q]=Dt[Q]-q[Q]}function hn(Rt,Dt){mn(Rt,Dt,Dt)}function mn(Rt,Dt,q){var Q,te,De=0,Re=0,at=0,o=0,ft=0,Ft=0,_t=0,lt=0,Pt=0,tn=0,ct=0,Lt=0,Ce=0,le=0,j=0,ae=0,Ge=0,tt=0,vt=0,Bt=0,ln=0,sn=0,Pn=0,$n=0,Vn=0,Mt=0,On=0,Qt=0,mt=0,St=0,dt=0,Ut=q[0],rn=q[1],Tn=q[2],Jn=q[3],yn=q[4],yi=q[5],ii=q[6],xt=q[7],bt=q[8],Gt=q[9],Kt=q[10],en=q[11],Rn=q[12],Sn=q[13],li=q[14],kn=q[15];De+=(Q=Dt[0])*Ut,Re+=Q*rn,at+=Q*Tn,o+=Q*Jn,ft+=Q*yn,Ft+=Q*yi,_t+=Q*ii,lt+=Q*xt,Pt+=Q*bt,tn+=Q*Gt,ct+=Q*Kt,Lt+=Q*en,Ce+=Q*Rn,le+=Q*Sn,j+=Q*li,ae+=Q*kn,Re+=(Q=Dt[1])*Ut,at+=Q*rn,o+=Q*Tn,ft+=Q*Jn,Ft+=Q*yn,_t+=Q*yi,lt+=Q*ii,Pt+=Q*xt,tn+=Q*bt,ct+=Q*Gt,Lt+=Q*Kt,Ce+=Q*en,le+=Q*Rn,j+=Q*Sn,ae+=Q*li,Ge+=Q*kn,at+=(Q=Dt[2])*Ut,o+=Q*rn,ft+=Q*Tn,Ft+=Q*Jn,_t+=Q*yn,lt+=Q*yi,Pt+=Q*ii,tn+=Q*xt,ct+=Q*bt,Lt+=Q*Gt,Ce+=Q*Kt,le+=Q*en,j+=Q*Rn,ae+=Q*Sn,Ge+=Q*li,tt+=Q*kn,o+=(Q=Dt[3])*Ut,ft+=Q*rn,Ft+=Q*Tn,_t+=Q*Jn,lt+=Q*yn,Pt+=Q*yi,tn+=Q*ii,ct+=Q*xt,Lt+=Q*bt,Ce+=Q*Gt,le+=Q*Kt,j+=Q*en,ae+=Q*Rn,Ge+=Q*Sn,tt+=Q*li,vt+=Q*kn,ft+=(Q=Dt[4])*Ut,Ft+=Q*rn,_t+=Q*Tn,lt+=Q*Jn,Pt+=Q*yn,tn+=Q*yi,ct+=Q*ii,Lt+=Q*xt,Ce+=Q*bt,le+=Q*Gt,j+=Q*Kt,ae+=Q*en,Ge+=Q*Rn,tt+=Q*Sn,vt+=Q*li,Bt+=Q*kn,Ft+=(Q=Dt[5])*Ut,_t+=Q*rn,lt+=Q*Tn,Pt+=Q*Jn,tn+=Q*yn,ct+=Q*yi,Lt+=Q*ii,Ce+=Q*xt,le+=Q*bt,j+=Q*Gt,ae+=Q*Kt,Ge+=Q*en,tt+=Q*Rn,vt+=Q*Sn,Bt+=Q*li,ln+=Q*kn,_t+=(Q=Dt[6])*Ut,lt+=Q*rn,Pt+=Q*Tn,tn+=Q*Jn,ct+=Q*yn,Lt+=Q*yi,Ce+=Q*ii,le+=Q*xt,j+=Q*bt,ae+=Q*Gt,Ge+=Q*Kt,tt+=Q*en,vt+=Q*Rn,Bt+=Q*Sn,ln+=Q*li,sn+=Q*kn,lt+=(Q=Dt[7])*Ut,Pt+=Q*rn,tn+=Q*Tn,ct+=Q*Jn,Lt+=Q*yn,Ce+=Q*yi,le+=Q*ii,j+=Q*xt,ae+=Q*bt,Ge+=Q*Gt,tt+=Q*Kt,vt+=Q*en,Bt+=Q*Rn,ln+=Q*Sn,sn+=Q*li,Pn+=Q*kn,Pt+=(Q=Dt[8])*Ut,tn+=Q*rn,ct+=Q*Tn,Lt+=Q*Jn,Ce+=Q*yn,le+=Q*yi,j+=Q*ii,ae+=Q*xt,Ge+=Q*bt,tt+=Q*Gt,vt+=Q*Kt,Bt+=Q*en,ln+=Q*Rn,sn+=Q*Sn,Pn+=Q*li,$n+=Q*kn,tn+=(Q=Dt[9])*Ut,ct+=Q*rn,Lt+=Q*Tn,Ce+=Q*Jn,le+=Q*yn,j+=Q*yi,ae+=Q*ii,Ge+=Q*xt,tt+=Q*bt,vt+=Q*Gt,Bt+=Q*Kt,ln+=Q*en,sn+=Q*Rn,Pn+=Q*Sn,$n+=Q*li,Vn+=Q*kn,ct+=(Q=Dt[10])*Ut,Lt+=Q*rn,Ce+=Q*Tn,le+=Q*Jn,j+=Q*yn,ae+=Q*yi,Ge+=Q*ii,tt+=Q*xt,vt+=Q*bt,Bt+=Q*Gt,ln+=Q*Kt,sn+=Q*en,Pn+=Q*Rn,$n+=Q*Sn,Vn+=Q*li,Mt+=Q*kn,Lt+=(Q=Dt[11])*Ut,Ce+=Q*rn,le+=Q*Tn,j+=Q*Jn,ae+=Q*yn,Ge+=Q*yi,tt+=Q*ii,vt+=Q*xt,Bt+=Q*bt,ln+=Q*Gt,sn+=Q*Kt,Pn+=Q*en,$n+=Q*Rn,Vn+=Q*Sn,Mt+=Q*li,On+=Q*kn,Ce+=(Q=Dt[12])*Ut,le+=Q*rn,j+=Q*Tn,ae+=Q*Jn,Ge+=Q*yn,tt+=Q*yi,vt+=Q*ii,Bt+=Q*xt,ln+=Q*bt,sn+=Q*Gt,Pn+=Q*Kt,$n+=Q*en,Vn+=Q*Rn,Mt+=Q*Sn,On+=Q*li,Qt+=Q*kn,le+=(Q=Dt[13])*Ut,j+=Q*rn,ae+=Q*Tn,Ge+=Q*Jn,tt+=Q*yn,vt+=Q*yi,Bt+=Q*ii,ln+=Q*xt,sn+=Q*bt,Pn+=Q*Gt,$n+=Q*Kt,Vn+=Q*en,Mt+=Q*Rn,On+=Q*Sn,Qt+=Q*li,mt+=Q*kn,j+=(Q=Dt[14])*Ut,ae+=Q*rn,Ge+=Q*Tn,tt+=Q*Jn,vt+=Q*yn,Bt+=Q*yi,ln+=Q*ii,sn+=Q*xt,Pn+=Q*bt,$n+=Q*Gt,Vn+=Q*Kt,Mt+=Q*en,On+=Q*Rn,Qt+=Q*Sn,mt+=Q*li,St+=Q*kn,ae+=(Q=Dt[15])*Ut,Re+=38*(tt+=Q*Tn),at+=38*(vt+=Q*Jn),o+=38*(Bt+=Q*yn),ft+=38*(ln+=Q*yi),Ft+=38*(sn+=Q*ii),_t+=38*(Pn+=Q*xt),lt+=38*($n+=Q*bt),Pt+=38*(Vn+=Q*Gt),tn+=38*(Mt+=Q*Kt),ct+=38*(On+=Q*en),Lt+=38*(Qt+=Q*Rn),Ce+=38*(mt+=Q*Sn),le+=38*(St+=Q*li),j+=38*(dt+=Q*kn),De=(Q=(De+=38*(Ge+=Q*rn))+(te=1)+65535)-65536*(te=Math.floor(Q/65536)),Re=(Q=Re+te+65535)-65536*(te=Math.floor(Q/65536)),at=(Q=at+te+65535)-65536*(te=Math.floor(Q/65536)),o=(Q=o+te+65535)-65536*(te=Math.floor(Q/65536)),ft=(Q=ft+te+65535)-65536*(te=Math.floor(Q/65536)),Ft=(Q=Ft+te+65535)-65536*(te=Math.floor(Q/65536)),_t=(Q=_t+te+65535)-65536*(te=Math.floor(Q/65536)),lt=(Q=lt+te+65535)-65536*(te=Math.floor(Q/65536)),Pt=(Q=Pt+te+65535)-65536*(te=Math.floor(Q/65536)),tn=(Q=tn+te+65535)-65536*(te=Math.floor(Q/65536)),ct=(Q=ct+te+65535)-65536*(te=Math.floor(Q/65536)),Lt=(Q=Lt+te+65535)-65536*(te=Math.floor(Q/65536)),Ce=(Q=Ce+te+65535)-65536*(te=Math.floor(Q/65536)),le=(Q=le+te+65535)-65536*(te=Math.floor(Q/65536)),j=(Q=j+te+65535)-65536*(te=Math.floor(Q/65536)),ae=(Q=ae+te+65535)-65536*(te=Math.floor(Q/65536)),De=(Q=(De+=te-1+37*(te-1))+(te=1)+65535)-65536*(te=Math.floor(Q/65536)),Re=(Q=Re+te+65535)-65536*(te=Math.floor(Q/65536)),at=(Q=at+te+65535)-65536*(te=Math.floor(Q/65536)),o=(Q=o+te+65535)-65536*(te=Math.floor(Q/65536)),ft=(Q=ft+te+65535)-65536*(te=Math.floor(Q/65536)),Ft=(Q=Ft+te+65535)-65536*(te=Math.floor(Q/65536)),_t=(Q=_t+te+65535)-65536*(te=Math.floor(Q/65536)),lt=(Q=lt+te+65535)-65536*(te=Math.floor(Q/65536)),Pt=(Q=Pt+te+65535)-65536*(te=Math.floor(Q/65536)),tn=(Q=tn+te+65535)-65536*(te=Math.floor(Q/65536)),ct=(Q=ct+te+65535)-65536*(te=Math.floor(Q/65536)),Lt=(Q=Lt+te+65535)-65536*(te=Math.floor(Q/65536)),Ce=(Q=Ce+te+65535)-65536*(te=Math.floor(Q/65536)),le=(Q=le+te+65535)-65536*(te=Math.floor(Q/65536)),j=(Q=j+te+65535)-65536*(te=Math.floor(Q/65536)),ae=(Q=ae+te+65535)-65536*(te=Math.floor(Q/65536)),Rt[0]=De+=te-1+37*(te-1),Rt[1]=Re,Rt[2]=at,Rt[3]=o,Rt[4]=ft,Rt[5]=Ft,Rt[6]=_t,Rt[7]=lt,Rt[8]=Pt,Rt[9]=tn,Rt[10]=ct,Rt[11]=Lt,Rt[12]=Ce,Rt[13]=le,Rt[14]=j,Rt[15]=ae}},6589:nt=>{nt.exports={options:{usePureJavaScript:!1}}},4579:(nt,ye,d)=>{var t=d(6589);d(5437),d(812),(nt.exports=t.hmac=t.hmac||{}).create=function(){var p=null,S=null,C=null,w=null,g={start:function(h,E){if(null!==h)if("string"==typeof h){if(!((h=h.toLowerCase())in t.md.algorithms))throw new Error('Unknown hash algorithm "'+h+'"');S=t.md.algorithms[h].create()}else S=h;if(null===E)E=p;else{if("string"==typeof E)E=t.util.createBuffer(E);else if(t.util.isArray(E)){var v=E;E=t.util.createBuffer();for(var B=0;B<v.length;++B)E.putByte(v[B])}var U=E.length();for(U>S.blockLength&&(S.start(),S.update(E.bytes()),E=S.digest()),C=t.util.createBuffer(),w=t.util.createBuffer(),U=E.length(),B=0;B<U;++B)v=E.at(B),C.putByte(54^v),w.putByte(92^v);if(U<S.blockLength)for(v=S.blockLength-U,B=0;B<v;++B)C.putByte(54),w.putByte(92);p=E,C=C.bytes(),w=w.bytes()}S.start(),S.update(C)},update:function(h){S.update(h)},getMac:function(){var h=S.digest().bytes();return S.start(),S.update(w),S.update(h),S.digest()}};return g.digest=g.getMac,g}},2114:(nt,ye,d)=>{nt.exports=d(6589),d(57),d(3707),d(7097),d(5855),d(3674),d(651),d(4579),d(8321),d(872),d(9228),d(5833),d(1097),d(9368),d(8788),d(4724),d(8645),d(9622),d(3697),d(409),d(8588),d(1675),d(1881),d(3120),d(9807),d(812)},3364:(nt,ye,d)=>{var e,t=d(6589);function C(Ue,Xe,ot){this.data=[],null!=Ue&&("number"==typeof Ue?this.fromNumber(Ue,Xe,ot):this.fromString(Ue,null==Xe&&"string"!=typeof Ue?256:Xe))}function w(){return new C(null)}function E(Ue,Xe,ot,Vt,_n,bn){for(var In=16383&Xe,Dn=Xe>>14;--bn>=0;){var _i=16383&this.data[Ue],Gi=this.data[Ue++]>>14,Ti=Dn*_i+Gi*In;_n=((_i=In*_i+((16383&Ti)<<14)+ot.data[Vt]+_n)>>28)+(Ti>>14)+Dn*Gi,ot.data[Vt++]=268435455&_i}return _n}nt.exports=t.jsbn=t.jsbn||{},t.jsbn.BigInteger=C,typeof navigator>"u"?(C.prototype.am=E,e=28):"Microsoft Internet Explorer"==navigator.appName?(C.prototype.am=function h(Ue,Xe,ot,Vt,_n,bn){for(var In=32767&Xe,Dn=Xe>>15;--bn>=0;){var _i=32767&this.data[Ue],Gi=this.data[Ue++]>>15,Ti=Dn*_i+Gi*In;_n=((_i=In*_i+((32767&Ti)<<15)+ot.data[Vt]+(1073741823&_n))>>>30)+(Ti>>>15)+Dn*Gi+(_n>>>30),ot.data[Vt++]=1073741823&_i}return _n},e=30):"Netscape"!=navigator.appName?(C.prototype.am=function g(Ue,Xe,ot,Vt,_n,bn){for(;--bn>=0;){var In=Xe*this.data[Ue++]+ot.data[Vt]+_n;_n=Math.floor(In/67108864),ot.data[Vt++]=67108863&In}return _n},e=26):(C.prototype.am=E,e=28),C.prototype.DB=e,C.prototype.DM=(1<<e)-1,C.prototype.DV=1<<e,C.prototype.FV=Math.pow(2,52),C.prototype.F1=52-e,C.prototype.F2=2*e-52;var a,k,U=new Array;for(a=48,k=0;k<=9;++k)U[a++]=k;for(a=97,k=10;k<36;++k)U[a++]=k;for(a=65,k=10;k<36;++k)U[a++]=k;function O(Ue){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(Ue)}function P(Ue,Xe){return U[Ue.charCodeAt(Xe)]??-1}function H(Ue){var Xe=w();return Xe.fromInt(Ue),Xe}function ne(Ue){var ot,Xe=1;return 0!=(ot=Ue>>>16)&&(Ue=ot,Xe+=16),0!=(ot=Ue>>8)&&(Ue=ot,Xe+=8),0!=(ot=Ue>>4)&&(Ue=ot,Xe+=4),0!=(ot=Ue>>2)&&(Ue=ot,Xe+=2),0!=(ot=Ue>>1)&&(Ue=ot,Xe+=1),Xe}function ge(Ue){this.m=Ue}function hn(Ue){this.m=Ue,this.mp=Ue.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<Ue.DB-15)-1,this.mt2=2*Ue.t}function Ge(Ue,Xe){return Ue&Xe}function vt(Ue,Xe){return Ue|Xe}function ln(Ue,Xe){return Ue^Xe}function Pn(Ue,Xe){return Ue&~Xe}function Qt(Ue){if(0==Ue)return-1;var Xe=0;return 65535&Ue||(Ue>>=16,Xe+=16),255&Ue||(Ue>>=8,Xe+=8),15&Ue||(Ue>>=4,Xe+=4),3&Ue||(Ue>>=2,Xe+=2),1&Ue||++Xe,Xe}function St(Ue){for(var Xe=0;0!=Ue;)Ue&=Ue-1,++Xe;return Xe}function li(){}function kn(Ue){return Ue}function ti(Ue){this.r2=w(),this.q3=w(),C.ONE.dlShiftTo(2*Ue.t,this.r2),this.mu=this.r2.divide(Ue),this.m=Ue}ge.prototype.convert=function $e(Ue){return Ue.s<0||Ue.compareTo(this.m)>=0?Ue.mod(this.m):Ue},ge.prototype.revert=function xe(Ue){return Ue},ge.prototype.reduce=function pt(Ue){Ue.divRemTo(this.m,null,Ue)},ge.prototype.mulTo=function Le(Ue,Xe,ot){Ue.multiplyTo(Xe,ot),this.reduce(ot)},ge.prototype.sqrTo=function Ct(Ue,Xe){Ue.squareTo(Xe),this.reduce(Xe)},hn.prototype.convert=function mn(Ue){var Xe=w();return Ue.abs().dlShiftTo(this.m.t,Xe),Xe.divRemTo(this.m,null,Xe),Ue.s<0&&Xe.compareTo(C.ZERO)>0&&this.m.subTo(Xe,Xe),Xe},hn.prototype.revert=function Rt(Ue){var Xe=w();return Ue.copyTo(Xe),this.reduce(Xe),Xe},hn.prototype.reduce=function Dt(Ue){for(;Ue.t<=this.mt2;)Ue.data[Ue.t++]=0;for(var Xe=0;Xe<this.m.t;++Xe){var ot=32767&Ue.data[Xe],Vt=ot*this.mpl+((ot*this.mph+(Ue.data[Xe]>>15)*this.mpl&this.um)<<15)&Ue.DM;for(Ue.data[ot=Xe+this.m.t]+=this.m.am(0,Vt,Ue,Xe,0,this.m.t);Ue.data[ot]>=Ue.DV;)Ue.data[ot]-=Ue.DV,Ue.data[++ot]++}Ue.clamp(),Ue.drShiftTo(this.m.t,Ue),Ue.compareTo(this.m)>=0&&Ue.subTo(this.m,Ue)},hn.prototype.mulTo=function Q(Ue,Xe,ot){Ue.multiplyTo(Xe,ot),this.reduce(ot)},hn.prototype.sqrTo=function q(Ue,Xe){Ue.squareTo(Xe),this.reduce(Xe)},C.prototype.copyTo=function W(Ue){for(var Xe=this.t-1;Xe>=0;--Xe)Ue.data[Xe]=this.data[Xe];Ue.t=this.t,Ue.s=this.s},C.prototype.fromInt=function N(Ue){this.t=1,this.s=Ue<0?-1:0,Ue>0?this.data[0]=Ue:Ue<-1?this.data[0]=Ue+this.DV:this.t=0},C.prototype.fromString=function G(Ue,Xe){var ot;if(16==Xe)ot=4;else if(8==Xe)ot=3;else if(256==Xe)ot=8;else if(2==Xe)ot=1;else if(32==Xe)ot=5;else{if(4!=Xe)return void this.fromRadix(Ue,Xe);ot=2}this.t=0,this.s=0;for(var Vt=Ue.length,_n=!1,bn=0;--Vt>=0;){var In=8==ot?255&Ue[Vt]:P(Ue,Vt);In<0?"-"==Ue.charAt(Vt)&&(_n=!0):(_n=!1,0==bn?this.data[this.t++]=In:bn+ot>this.DB?(this.data[this.t-1]|=(In&(1<<this.DB-bn)-1)<<bn,this.data[this.t++]=In>>this.DB-bn):this.data[this.t-1]|=In<<bn,(bn+=ot)>=this.DB&&(bn-=this.DB))}8==ot&&128&Ue[0]&&(this.s=-1,bn>0&&(this.data[this.t-1]|=(1<<this.DB-bn)-1<<bn)),this.clamp(),_n&&C.ZERO.subTo(this,this)},C.prototype.clamp=function z(){for(var Ue=this.s&this.DM;this.t>0&&this.data[this.t-1]==Ue;)--this.t},C.prototype.dlShiftTo=function pe(Ue,Xe){var ot;for(ot=this.t-1;ot>=0;--ot)Xe.data[ot+Ue]=this.data[ot];for(ot=Ue-1;ot>=0;--ot)Xe.data[ot]=0;Xe.t=this.t+Ue,Xe.s=this.s},C.prototype.drShiftTo=function K(Ue,Xe){for(var ot=Ue;ot<this.t;++ot)Xe.data[ot-Ue]=this.data[ot];Xe.t=Math.max(this.t-Ue,0),Xe.s=this.s},C.prototype.lShiftTo=function he(Ue,Xe){var Dn,ot=Ue%this.DB,Vt=this.DB-ot,_n=(1<<Vt)-1,bn=Math.floor(Ue/this.DB),In=this.s<<ot&this.DM;for(Dn=this.t-1;Dn>=0;--Dn)Xe.data[Dn+bn+1]=this.data[Dn]>>Vt|In,In=(this.data[Dn]&_n)<<ot;for(Dn=bn-1;Dn>=0;--Dn)Xe.data[Dn]=0;Xe.data[bn]=In,Xe.t=this.t+bn+1,Xe.s=this.s,Xe.clamp()},C.prototype.rShiftTo=function Oe(Ue,Xe){Xe.s=this.s;var ot=Math.floor(Ue/this.DB);if(ot>=this.t)Xe.t=0;else{var Vt=Ue%this.DB,_n=this.DB-Vt,bn=(1<<Vt)-1;Xe.data[0]=this.data[ot]>>Vt;for(var In=ot+1;In<this.t;++In)Xe.data[In-ot-1]|=(this.data[In]&bn)<<_n,Xe.data[In-ot]=this.data[In]>>Vt;Vt>0&&(Xe.data[this.t-ot-1]|=(this.s&bn)<<_n),Xe.t=this.t-ot,Xe.clamp()}},C.prototype.subTo=function Ae(Ue,Xe){for(var ot=0,Vt=0,_n=Math.min(Ue.t,this.t);ot<_n;)Vt+=this.data[ot]-Ue.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;if(Ue.t<this.t){for(Vt-=Ue.s;ot<this.t;)Vt+=this.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;Vt+=this.s}else{for(Vt+=this.s;ot<Ue.t;)Vt-=Ue.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;Vt-=Ue.s}Xe.s=Vt<0?-1:0,Vt<-1?Xe.data[ot++]=this.DV+Vt:Vt>0&&(Xe.data[ot++]=Vt),Xe.t=ot,Xe.clamp()},C.prototype.multiplyTo=function Fe(Ue,Xe){var ot=this.abs(),Vt=Ue.abs(),_n=ot.t;for(Xe.t=_n+Vt.t;--_n>=0;)Xe.data[_n]=0;for(_n=0;_n<Vt.t;++_n)Xe.data[_n+ot.t]=ot.am(0,Vt.data[_n],Xe,_n,0,ot.t);Xe.s=0,Xe.clamp(),this.s!=Ue.s&&C.ZERO.subTo(Xe,Xe)},C.prototype.squareTo=function qe(Ue){for(var Xe=this.abs(),ot=Ue.t=2*Xe.t;--ot>=0;)Ue.data[ot]=0;for(ot=0;ot<Xe.t-1;++ot){var Vt=Xe.am(ot,Xe.data[ot],Ue,2*ot,0,1);(Ue.data[ot+Xe.t]+=Xe.am(ot+1,2*Xe.data[ot],Ue,2*ot+1,Vt,Xe.t-ot-1))>=Xe.DV&&(Ue.data[ot+Xe.t]-=Xe.DV,Ue.data[ot+Xe.t+1]=1)}Ue.t>0&&(Ue.data[Ue.t-1]+=Xe.am(ot,Xe.data[ot],Ue,2*ot,0,1)),Ue.s=0,Ue.clamp()},C.prototype.divRemTo=function Me(Ue,Xe,ot){var Vt=Ue.abs();if(!(Vt.t<=0)){var _n=this.abs();if(_n.t<Vt.t)return Xe?.fromInt(0),void(null!=ot&&this.copyTo(ot));null==ot&&(ot=w());var bn=w(),In=this.s,Dn=Ue.s,_i=this.DB-ne(Vt.data[Vt.t-1]);_i>0?(Vt.lShiftTo(_i,bn),_n.lShiftTo(_i,ot)):(Vt.copyTo(bn),_n.copyTo(ot));var Gi=bn.t,Ti=bn.data[Gi-1];if(0!=Ti){var mi=Ti*(1<<this.F1)+(Gi>1?bn.data[Gi-2]>>this.F2:0),rr=this.FV/mi,br=(1<<this.F1)/mi,ei=1<<this.F2,hi=ot.t,mr=hi-Gi,Oi=Xe??w();for(bn.dlShiftTo(mr,Oi),ot.compareTo(Oi)>=0&&(ot.data[ot.t++]=1,ot.subTo(Oi,ot)),C.ONE.dlShiftTo(Gi,Oi),Oi.subTo(bn,bn);bn.t<Gi;)bn.data[bn.t++]=0;for(;--mr>=0;){var Pr=ot.data[--hi]==Ti?this.DM:Math.floor(ot.data[hi]*rr+(ot.data[hi-1]+ei)*br);if((ot.data[hi]+=bn.am(0,Pr,ot,mr,0,Gi))<Pr)for(bn.dlShiftTo(mr,Oi),ot.subTo(Oi,ot);ot.data[hi]<--Pr;)ot.subTo(Oi,ot)}null!=Xe&&(ot.drShiftTo(Gi,Xe),In!=Dn&&C.ZERO.subTo(Xe,Xe)),ot.t=Gi,ot.clamp(),_i>0&&ot.rShiftTo(_i,ot),In<0&&C.ZERO.subTo(ot,ot)}}},C.prototype.invDigit=function ut(){if(this.t<1)return 0;var Ue=this.data[0];if(!(1&Ue))return 0;var Xe=3&Ue;return(Xe=(Xe=(Xe=(Xe=Xe*(2-(15&Ue)*Xe)&15)*(2-(255&Ue)*Xe)&255)*(2-((65535&Ue)*Xe&65535))&65535)*(2-Ue*Xe%this.DV)%this.DV)>0?this.DV-Xe:-Xe},C.prototype.isEven=function te(){return 0==(this.t>0?1&this.data[0]:this.s)},C.prototype.exp=function De(Ue,Xe){if(Ue>4294967295||Ue<1)return C.ONE;var ot=w(),Vt=w(),_n=Xe.convert(this),bn=ne(Ue)-1;for(_n.copyTo(ot);--bn>=0;)if(Xe.sqrTo(ot,Vt),(Ue&1<<bn)>0)Xe.mulTo(Vt,_n,ot);else{var In=ot;ot=Vt,Vt=In}return Xe.revert(ot)},C.prototype.toString=function ce(Ue){if(this.s<0)return"-"+this.negate().toString(Ue);var Xe;if(16==Ue)Xe=4;else if(8==Ue)Xe=3;else if(2==Ue)Xe=1;else if(32==Ue)Xe=5;else{if(4!=Ue)return this.toRadix(Ue);Xe=2}var Vt,ot=(1<<Xe)-1,_n=!1,bn="",In=this.t,Dn=this.DB-In*this.DB%Xe;if(In-- >0)for(Dn<this.DB&&(Vt=this.data[In]>>Dn)>0&&(_n=!0,bn=O(Vt));In>=0;)Dn<Xe?(Vt=(this.data[In]&(1<<Dn)-1)<<Xe-Dn,Vt|=this.data[--In]>>(Dn+=this.DB-Xe)):(Vt=this.data[In]>>(Dn-=Xe)&ot,Dn<=0&&(Dn+=this.DB,--In)),Vt>0&&(_n=!0),_n&&(bn+=O(Vt));return _n?bn:"0"},C.prototype.negate=function de(){var Ue=w();return C.ZERO.subTo(this,Ue),Ue},C.prototype.abs=function Y(){return this.s<0?this.negate():this},C.prototype.compareTo=function Z(Ue){var Xe=this.s-Ue.s;if(0!=Xe)return Xe;var ot=this.t;if(0!=(Xe=ot-Ue.t))return this.s<0?-Xe:Xe;for(;--ot>=0;)if(0!=(Xe=this.data[ot]-Ue.data[ot]))return Xe;return 0},C.prototype.bitLength=function I(){return this.t<=0?0:this.DB*(this.t-1)+ne(this.data[this.t-1]^this.s&this.DM)},C.prototype.mod=function Te(Ue){var Xe=w();return this.abs().divRemTo(Ue,null,Xe),this.s<0&&Xe.compareTo(C.ZERO)>0&&Ue.subTo(Xe,Xe),Xe},C.prototype.modPowInt=function Re(Ue,Xe){var ot;return ot=Ue<256||Xe.isEven()?new ge(Xe):new hn(Xe),this.exp(Ue,ot)},C.ZERO=H(0),C.ONE=H(1),li.prototype.convert=kn,li.prototype.revert=kn,li.prototype.mulTo=function Cn(Ue,Xe,ot){Ue.multiplyTo(Xe,ot)},li.prototype.sqrTo=function wi(Ue,Xe){Ue.squareTo(Xe)},ti.prototype.convert=function Gn(Ue){if(Ue.s<0||Ue.t>2*this.m.t)return Ue.mod(this.m);if(Ue.compareTo(this.m)<0)return Ue;var Xe=w();return Ue.copyTo(Xe),this.reduce(Xe),Xe},ti.prototype.revert=function Ei(Ue){return Ue},ti.prototype.reduce=function Vi(Ue){for(Ue.drShiftTo(this.m.t-1,this.r2),Ue.t>this.m.t+1&&(Ue.t=this.m.t+1,Ue.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);Ue.compareTo(this.r2)<0;)Ue.dAddOffset(1,this.m.t+1);for(Ue.subTo(this.r2,Ue);Ue.compareTo(this.m)>=0;)Ue.subTo(this.m,Ue)},ti.prototype.mulTo=function Ni(Ue,Xe,ot){Ue.multiplyTo(Xe,ot),this.reduce(ot)},ti.prototype.sqrTo=function Yn(Ue,Xe){Ue.squareTo(Xe),this.reduce(Xe)};var ht=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Xt=(1<<26)/ht[ht.length-1];C.prototype.chunkSize=function _t(Ue){return Math.floor(Math.LN2*this.DB/Math.log(Ue))},C.prototype.toRadix=function Pt(Ue){if(null==Ue&&(Ue=10),0==this.signum()||Ue<2||Ue>36)return"0";var Xe=this.chunkSize(Ue),ot=Math.pow(Ue,Xe),Vt=H(ot),_n=w(),bn=w(),In="";for(this.divRemTo(Vt,_n,bn);_n.signum()>0;)In=(ot+bn.intValue()).toString(Ue).substr(1)+In,_n.divRemTo(Vt,_n,bn);return bn.intValue().toString(Ue)+In},C.prototype.fromRadix=function tn(Ue,Xe){this.fromInt(0),null==Xe&&(Xe=10);for(var ot=this.chunkSize(Xe),Vt=Math.pow(Xe,ot),_n=!1,bn=0,In=0,Dn=0;Dn<Ue.length;++Dn){var _i=P(Ue,Dn);_i<0?"-"==Ue.charAt(Dn)&&0==this.signum()&&(_n=!0):(In=Xe*In+_i,++bn>=ot&&(this.dMultiply(Vt),this.dAddOffset(In,0),bn=0,In=0))}bn>0&&(this.dMultiply(Math.pow(Xe,bn)),this.dAddOffset(In,0)),_n&&C.ZERO.subTo(this,this)},C.prototype.fromNumber=function ct(Ue,Xe,ot){if("number"==typeof Xe)if(Ue<2)this.fromInt(1);else for(this.fromNumber(Ue,ot),this.testBit(Ue-1)||this.bitwiseTo(C.ONE.shiftLeft(Ue-1),vt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(Xe);)this.dAddOffset(2,0),this.bitLength()>Ue&&this.subTo(C.ONE.shiftLeft(Ue-1),this);else{var Vt=new Array,_n=7&Ue;Vt.length=1+(Ue>>3),Xe.nextBytes(Vt),_n>0?Vt[0]&=(1<<_n)-1:Vt[0]=0,this.fromString(Vt,256)}},C.prototype.bitwiseTo=function ae(Ue,Xe,ot){var Vt,_n,bn=Math.min(Ue.t,this.t);for(Vt=0;Vt<bn;++Vt)ot.data[Vt]=Xe(this.data[Vt],Ue.data[Vt]);if(Ue.t<this.t){for(_n=Ue.s&this.DM,Vt=bn;Vt<this.t;++Vt)ot.data[Vt]=Xe(this.data[Vt],_n);ot.t=this.t}else{for(_n=this.s&this.DM,Vt=bn;Vt<Ue.t;++Vt)ot.data[Vt]=Xe(_n,Ue.data[Vt]);ot.t=Ue.t}ot.s=Xe(this.s,Ue.s),ot.clamp()},C.prototype.changeBit=function rn(Ue,Xe){var ot=C.ONE.shiftLeft(Ue);return this.bitwiseTo(ot,Xe,ot),ot},C.prototype.addTo=function yi(Ue,Xe){for(var ot=0,Vt=0,_n=Math.min(Ue.t,this.t);ot<_n;)Vt+=this.data[ot]+Ue.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;if(Ue.t<this.t){for(Vt+=Ue.s;ot<this.t;)Vt+=this.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;Vt+=this.s}else{for(Vt+=this.s;ot<Ue.t;)Vt+=Ue.data[ot],Xe.data[ot++]=Vt&this.DM,Vt>>=this.DB;Vt+=Ue.s}Xe.s=Vt<0?-1:0,Vt>0?Xe.data[ot++]=Vt:Vt<-1&&(Xe.data[ot++]=this.DV+Vt),Xe.t=ot,Xe.clamp()},C.prototype.dMultiply=function Rn(Ue){this.data[this.t]=this.am(0,Ue-1,this,0,0,this.t),++this.t,this.clamp()},C.prototype.dAddOffset=function Sn(Ue,Xe){if(0!=Ue){for(;this.t<=Xe;)this.data[this.t++]=0;for(this.data[Xe]+=Ue;this.data[Xe]>=this.DV;)this.data[Xe]-=this.DV,++Xe>=this.t&&(this.data[this.t++]=0),++this.data[Xe]}},C.prototype.multiplyLowerTo=function ri(Ue,Xe,ot){var _n,Vt=Math.min(this.t+Ue.t,Xe);for(ot.s=0,ot.t=Vt;Vt>0;)ot.data[--Vt]=0;for(_n=ot.t-this.t;Vt<_n;++Vt)ot.data[Vt+this.t]=this.am(0,Ue.data[Vt],ot,Vt,0,this.t);for(_n=Math.min(Ue.t,Xe);Vt<_n;++Vt)this.am(0,Ue.data[Vt],ot,Vt,0,Xe-Vt);ot.clamp()},C.prototype.multiplyUpperTo=function zi(Ue,Xe,ot){--Xe;var Vt=ot.t=this.t+Ue.t-Xe;for(ot.s=0;--Vt>=0;)ot.data[Vt]=0;for(Vt=Math.max(Xe-this.t,0);Vt<Ue.t;++Vt)ot.data[this.t+Vt-Xe]=this.am(Xe-Vt,Ue.data[Vt],ot,0,0,this.t+Vt-Xe);ot.clamp(),ot.drShiftTo(1,ot)},C.prototype.modInt=function Ye(Ue){if(Ue<=0)return 0;var Xe=this.DV%Ue,ot=this.s<0?Ue-1:0;if(this.t>0)if(0==Xe)ot=this.data[0]%Ue;else for(var Vt=this.t-1;Vt>=0;--Vt)ot=(Xe*ot+this.data[Vt])%Ue;return ot},C.prototype.millerRabin=function an(Ue){var Xe=this.subtract(C.ONE),ot=Xe.getLowestSetBit();if(ot<=0)return!1;for(var bn,Vt=Xe.shiftRight(ot),_n=function gn(){return{nextBytes:function(Ue){for(var Xe=0;Xe<Ue.length;++Xe)Ue[Xe]=Math.floor(256*Math.random())}}}(),In=0;In<Ue;++In){do{bn=new C(this.bitLength(),_n)}while(bn.compareTo(C.ONE)<=0||bn.compareTo(Xe)>=0);var Dn=bn.modPow(Vt,this);if(0!=Dn.compareTo(C.ONE)&&0!=Dn.compareTo(Xe)){for(var _i=1;_i++<ot&&0!=Dn.compareTo(Xe);)if(0==(Dn=Dn.modPowInt(2,this)).compareTo(C.ONE))return!1;if(0!=Dn.compareTo(Xe))return!1}}return!0},C.prototype.clone=function at(){var Ue=w();return this.copyTo(Ue),Ue},C.prototype.intValue=function o(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},C.prototype.byteValue=function ft(){return 0==this.t?this.s:this.data[0]<<24>>24},C.prototype.shortValue=function Ft(){return 0==this.t?this.s:this.data[0]<<16>>16},C.prototype.signum=function lt(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},C.prototype.toByteArray=function Lt(){var Ue=this.t,Xe=new Array;Xe[0]=this.s;var Vt,ot=this.DB-Ue*this.DB%8,_n=0;if(Ue-- >0)for(ot<this.DB&&(Vt=this.data[Ue]>>ot)!=(this.s&this.DM)>>ot&&(Xe[_n++]=Vt|this.s<<this.DB-ot);Ue>=0;)ot<8?(Vt=(this.data[Ue]&(1<<ot)-1)<<8-ot,Vt|=this.data[--Ue]>>(ot+=this.DB-8)):(Vt=this.data[Ue]>>(ot-=8)&255,ot<=0&&(ot+=this.DB,--Ue)),128&Vt&&(Vt|=-256),0==_n&&(128&this.s)!=(128&Vt)&&++_n,(_n>0||Vt!=this.s)&&(Xe[_n++]=Vt);return Xe},C.prototype.equals=function Ce(Ue){return 0==this.compareTo(Ue)},C.prototype.min=function le(Ue){return this.compareTo(Ue)<0?this:Ue},C.prototype.max=function j(Ue){return this.compareTo(Ue)>0?this:Ue},C.prototype.and=function tt(Ue){var Xe=w();return this.bitwiseTo(Ue,Ge,Xe),Xe},C.prototype.or=function Bt(Ue){var Xe=w();return this.bitwiseTo(Ue,vt,Xe),Xe},C.prototype.xor=function sn(Ue){var Xe=w();return this.bitwiseTo(Ue,ln,Xe),Xe},C.prototype.andNot=function $n(Ue){var Xe=w();return this.bitwiseTo(Ue,Pn,Xe),Xe},C.prototype.not=function Vn(){for(var Ue=w(),Xe=0;Xe<this.t;++Xe)Ue.data[Xe]=this.DM&~this.data[Xe];return Ue.t=this.t,Ue.s=~this.s,Ue},C.prototype.shiftLeft=function Mt(Ue){var Xe=w();return Ue<0?this.rShiftTo(-Ue,Xe):this.lShiftTo(Ue,Xe),Xe},C.prototype.shiftRight=function On(Ue){var Xe=w();return Ue<0?this.lShiftTo(-Ue,Xe):this.rShiftTo(Ue,Xe),Xe},C.prototype.getLowestSetBit=function mt(){for(var Ue=0;Ue<this.t;++Ue)if(0!=this.data[Ue])return Ue*this.DB+Qt(this.data[Ue]);return this.s<0?this.t*this.DB:-1},C.prototype.bitCount=function dt(){for(var Ue=0,Xe=this.s&this.DM,ot=0;ot<this.t;++ot)Ue+=St(this.data[ot]^Xe);return Ue},C.prototype.testBit=function Ut(Ue){var Xe=Math.floor(Ue/this.DB);return Xe>=this.t?0!=this.s:!!(this.data[Xe]&1<<Ue%this.DB)},C.prototype.setBit=function Tn(Ue){return this.changeBit(Ue,vt)},C.prototype.clearBit=function Jn(Ue){return this.changeBit(Ue,Pn)},C.prototype.flipBit=function yn(Ue){return this.changeBit(Ue,ln)},C.prototype.add=function ii(Ue){var Xe=w();return this.addTo(Ue,Xe),Xe},C.prototype.subtract=function xt(Ue){var Xe=w();return this.subTo(Ue,Xe),Xe},C.prototype.multiply=function bt(Ue){var Xe=w();return this.multiplyTo(Ue,Xe),Xe},C.prototype.divide=function Gt(Ue){var Xe=w();return this.divRemTo(Ue,Xe,null),Xe},C.prototype.remainder=function Kt(Ue){var Xe=w();return this.divRemTo(Ue,null,Xe),Xe},C.prototype.divideAndRemainder=function en(Ue){var Xe=w(),ot=w();return this.divRemTo(Ue,Xe,ot),new Array(Xe,ot)},C.prototype.modPow=function rt(Ue,Xe){var Vt,bn,ot=Ue.bitLength(),_n=H(1);if(ot<=0)return _n;Vt=ot<18?1:ot<48?3:ot<144?4:ot<768?5:6,bn=ot<8?new ge(Xe):Xe.isEven()?new ti(Xe):new hn(Xe);var In=new Array,Dn=3,_i=Vt-1,Gi=(1<<Vt)-1;if(In[1]=bn.convert(this),Vt>1){var Ti=w();for(bn.sqrTo(In[1],Ti);Dn<=Gi;)In[Dn]=w(),bn.mulTo(Ti,In[Dn-2],In[Dn]),Dn+=2}var rr,hi,mi=Ue.t-1,br=!0,ei=w();for(ot=ne(Ue.data[mi])-1;mi>=0;){for(ot>=_i?rr=Ue.data[mi]>>ot-_i&Gi:(rr=(Ue.data[mi]&(1<<ot+1)-1)<<_i-ot,mi>0&&(rr|=Ue.data[mi-1]>>this.DB+ot-_i)),Dn=Vt;!(1&rr);)rr>>=1,--Dn;if((ot-=Dn)<0&&(ot+=this.DB,--mi),br)In[rr].copyTo(_n),br=!1;else{for(;Dn>1;)bn.sqrTo(_n,ei),bn.sqrTo(ei,_n),Dn-=2;Dn>0?bn.sqrTo(_n,ei):(hi=_n,_n=ei,ei=hi),bn.mulTo(ei,In[rr],_n)}for(;mi>=0&&!(Ue.data[mi]&1<<ot);)bn.sqrTo(_n,ei),hi=_n,_n=ei,ei=hi,--ot<0&&(ot=this.DB-1,--mi)}return bn.revert(_n)},C.prototype.modInverse=function Zt(Ue){var Xe=Ue.isEven();if(this.isEven()&&Xe||0==Ue.signum())return C.ZERO;for(var ot=Ue.clone(),Vt=this.clone(),_n=H(1),bn=H(0),In=H(0),Dn=H(1);0!=ot.signum();){for(;ot.isEven();)ot.rShiftTo(1,ot),Xe?((!_n.isEven()||!bn.isEven())&&(_n.addTo(this,_n),bn.subTo(Ue,bn)),_n.rShiftTo(1,_n)):bn.isEven()||bn.subTo(Ue,bn),bn.rShiftTo(1,bn);for(;Vt.isEven();)Vt.rShiftTo(1,Vt),Xe?((!In.isEven()||!Dn.isEven())&&(In.addTo(this,In),Dn.subTo(Ue,Dn)),In.rShiftTo(1,In)):Dn.isEven()||Dn.subTo(Ue,Dn),Dn.rShiftTo(1,Dn);ot.compareTo(Vt)>=0?(ot.subTo(Vt,ot),Xe&&_n.subTo(In,_n),bn.subTo(Dn,bn)):(Vt.subTo(ot,Vt),Xe&&In.subTo(_n,In),Dn.subTo(bn,Dn))}return 0!=Vt.compareTo(C.ONE)?C.ZERO:Dn.compareTo(Ue)>=0?Dn.subtract(Ue):Dn.signum()<0?(Dn.addTo(Ue,Dn),Dn.signum()<0?Dn.add(Ue):Dn):Dn},C.prototype.pow=function Ri(Ue){return this.exp(Ue,new li)},C.prototype.gcd=function It(Ue){var Xe=this.s<0?this.negate():this.clone(),ot=Ue.s<0?Ue.negate():Ue.clone();if(Xe.compareTo(ot)<0){var Vt=Xe;Xe=ot,ot=Vt}var _n=Xe.getLowestSetBit(),bn=ot.getLowestSetBit();if(bn<0)return Xe;for(_n<bn&&(bn=_n),bn>0&&(Xe.rShiftTo(bn,Xe),ot.rShiftTo(bn,ot));Xe.signum()>0;)(_n=Xe.getLowestSetBit())>0&&Xe.rShiftTo(_n,Xe),(_n=ot.getLowestSetBit())>0&&ot.rShiftTo(_n,ot),Xe.compareTo(ot)>=0?(Xe.subTo(ot,Xe),Xe.rShiftTo(1,Xe)):(ot.subTo(Xe,ot),ot.rShiftTo(1,ot));return bn>0&&ot.lShiftTo(bn,ot),ot},C.prototype.isProbablePrime=function $t(Ue){var Xe,ot=this.abs();if(1==ot.t&&ot.data[0]<=ht[ht.length-1]){for(Xe=0;Xe<ht.length;++Xe)if(ot.data[0]==ht[Xe])return!0;return!1}if(ot.isEven())return!1;for(Xe=1;Xe<ht.length;){for(var Vt=ht[Xe],_n=Xe+1;_n<ht.length&&Vt<Xt;)Vt*=ht[_n++];for(Vt=ot.modInt(Vt);Xe<_n;)if(Vt%ht[Xe++]==0)return!1}return ot.millerRabin(Ue)}},8321:(nt,ye,d)=>{var t=d(6589);d(812),d(1675),d(3364),nt.exports=t.kem=t.kem||{};var e=t.jsbn.BigInteger;function p(S,C,w,g){S.generate=function(h,E){for(var v=new t.util.ByteBuffer,B=Math.ceil(E/g)+w,U=new t.util.ByteBuffer,a=w;a<B;++a){U.putInt32(a),C.start(),C.update(h+U.getBytes());var k=C.digest();v.putBytes(k.getBytes(g))}return v.truncate(v.length()-E),v.getBytes()}}t.kem.rsa={},t.kem.rsa.create=function(S,C){var w=(C=C||{}).prng||t.random;return{encrypt:function(h,E){var B,v=Math.ceil(h.n.bitLength()/8);do{B=new e(t.util.bytesToHex(w.getBytesSync(v)),16).mod(h.n)}while(B.compareTo(e.ONE)<=0);var U=v-(B=t.util.hexToBytes(B.toString(16))).length;return U>0&&(B=t.util.fillString("\0",U)+B),{encapsulation:h.encrypt(B,"NONE"),key:S.generate(B,E)}},decrypt:function(h,E,v){var B=h.decrypt(E,"NONE");return S.generate(B,v)}}},t.kem.kdf1=function(S,C){p(this,S,0,C||S.digestLength)},t.kem.kdf2=function(S,C){p(this,S,1,C||S.digestLength)}},872:(nt,ye,d)=>{var t=d(6589);d(812),nt.exports=t.log=t.log||{},t.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},p=[],S=null;t.log.LEVEL_LOCKED=2,t.log.NO_LEVEL_CHECK=4,t.log.INTERPOLATE=8;for(var C=0;C<t.log.levels.length;++C){var w=t.log.levels[C];e[w]={index:C,name:w.toUpperCase()}}t.log.logMessage=function(a){for(var k=e[a.level].index,O=0;O<p.length;++O){var P=p[O];P.flags&t.log.NO_LEVEL_CHECK?P.f(a):k<=e[P.level].index&&P.f(P,a)}},t.log.prepareStandard=function(a){"standard"in a||(a.standard=e[a.level].name+" ["+a.category+"] "+a.message)},t.log.prepareFull=function(a){if(!("full"in a)){var k=[a.message];k=k.concat([]),a.full=t.util.format.apply(this,k)}},t.log.prepareStandardFull=function(a){"standardFull"in a||(t.log.prepareStandard(a),a.standardFull=a.standard)};var g=["error","warning","info","debug","verbose"];for(C=0;C<g.length;++C)!function(k){t.log[k]=function(O,P){var W=Array.prototype.slice.call(arguments).slice(2);t.log.logMessage({timestamp:new Date,level:k,category:O,message:P,arguments:W})}}(g[C]);if(t.log.makeLogger=function(a){var k={flags:0,f:a};return t.log.setLevel(k,"none"),k},t.log.setLevel=function(a,k){var O=!1;if(a&&!(a.flags&t.log.LEVEL_LOCKED))for(var P=0;P<t.log.levels.length;++P)if(k==t.log.levels[P]){a.level=k,O=!0;break}return O},t.log.lock=function(a,k){typeof k>"u"||k?a.flags|=t.log.LEVEL_LOCKED:a.flags&=~t.log.LEVEL_LOCKED},t.log.addLogger=function(a){p.push(a)},typeof console<"u"&&"log"in console){var h;if(console.error&&console.warn&&console.info&&console.debug){var E={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},v=function(a,k){t.log.prepareStandard(k);var O=E[k.level],P=[k.standard];P=P.concat(k.arguments.slice()),O.apply(console,P)};h=t.log.makeLogger(v)}else v=function(k,O){t.log.prepareStandardFull(O),console.log(O.standardFull)},h=t.log.makeLogger(v);t.log.setLevel(h,"debug"),t.log.addLogger(h),S=h}else console={log:function(){}};if(null!==S&&typeof window<"u"&&window.location){var B=new URL(window.location.href).searchParams;B.has("console.level")&&t.log.setLevel(S,B.get("console.level").slice(-1)[0]),B.has("console.lock")&&"true"==B.get("console.lock").slice(-1)[0]&&t.log.lock(S)}t.log.consoleLogger=S},9228:(nt,ye,d)=>{nt.exports=d(5437),d(4846),d(8825),d(2507),d(1290)},5437:(nt,ye,d)=>{var t=d(6589);nt.exports=t.md=t.md||{},t.md.algorithms=t.md.algorithms||{}},4846:(nt,ye,d)=>{var t=d(6589);d(5437),d(812);var e=nt.exports=t.md5=t.md5||{};t.md.md5=t.md.algorithms.md5=e,e.create=function(){g||function h(){p="\x80",p+=t.util.fillString("\0",64),S=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],C=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],w=new Array(64);for(var v=0;v<64;++v)w[v]=Math.floor(4294967296*Math.abs(Math.sin(v+1)));g=!0}();var v=null,B=t.util.createBuffer(),U=new Array(16),a={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var k=a.messageLengthSize/4,O=0;O<k;++O)a.fullMessageLength.push(0);return B=t.util.createBuffer(),v={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},a}};return a.start(),a.update=function(k,O){"utf8"===O&&(k=t.util.encodeUtf8(k));var P=k.length;a.messageLength+=P,P=[P/4294967296>>>0,P>>>0];for(var W=a.fullMessageLength.length-1;W>=0;--W)a.fullMessageLength[W]+=P[1],P[1]=P[0]+(a.fullMessageLength[W]/4294967296>>>0),a.fullMessageLength[W]=a.fullMessageLength[W]>>>0,P[0]=P[1]/4294967296>>>0;return B.putBytes(k),E(v,U,B),(B.read>2048||0===B.length())&&B.compact(),a},a.digest=function(){var k=t.util.createBuffer();k.putBytes(B.bytes()),k.putBytes(p.substr(0,a.blockLength-(a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1)));for(var W,N=0,H=a.fullMessageLength.length-1;H>=0;--H)N=(W=8*a.fullMessageLength[H]+N)/4294967296>>>0,k.putInt32Le(W>>>0);var G={h0:v.h0,h1:v.h1,h2:v.h2,h3:v.h3};E(G,U,k);var z=t.util.createBuffer();return z.putInt32Le(G.h0),z.putInt32Le(G.h1),z.putInt32Le(G.h2),z.putInt32Le(G.h3),z},a};var p=null,S=null,C=null,w=null,g=!1;function E(v,B,U){for(var a,k,O,P,W,H,G,z=U.length();z>=64;){for(k=v.h0,O=v.h1,P=v.h2,W=v.h3,G=0;G<16;++G)B[G]=U.getInt32Le(),a=k+(W^O&(P^W))+w[G]+B[G],k=W,W=P,P=O,O+=a<<(H=C[G])|a>>>32-H;for(;G<32;++G)a=k+(P^W&(O^P))+w[G]+B[S[G]],k=W,W=P,P=O,O+=a<<(H=C[G])|a>>>32-H;for(;G<48;++G)a=k+(O^P^W)+w[G]+B[S[G]],k=W,W=P,P=O,O+=a<<(H=C[G])|a>>>32-H;for(;G<64;++G)a=k+(P^(O|~W))+w[G]+B[S[G]],k=W,W=P,P=O,O+=a<<(H=C[G])|a>>>32-H;v.h0=v.h0+k|0,v.h1=v.h1+O|0,v.h2=v.h2+P|0,v.h3=v.h3+W|0,z-=64}}},8040:(nt,ye,d)=>{var t=d(6589);d(5833),nt.exports=t.mgf=t.mgf||{},t.mgf.mgf1=t.mgf1},5833:(nt,ye,d)=>{var t=d(6589);d(812),t.mgf=t.mgf||{},(nt.exports=t.mgf.mgf1=t.mgf1=t.mgf1||{}).create=function(p){return{generate:function(C,w){for(var g=new t.util.ByteBuffer,h=Math.ceil(w/p.digestLength),E=0;E<h;E++){var v=new t.util.ByteBuffer;v.putInt32(E),p.start(),p.update(C+v.getBytes()),g.putBuffer(p.digest())}return g.truncate(g.length()-w),g.getBytes()}}}},1817:(nt,ye,d)=>{var t=d(6589);t.pki=t.pki||{};var e=nt.exports=t.pki.oids=t.oids=t.oids||{};function p(C,w){e[C]=w,e[w]=C}function S(C,w){e[C]=w}p("1.2.840.113549.1.1.1","rsaEncryption"),p("1.2.840.113549.1.1.4","md5WithRSAEncryption"),p("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),p("1.2.840.113549.1.1.7","RSAES-OAEP"),p("1.2.840.113549.1.1.8","mgf1"),p("1.2.840.113549.1.1.9","pSpecified"),p("1.2.840.113549.1.1.10","RSASSA-PSS"),p("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),p("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),p("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),p("1.3.101.112","EdDSA25519"),p("1.2.840.10040.4.3","dsa-with-sha1"),p("1.3.14.3.2.7","desCBC"),p("1.3.14.3.2.26","sha1"),p("1.3.14.3.2.29","sha1WithRSASignature"),p("2.16.840.1.101.3.4.2.1","sha256"),p("2.16.840.1.101.3.4.2.2","sha384"),p("2.16.840.1.101.3.4.2.3","sha512"),p("2.16.840.1.101.3.4.2.4","sha224"),p("2.16.840.1.101.3.4.2.5","sha512-224"),p("2.16.840.1.101.3.4.2.6","sha512-256"),p("1.2.840.113549.2.2","md2"),p("1.2.840.113549.2.5","md5"),p("1.2.840.113549.1.7.1","data"),p("1.2.840.113549.1.7.2","signedData"),p("1.2.840.113549.1.7.3","envelopedData"),p("1.2.840.113549.1.7.4","signedAndEnvelopedData"),p("1.2.840.113549.1.7.5","digestedData"),p("1.2.840.113549.1.7.6","encryptedData"),p("1.2.840.113549.1.9.1","emailAddress"),p("1.2.840.113549.1.9.2","unstructuredName"),p("1.2.840.113549.1.9.3","contentType"),p("1.2.840.113549.1.9.4","messageDigest"),p("1.2.840.113549.1.9.5","signingTime"),p("1.2.840.113549.1.9.6","counterSignature"),p("1.2.840.113549.1.9.7","challengePassword"),p("1.2.840.113549.1.9.8","unstructuredAddress"),p("1.2.840.113549.1.9.14","extensionRequest"),p("1.2.840.113549.1.9.20","friendlyName"),p("1.2.840.113549.1.9.21","localKeyId"),p("1.2.840.113549.1.9.22.1","x509Certificate"),p("1.2.840.113549.1.12.10.1.1","keyBag"),p("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),p("1.2.840.113549.1.12.10.1.3","certBag"),p("1.2.840.113549.1.12.10.1.4","crlBag"),p("1.2.840.113549.1.12.10.1.5","secretBag"),p("1.2.840.113549.1.12.10.1.6","safeContentsBag"),p("1.2.840.113549.1.5.13","pkcs5PBES2"),p("1.2.840.113549.1.5.12","pkcs5PBKDF2"),p("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),p("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),p("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),p("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),p("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),p("1.2.840.113549.2.7","hmacWithSHA1"),p("1.2.840.113549.2.8","hmacWithSHA224"),p("1.2.840.113549.2.9","hmacWithSHA256"),p("1.2.840.113549.2.10","hmacWithSHA384"),p("1.2.840.113549.2.11","hmacWithSHA512"),p("1.2.840.113549.3.7","des-EDE3-CBC"),p("2.16.840.1.101.3.4.1.2","aes128-CBC"),p("2.16.840.1.101.3.4.1.22","aes192-CBC"),p("2.16.840.1.101.3.4.1.42","aes256-CBC"),p("2.5.4.3","commonName"),p("2.5.4.4","surname"),p("2.5.4.5","serialNumber"),p("2.5.4.6","countryName"),p("2.5.4.7","localityName"),p("2.5.4.8","stateOrProvinceName"),p("2.5.4.9","streetAddress"),p("2.5.4.10","organizationName"),p("2.5.4.11","organizationalUnitName"),p("2.5.4.12","title"),p("2.5.4.13","description"),p("2.5.4.15","businessCategory"),p("2.5.4.17","postalCode"),p("2.5.4.42","givenName"),p("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),p("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),p("2.16.840.1.113730.1.1","nsCertType"),p("2.16.840.1.113730.1.13","nsComment"),S("2.5.29.1","authorityKeyIdentifier"),S("2.5.29.2","keyAttributes"),S("2.5.29.3","certificatePolicies"),S("2.5.29.4","keyUsageRestriction"),S("2.5.29.5","policyMapping"),S("2.5.29.6","subtreesConstraint"),S("2.5.29.7","subjectAltName"),S("2.5.29.8","issuerAltName"),S("2.5.29.9","subjectDirectoryAttributes"),S("2.5.29.10","basicConstraints"),S("2.5.29.11","nameConstraints"),S("2.5.29.12","policyConstraints"),S("2.5.29.13","basicConstraints"),p("2.5.29.14","subjectKeyIdentifier"),p("2.5.29.15","keyUsage"),S("2.5.29.16","privateKeyUsagePeriod"),p("2.5.29.17","subjectAltName"),p("2.5.29.18","issuerAltName"),p("2.5.29.19","basicConstraints"),S("2.5.29.20","cRLNumber"),S("2.5.29.21","cRLReason"),S("2.5.29.22","expirationDate"),S("2.5.29.23","instructionCode"),S("2.5.29.24","invalidityDate"),S("2.5.29.25","cRLDistributionPoints"),S("2.5.29.26","issuingDistributionPoint"),S("2.5.29.27","deltaCRLIndicator"),S("2.5.29.28","issuingDistributionPoint"),S("2.5.29.29","certificateIssuer"),S("2.5.29.30","nameConstraints"),p("2.5.29.31","cRLDistributionPoints"),p("2.5.29.32","certificatePolicies"),S("2.5.29.33","policyMappings"),S("2.5.29.34","policyConstraints"),p("2.5.29.35","authorityKeyIdentifier"),S("2.5.29.36","policyConstraints"),p("2.5.29.37","extKeyUsage"),S("2.5.29.46","freshestCRL"),S("2.5.29.54","inhibitAnyPolicy"),p("1.3.6.1.4.1.11129.2.4.2","timestampList"),p("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),p("1.3.6.1.5.5.7.3.1","serverAuth"),p("1.3.6.1.5.5.7.3.2","clientAuth"),p("1.3.6.1.5.5.7.3.3","codeSigning"),p("1.3.6.1.5.5.7.3.4","emailProtection"),p("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(nt,ye,d)=>{var t=d(6589);if(d(57),d(7097),d(3674),d(5437),d(1817),d(1097),d(9368),d(1675),d(1881),d(2880),d(812),typeof e>"u")var e=t.jsbn.BigInteger;var p=t.asn1,S=t.pki=t.pki||{};nt.exports=S.pbe=t.pbe=t.pbe||{};var C=S.oids,w={name:"EncryptedPrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},g={name:"PBES2Algorithms",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},h={name:"pkcs-12PbeParams",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"iterations"}]};function E(a,k){return a.start().update(k).digest().getBytes()}function v(a){var k;if(a){if(!(k=S.oids[p.derToOid(a)])){var O=new Error("Unsupported PRF OID.");throw O.oid=a,O.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],O}}else k="hmacWithSHA1";return B(k)}function B(a){var k=t.md;switch(a){case"hmacWithSHA224":k=t.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":a=a.substr(8).toLowerCase();break;default:var O=new Error("Unsupported PRF algorithm.");throw O.algorithm=a,O.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],O}if(!k||!(a in k))throw new Error("Unknown hash algorithm: "+a);return k[a].create()}S.encryptPrivateKeyInfo=function(a,k,O){(O=O||{}).saltSize=O.saltSize||8,O.count=O.count||2048,O.algorithm=O.algorithm||"aes128",O.prfAlgorithm=O.prfAlgorithm||"sha1";var H,G,z,P=t.random.getBytesSync(O.saltSize),W=O.count,N=p.integerToDer(W);if(0===O.algorithm.indexOf("aes")||"des"===O.algorithm){var ce,de,Y;switch(O.algorithm){case"aes128":H=16,ce=16,de=C["aes128-CBC"],Y=t.aes.createEncryptionCipher;break;case"aes192":H=24,ce=16,de=C["aes192-CBC"],Y=t.aes.createEncryptionCipher;break;case"aes256":H=32,ce=16,de=C["aes256-CBC"],Y=t.aes.createEncryptionCipher;break;case"des":H=8,ce=8,de=C.desCBC,Y=t.des.createEncryptionCipher;break;default:throw(Z=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=O.algorithm,Z}var ne="hmacWith"+O.prfAlgorithm.toUpperCase(),I=B(ne),pe=t.pkcs5.pbkdf2(k,P,W,H,I),K=t.random.getBytesSync(ce);(he=Y(pe)).start(K),he.update(p.toDer(a)),he.finish(),z=he.output.getBytes();var Oe=function U(a,k,O,P){var W=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,a),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,k.getBytes())]);return"hmacWithSHA1"!==P&&W.value.push(p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,t.util.hexToBytes(O.toString(16))),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(S.oids[P]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")])),W}(P,N,H,ne);G=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.pkcs5PBES2).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.pkcs5PBKDF2).getBytes()),Oe]),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(de).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,K)])])])}else{var Z;if("3des"!==O.algorithm)throw(Z=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=O.algorithm,Z;H=24;var he,Ae=new t.util.ByteBuffer(P);pe=S.pbe.generatePkcs12Key(k,Ae,1,W,H),K=S.pbe.generatePkcs12Key(k,Ae,2,W,H),(he=t.des.createEncryptionCipher(pe)).start(K),he.update(p.toDer(a)),he.finish(),z=he.output.getBytes(),G=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,P),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,N.getBytes())])])}return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[G,p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,z)])},S.decryptPrivateKeyInfo=function(a,k){var O=null,P={},W=[];if(!p.validate(a,w,P,W)){var N=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw N.errors=W,N}var H=p.derToOid(P.encryptionOid),G=S.pbe.getCipher(H,P.encryptionParams,k),z=t.util.createBuffer(P.encryptedData);return G.update(z),G.finish()&&(O=p.fromDer(G.output)),O},S.encryptedPrivateKeyToPem=function(a,k){var O={type:"ENCRYPTED PRIVATE KEY",body:p.toDer(a).getBytes()};return t.pem.encode(O,{maxline:k})},S.encryptedPrivateKeyFromPem=function(a){var k=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==k.type){var O=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw O.headerType=k.type,O}if(k.procType&&"ENCRYPTED"===k.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return p.fromDer(k.body)},S.encryptRsaPrivateKey=function(a,k,O){if(!(O=O||{}).legacy){var P=S.wrapRsaPrivateKey(S.privateKeyToAsn1(a));return P=S.encryptPrivateKeyInfo(P,k,O),S.encryptedPrivateKeyToPem(P)}var W,N,H,G;switch(O.algorithm){case"aes128":W="AES-128-CBC",H=16,N=t.random.getBytesSync(16),G=t.aes.createEncryptionCipher;break;case"aes192":W="AES-192-CBC",H=24,N=t.random.getBytesSync(16),G=t.aes.createEncryptionCipher;break;case"aes256":W="AES-256-CBC",H=32,N=t.random.getBytesSync(16),G=t.aes.createEncryptionCipher;break;case"3des":W="DES-EDE3-CBC",H=24,N=t.random.getBytesSync(8),G=t.des.createEncryptionCipher;break;case"des":W="DES-CBC",H=8,N=t.random.getBytesSync(8),G=t.des.createEncryptionCipher;break;default:var z=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+O.algorithm+'".');throw z.algorithm=O.algorithm,z}var de=G(t.pbe.opensslDeriveBytes(k,N.substr(0,8),H));de.start(N),de.update(p.toDer(S.privateKeyToAsn1(a))),de.finish();var Y={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:W,parameters:t.util.bytesToHex(N).toUpperCase()},body:de.output.getBytes()};return t.pem.encode(Y)},S.decryptRsaPrivateKey=function(a,k){var O=null,P=t.pem.decode(a)[0];if("ENCRYPTED PRIVATE KEY"!==P.type&&"PRIVATE KEY"!==P.type&&"RSA PRIVATE KEY"!==P.type)throw(W=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=W,W;if(P.procType&&"ENCRYPTED"===P.procType.type){var N,H;switch(P.dekInfo.algorithm){case"DES-CBC":N=8,H=t.des.createDecryptionCipher;break;case"DES-EDE3-CBC":N=24,H=t.des.createDecryptionCipher;break;case"AES-128-CBC":N=16,H=t.aes.createDecryptionCipher;break;case"AES-192-CBC":N=24,H=t.aes.createDecryptionCipher;break;case"AES-256-CBC":N=32,H=t.aes.createDecryptionCipher;break;case"RC2-40-CBC":N=5,H=function(Y){return t.rc2.createDecryptionCipher(Y,40)};break;case"RC2-64-CBC":N=8,H=function(Y){return t.rc2.createDecryptionCipher(Y,64)};break;case"RC2-128-CBC":N=16,H=function(Y){return t.rc2.createDecryptionCipher(Y,128)};break;default:var W;throw(W=new Error('Could not decrypt private key; unsupported encryption algorithm "'+P.dekInfo.algorithm+'".')).algorithm=P.dekInfo.algorithm,W}var G=t.util.hexToBytes(P.dekInfo.parameters),ce=H(t.pbe.opensslDeriveBytes(k,G.substr(0,8),N));if(ce.start(G),ce.update(t.util.createBuffer(P.body)),!ce.finish())return O;O=ce.output.getBytes()}else O=P.body;return null!==(O="ENCRYPTED PRIVATE KEY"===P.type?S.decryptPrivateKeyInfo(p.fromDer(O),k):p.fromDer(O))&&(O=S.privateKeyFromAsn1(O)),O},S.pbe.generatePkcs12Key=function(a,k,O,P,W,N){var H,G;if(typeof N>"u"||null===N){if(!("sha1"in t.md))throw new Error('"sha1" hash algorithm unavailable.');N=t.md.sha1.create()}var z=N.digestLength,ce=N.blockLength,de=new t.util.ByteBuffer,Y=new t.util.ByteBuffer;if(null!=a){for(G=0;G<a.length;G++)Y.putInt16(a.charCodeAt(G));Y.putInt16(0)}var Z=Y.length(),ne=k.length(),I=new t.util.ByteBuffer;I.fillWithByte(O,ce);var pe=ce*Math.ceil(ne/ce),K=new t.util.ByteBuffer;for(G=0;G<pe;G++)K.putByte(k.at(G%ne));var he=ce*Math.ceil(Z/ce),Oe=new t.util.ByteBuffer;for(G=0;G<he;G++)Oe.putByte(Y.at(G%Z));var Ae=K;Ae.putBuffer(Oe);for(var Fe=Math.ceil(W/z),qe=1;qe<=Fe;qe++){var Me=new t.util.ByteBuffer;Me.putBytes(I.bytes()),Me.putBytes(Ae.bytes());for(var Te=0;Te<P;Te++)N.start(),N.update(Me.getBytes()),Me=N.digest();var ge=new t.util.ByteBuffer;for(G=0;G<ce;G++)ge.putByte(Me.at(G%z));var $e=Math.ceil(ne/ce)+Math.ceil(Z/ce),xe=new t.util.ByteBuffer;for(H=0;H<$e;H++){var pt=new t.util.ByteBuffer(Ae.getBytes(ce)),Le=511;for(G=ge.length()-1;G>=0;G--)Le>>=8,Le+=ge.at(G)+pt.at(G),pt.setAt(G,255&Le);xe.putBuffer(pt)}Ae=xe,de.putBuffer(Me)}return de.truncate(de.length()-W),de},S.pbe.getCipher=function(a,k,O){switch(a){case S.oids.pkcs5PBES2:return S.pbe.getCipherForPBES2(a,k,O);case S.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case S.oids["pbewithSHAAnd40BitRC2-CBC"]:return S.pbe.getCipherForPKCS12PBE(a,k,O);default:var P=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw P.oid=a,P.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],P}},S.pbe.getCipherForPBES2=function(a,k,O){var N,P={},W=[];if(!p.validate(k,g,P,W))throw(N=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=W,N;if((a=p.derToOid(P.kdfOid))!==S.oids.pkcs5PBKDF2)throw(N=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=a,N.supportedOids=["pkcs5PBKDF2"],N;if((a=p.derToOid(P.encOid))!==S.oids["aes128-CBC"]&&a!==S.oids["aes192-CBC"]&&a!==S.oids["aes256-CBC"]&&a!==S.oids["des-EDE3-CBC"]&&a!==S.oids.desCBC)throw(N=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=a,N.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],N;var z,ce,H=P.kdfSalt,G=t.util.createBuffer(P.kdfIterationCount);switch(G=G.getInt(G.length()<<3),S.oids[a]){case"aes128-CBC":z=16,ce=t.aes.createDecryptionCipher;break;case"aes192-CBC":z=24,ce=t.aes.createDecryptionCipher;break;case"aes256-CBC":z=32,ce=t.aes.createDecryptionCipher;break;case"des-EDE3-CBC":z=24,ce=t.des.createDecryptionCipher;break;case"desCBC":z=8,ce=t.des.createDecryptionCipher}var de=v(P.prfOid),Y=t.pkcs5.pbkdf2(O,H,G,z,de),Z=P.encIv,ne=ce(Y);return ne.start(Z),ne},S.pbe.getCipherForPKCS12PBE=function(a,k,O){var P={},W=[];if(!p.validate(k,h,P,W))throw(N=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=W,N;var z,ce,de,H=t.util.createBuffer(P.salt),G=t.util.createBuffer(P.iterations);switch(G=G.getInt(G.length()<<3),a){case S.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:z=24,ce=8,de=t.des.startDecrypting;break;case S.oids["pbewithSHAAnd40BitRC2-CBC"]:z=5,ce=8,de=function(pe,K){var he=t.rc2.createDecryptionCipher(pe,40);return he.start(K,null),he};break;default:var N;throw(N=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=a,N}var Y=v(P.prfOid),Z=S.pbe.generatePkcs12Key(O,H,1,G,z,Y);return Y.start(),de(Z,S.pbe.generatePkcs12Key(O,H,2,G,ce,Y))},S.pbe.opensslDeriveBytes=function(a,k,O,P){if(typeof P>"u"||null===P){if(!("md5"in t.md))throw new Error('"md5" hash algorithm unavailable.');P=t.md.md5.create()}null===k&&(k="");for(var W=[E(P,a+k)],N=16,H=1;N<O;++H,N+=16)W.push(E(P,W[H-1]+a+k));return W.join("").substr(0,O)}},1097:(nt,ye,d)=>{var t=d(6589);d(4579),d(5437),d(812);var p,e=t.pkcs5=t.pkcs5||{};t.util.isNodejs&&!t.options.usePureJavaScript&&(p=d(310)),nt.exports=t.pbkdf2=e.pbkdf2=function(S,C,w,g,h,E){if("function"==typeof h&&(E=h,h=null),t.util.isNodejs&&!t.options.usePureJavaScript&&p.pbkdf2&&(null===h||"object"!=typeof h)&&(p.pbkdf2Sync.length>4||!h||"sha1"===h))return"string"!=typeof h&&(h="sha1"),S=Buffer.from(S,"binary"),C=Buffer.from(C,"binary"),E?4===p.pbkdf2Sync.length?p.pbkdf2(S,C,w,g,function(de,Y){if(de)return E(de);E(null,Y.toString("binary"))}):p.pbkdf2(S,C,w,g,h,function(de,Y){if(de)return E(de);E(null,Y.toString("binary"))}):4===p.pbkdf2Sync.length?p.pbkdf2Sync(S,C,w,g).toString("binary"):p.pbkdf2Sync(S,C,w,g,h).toString("binary");if((typeof h>"u"||null===h)&&(h="sha1"),"string"==typeof h){if(!(h in t.md.algorithms))throw new Error("Unknown hash algorithm: "+h);h=t.md[h].create()}var v=h.digestLength;if(g>4294967295*v){var B=new Error("Derived key is too long.");if(E)return E(B);throw B}var U=Math.ceil(g/v),a=g-(U-1)*v,k=t.hmac.create();k.start(h,S);var P,W,N,O="";if(!E){for(var H=1;H<=U;++H){k.start(null,null),k.update(C),k.update(t.util.int32ToBytes(H)),P=N=k.digest().getBytes();for(var G=2;G<=w;++G)k.start(null,null),k.update(N),W=k.digest().getBytes(),P=t.util.xorBytes(P,W,v),N=W;O+=H<U?P:P.substr(0,a)}return O}function z(){if(H>U)return E(null,O);k.start(null,null),k.update(C),k.update(t.util.int32ToBytes(H)),P=N=k.digest().getBytes(),G=2,ce()}function ce(){if(G<=w)return k.start(null,null),k.update(N),W=k.digest().getBytes(),P=t.util.xorBytes(P,W,v),N=W,++G,t.util.setImmediate(ce);O+=H<U?P:P.substr(0,a),++H,z()}H=1,z()}},9368:(nt,ye,d)=>{var t=d(6589);d(812);var e=nt.exports=t.pem=t.pem||{};function p(C){for(var w=C.name+": ",g=[],h=function(a,k){return" "+k},E=0;E<C.values.length;++E)g.push(C.values[E].replace(/^(\S+\r\n)/,h));w+=g.join(",")+"\r\n";var v=0,B=-1;for(E=0;E<w.length;++E,++v)if(v>65&&-1!==B){var U=w[B];","===U?(++B,w=w.substr(0,B)+"\r\n "+w.substr(B)):w=w.substr(0,B)+"\r\n"+U+w.substr(B+1),v=E-B-1,B=-1,++E}else(" "===w[E]||"\t"===w[E]||","===w[E])&&(B=E);return w}function S(C){return C.replace(/^\s+/,"")}e.encode=function(C,w){w=w||{};var h,g="-----BEGIN "+C.type+"-----\r\n";if(C.procType&&(g+=p(h={name:"Proc-Type",values:[String(C.procType.version),C.procType.type]})),C.contentDomain&&(g+=p(h={name:"Content-Domain",values:[C.contentDomain]})),C.dekInfo&&(h={name:"DEK-Info",values:[C.dekInfo.algorithm]},C.dekInfo.parameters&&h.values.push(C.dekInfo.parameters),g+=p(h)),C.headers)for(var E=0;E<C.headers.length;++E)g+=p(C.headers[E]);return C.procType&&(g+="\r\n"),(g+=t.util.encode64(C.body,w.maxline||64)+"\r\n")+"-----END "+C.type+"-----\r\n"},e.decode=function(C){for(var v,w=[],g=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,h=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,E=/\r?\n/;v=g.exec(C);){var B=v[1];"NEW CERTIFICATE REQUEST"===B&&(B="CERTIFICATE REQUEST");var U={type:B,procType:null,contentDomain:null,dekInfo:null,headers:[],body:t.util.decode64(v[3])};if(w.push(U),v[2]){for(var a=v[2].split(E),k=0;v&&k<a.length;){for(var O=a[k].replace(/\s+$/,""),P=k+1;P<a.length;++P){var W=a[P];if(!/\s/.test(W[0]))break;O+=W,k=P}if(v=O.match(h)){for(var N={name:v[1],values:[]},H=v[2].split(","),G=0;G<H.length;++G)N.values.push(S(H[G]));if(U.procType)if(U.contentDomain||"Content-Domain"!==N.name)if(U.dekInfo||"DEK-Info"!==N.name)U.headers.push(N);else{if(0===N.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');U.dekInfo={algorithm:H[0],parameters:H[1]||null}}else U.contentDomain=H[0]||"";else{if("Proc-Type"!==N.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==N.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');U.procType={version:H[0],type:H[1]}}}++k}if("ENCRYPTED"===U.procType&&!U.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===w.length)throw new Error("Invalid PEM formatted message.");return w}},8788:(nt,ye,d)=>{var t=d(6589);d(812),d(1675),d(8825);var e=nt.exports=t.pkcs1=t.pkcs1||{};function p(S,C,w){w||(w=t.md.sha1.create());for(var g="",h=Math.ceil(C/w.digestLength),E=0;E<h;++E){var v=String.fromCharCode(E>>24&255,E>>16&255,E>>8&255,255&E);w.start(),w.update(S+v),g+=w.digest().getBytes()}return g.substring(0,C)}e.encode_rsa_oaep=function(S,C,w){var g,h,E,v;"string"==typeof w?(g=w,h=arguments[3]||void 0,E=arguments[4]||void 0):w&&(g=w.label||void 0,h=w.seed||void 0,E=w.md||void 0,w.mgf1&&w.mgf1.md&&(v=w.mgf1.md)),E?E.start():E=t.md.sha1.create(),v||(v=E);var B=Math.ceil(S.n.bitLength()/8),U=B-2*E.digestLength-2;if(C.length>U)throw(a=new Error("RSAES-OAEP input message length is too long.")).length=C.length,a.maxLength=U,a;g||(g=""),E.update(g,"raw");for(var k=E.digest(),O="",P=U-C.length,W=0;W<P;W++)O+="\0";var N=k.getBytes()+O+"\x01"+C;if(h){if(h.length!==E.digestLength){var a;throw(a=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=h.length,a.digestLength=E.digestLength,a}}else h=t.random.getBytes(E.digestLength);var H=p(h,B-E.digestLength-1,v),G=t.util.xorBytes(N,H,N.length),z=p(G,E.digestLength,v);return"\0"+t.util.xorBytes(h,z,h.length)+G},e.decode_rsa_oaep=function(S,C,w){var g,h,E;"string"==typeof w?(g=w,h=arguments[3]||void 0):w&&(g=w.label||void 0,h=w.md||void 0,w.mgf1&&w.mgf1.md&&(E=w.mgf1.md));var v=Math.ceil(S.n.bitLength()/8);if(C.length!==v)throw(G=new Error("RSAES-OAEP encoded message length is invalid.")).length=C.length,G.expectedLength=v,G;if(void 0===h?h=t.md.sha1.create():h.start(),E||(E=h),v<2*h.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");g||(g=""),h.update(g,"raw");for(var B=h.digest().getBytes(),U=C.charAt(0),a=C.substring(1,h.digestLength+1),k=C.substring(1+h.digestLength),O=p(k,h.digestLength,E),W=p(t.util.xorBytes(a,O,a.length),v-h.digestLength-1,E),N=t.util.xorBytes(k,W,k.length),H=N.substring(0,h.digestLength),G="\0"!==U,z=0;z<h.digestLength;++z)G|=B.charAt(z)!==H.charAt(z);for(var ce=1,de=h.digestLength,Y=h.digestLength;Y<N.length;Y++){var Z=N.charCodeAt(Y);G|=Z&(ce?65534:0),de+=ce&=1&Z^1}if(G||1!==N.charCodeAt(de))throw new Error("Invalid RSAES-OAEP padding.");return N.substring(de+1)}},4724:(nt,ye,d)=>{var t=d(6589);d(7097),d(4579),d(1817),d(8291),d(1347),d(1675),d(2880),d(8825),d(812),d(9436);var e=t.asn1,p=t.pki,S=nt.exports=t.pkcs12=t.pkcs12||{},C={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},w={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},C,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},g={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},h={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},E={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function v(P,W,N,H){for(var G=[],z=0;z<P.length;z++)for(var ce=0;ce<P[z].safeBags.length;ce++){var de=P[z].safeBags[ce];if(void 0===H||de.type===H){if(null===W){G.push(de);continue}void 0!==de.attributes[W]&&de.attributes[W].indexOf(N)>=0&&G.push(de)}}return G}function B(P){if(P.composed||P.constructed){for(var W=t.util.createBuffer(),N=0;N<P.value.length;++N)W.putBytes(P.value[N].value);P.composed=P.constructed=!1,P.value=W.getBytes()}return P}function a(P,W){var N={},H=[];if(!e.validate(P,t.pkcs7.asn1.encryptedDataValidator,N,H))throw(G=new Error("Cannot read EncryptedContentInfo.")).errors=H,G;var G,z=e.derToOid(N.contentType);if(z!==p.oids.data)throw(G=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=z,G;z=e.derToOid(N.encAlgorithm);var ce=p.pbe.getCipher(z,N.encParameter,W),de=B(N.encryptedContentAsn1),Y=t.util.createBuffer(de.value);if(ce.update(Y),!ce.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return ce.output.getBytes()}function k(P,W,N){if(!W&&0===P.length)return[];if((P=e.fromDer(P,W)).tagClass!==e.Class.UNIVERSAL||P.type!==e.Type.SEQUENCE||!0!==P.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var H=[],G=0;G<P.value.length;G++){var ce={},de=[];if(!e.validate(P.value[G],g,ce,de))throw(Y=new Error("Cannot read SafeBag.")).errors=de,Y;var Z={type:e.derToOid(ce.bagId),attributes:O(ce.bagAttributes)};H.push(Z);var ne,I,pe=ce.bagValue.value[0];switch(Z.type){case p.oids.pkcs8ShroudedKeyBag:if(null===(pe=p.decryptPrivateKeyInfo(pe,N)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case p.oids.keyBag:try{Z.key=p.privateKeyFromAsn1(pe)}catch{Z.key=null,Z.asn1=pe}continue;case p.oids.certBag:ne=E,I=function(){if(e.derToOid(ce.certId)!==p.oids.x509Certificate){var he=new Error("Unsupported certificate type, only X.509 supported.");throw he.oid=e.derToOid(ce.certId),he}var Oe=e.fromDer(ce.cert,W);try{Z.cert=p.certificateFromAsn1(Oe,!0)}catch{Z.cert=null,Z.asn1=Oe}};break;default:var Y;throw(Y=new Error("Unsupported PKCS#12 SafeBag type.")).oid=Z.type,Y}if(void 0!==ne&&!e.validate(pe,ne,ce,de))throw(Y=new Error("Cannot read PKCS#12 "+ne.name)).errors=de,Y;I()}return H}function O(P){var W={};if(void 0!==P)for(var N=0;N<P.length;++N){var H={},G=[];if(!e.validate(P[N],h,H,G)){var z=new Error("Cannot read PKCS#12 BagAttribute.");throw z.errors=G,z}var ce=e.derToOid(H.oid);if(void 0!==p.oids[ce]){W[p.oids[ce]]=[];for(var de=0;de<H.values.length;++de)W[p.oids[ce]].push(H.values[de].value)}}return W}S.pkcs12FromAsn1=function(P,W,N){"string"==typeof W?(N=W,W=!0):void 0===W&&(W=!0);var H={};if(!e.validate(P,w,H,[]))throw(z=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=z,z;var z,ce={version:H.version.charCodeAt(0),safeContents:[],getBags:function(Ae){var qe,Fe={};return"localKeyId"in Ae?qe=Ae.localKeyId:"localKeyIdHex"in Ae&&(qe=t.util.hexToBytes(Ae.localKeyIdHex)),void 0===qe&&!("friendlyName"in Ae)&&"bagType"in Ae&&(Fe[Ae.bagType]=v(ce.safeContents,null,null,Ae.bagType)),void 0!==qe&&(Fe.localKeyId=v(ce.safeContents,"localKeyId",qe,Ae.bagType)),"friendlyName"in Ae&&(Fe.friendlyName=v(ce.safeContents,"friendlyName",Ae.friendlyName,Ae.bagType)),Fe},getBagsByFriendlyName:function(Ae,Fe){return v(ce.safeContents,"friendlyName",Ae,Fe)},getBagsByLocalKeyId:function(Ae,Fe){return v(ce.safeContents,"localKeyId",Ae,Fe)}};if(3!==H.version.charCodeAt(0))throw(z=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=H.version.charCodeAt(0),z;if(e.derToOid(H.contentType)!==p.oids.data)throw(z=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(H.contentType),z;var de=H.content.value[0];if(de.tagClass!==e.Class.UNIVERSAL||de.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(de=B(de),H.mac){var Y=null,Z=0,ne=e.derToOid(H.macAlgorithm);switch(ne){case p.oids.sha1:Y=t.md.sha1.create(),Z=20;break;case p.oids.sha256:Y=t.md.sha256.create(),Z=32;break;case p.oids.sha384:Y=t.md.sha384.create(),Z=48;break;case p.oids.sha512:Y=t.md.sha512.create(),Z=64;break;case p.oids.md5:Y=t.md.md5.create(),Z=16}if(null===Y)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+ne);var I=new t.util.ByteBuffer(H.macSalt),pe="macIterations"in H?parseInt(t.util.bytesToHex(H.macIterations),16):1,K=S.generateKey(N,I,3,pe,Z,Y),he=t.hmac.create();if(he.start(Y,K),he.update(de.value),he.getMac().getBytes()!==H.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function U(P,W,N,H){if((W=e.fromDer(W,N)).tagClass!==e.Class.UNIVERSAL||W.type!==e.Type.SEQUENCE||!0!==W.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var G=0;G<W.value.length;G++){var ce={},de=[];if(!e.validate(W.value[G],C,ce,de))throw(Y=new Error("Cannot read ContentInfo.")).errors=de,Y;var Z={encrypted:!1},ne=null,I=ce.content.value[0];switch(e.derToOid(ce.contentType)){case p.oids.data:if(I.tagClass!==e.Class.UNIVERSAL||I.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");ne=B(I).value;break;case p.oids.encryptedData:ne=a(I,H),Z.encrypted=!0;break;default:var Y;throw(Y=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(ce.contentType),Y}Z.safeBags=k(ne,N,H),P.safeContents.push(Z)}}(ce,de.value,W,N),ce},S.toPkcs12Asn1=function(P,W,N,H){(H=H||{}).saltSize=H.saltSize||8,H.count=H.count||2048,H.algorithm=H.algorithm||H.encAlgorithm||"aes128","useMac"in H||(H.useMac=!0),"localKeyId"in H||(H.localKeyId=null),"generateLocalKeyId"in H||(H.generateLocalKeyId=!0);var z,G=H.localKeyId;if(null!==G)G=t.util.hexToBytes(G);else if(H.generateLocalKeyId)if(W){var ce=t.util.isArray(W)?W[0]:W;"string"==typeof ce&&(ce=p.certificateFromPem(ce)),(de=t.md.sha1.create()).update(e.toDer(p.certificateToAsn1(ce)).getBytes()),G=de.digest().getBytes()}else G=t.random.getBytes(20);var Y=[];null!==G&&Y.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,G)])])),"friendlyName"in H&&Y.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,H.friendlyName)])])),Y.length>0&&(z=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,Y));var Z=[],ne=[];null!==W&&(ne=t.util.isArray(W)?W:[W]);for(var I=[],pe=0;pe<ne.length;++pe){"string"==typeof(W=ne[pe])&&(W=p.certificateFromPem(W));var K=0===pe?z:void 0,he=p.certificateToAsn1(W),Oe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(he).getBytes())])])]),K]);I.push(Oe)}if(I.length>0){var Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,I),Fe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ae).getBytes())])]);Z.push(Fe)}var qe=null;if(null!==P){var Me=p.wrapRsaPrivateKey(p.privateKeyToAsn1(P));qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===N?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Me]),z]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[p.encryptPrivateKeyInfo(Me,N,H)]),z]);var Te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[qe]),ge=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Te).getBytes())])]);Z.push(ge)}var xe,$e=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,Z);if(H.useMac){var de=t.md.sha1.create(),pt=new t.util.ByteBuffer(t.random.getBytes(H.saltSize)),Le=H.count,Ct=(P=S.generateKey(N,pt,3,Le,20),t.hmac.create());Ct.start(de,P),Ct.update(e.toDer($e).getBytes());var ut=Ct.getMac();xe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,ut.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,pt.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Le).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer($e).getBytes())])]),xe])},S.generateKey=t.pbe.generatePkcs12Key},8645:(nt,ye,d)=>{var t=d(6589);d(57),d(7097),d(3674),d(1817),d(9368),d(8291),d(1675),d(812),d(9436);var e=t.asn1,p=nt.exports=t.pkcs7=t.pkcs7||{};function S(P){var W={},N=[];if(!e.validate(P,p.asn1.recipientInfoValidator,W,N)){var H=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw H.errors=N,H}return{version:W.version.charCodeAt(0),issuer:t.pki.RDNAttributesAsArray(W.issuer),serialNumber:t.util.createBuffer(W.serial).toHex(),encryptedContent:{algorithm:e.derToOid(W.encAlgorithm),parameter:W.encParameter?W.encParameter.value:void 0,content:W.encKey}}}function C(P){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:P.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(P.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.encryptedContent.content)])}function g(P){for(var W=[],N=0;N<P.length;++N)W.push(C(P[N]));return W}function E(P){var W=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[t.pki.distinguishedNameToAsn1({attributes:P.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(P.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(P.authenticatedAttributesAsn1&&W.value.push(P.authenticatedAttributesAsn1),W.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),W.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.signature)),P.unauthenticatedAttributes.length>0){for(var N=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),H=0;H<P.unauthenticatedAttributes.length;++H)N.values.push(U(P.unauthenticatedAttributes[H]));W.value.push(N)}return W}function U(P){var W;if(P.type===t.pki.oids.contentType)W=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.value).getBytes());else if(P.type===t.pki.oids.messageDigest)W=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.value.bytes());else if(P.type===t.pki.oids.signingTime){var N=new Date("1950-01-01T00:00:00Z"),H=new Date("2050-01-01T00:00:00Z"),G=P.value;if("string"==typeof G){var z=Date.parse(G);G=isNaN(z)?13===G.length?e.utcTimeToDate(G):e.generalizedTimeToDate(G):new Date(z)}W=G>=N&&G<H?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(G)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(G))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[W])])}function a(P){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.algorithm).getBytes()),P.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,P.content.getBytes())])]}function k(P,W,N){var H={};if(!e.validate(W,N,H,[])){var z=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw z.errors=z,z}if(e.derToOid(H.contentType)!==t.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(H.encryptedContent){var de="";if(t.util.isArray(H.encryptedContent))for(var Y=0;Y<H.encryptedContent.length;++Y){if(H.encryptedContent[Y].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");de+=H.encryptedContent[Y].value}else de=H.encryptedContent;P.encryptedContent={algorithm:e.derToOid(H.encAlgorithm),parameter:t.util.createBuffer(H.encParameter.value),content:t.util.createBuffer(de)}}if(H.content){if(de="",t.util.isArray(H.content))for(Y=0;Y<H.content.length;++Y){if(H.content[Y].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");de+=H.content[Y].value}else de=H.content;P.content=t.util.createBuffer(de)}return P.version=H.version.charCodeAt(0),P.rawCapture=H,H}function O(P){if(void 0===P.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===P.content){var W;switch(P.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:case t.pki.oids["aes192-CBC"]:case t.pki.oids["aes256-CBC"]:W=t.aes.createDecryptionCipher(P.encryptedContent.key);break;case t.pki.oids.desCBC:case t.pki.oids["des-EDE3-CBC"]:W=t.des.createDecryptionCipher(P.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+P.encryptedContent.algorithm)}if(W.start(P.encryptedContent.parameter),W.update(P.encryptedContent.content),!W.finish())throw new Error("Symmetric decryption failed.");P.content=W.output}}p.messageFromPem=function(P){var W=t.pem.decode(P)[0];if("PKCS7"!==W.type){var N=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw N.headerType=W.type,N}if(W.procType&&"ENCRYPTED"===W.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var H=e.fromDer(W.body);return p.messageFromAsn1(H)},p.messageToPem=function(P,W){var N={type:"PKCS7",body:e.toDer(P.toAsn1()).getBytes()};return t.pem.encode(N,{maxline:W})},p.messageFromAsn1=function(P){var W={},N=[];if(!e.validate(P,p.asn1.contentInfoValidator,W,N)){var H=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw H.errors=N,H}var z,G=e.derToOid(W.contentType);switch(G){case t.pki.oids.envelopedData:z=p.createEnvelopedData();break;case t.pki.oids.encryptedData:z=p.createEncryptedData();break;case t.pki.oids.signedData:z=p.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+G+" is not (yet) supported.")}return z.fromAsn1(W.content.value[0]),z},p.createSignedData=function(){var P=null;return P={type:t.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(H){if(k(P,H,p.asn1.signedDataValidator),P.certificates=[],P.crls=[],P.digestAlgorithmIdentifiers=[],P.contentInfo=null,P.signerInfos=[],P.rawCapture.certificates)for(var G=P.rawCapture.certificates.value,z=0;z<G.length;++z)P.certificates.push(t.pki.certificateFromAsn1(G[z]))},toAsn1:function(){P.contentInfo||P.sign();for(var H=[],G=0;G<P.certificates.length;++G)H.push(t.pki.certificateToAsn1(P.certificates[G]));var z=[],ce=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,P.digestAlgorithmIdentifiers),P.contentInfo])]);return H.length>0&&ce.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,H)),z.length>0&&ce.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,z)),ce.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,P.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),ce])},addSigner:function(H){var G=H.issuer,z=H.serialNumber;if(H.certificate){var ce=H.certificate;"string"==typeof ce&&(ce=t.pki.certificateFromPem(ce)),G=ce.issuer.attributes,z=ce.serialNumber}var de=H.key;if(!de)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof de&&(de=t.pki.privateKeyFromPem(de));var Y=H.digestAlgorithm||t.pki.oids.sha1;switch(Y){case t.pki.oids.sha1:case t.pki.oids.sha256:case t.pki.oids.sha384:case t.pki.oids.sha512:case t.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+Y)}var Z=H.authenticatedAttributes||[];if(Z.length>0){for(var ne=!1,I=!1,pe=0;pe<Z.length;++pe){var K=Z[pe];if(ne||K.type!==t.pki.oids.contentType){if(I||K.type!==t.pki.oids.messageDigest);else if(I=!0,ne)break}else if(ne=!0,I)break}if(!ne||!I)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}P.signers.push({key:de,version:1,issuer:G,serialNumber:z,digestAlgorithm:Y,signatureAlgorithm:t.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:Z,unauthenticatedAttributes:[]})},sign:function(H){var G;if(H=H||{},"object"==typeof P.content&&null!==P.contentInfo||(P.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.pki.oids.data).getBytes())]),!("content"in P))||(P.content instanceof t.util.ByteBuffer?G=P.content.bytes():"string"==typeof P.content&&(G=t.util.encodeUtf8(P.content)),H.detached?P.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,G):P.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,G)]))),0!==P.signers.length){var z=function W(){for(var H={},G=0;G<P.signers.length;++G){var z=P.signers[G];(ce=z.digestAlgorithm)in H||(H[ce]=t.md[t.pki.oids[ce]].create()),z.md=0===z.authenticatedAttributes.length?H[ce]:t.md[t.pki.oids[ce]].create()}for(var ce in P.digestAlgorithmIdentifiers=[],H)P.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ce).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return H}();!function N(H){var G;if(P.detachedContent?G=P.detachedContent:G=(G=P.contentInfo.value[1]).value[0],!G)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var z=e.derToOid(P.contentInfo.value[0].value),ce=e.toDer(G);for(var de in ce.getByte(),e.getBerValueLength(ce),ce=ce.getBytes(),H)H[de].start().update(ce);for(var Y=new Date,Z=0;Z<P.signers.length;++Z){var ne=P.signers[Z];if(0===ne.authenticatedAttributes.length){if(z!==t.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{ne.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),pe=0;pe<ne.authenticatedAttributes.length;++pe){var K=ne.authenticatedAttributes[pe];K.type===t.pki.oids.messageDigest?K.value=H[ne.digestAlgorithm].digest():K.type===t.pki.oids.signingTime&&(K.value||(K.value=Y)),I.value.push(U(K)),ne.authenticatedAttributesAsn1.value.push(U(K))}ce=e.toDer(I).getBytes(),ne.md.start().update(ce)}ne.signature=ne.key.sign(ne.md,"RSASSA-PKCS1-V1_5")}P.signerInfos=function B(P){for(var W=[],N=0;N<P.length;++N)W.push(E(P[N]));return W}(P.signers)}(z)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(H){"string"==typeof H&&(H=t.pki.certificateFromPem(H)),P.certificates.push(H)},addCertificateRevokationList:function(H){throw new Error("PKCS#7 CRL support not yet implemented.")}}},p.createEncryptedData=function(){var P=null;return P={type:t.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(W){k(P,W,p.asn1.encryptedDataValidator)},decrypt:function(W){void 0!==W&&(P.encryptedContent.key=W),O(P)}}},p.createEnvelopedData=function(){var P=null;return P={type:t.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:t.pki.oids["aes256-CBC"]},fromAsn1:function(W){var N=k(P,W,p.asn1.envelopedDataValidator);P.recipients=function w(P){for(var W=[],N=0;N<P.length;++N)W.push(S(P[N]));return W}(N.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(P.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(P.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,g(P.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,a(P.encryptedContent))])])])},findRecipient:function(W){for(var N=W.issuer.attributes,H=0;H<P.recipients.length;++H){var G=P.recipients[H],z=G.issuer;if(G.serialNumber===W.serialNumber&&z.length===N.length){for(var ce=!0,de=0;de<N.length;++de)if(z[de].type!==N[de].type||z[de].value!==N[de].value){ce=!1;break}if(ce)return G}}return null},decrypt:function(W,N){if(void 0===P.encryptedContent.key&&void 0!==W&&void 0!==N)switch(W.encryptedContent.algorithm){case t.pki.oids.rsaEncryption:case t.pki.oids.desCBC:var H=N.decrypt(W.encryptedContent.content);P.encryptedContent.key=t.util.createBuffer(H);break;default:throw new Error("Unsupported asymmetric cipher, OID "+W.encryptedContent.algorithm)}O(P)},addRecipient:function(W){P.recipients.push({version:0,issuer:W.issuer.attributes,serialNumber:W.serialNumber,encryptedContent:{algorithm:t.pki.oids.rsaEncryption,key:W.publicKey}})},encrypt:function(W,N){if(void 0===P.encryptedContent.content){var H,G,z;switch(W=W||P.encryptedContent.key,N=N||P.encryptedContent.algorithm){case t.pki.oids["aes128-CBC"]:H=16,G=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["aes192-CBC"]:H=24,G=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["aes256-CBC"]:H=32,G=16,z=t.aes.createEncryptionCipher;break;case t.pki.oids["des-EDE3-CBC"]:H=24,G=8,z=t.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+N)}if(void 0===W)W=t.util.createBuffer(t.random.getBytes(H));else if(W.length()!=H)throw new Error("Symmetric key has wrong length; got "+W.length()+" bytes, expected "+H+".");P.encryptedContent.algorithm=N,P.encryptedContent.key=W,P.encryptedContent.parameter=t.util.createBuffer(t.random.getBytes(G));var ce=z(W);if(ce.start(P.encryptedContent.parameter.copy()),ce.update(P.content),!ce.finish())throw new Error("Symmetric encryption failed.");P.encryptedContent.content=ce.output}for(var de=0;de<P.recipients.length;++de){var Y=P.recipients[de];if(void 0===Y.encryptedContent.content){if(Y.encryptedContent.algorithm!==t.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+Y.encryptedContent.algorithm);Y.encryptedContent.content=Y.encryptedContent.key.encrypt(P.encryptedContent.key.data)}}}}}},8291:(nt,ye,d)=>{var t=d(6589);d(7097),d(812);var e=t.asn1,p=nt.exports=t.pkcs7asn1=t.pkcs7asn1||{};t.pkcs7=t.pkcs7||{},t.pkcs7.asn1=p;var S={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};p.contentInfoValidator=S;var C={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};p.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(C)},p.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(C)},p.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},S,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},p.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(nt,ye,d)=>{var t=d(6589);d(7097),d(1817),d(1347),d(9368),d(1097),d(4724),d(8588),d(2880),d(812),d(9436);var e=t.asn1,p=nt.exports=t.pki=t.pki||{};p.pemToDer=function(S){var C=t.pem.decode(S)[0];if(C.procType&&"ENCRYPTED"===C.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return t.util.createBuffer(C.body)},p.privateKeyFromPem=function(S){var C=t.pem.decode(S)[0];if("PRIVATE KEY"!==C.type&&"RSA PRIVATE KEY"!==C.type){var w=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw w.headerType=C.type,w}if(C.procType&&"ENCRYPTED"===C.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var g=e.fromDer(C.body);return p.privateKeyFromAsn1(g)},p.privateKeyToPem=function(S,C){var w={type:"RSA PRIVATE KEY",body:e.toDer(p.privateKeyToAsn1(S)).getBytes()};return t.pem.encode(w,{maxline:C})},p.privateKeyInfoToPem=function(S,C){var w={type:"PRIVATE KEY",body:e.toDer(S).getBytes()};return t.pem.encode(w,{maxline:C})}},3697:(nt,ye,d)=>{var t=d(6589);d(812),d(3364),d(1675),function(){if(t.prime)nt.exports=t.prime;else{var e=nt.exports=t.prime=t.prime||{},p=t.jsbn.BigInteger,S=[6,4,2,4,2,4,6,2],C=new p(null);C.fromInt(30);var w=function(a,k){return a|k};e.generateProbablePrime=function(a,k,O){"function"==typeof k&&(O=k,k={});var P=(k=k||{}).algorithm||"PRIMEINC";"string"==typeof P&&(P={name:P}),P.options=P.options||{};var W=k.prng||t.random;if("PRIMEINC"===P.name)return function g(a,k,O,P){return"workers"in O?function v(a,k,O,P){if(typeof Worker>"u")return h(a,k,O,P);var W=B(a,k),N=O.workers,H=O.workLoad||100,G=30*H/8,z=O.workerScript||"forge/prime.worker.js";if(-1===N)return t.util.estimateCores(function(de,Y){de&&(Y=2),N=Y-1,ce()});function ce(){N=Math.max(1,N);for(var de=[],Y=0;Y<N;++Y)de[Y]=new Worker(z);for(Y=0;Y<N;++Y)de[Y].addEventListener("message",I);var ne=!1;function I(pe){if(!ne){var K=pe.data;if(K.found){for(var he=0;he<de.length;++he)de[he].terminate();return ne=!0,P(null,new p(K.prime,16))}W.bitLength()>a&&(W=B(a,k));var Oe=W.toString(16);pe.target.postMessage({hex:Oe,workLoad:H}),W.dAddOffset(G,0)}}}ce()}(a,k,O,P):h(a,k,O,P)}(a,{nextBytes:function(H){for(var G=W.getBytesSync(H.length),z=0;z<H.length;++z)H[z]=G.charCodeAt(z)}},P.options,O);throw new Error("Invalid prime generation algorithm: "+P.name)}}function h(a,k,O,P){var W=B(a,k),H=function U(a){return a<=100?27:a<=150?18:a<=200?15:a<=250?12:a<=300?9:a<=350?8:a<=400?7:a<=500?6:a<=600?5:a<=800?4:a<=1250?3:2}(W.bitLength());"millerRabinTests"in O&&(H=O.millerRabinTests);var G=10;"maxBlockTime"in O&&(G=O.maxBlockTime),E(W,a,k,0,H,G,P)}function E(a,k,O,P,W,N,H){var G=+new Date;do{if(a.bitLength()>k&&(a=B(k,O)),a.isProbablePrime(W))return H(null,a);a.dAddOffset(S[P++%8],0)}while(N<0||+new Date-G<N);t.util.setImmediate(function(){E(a,k,O,P,W,N,H)})}function B(a,k){var O=new p(a,k),P=a-1;return O.testBit(P)||O.bitwiseTo(p.ONE.shiftLeft(P),w,O),O.dAddOffset(31-O.mod(C).byteValue(),0),O}}()},409:(nt,ye,d)=>{var t=d(6589);d(812);var e=null;t.util.isNodejs&&!t.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=d(310)),(nt.exports=t.prng=t.prng||{}).create=function(S){for(var C={plugin:S,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},w=S.md,g=new Array(32),h=0;h<32;++h)g[h]=w.create();function v(){if(C.pools[0].messageLength>=32)return B();C.collect(C.seedFileSync(32-C.pools[0].messageLength<<5)),B()}function B(){C.reseeds=4294967295===C.reseeds?0:C.reseeds+1;var a=C.plugin.md.create();a.update(C.keyBytes);for(var k=1,O=0;O<32;++O)C.reseeds%k==0&&(a.update(C.pools[O].digest().getBytes()),C.pools[O].start()),k<<=1;C.keyBytes=a.digest().getBytes(),a.start(),a.update(C.keyBytes);var P=a.digest().getBytes();C.key=C.plugin.formatKey(C.keyBytes),C.seed=C.plugin.formatSeed(P),C.generated=0}function U(a){var k=null,O=t.util.globalScope,P=O.crypto||O.msCrypto;P&&P.getRandomValues&&(k=function(Z){return P.getRandomValues(Z)});var W=t.util.createBuffer();if(k)for(;W.length()<a;){var N=Math.max(1,Math.min(a-W.length(),65536)/4),H=new Uint32Array(Math.floor(N));try{k(H);for(var G=0;G<H.length;++G)W.putInt32(H[G])}catch(Z){if(!(typeof QuotaExceededError<"u"&&Z instanceof QuotaExceededError))throw Z}}if(W.length()<a)for(var z,ce,de,Y=Math.floor(65536*Math.random());W.length()<a;)for(ce=16807*(65535&Y),ce+=(32767&(z=16807*(Y>>16)))<<16,Y=4294967295&(ce=(2147483647&(ce+=z>>15))+(ce>>31)),G=0;G<3;++G)de=Y>>>(G<<3),de^=Math.floor(256*Math.random()),W.putByte(255&de);return W.getBytes(a)}return C.pools=g,C.pool=0,C.generate=function(a,k){if(!k)return C.generateSync(a);var O=C.plugin.cipher,P=C.plugin.increment,W=C.plugin.formatKey,N=C.plugin.formatSeed,H=t.util.createBuffer();C.key=null,function G(z){if(z)return k(z);if(H.length()>=a)return k(null,H.getBytes(a));if(C.generated>1048575&&(C.key=null),null===C.key)return t.util.nextTick(function(){!function E(a){if(C.pools[0].messageLength>=32)return B(),a();C.seedFile(32-C.pools[0].messageLength<<5,function(O,P){if(O)return a(O);C.collect(P),B(),a()})}(G)});var ce=O(C.key,C.seed);C.generated+=ce.length,H.putBytes(ce),C.key=W(O(C.key,P(C.seed))),C.seed=N(O(C.key,C.seed)),t.util.setImmediate(G)}()},C.generateSync=function(a){var k=C.plugin.cipher,O=C.plugin.increment,P=C.plugin.formatKey,W=C.plugin.formatSeed;C.key=null;for(var N=t.util.createBuffer();N.length()<a;){C.generated>1048575&&(C.key=null),null===C.key&&v();var H=k(C.key,C.seed);C.generated+=H.length,N.putBytes(H),C.key=P(k(C.key,O(C.seed))),C.seed=W(k(C.key,C.seed))}return N.getBytes(a)},e?(C.seedFile=function(a,k){e.randomBytes(a,function(O,P){if(O)return k(O);k(null,P.toString())})},C.seedFileSync=function(a){return e.randomBytes(a).toString()}):(C.seedFile=function(a,k){try{k(null,U(a))}catch(O){k(O)}},C.seedFileSync=U),C.collect=function(a){for(var k=a.length,O=0;O<k;++O)C.pools[C.pool].update(a.substr(O,1)),C.pool=31===C.pool?0:C.pool+1},C.collectInt=function(a,k){for(var O="",P=0;P<k;P+=8)O+=String.fromCharCode(a>>P&255);C.collect(O)},C.registerWorker=function(a){a===self?C.seedFile=function(O,P){self.addEventListener("message",function W(N){var H=N.data;H.forge&&H.forge.prng&&(self.removeEventListener("message",W),P(H.forge.prng.err,H.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:O}}})}:a.addEventListener("message",function(O){var P=O.data;P.forge&&P.forge.prng&&C.seedFile(P.forge.prng.needed,function(W,N){a.postMessage({forge:{prng:{err:W,bytes:N}}})})})},C}},8588:(nt,ye,d)=>{var t=d(6589);d(1675),d(812),(nt.exports=t.pss=t.pss||{}).create=function(p){3===arguments.length&&(p={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var h,S=p.md,C=p.mgf,w=S.digestLength,g=p.salt||null;if("string"==typeof g&&(g=t.util.createBuffer(g)),"saltLength"in p)h=p.saltLength;else{if(null===g)throw new Error("Salt length not specified or specific salt not given.");h=g.length()}if(null!==g&&g.length()!==h)throw new Error("Given salt length does not match length of given salt.");var E=p.prng||t.random;return{encode:function(B,U){var a,W,k=U-1,O=Math.ceil(k/8),P=B.digest().getBytes();if(O<w+h+2)throw new Error("Message is too long to encrypt.");W=null===g?E.getBytesSync(h):g.bytes();var N=new t.util.ByteBuffer;N.fillWithByte(0,8),N.putBytes(P),N.putBytes(W),S.start(),S.update(N.getBytes());var H=S.digest().getBytes(),G=new t.util.ByteBuffer;G.fillWithByte(0,O-h-w-2),G.putByte(1),G.putBytes(W);var z=G.getBytes(),ce=O-w-1,de=C.generate(H,ce),Y="";for(a=0;a<ce;a++)Y+=String.fromCharCode(z.charCodeAt(a)^de.charCodeAt(a));var Z=65280>>8*O-k&255;return(Y=String.fromCharCode(Y.charCodeAt(0)&~Z)+Y.substr(1))+H+"\xbc"},verify:function(B,U,a){var k,O=a-1,P=Math.ceil(O/8);if(U=U.substr(-P),P<w+h+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==U.charCodeAt(P-1))throw new Error("Encoded message does not end in 0xBC.");var W=P-w-1,N=U.substr(0,W),H=U.substr(W,w),G=65280>>8*P-O&255;if(N.charCodeAt(0)&G)throw new Error("Bits beyond keysize not zero as expected.");var z=C.generate(H,W),ce="";for(k=0;k<W;k++)ce+=String.fromCharCode(N.charCodeAt(k)^z.charCodeAt(k));ce=String.fromCharCode(ce.charCodeAt(0)&~G)+ce.substr(1);var de=P-w-h-2;for(k=0;k<de;k++)if(0!==ce.charCodeAt(k))throw new Error("Leftmost octets not zero as expected");if(1!==ce.charCodeAt(de))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var Y=ce.substr(-h),Z=new t.util.ByteBuffer;return Z.fillWithByte(0,8),Z.putBytes(B),Z.putBytes(Y),S.start(),S.update(Z.getBytes()),H===S.digest().getBytes()}}}},1675:(nt,ye,d)=>{var t=d(6589);d(57),d(2507),d(409),d(812),t.random&&t.random.getBytes?nt.exports=t.random:function(e){var p={},S=new Array(4),C=t.util.createBuffer();function w(){var a=t.prng.create(p);return a.getBytes=function(k,O){return a.generate(k,O)},a.getBytesSync=function(k){return a.generate(k)},a}p.formatKey=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),t.aes._expandKey(a,!1)},p.formatSeed=function(a){var k=t.util.createBuffer(a);return(a=new Array(4))[0]=k.getInt32(),a[1]=k.getInt32(),a[2]=k.getInt32(),a[3]=k.getInt32(),a},p.cipher=function(a,k){return t.aes._updateBlock(a,k,S,!1),C.putInt32(S[0]),C.putInt32(S[1]),C.putInt32(S[2]),C.putInt32(S[3]),C.getBytes()},p.increment=function(a){return++a[3],a},p.md=t.md.sha256;var g=w(),h=null,E=t.util.globalScope,v=E.crypto||E.msCrypto;if(v&&v.getRandomValues&&(h=function(a){return v.getRandomValues(a)}),t.options.usePureJavaScript||!t.util.isNodejs&&!h){if(typeof window>"u"||window,g.collectInt(+new Date,32),typeof navigator<"u"){var B="";for(var U in navigator)try{"string"==typeof navigator[U]&&(B+=navigator[U])}catch{}g.collect(B),B=null}e&&(e().mousemove(function(a){g.collectInt(a.clientX,16),g.collectInt(a.clientY,16)}),e().keypress(function(a){g.collectInt(a.charCode,8)}))}if(t.random)for(var U in g)t.random[U]=g[U];else t.random=g;t.random.createInstance=w,nt.exports=t.random}(typeof jQuery<"u"?jQuery:null)},1881:(nt,ye,d)=>{var t=d(6589);d(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],p=[1,2,3,5],S=function(g,h){return g<<h&65535|(65535&g)>>16-h},C=function(g,h){return(65535&g)>>h|g<<16-h&65535};nt.exports=t.rc2=t.rc2||{},t.rc2.expandKey=function(g,h){"string"==typeof g&&(g=t.util.createBuffer(g)),h=h||128;var k,E=g,v=g.length(),B=h,U=Math.ceil(B/8),a=255>>(7&B);for(k=v;k<128;k++)E.putByte(e[E.at(k-1)+E.at(k-v)&255]);for(E.setAt(128-U,e[E.at(128-U)&a]),k=127-U;k>=0;k--)E.setAt(k,e[E.at(k+1)^E.at(k+U)]);return E};var w=function(g,h,E){var k,O,P,W,v=!1,B=null,U=null,a=null,N=[];for(g=t.rc2.expandKey(g,h),P=0;P<64;P++)N.push(g.getInt16Le());E?(k=function(z){for(P=0;P<4;P++)z[P]+=N[W]+(z[(P+3)%4]&z[(P+2)%4])+(~z[(P+3)%4]&z[(P+1)%4]),z[P]=S(z[P],p[P]),W++},O=function(z){for(P=0;P<4;P++)z[P]+=N[63&z[(P+3)%4]]}):(k=function(z){for(P=3;P>=0;P--)z[P]=C(z[P],p[P]),z[P]-=N[W]+(z[(P+3)%4]&z[(P+2)%4])+(~z[(P+3)%4]&z[(P+1)%4]),W--},O=function(z){for(P=3;P>=0;P--)z[P]-=N[63&z[(P+3)%4]]});var H=function(z){var ce=[];for(P=0;P<4;P++){var de=B.getInt16Le();null!==a&&(E?de^=a.getInt16Le():a.putInt16Le(de)),ce.push(65535&de)}W=E?0:63;for(var Y=0;Y<z.length;Y++)for(var Z=0;Z<z[Y][0];Z++)z[Y][1](ce);for(P=0;P<4;P++)null!==a&&(E?a.putInt16Le(ce[P]):ce[P]^=a.getInt16Le()),U.putInt16Le(ce[P])},G=null;return G={start:function(z,ce){z&&"string"==typeof z&&(z=t.util.createBuffer(z)),v=!1,B=t.util.createBuffer(),U=ce||new t.util.createBuffer,a=z,G.output=U},update:function(z){for(v||B.putBuffer(z);B.length()>=8;)H([[5,k],[1,O],[6,k],[1,O],[5,k]])},finish:function(z){var ce=!0;if(E)if(z)ce=z(8,B,!E);else{var de=8===B.length()?8:8-B.length();B.fillWithByte(de,de)}if(ce&&(v=!0,G.update()),!E&&(ce=0===B.length()))if(z)ce=z(8,U,!E);else{var Y=U.length(),Z=U.at(Y-1);Z>Y?ce=!1:U.truncate(Z)}return ce}}};t.rc2.startEncrypting=function(g,h,E){var v=t.rc2.createEncryptionCipher(g,128);return v.start(h,E),v},t.rc2.createEncryptionCipher=function(g,h){return w(g,h,!0)},t.rc2.startDecrypting=function(g,h,E){var v=t.rc2.createDecryptionCipher(g,128);return v.start(h,E),v},t.rc2.createDecryptionCipher=function(g,h){return w(g,h,!1)}},2880:(nt,ye,d)=>{var t=d(6589);if(d(7097),d(3364),d(1817),d(8788),d(3697),d(1675),d(812),typeof e>"u")var e=t.jsbn.BigInteger;var p=t.util.isNodejs?d(310):null,S=t.asn1,C=t.util;t.pki=t.pki||{},nt.exports=t.pki.rsa=t.rsa=t.rsa||{};var w=t.pki,g=[6,4,2,4,2,4,6,2],h={name:"PrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},E={name:"RSAPrivateKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},v={name:"RSAPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:S.Class.UNIVERSAL,type:S.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},B=t.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},U={name:"DigestInfo",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:S.Class.UNIVERSAL,type:S.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:S.Class.UNIVERSAL,type:S.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:S.Class.UNIVERSAL,type:S.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:S.Class.UNIVERSAL,type:S.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},a=function(I){if(!(I.algorithm in w.oids)){var K=new Error("Unknown message digest algorithm.");throw K.algorithm=I.algorithm,K}var he=S.oidToDer(w.oids[I.algorithm]).getBytes(),Oe=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]),Ae=S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[]);Ae.value.push(S.create(S.Class.UNIVERSAL,S.Type.OID,!1,he)),Ae.value.push(S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,""));var Fe=S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,I.digest().getBytes());return Oe.value.push(Ae),Oe.value.push(Fe),S.toDer(Oe).getBytes()},k=function(I,pe,K){if(K)return I.modPow(pe.e,pe.n);if(!pe.p||!pe.q)return I.modPow(pe.d,pe.n);var he;pe.dP||(pe.dP=pe.d.mod(pe.p.subtract(e.ONE))),pe.dQ||(pe.dQ=pe.d.mod(pe.q.subtract(e.ONE))),pe.qInv||(pe.qInv=pe.q.modInverse(pe.p));do{he=new e(t.util.bytesToHex(t.random.getBytes(pe.n.bitLength()/8)),16)}while(he.compareTo(pe.n)>=0||!he.gcd(pe.n).equals(e.ONE));for(var Oe=(I=I.multiply(he.modPow(pe.e,pe.n)).mod(pe.n)).mod(pe.p).modPow(pe.dP,pe.p),Ae=I.mod(pe.q).modPow(pe.dQ,pe.q);Oe.compareTo(Ae)<0;)Oe=Oe.add(pe.p);var Fe=Oe.subtract(Ae).multiply(pe.qInv).mod(pe.p).multiply(pe.q).add(Ae);return Fe.multiply(he.modInverse(pe.n)).mod(pe.n)};function O(I,pe,K){var he=t.util.createBuffer(),Oe=Math.ceil(pe.n.bitLength()/8);if(I.length>Oe-11){var Ae=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Ae.length=I.length,Ae.max=Oe-11,Ae}he.putByte(0),he.putByte(K);var qe,Fe=Oe-3-I.length;if(0===K||1===K){qe=0===K?0:255;for(var Me=0;Me<Fe;++Me)he.putByte(qe)}else for(;Fe>0;){var Te=0,ge=t.random.getBytes(Fe);for(Me=0;Me<Fe;++Me)0===(qe=ge.charCodeAt(Me))?++Te:he.putByte(qe);Fe=Te}return he.putByte(0),he.putBytes(I),he}function P(I,pe,K,he){var Oe=Math.ceil(pe.n.bitLength()/8),Ae=t.util.createBuffer(I),Fe=Ae.getByte(),qe=Ae.getByte();if(0!==Fe||K&&0!==qe&&1!==qe||!K&&2!=qe||K&&0===qe&&typeof he>"u")throw new Error("Encryption block is invalid.");var Me=0;if(0===qe){Me=Oe-3-he;for(var Te=0;Te<Me;++Te)if(0!==Ae.getByte())throw new Error("Encryption block is invalid.")}else if(1===qe)for(Me=0;Ae.length()>1;){if(255!==Ae.getByte()){--Ae.read;break}++Me}else if(2===qe)for(Me=0;Ae.length()>1;){if(0===Ae.getByte()){--Ae.read;break}++Me}if(0!==Ae.getByte()||Me!==Oe-3-Ae.length())throw new Error("Encryption block is invalid.");return Ae.getBytes()}function N(I){var pe=I.toString(16);pe[0]>="8"&&(pe="00"+pe);var K=t.util.hexToBytes(pe);return!(K.length>1)||(0!==K.charCodeAt(0)||128&K.charCodeAt(1))&&(255!==K.charCodeAt(0)||128&~K.charCodeAt(1))?K:K.substr(1)}function H(I){return I<=100?27:I<=150?18:I<=200?15:I<=250?12:I<=300?9:I<=350?8:I<=400?7:I<=500?6:I<=600?5:I<=800?4:I<=1250?3:2}function G(I){return t.util.isNodejs&&"function"==typeof p[I]}function z(I){return typeof C.globalScope<"u"&&"object"==typeof C.globalScope.crypto&&"object"==typeof C.globalScope.crypto.subtle&&"function"==typeof C.globalScope.crypto.subtle[I]}function ce(I){return typeof C.globalScope<"u"&&"object"==typeof C.globalScope.msCrypto&&"object"==typeof C.globalScope.msCrypto.subtle&&"function"==typeof C.globalScope.msCrypto.subtle[I]}function de(I){for(var pe=t.util.hexToBytes(I.toString(16)),K=new Uint8Array(pe.length),he=0;he<pe.length;++he)K[he]=pe.charCodeAt(he);return K}w.rsa.encrypt=function(I,pe,K){var Oe,he=K,Ae=Math.ceil(pe.n.bitLength()/8);!1!==K&&!0!==K?(he=2===K,Oe=O(I,pe,K)):(Oe=t.util.createBuffer()).putBytes(I);for(var Fe=new e(Oe.toHex(),16),Me=k(Fe,pe,he).toString(16),Te=t.util.createBuffer(),ge=Ae-Math.ceil(Me.length/2);ge>0;)Te.putByte(0),--ge;return Te.putBytes(t.util.hexToBytes(Me)),Te.getBytes()},w.rsa.decrypt=function(I,pe,K,he){var Oe=Math.ceil(pe.n.bitLength()/8);if(I.length!==Oe){var Ae=new Error("Encrypted message length is invalid.");throw Ae.length=I.length,Ae.expected=Oe,Ae}var Fe=new e(t.util.createBuffer(I).toHex(),16);if(Fe.compareTo(pe.n)>=0)throw new Error("Encrypted message is invalid.");for(var Me=k(Fe,pe,K).toString(16),Te=t.util.createBuffer(),ge=Oe-Math.ceil(Me.length/2);ge>0;)Te.putByte(0),--ge;return Te.putBytes(t.util.hexToBytes(Me)),!1!==he?P(Te.getBytes(),pe,K):Te.getBytes()},w.rsa.createKeyPairGenerationState=function(I,pe,K){"string"==typeof I&&(I=parseInt(I,10)),I=I||2048;var Fe,he=(K=K||{}).prng||t.random,Oe={nextBytes:function(qe){for(var Me=he.getBytesSync(qe.length),Te=0;Te<qe.length;++Te)qe[Te]=Me.charCodeAt(Te)}},Ae=K.algorithm||"PRIMEINC";if("PRIMEINC"!==Ae)throw new Error("Invalid key generation algorithm: "+Ae);return(Fe={algorithm:Ae,state:0,bits:I,rng:Oe,eInt:pe||65537,e:new e(null),p:null,q:null,qBits:I>>1,pBits:I-(I>>1),pqState:0,num:null,keys:null}).e.fromInt(Fe.eInt),Fe},w.rsa.stepKeyPairGenerationState=function(I,pe){"algorithm"in I||(I.algorithm="PRIMEINC");var K=new e(null);K.fromInt(30);for(var Fe,he=0,Oe=function($e,xe){return $e|xe},Ae=+new Date,qe=0;null===I.keys&&(pe<=0||qe<pe);){if(0===I.state){var Me=null===I.p?I.pBits:I.qBits,Te=Me-1;0===I.pqState?(I.num=new e(Me,I.rng),I.num.testBit(Te)||I.num.bitwiseTo(e.ONE.shiftLeft(Te),Oe,I.num),I.num.dAddOffset(31-I.num.mod(K).byteValue(),0),he=0,++I.pqState):1===I.pqState?I.num.bitLength()>Me?I.pqState=0:I.num.isProbablePrime(H(I.num.bitLength()))?++I.pqState:I.num.dAddOffset(g[he++%8],0):2===I.pqState?I.pqState=0===I.num.subtract(e.ONE).gcd(I.e).compareTo(e.ONE)?3:0:3===I.pqState&&(I.pqState=0,null===I.p?I.p=I.num:I.q=I.num,null!==I.p&&null!==I.q&&++I.state,I.num=null)}else if(1===I.state)I.p.compareTo(I.q)<0&&(I.num=I.p,I.p=I.q,I.q=I.num),++I.state;else if(2===I.state)I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),++I.state;else if(3===I.state)0===I.phi.gcd(I.e).compareTo(e.ONE)?++I.state:(I.p=null,I.q=null,I.state=0);else if(4===I.state)I.n=I.p.multiply(I.q),I.n.bitLength()===I.bits?++I.state:(I.q=null,I.state=0);else if(5===I.state){var ge=I.e.modInverse(I.phi);I.keys={privateKey:w.rsa.setPrivateKey(I.n,I.e,ge,I.p,I.q,ge.mod(I.p1),ge.mod(I.q1),I.q.modInverse(I.p)),publicKey:w.rsa.setPublicKey(I.n,I.e)}}qe+=(Fe=+new Date)-Ae,Ae=Fe}return null!==I.keys},w.rsa.generateKeyPair=function(I,pe,K,he){if(1===arguments.length?"object"==typeof I?(K=I,I=void 0):"function"==typeof I&&(he=I,I=void 0):2===arguments.length?"number"==typeof I?"function"==typeof pe?(he=pe,pe=void 0):"number"!=typeof pe&&(K=pe,pe=void 0):(K=I,he=pe,I=void 0,pe=void 0):3===arguments.length&&("number"==typeof pe?"function"==typeof K&&(he=K,K=void 0):(he=K,K=pe,pe=void 0)),K=K||{},void 0===I&&(I=K.bits||2048),void 0===pe&&(pe=K.e||65537),!t.options.usePureJavaScript&&!K.prng&&I>=256&&I<=16384&&(65537===pe||3===pe))if(he){if(G("generateKeyPair"))return p.generateKeyPair("rsa",{modulusLength:I,publicExponent:pe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(qe,Me,Te){if(qe)return he(qe);he(null,{privateKey:w.privateKeyFromPem(Te),publicKey:w.publicKeyFromPem(Me)})});if(z("generateKey")&&z("exportKey"))return C.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:de(pe),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(qe){return C.globalScope.crypto.subtle.exportKey("pkcs8",qe.privateKey)}).then(void 0,function(qe){he(qe)}).then(function(qe){if(qe){var Me=w.privateKeyFromAsn1(S.fromDer(t.util.createBuffer(qe)));he(null,{privateKey:Me,publicKey:w.setRsaPublicKey(Me.n,Me.e)})}});if(ce("generateKey")&&ce("exportKey")){var Oe=C.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:I,publicExponent:de(pe),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Oe.oncomplete=function(qe){var Te=C.globalScope.msCrypto.subtle.exportKey("pkcs8",qe.target.result.privateKey);Te.oncomplete=function(ge){var xe=w.privateKeyFromAsn1(S.fromDer(t.util.createBuffer(ge.target.result)));he(null,{privateKey:xe,publicKey:w.setRsaPublicKey(xe.n,xe.e)})},Te.onerror=function(ge){he(ge)}},void(Oe.onerror=function(qe){he(qe)})}}else if(G("generateKeyPairSync")){var Ae=p.generateKeyPairSync("rsa",{modulusLength:I,publicExponent:pe,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:w.privateKeyFromPem(Ae.privateKey),publicKey:w.publicKeyFromPem(Ae.publicKey)}}var Fe=w.rsa.createKeyPairGenerationState(I,pe,K);if(!he)return w.rsa.stepKeyPairGenerationState(Fe,0),Fe.keys;!function W(I,pe,K){"function"==typeof pe&&(K=pe,pe={});var he={algorithm:{name:(pe=pe||{}).algorithm||"PRIMEINC",options:{workers:pe.workers||2,workLoad:pe.workLoad||100,workerScript:pe.workerScript}}};function Oe(){Ae(I.pBits,function(qe,Me){return qe?K(qe):(I.p=Me,null!==I.q?Fe(qe,I.q):void Ae(I.qBits,Fe))})}function Ae(qe,Me){t.prime.generateProbablePrime(qe,he,Me)}function Fe(qe,Me){if(qe)return K(qe);if(I.q=Me,I.p.compareTo(I.q)<0){var Te=I.p;I.p=I.q,I.q=Te}if(0!==I.p.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.p=null,void Oe();if(0!==I.q.subtract(e.ONE).gcd(I.e).compareTo(e.ONE))return I.q=null,void Ae(I.qBits,Fe);if(I.p1=I.p.subtract(e.ONE),I.q1=I.q.subtract(e.ONE),I.phi=I.p1.multiply(I.q1),0!==I.phi.gcd(I.e).compareTo(e.ONE))return I.p=I.q=null,void Oe();if(I.n=I.p.multiply(I.q),I.n.bitLength()!==I.bits)return I.q=null,void Ae(I.qBits,Fe);var ge=I.e.modInverse(I.phi);I.keys={privateKey:w.rsa.setPrivateKey(I.n,I.e,ge,I.p,I.q,ge.mod(I.p1),ge.mod(I.q1),I.q.modInverse(I.p)),publicKey:w.rsa.setPublicKey(I.n,I.e)},K(null,I.keys)}"prng"in pe&&(he.prng=pe.prng),Oe()}(Fe,K,he)},w.setRsaPublicKey=w.rsa.setPublicKey=function(I,pe){var K={n:I,e:pe,encrypt:function(he,Oe,Ae){if("string"==typeof Oe?Oe=Oe.toUpperCase():void 0===Oe&&(Oe="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Oe)Oe={encode:function(qe,Me,Te){return O(qe,Me,2).getBytes()}};else if("RSA-OAEP"===Oe||"RSAES-OAEP"===Oe)Oe={encode:function(qe,Me){return t.pkcs1.encode_rsa_oaep(Me,qe,Ae)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Oe))Oe={encode:function(qe){return qe}};else if("string"==typeof Oe)throw new Error('Unsupported encryption scheme: "'+Oe+'".');var Fe=Oe.encode(he,K,!0);return w.rsa.encrypt(Fe,K,!0)},verify:function(he,Oe,Ae,Fe){"string"==typeof Ae?Ae=Ae.toUpperCase():void 0===Ae&&(Ae="RSASSA-PKCS1-V1_5"),void 0===Fe&&(Fe={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in Fe||(Fe._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Ae?Ae={verify:function(Me,Te){Te=P(Te,K,!0);var ge=S.fromDer(Te,{parseAllBytes:Fe._parseAllDigestBytes}),$e={},xe=[];if(!S.validate(ge,U,$e,xe))throw(pt=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=xe,pt;var pt,Le=S.derToOid($e.algorithmIdentifier);if(Le!==t.oids.md2&&Le!==t.oids.md5&&Le!==t.oids.sha1&&Le!==t.oids.sha224&&Le!==t.oids.sha256&&Le!==t.oids.sha384&&Le!==t.oids.sha512&&Le!==t.oids["sha512-224"]&&Le!==t.oids["sha512-256"])throw(pt=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Le,pt;if((Le===t.oids.md2||Le===t.oids.md5)&&!("parameters"in $e))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Me===$e.digest}}:("NONE"===Ae||"NULL"===Ae||null===Ae)&&(Ae={verify:function(Me,Te){return Me===P(Te,K,!0)}});var qe=w.rsa.decrypt(Oe,K,!0,!1);return Ae.verify(he,qe,K.n.bitLength())}};return K},w.setRsaPrivateKey=w.rsa.setPrivateKey=function(I,pe,K,he,Oe,Ae,Fe,qe){var Me={n:I,e:pe,d:K,p:he,q:Oe,dP:Ae,dQ:Fe,qInv:qe,decrypt:function(Te,ge,$e){"string"==typeof ge?ge=ge.toUpperCase():void 0===ge&&(ge="RSAES-PKCS1-V1_5");var xe=w.rsa.decrypt(Te,Me,!1,!1);if("RSAES-PKCS1-V1_5"===ge)ge={decode:P};else if("RSA-OAEP"===ge||"RSAES-OAEP"===ge)ge={decode:function(pt,Le){return t.pkcs1.decode_rsa_oaep(Le,pt,$e)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(ge))throw new Error('Unsupported encryption scheme: "'+ge+'".');ge={decode:function(pt){return pt}}}return ge.decode(xe,Me,!1)},sign:function(Te,ge){var $e=!1;"string"==typeof ge&&(ge=ge.toUpperCase()),void 0===ge||"RSASSA-PKCS1-V1_5"===ge?(ge={encode:a},$e=1):("NONE"===ge||"NULL"===ge||null===ge)&&(ge={encode:function(){return Te}},$e=1);var xe=ge.encode(Te,Me.n.bitLength());return w.rsa.encrypt(xe,Me,$e)}};return Me},w.wrapRsaPrivateKey=function(I){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(0).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(w.oids.rsaEncryption).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")]),S.create(S.Class.UNIVERSAL,S.Type.OCTETSTRING,!1,S.toDer(I).getBytes())])},w.privateKeyFromAsn1=function(I){var Oe,Ae,Fe,qe,Me,Te,ge,$e,pe={},K=[];if(S.validate(I,h,pe,K)&&(I=S.fromDer(t.util.createBuffer(pe.privateKey))),!S.validate(I,E,pe={},K=[])){var he=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw he.errors=K,he}return Oe=t.util.createBuffer(pe.privateKeyModulus).toHex(),Ae=t.util.createBuffer(pe.privateKeyPublicExponent).toHex(),Fe=t.util.createBuffer(pe.privateKeyPrivateExponent).toHex(),qe=t.util.createBuffer(pe.privateKeyPrime1).toHex(),Me=t.util.createBuffer(pe.privateKeyPrime2).toHex(),Te=t.util.createBuffer(pe.privateKeyExponent1).toHex(),ge=t.util.createBuffer(pe.privateKeyExponent2).toHex(),$e=t.util.createBuffer(pe.privateKeyCoefficient).toHex(),w.setRsaPrivateKey(new e(Oe,16),new e(Ae,16),new e(Fe,16),new e(qe,16),new e(Me,16),new e(Te,16),new e(ge,16),new e($e,16))},w.privateKeyToAsn1=w.privateKeyToRSAPrivateKey=function(I){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,S.integerToDer(0).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.n)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.e)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.d)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.p)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.q)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.dP)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.dQ)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.qInv))])},w.publicKeyFromAsn1=function(I){var pe={},K=[];if(S.validate(I,B,pe,K)){var Oe,he=S.derToOid(pe.publicKeyOid);if(he!==w.oids.rsaEncryption)throw(Oe=new Error("Cannot read public key. Unknown OID.")).oid=he,Oe;I=pe.rsaPublicKey}if(!S.validate(I,v,pe,K=[]))throw(Oe=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=K,Oe;var Ae=t.util.createBuffer(pe.publicKeyModulus).toHex(),Fe=t.util.createBuffer(pe.publicKeyExponent).toHex();return w.setRsaPublicKey(new e(Ae,16),new e(Fe,16))},w.publicKeyToAsn1=w.publicKeyToSubjectPublicKeyInfo=function(I){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.OID,!1,S.oidToDer(w.oids.rsaEncryption).getBytes()),S.create(S.Class.UNIVERSAL,S.Type.NULL,!1,"")]),S.create(S.Class.UNIVERSAL,S.Type.BITSTRING,!1,[w.publicKeyToRSAPublicKey(I)])])},w.publicKeyToRSAPublicKey=function(I){return S.create(S.Class.UNIVERSAL,S.Type.SEQUENCE,!0,[S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.n)),S.create(S.Class.UNIVERSAL,S.Type.INTEGER,!1,N(I.e))])}},8825:(nt,ye,d)=>{var t=d(6589);d(5437),d(812);var e=nt.exports=t.sha1=t.sha1||{};t.md.sha1=t.md.algorithms.sha1=e,e.create=function(){S||function C(){p="\x80",p+=t.util.fillString("\0",64),S=!0}();var g=null,h=t.util.createBuffer(),E=new Array(80),v={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){v.messageLength=0,v.fullMessageLength=v.messageLength64=[];for(var B=v.messageLengthSize/4,U=0;U<B;++U)v.fullMessageLength.push(0);return h=t.util.createBuffer(),g={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},v}};return v.start(),v.update=function(B,U){"utf8"===U&&(B=t.util.encodeUtf8(B));var a=B.length;v.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var k=v.fullMessageLength.length-1;k>=0;--k)v.fullMessageLength[k]+=a[1],a[1]=a[0]+(v.fullMessageLength[k]/4294967296>>>0),v.fullMessageLength[k]=v.fullMessageLength[k]>>>0,a[0]=a[1]/4294967296>>>0;return h.putBytes(B),w(g,E,h),(h.read>2048||0===h.length())&&h.compact(),v},v.digest=function(){var B=t.util.createBuffer();B.putBytes(h.bytes()),B.putBytes(p.substr(0,v.blockLength-(v.fullMessageLength[v.fullMessageLength.length-1]+v.messageLengthSize&v.blockLength-1)));for(var k,P=8*v.fullMessageLength[0],W=0;W<v.fullMessageLength.length-1;++W)B.putInt32((P+=(k=8*v.fullMessageLength[W+1])/4294967296>>>0)>>>0),P=k>>>0;B.putInt32(P);var N={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3,h4:g.h4};w(N,E,B);var H=t.util.createBuffer();return H.putInt32(N.h0),H.putInt32(N.h1),H.putInt32(N.h2),H.putInt32(N.h3),H.putInt32(N.h4),H},v};var p=null,S=!1;function w(g,h,E){for(var v,B,U,a,k,O,W,N=E.length();N>=64;){for(B=g.h0,U=g.h1,a=g.h2,k=g.h3,O=g.h4,W=0;W<16;++W)v=E.getInt32(),h[W]=v,v=(B<<5|B>>>27)+(k^U&(a^k))+O+1518500249+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;for(;W<20;++W)h[W]=v=(v=h[W-3]^h[W-8]^h[W-14]^h[W-16])<<1|v>>>31,v=(B<<5|B>>>27)+(k^U&(a^k))+O+1518500249+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;for(;W<32;++W)h[W]=v=(v=h[W-3]^h[W-8]^h[W-14]^h[W-16])<<1|v>>>31,v=(B<<5|B>>>27)+(U^a^k)+O+1859775393+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;for(;W<40;++W)h[W]=v=(v=h[W-6]^h[W-16]^h[W-28]^h[W-32])<<2|v>>>30,v=(B<<5|B>>>27)+(U^a^k)+O+1859775393+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;for(;W<60;++W)h[W]=v=(v=h[W-6]^h[W-16]^h[W-28]^h[W-32])<<2|v>>>30,v=(B<<5|B>>>27)+(U&a|k&(U^a))+O+2400959708+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;for(;W<80;++W)h[W]=v=(v=h[W-6]^h[W-16]^h[W-28]^h[W-32])<<2|v>>>30,v=(B<<5|B>>>27)+(U^a^k)+O+3395469782+v,O=k,k=a,a=(U<<30|U>>>2)>>>0,U=B,B=v;g.h0=g.h0+B|0,g.h1=g.h1+U|0,g.h2=g.h2+a|0,g.h3=g.h3+k|0,g.h4=g.h4+O|0,N-=64}}},2507:(nt,ye,d)=>{var t=d(6589);d(5437),d(812);var e=nt.exports=t.sha256=t.sha256||{};t.md.sha256=t.md.algorithms.sha256=e,e.create=function(){S||function w(){p="\x80",p+=t.util.fillString("\0",64),C=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],S=!0}();var h=null,E=t.util.createBuffer(),v=new Array(64),B={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){B.messageLength=0,B.fullMessageLength=B.messageLength64=[];for(var U=B.messageLengthSize/4,a=0;a<U;++a)B.fullMessageLength.push(0);return E=t.util.createBuffer(),h={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},B}};return B.start(),B.update=function(U,a){"utf8"===a&&(U=t.util.encodeUtf8(U));var k=U.length;B.messageLength+=k,k=[k/4294967296>>>0,k>>>0];for(var O=B.fullMessageLength.length-1;O>=0;--O)B.fullMessageLength[O]+=k[1],k[1]=k[0]+(B.fullMessageLength[O]/4294967296>>>0),B.fullMessageLength[O]=B.fullMessageLength[O]>>>0,k[0]=k[1]/4294967296>>>0;return E.putBytes(U),g(h,v,E),(E.read>2048||0===E.length())&&E.compact(),B},B.digest=function(){var U=t.util.createBuffer();U.putBytes(E.bytes()),U.putBytes(p.substr(0,B.blockLength-(B.fullMessageLength[B.fullMessageLength.length-1]+B.messageLengthSize&B.blockLength-1)));for(var O,W=8*B.fullMessageLength[0],N=0;N<B.fullMessageLength.length-1;++N)U.putInt32((W+=(O=8*B.fullMessageLength[N+1])/4294967296>>>0)>>>0),W=O>>>0;U.putInt32(W);var H={h0:h.h0,h1:h.h1,h2:h.h2,h3:h.h3,h4:h.h4,h5:h.h5,h6:h.h6,h7:h.h7};g(H,v,U);var G=t.util.createBuffer();return G.putInt32(H.h0),G.putInt32(H.h1),G.putInt32(H.h2),G.putInt32(H.h3),G.putInt32(H.h4),G.putInt32(H.h5),G.putInt32(H.h6),G.putInt32(H.h7),G},B};var p=null,S=!1,C=null;function g(h,E,v){for(var B,U,P,W,N,H,G,z,ce,de,Y,Z,ne=v.length();ne>=64;){for(W=0;W<16;++W)E[W]=v.getInt32();for(;W<64;++W)E[W]=(B=((B=E[W-2])>>>17|B<<15)^(B>>>19|B<<13)^B>>>10)+E[W-7]+(U=((U=E[W-15])>>>7|U<<25)^(U>>>18|U<<14)^U>>>3)+E[W-16]|0;for(N=h.h0,H=h.h1,G=h.h2,z=h.h3,ce=h.h4,de=h.h5,Y=h.h6,Z=h.h7,W=0;W<64;++W)P=N&H|G&(N^H),B=Z+((ce>>>6|ce<<26)^(ce>>>11|ce<<21)^(ce>>>25|ce<<7))+(Y^ce&(de^Y))+C[W]+E[W],Z=Y,Y=de,de=ce,ce=z+B>>>0,z=G,G=H,H=N,N=B+(U=((N>>>2|N<<30)^(N>>>13|N<<19)^(N>>>22|N<<10))+P)>>>0;h.h0=h.h0+N|0,h.h1=h.h1+H|0,h.h2=h.h2+G|0,h.h3=h.h3+z|0,h.h4=h.h4+ce|0,h.h5=h.h5+de|0,h.h6=h.h6+Y|0,h.h7=h.h7+Z|0,ne-=64}}},1290:(nt,ye,d)=>{var t=d(6589);d(5437),d(812);var e=nt.exports=t.sha512=t.sha512||{};t.md.sha512=t.md.algorithms.sha512=e;var p=t.sha384=t.sha512.sha384=t.sha512.sha384||{};p.create=function(){return e.create("SHA-384")},t.md.sha384=t.md.algorithms.sha384=p,t.sha512.sha256=t.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},t.md["sha512/256"]=t.md.algorithms["sha512/256"]=t.sha512.sha256,t.sha512.sha224=t.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},t.md["sha512/224"]=t.md.algorithms["sha512/224"]=t.sha512.sha224,e.create=function(v){if(C||function h(){S="\x80",S+=t.util.fillString("\0",128),w=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(g={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],g["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],g["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],g["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],C=!0}(),typeof v>"u"&&(v="SHA-512"),!(v in g))throw new Error("Invalid SHA-512 algorithm: "+v);for(var B=g[v],U=null,a=t.util.createBuffer(),k=new Array(80),O=0;O<80;++O)k[O]=new Array(2);var P=64;switch(v){case"SHA-384":P=48;break;case"SHA-512/256":P=32;break;case"SHA-512/224":P=28}var W={algorithm:v.replace("-","").toLowerCase(),blockLength:128,digestLength:P,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){W.messageLength=0,W.fullMessageLength=W.messageLength128=[];for(var N=W.messageLengthSize/4,H=0;H<N;++H)W.fullMessageLength.push(0);for(a=t.util.createBuffer(),U=new Array(B.length),H=0;H<B.length;++H)U[H]=B[H].slice(0);return W}};return W.start(),W.update=function(N,H){"utf8"===H&&(N=t.util.encodeUtf8(N));var G=N.length;W.messageLength+=G,G=[G/4294967296>>>0,G>>>0];for(var z=W.fullMessageLength.length-1;z>=0;--z)W.fullMessageLength[z]+=G[1],G[1]=G[0]+(W.fullMessageLength[z]/4294967296>>>0),W.fullMessageLength[z]=W.fullMessageLength[z]>>>0,G[0]=G[1]/4294967296>>>0;return a.putBytes(N),E(U,k,a),(a.read>2048||0===a.length())&&a.compact(),W},W.digest=function(){var N=t.util.createBuffer();N.putBytes(a.bytes()),N.putBytes(S.substr(0,W.blockLength-(W.fullMessageLength[W.fullMessageLength.length-1]+W.messageLengthSize&W.blockLength-1)));for(var z,de=8*W.fullMessageLength[0],Y=0;Y<W.fullMessageLength.length-1;++Y)N.putInt32((de+=(z=8*W.fullMessageLength[Y+1])/4294967296>>>0)>>>0),de=z>>>0;N.putInt32(de);var Z=new Array(U.length);for(Y=0;Y<U.length;++Y)Z[Y]=U[Y].slice(0);E(Z,k,N);var I,ne=t.util.createBuffer();for(I="SHA-512"===v?Z.length:"SHA-384"===v?Z.length-2:Z.length-4,Y=0;Y<I;++Y)ne.putInt32(Z[Y][0]),(Y!==I-1||"SHA-512/224"!==v)&&ne.putInt32(Z[Y][1]);return ne},W};var S=null,C=!1,w=null,g=null;function E(v,B,U){for(var a,k,O,P,Z,ne,I,pe,K,he,Oe,Ae,Fe,qe,Me,Te,ge,$e,xe,pt,Le,Ct,ut,hn,mn,Rt,Dt,q=U.length();q>=128;){for(Le=0;Le<16;++Le)B[Le][0]=U.getInt32()>>>0,B[Le][1]=U.getInt32()>>>0;for(;Le<80;++Le)k=(((Ct=(hn=B[Le-2])[0])<<13|(ut=hn[1])>>>19)^(ut<<3|Ct>>>29)^(Ct<<26|ut>>>6))>>>0,B[Le][0]=(a=((Ct>>>19|ut<<13)^(ut>>>29|Ct<<3)^Ct>>>6)>>>0)+(mn=B[Le-7])[0]+(O=(((Ct=(Rt=B[Le-15])[0])>>>1|(ut=Rt[1])<<31)^(Ct>>>8|ut<<24)^Ct>>>7)>>>0)+(Dt=B[Le-16])[0]+((ut=k+mn[1]+(P=((Ct<<31|ut>>>1)^(Ct<<24|ut>>>8)^(Ct<<25|ut>>>7))>>>0)+Dt[1])/4294967296>>>0)>>>0,B[Le][1]=ut>>>0;for(Z=v[0][0],ne=v[0][1],I=v[1][0],pe=v[1][1],K=v[2][0],he=v[2][1],Oe=v[3][0],Ae=v[3][1],Fe=v[4][0],qe=v[4][1],Me=v[5][0],Te=v[5][1],ge=v[6][0],$e=v[6][1],xe=v[7][0],pt=v[7][1],Le=0;Le<80;++Le)a=xe+(((Fe>>>14|qe<<18)^(Fe>>>18|qe<<14)^(qe>>>9|Fe<<23))>>>0)+((ge^Fe&(Me^ge))>>>0)+w[Le][0]+B[Le][0]+((ut=pt+(((Fe<<18|qe>>>14)^(Fe<<14|qe>>>18)^(qe<<23|Fe>>>9))>>>0)+(($e^qe&(Te^$e))>>>0)+w[Le][1]+B[Le][1])/4294967296>>>0)>>>0,k=ut>>>0,O=(((Z>>>28|ne<<4)^(ne>>>2|Z<<30)^(ne>>>7|Z<<25))>>>0)+((Z&I|K&(Z^I))>>>0)+((ut=(((Z<<4|ne>>>28)^(ne<<30|Z>>>2)^(ne<<25|Z>>>7))>>>0)+((ne&pe|he&(ne^pe))>>>0))/4294967296>>>0)>>>0,P=ut>>>0,xe=ge,pt=$e,ge=Me,$e=Te,Me=Fe,Te=qe,Fe=Oe+a+((ut=Ae+k)/4294967296>>>0)>>>0,qe=ut>>>0,Oe=K,Ae=he,K=I,he=pe,I=Z,pe=ne,Z=a+O+((ut=k+P)/4294967296>>>0)>>>0,ne=ut>>>0;v[0][0]=v[0][0]+Z+((ut=v[0][1]+ne)/4294967296>>>0)>>>0,v[0][1]=ut>>>0,v[1][0]=v[1][0]+I+((ut=v[1][1]+pe)/4294967296>>>0)>>>0,v[1][1]=ut>>>0,v[2][0]=v[2][0]+K+((ut=v[2][1]+he)/4294967296>>>0)>>>0,v[2][1]=ut>>>0,v[3][0]=v[3][0]+Oe+((ut=v[3][1]+Ae)/4294967296>>>0)>>>0,v[3][1]=ut>>>0,v[4][0]=v[4][0]+Fe+((ut=v[4][1]+qe)/4294967296>>>0)>>>0,v[4][1]=ut>>>0,v[5][0]=v[5][0]+Me+((ut=v[5][1]+Te)/4294967296>>>0)>>>0,v[5][1]=ut>>>0,v[6][0]=v[6][0]+ge+((ut=v[6][1]+$e)/4294967296>>>0)>>>0,v[6][1]=ut>>>0,v[7][0]=v[7][0]+xe+((ut=v[7][1]+pt)/4294967296>>>0)>>>0,v[7][1]=ut>>>0,q-=128}}},3120:(nt,ye,d)=>{var t=d(6589);d(57),d(4579),d(4846),d(8825),d(812);var e=nt.exports=t.ssh=t.ssh||{};function p(w,g){var h=g.toString(16);h[0]>="8"&&(h="00"+h);var E=t.util.hexToBytes(h);w.putInt32(E.length),w.putBytes(E)}function S(w,g){w.putInt32(g.length),w.putString(g)}function C(){for(var w=t.md.sha1.create(),g=arguments.length,h=0;h<g;++h)w.update(arguments[h]);return w.digest()}e.privateKeyToPutty=function(w,g,h){var E="ssh-rsa",v=""===(g=g||"")?"none":"aes256-cbc",B="PuTTY-User-Key-File-2: "+E+"\r\n";B+="Encryption: "+v+"\r\n",B+="Comment: "+(h=h||"")+"\r\n";var U=t.util.createBuffer();S(U,E),p(U,w.e),p(U,w.n);var a=t.util.encode64(U.bytes(),64),k=Math.floor(a.length/66)+1;B+="Public-Lines: "+k+"\r\n",B+=a;var P,O=t.util.createBuffer();if(p(O,w.d),p(O,w.p),p(O,w.q),p(O,w.qInv),g){var W=O.length()+16-1;W-=W%16;var N=C(O.bytes());N.truncate(N.length()-W+O.length()),O.putBuffer(N);var H=t.util.createBuffer();H.putBuffer(C("\0\0\0\0",g)),H.putBuffer(C("\0\0\0\x01",g));var G=t.aes.createEncryptionCipher(H.truncate(8),"CBC");G.start(t.util.createBuffer().fillWithByte(0,16)),G.update(O.copy()),G.finish();var z=G.output;z.truncate(16),P=t.util.encode64(z.bytes(),64)}else P=t.util.encode64(O.bytes(),64);B+="\r\nPrivate-Lines: "+(k=Math.floor(P.length/66)+1)+"\r\n",B+=P;var ce=C("putty-private-key-file-mac-key",g),de=t.util.createBuffer();S(de,E),S(de,v),S(de,h),de.putInt32(U.length()),de.putBuffer(U),de.putInt32(O.length()),de.putBuffer(O);var Y=t.hmac.create();return Y.start("sha1",ce),Y.update(de.bytes()),B+"\r\nPrivate-MAC: "+Y.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(w,g){var h="ssh-rsa";g=g||"";var E=t.util.createBuffer();return S(E,h),p(E,w.e),p(E,w.n),h+" "+t.util.encode64(E.bytes())+" "+g},e.privateKeyToOpenSSH=function(w,g){return g?t.pki.encryptRsaPrivateKey(w,g,{legacy:!0,algorithm:"aes128"}):t.pki.privateKeyToPem(w)},e.getPublicKeyFingerprint=function(w,g){var h=(g=g||{}).md||t.md.md5.create(),v=t.util.createBuffer();S(v,"ssh-rsa"),p(v,w.e),p(v,w.n),h.start(),h.update(v.getBytes());var B=h.digest();if("hex"===g.encoding){var U=B.toHex();return g.delimiter?U.match(/.{2}/g).join(g.delimiter):U}if("binary"===g.encoding)return B.getBytes();if(g.encoding)throw new Error('Unknown encoding "'+g.encoding+'".');return B}},9807:(nt,ye,d)=>{var t=d(6589);d(7097),d(4579),d(4846),d(9368),d(9622),d(1675),d(8825),d(812);var e=function(q,Q,te,De){var Re=t.util.createBuffer(),at=q.length>>1,o=at+(1&q.length),ft=q.substr(0,o),Ft=q.substr(at,o),_t=t.util.createBuffer(),lt=t.hmac.create();te=Q+te;var Pt=Math.ceil(De/16),tn=Math.ceil(De/20);lt.start("MD5",ft);var ct=t.util.createBuffer();_t.putBytes(te);for(var Lt=0;Lt<Pt;++Lt)lt.start(null,null),lt.update(_t.getBytes()),_t.putBuffer(lt.digest()),lt.start(null,null),lt.update(_t.bytes()+te),ct.putBuffer(lt.digest());lt.start("SHA1",Ft);var Ce=t.util.createBuffer();for(_t.clear(),_t.putBytes(te),Lt=0;Lt<tn;++Lt)lt.start(null,null),lt.update(_t.getBytes()),_t.putBuffer(lt.digest()),lt.start(null,null),lt.update(_t.bytes()+te),Ce.putBuffer(lt.digest());return Re.putBytes(t.util.xorBytes(ct.getBytes(),Ce.getBytes(),De)),Re},C=function(q,Q,te){var De=!1;try{var Re=q.deflate(Q.fragment.getBytes());Q.fragment=t.util.createBuffer(Re),Q.length=Re.length,De=!0}catch{}return De},w=function(q,Q,te){var De=!1;try{var Re=q.inflate(Q.fragment.getBytes());Q.fragment=t.util.createBuffer(Re),Q.length=Re.length,De=!0}catch{}return De},g=function(q,Q){var te=0;switch(Q){case 1:te=q.getByte();break;case 2:te=q.getInt16();break;case 3:te=q.getInt24();break;case 4:te=q.getInt32()}return t.util.createBuffer(q.getBytes(te))},h=function(q,Q,te){q.putInt(te.length(),Q<<3),q.putBuffer(te)},E={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};E.SupportedVersions=[E.Versions.TLS_1_1,E.Versions.TLS_1_0],E.Version=E.SupportedVersions[0],E.MaxFragment=15360,E.ConnectionEnd={server:0,client:1},E.PRFAlgorithm={tls_prf_sha256:0},E.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},E.CipherType={stream:0,block:1,aead:2},E.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},E.CompressionMethod={none:0,deflate:1},E.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},E.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},E.Alert={},E.Alert.Level={warning:1,fatal:2},E.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},E.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},E.CipherSuites={},E.getCipherSuite=function(q){var Q=null;for(var te in E.CipherSuites){var De=E.CipherSuites[te];if(De.id[0]===q.charCodeAt(0)&&De.id[1]===q.charCodeAt(1)){Q=De;break}}return Q},E.handleUnexpected=function(q,Q){!q.open&&q.entity===E.ConnectionEnd.client||q.error(q,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})},E.handleHelloRequest=function(q,Q,te){!q.handshaking&&q.handshakes>0&&(E.queue(q,E.createAlert(q,{level:E.Alert.Level.warning,description:E.Alert.Description.no_renegotiation})),E.flush(q)),q.process()},E.parseHelloMessage=function(q,Q,te){var De=null,Re=q.entity===E.ConnectionEnd.client;if(te<38)q.error(q,{message:Re?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});else{var at=Q.fragment,o=at.length();if(De={version:{major:at.getByte(),minor:at.getByte()},random:t.util.createBuffer(at.getBytes(32)),session_id:g(at,1),extensions:[]},Re?(De.cipher_suite=at.getBytes(2),De.compression_method=at.getByte()):(De.cipher_suites=g(at,2),De.compression_methods=g(at,1)),(o=te-(o-at.length()))>0){for(var ft=g(at,2);ft.length()>0;)De.extensions.push({type:[ft.getByte(),ft.getByte()],data:g(ft,2)});if(!Re)for(var Ft=0;Ft<De.extensions.length;++Ft){var _t=De.extensions[Ft];if(0===_t.type[0]&&0===_t.type[1])for(var lt=g(_t.data,2);lt.length()>0&&0===lt.getByte();)q.session.extensions.server_name.serverNameList.push(g(lt,2).getBytes())}}if(q.session.version&&(De.version.major!==q.session.version.major||De.version.minor!==q.session.version.minor))return q.error(q,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});if(Re)q.session.cipherSuite=E.getCipherSuite(De.cipher_suite);else for(var tn=t.util.createBuffer(De.cipher_suites.bytes());tn.length()>0&&(q.session.cipherSuite=E.getCipherSuite(tn.getBytes(2)),null===q.session.cipherSuite););if(null===q.session.cipherSuite)return q.error(q,{message:"No cipher suites in common.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure},cipherSuite:t.util.bytesToHex(De.cipher_suite)});q.session.compressionMethod=Re?De.compression_method:E.CompressionMethod.none}return De},E.createSecurityParameters=function(q,Q){var te=q.entity===E.ConnectionEnd.client,De=Q.random.bytes(),Re=te?q.session.sp.client_random:De,at=te?De:E.createRandom().getBytes();q.session.sp={entity:q.entity,prf_algorithm:E.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:q.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Re,server_random:at}},E.handleServerHello=function(q,Q,te){var De=E.parseHelloMessage(q,Q,te);if(!q.fail){if(!(De.version.minor<=q.version.minor))return q.error(q,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}});q.version.minor=De.version.minor,q.session.version=q.version;var Re=De.session_id.bytes();Re.length>0&&Re===q.session.id?(q.expect=O,q.session.resuming=!0,q.session.sp.server_random=De.random.bytes()):(q.expect=B,q.session.resuming=!1,E.createSecurityParameters(q,De)),q.session.id=Re,q.process()}},E.handleClientHello=function(q,Q,te){var De=E.parseHelloMessage(q,Q,te);if(!q.fail){var Re=De.session_id.bytes(),at=null;if(q.sessionCache&&(null===(at=q.sessionCache.getSession(Re))?Re="":(at.version.major!==De.version.major||at.version.minor>De.version.minor)&&(at=null,Re="")),0===Re.length&&(Re=t.random.getBytes(32)),q.session.id=Re,q.session.clientHelloVersion=De.version,q.session.sp={},at)q.version=q.session.version=at.version,q.session.sp=at.sp;else{for(var o,ft=1;ft<E.SupportedVersions.length&&!((o=E.SupportedVersions[ft]).minor<=De.version.minor);++ft);q.version={major:o.major,minor:o.minor},q.session.version=q.version}null!==at?(q.expect=de,q.session.resuming=!0,q.session.sp.client_random=De.random.bytes()):(q.expect=!1!==q.verifyClient?G:z,q.session.resuming=!1,E.createSecurityParameters(q,De)),q.open=!0,E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createServerHello(q)})),q.session.resuming?(E.queue(q,E.createRecord(q,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),q.state.pending=E.createConnectionState(q),q.state.current.write=q.state.pending.write,E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createFinished(q)}))):(E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createCertificate(q)})),q.fail||(E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createServerKeyExchange(q)})),!1!==q.verifyClient&&E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createCertificateRequest(q)})),E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createServerHelloDone(q)})))),E.flush(q),q.process()}},E.handleCertificate=function(q,Q,te){if(te<3)return q.error(q,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var at,o,Re={certificate_list:g(Q.fragment,3)},ft=[];try{for(;Re.certificate_list.length()>0;)at=g(Re.certificate_list,3),o=t.asn1.fromDer(at),at=t.pki.certificateFromAsn1(o,!0),ft.push(at)}catch(_t){return q.error(q,{message:"Could not parse certificate list.",cause:_t,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Ft=q.entity===E.ConnectionEnd.client;!Ft&&!0!==q.verifyClient||0!==ft.length?0===ft.length?q.expect=Ft?U:z:(Ft?q.session.serverCertificate=ft[0]:q.session.clientCertificate=ft[0],E.verifyCertificateChain(q,ft)&&(q.expect=Ft?U:z)):q.error(q,{message:Ft?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}}),q.process()},E.handleServerKeyExchange=function(q,Q,te){if(te>0)return q.error(q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});q.expect=a,q.process()},E.handleClientKeyExchange=function(q,Q,te){if(te<48)return q.error(q,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unsupported_certificate}});var Re={enc_pre_master_secret:g(Q.fragment,2).getBytes()},at=null;if(q.getPrivateKey)try{at=q.getPrivateKey(q,q.session.serverCertificate),at=t.pki.privateKeyFromPem(at)}catch(Ft){q.error(q,{message:"Could not get private key.",cause:Ft,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}if(null===at)return q.error(q,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}});try{var o=q.session.sp;o.pre_master_secret=at.decrypt(Re.enc_pre_master_secret);var ft=q.session.clientHelloVersion;if(ft.major!==o.pre_master_secret.charCodeAt(0)||ft.minor!==o.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{o.pre_master_secret=t.random.getBytes(48)}q.expect=de,null!==q.session.clientCertificate&&(q.expect=ce),q.process()},E.handleCertificateRequest=function(q,Q,te){if(te<3)return q.error(q,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var De=Q.fragment,Re={certificate_types:g(De,1),certificate_authorities:g(De,2)};q.session.certificateRequest=Re,q.expect=k,q.process()},E.handleCertificateVerify=function(q,Q,te){if(te<2)return q.error(q,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var De=Q.fragment;De.read-=4;var Re=De.bytes();De.read+=4;var at={signature:g(De,2).getBytes()},o=t.util.createBuffer();o.putBuffer(q.session.md5.digest()),o.putBuffer(q.session.sha1.digest()),o=o.getBytes();try{if(!q.session.clientCertificate.publicKey.verify(o,at.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");q.session.md5.update(Re),q.session.sha1.update(Re)}catch{return q.error(q,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.handshake_failure}})}q.expect=de,q.process()},E.handleServerHelloDone=function(q,Q,te){if(te>0)return q.error(q,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.record_overflow}});if(null===q.serverCertificate){var De={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.insufficient_security}},at=q.verify(q,De.alert.description,0,[]);if(!0!==at)return(at||0===at)&&("object"!=typeof at||t.util.isArray(at)?"number"==typeof at&&(De.alert.description=at):(at.message&&(De.message=at.message),at.alert&&(De.alert.description=at.alert))),q.error(q,De)}null!==q.session.certificateRequest&&(Q=E.createRecord(q,{type:E.ContentType.handshake,data:E.createCertificate(q)}),E.queue(q,Q)),Q=E.createRecord(q,{type:E.ContentType.handshake,data:E.createClientKeyExchange(q)}),E.queue(q,Q),q.expect=N;var o=function(ft,Ft){null!==ft.session.certificateRequest&&null!==ft.session.clientCertificate&&E.queue(ft,E.createRecord(ft,{type:E.ContentType.handshake,data:E.createCertificateVerify(ft,Ft)})),E.queue(ft,E.createRecord(ft,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),ft.state.pending=E.createConnectionState(ft),ft.state.current.write=ft.state.pending.write,E.queue(ft,E.createRecord(ft,{type:E.ContentType.handshake,data:E.createFinished(ft)})),ft.expect=O,E.flush(ft),ft.process()};if(null===q.session.certificateRequest||null===q.session.clientCertificate)return o(q,null);E.getClientSignature(q,o)},E.handleChangeCipherSpec=function(q,Q){if(1!==Q.fragment.getByte())return q.error(q,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.illegal_parameter}});var te=q.entity===E.ConnectionEnd.client;(q.session.resuming&&te||!q.session.resuming&&!te)&&(q.state.pending=E.createConnectionState(q)),q.state.current.read=q.state.pending.read,(!q.session.resuming&&te||q.session.resuming&&!te)&&(q.state.pending=null),q.expect=te?P:Y,q.process()},E.handleFinished=function(q,Q,te){var De=Q.fragment;De.read-=4;var Re=De.bytes();De.read+=4;var at=Q.fragment.getBytes();(De=t.util.createBuffer()).putBuffer(q.session.md5.digest()),De.putBuffer(q.session.sha1.digest());var o=q.entity===E.ConnectionEnd.client;if((De=e(q.session.sp.master_secret,o?"server finished":"client finished",De.getBytes(),12)).getBytes()!==at)return q.error(q,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decrypt_error}});q.session.md5.update(Re),q.session.sha1.update(Re),(q.session.resuming&&o||!q.session.resuming&&!o)&&(E.queue(q,E.createRecord(q,{type:E.ContentType.change_cipher_spec,data:E.createChangeCipherSpec()})),q.state.current.write=q.state.pending.write,q.state.pending=null,E.queue(q,E.createRecord(q,{type:E.ContentType.handshake,data:E.createFinished(q)}))),q.expect=o?W:Z,q.handshaking=!1,++q.handshakes,q.peerCertificate=o?q.session.serverCertificate:q.session.clientCertificate,E.flush(q),q.isConnected=!0,q.connected(q),q.process()},E.handleAlert=function(q,Q){var Re,te=Q.fragment,De={level:te.getByte(),description:te.getByte()};switch(De.description){case E.Alert.Description.close_notify:Re="Connection closed.";break;case E.Alert.Description.unexpected_message:Re="Unexpected message.";break;case E.Alert.Description.bad_record_mac:Re="Bad record MAC.";break;case E.Alert.Description.decryption_failed:Re="Decryption failed.";break;case E.Alert.Description.record_overflow:Re="Record overflow.";break;case E.Alert.Description.decompression_failure:Re="Decompression failed.";break;case E.Alert.Description.handshake_failure:Re="Handshake failure.";break;case E.Alert.Description.bad_certificate:Re="Bad certificate.";break;case E.Alert.Description.unsupported_certificate:Re="Unsupported certificate.";break;case E.Alert.Description.certificate_revoked:Re="Certificate revoked.";break;case E.Alert.Description.certificate_expired:Re="Certificate expired.";break;case E.Alert.Description.certificate_unknown:Re="Certificate unknown.";break;case E.Alert.Description.illegal_parameter:Re="Illegal parameter.";break;case E.Alert.Description.unknown_ca:Re="Unknown certificate authority.";break;case E.Alert.Description.access_denied:Re="Access denied.";break;case E.Alert.Description.decode_error:Re="Decode error.";break;case E.Alert.Description.decrypt_error:Re="Decrypt error.";break;case E.Alert.Description.export_restriction:Re="Export restriction.";break;case E.Alert.Description.protocol_version:Re="Unsupported protocol version.";break;case E.Alert.Description.insufficient_security:Re="Insufficient security.";break;case E.Alert.Description.internal_error:Re="Internal error.";break;case E.Alert.Description.user_canceled:Re="User canceled.";break;case E.Alert.Description.no_renegotiation:Re="Renegotiation not supported.";break;default:Re="Unknown error."}if(De.description===E.Alert.Description.close_notify)return q.close();q.error(q,{message:Re,send:!1,origin:q.entity===E.ConnectionEnd.client?"server":"client",alert:De}),q.process()},E.handleHandshake=function(q,Q){var te=Q.fragment,De=te.getByte(),Re=te.getInt24();if(Re>te.length())return q.fragmented=Q,Q.fragment=t.util.createBuffer(),te.read-=4,q.process();q.fragmented=null,te.read-=4;var at=te.bytes(Re+4);te.read+=4,De in Le[q.entity][q.expect]?(q.entity===E.ConnectionEnd.server&&!q.open&&!q.fail&&(q.handshaking=!0,q.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:t.md.md5.create(),sha1:t.md.sha1.create()}),De!==E.HandshakeType.hello_request&&De!==E.HandshakeType.certificate_verify&&De!==E.HandshakeType.finished&&(q.session.md5.update(at),q.session.sha1.update(at)),Le[q.entity][q.expect][De](q,Q,Re)):E.handleUnexpected(q,Q)},E.handleApplicationData=function(q,Q){q.data.putBuffer(Q.fragment),q.dataReady(q),q.process()},E.handleHeartbeat=function(q,Q){var te=Q.fragment,De=te.getByte(),Re=te.getInt16(),at=te.getBytes(Re);if(De===E.HeartbeatMessageType.heartbeat_request){if(q.handshaking||Re>at.length)return q.process();E.queue(q,E.createRecord(q,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_response,at)})),E.flush(q)}else if(De===E.HeartbeatMessageType.heartbeat_response){if(at!==q.expectedHeartbeatPayload)return q.process();q.heartbeatReceived&&q.heartbeatReceived(q,t.util.createBuffer(at))}q.process()};var B=1,U=2,a=3,k=4,O=5,P=6,W=7,N=8,G=1,z=2,ce=3,de=4,Y=5,Z=6,I=E.handleUnexpected,pe=E.handleChangeCipherSpec,K=E.handleAlert,he=E.handleHandshake,Oe=E.handleApplicationData,Ae=E.handleHeartbeat,Fe=[];Fe[E.ConnectionEnd.client]=[[I,K,he,I,Ae],[I,K,he,I,Ae],[I,K,he,I,Ae],[I,K,he,I,Ae],[I,K,he,I,Ae],[pe,K,I,I,Ae],[I,K,he,I,Ae],[I,K,he,Oe,Ae],[I,K,he,I,Ae]],Fe[E.ConnectionEnd.server]=[[I,K,he,I,Ae],[I,K,he,I,Ae],[I,K,he,I,Ae],[I,K,he,I,Ae],[pe,K,I,I,Ae],[I,K,he,I,Ae],[I,K,he,Oe,Ae],[I,K,he,I,Ae]];var qe=E.handleHelloRequest,Te=E.handleCertificate,ge=E.handleServerKeyExchange,$e=E.handleCertificateRequest,xe=E.handleServerHelloDone,pt=E.handleFinished,Le=[];Le[E.ConnectionEnd.client]=[[I,I,E.handleServerHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,Te,ge,$e,xe,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,ge,$e,xe,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,I,$e,xe,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,I,I,xe,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,pt],[qe,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[qe,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],Le[E.ConnectionEnd.server]=[[I,E.handleClientHello,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,Te,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleClientKeyExchange,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,E.handleCertificateVerify,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,pt],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I],[I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I]],E.generateKeys=function(q,Q){var te=e,De=Q.client_random+Q.server_random;q.session.resuming||(Q.master_secret=te(Q.pre_master_secret,"master secret",De,48).bytes(),Q.pre_master_secret=null);var Re=2*Q.mac_key_length+2*Q.enc_key_length,at=q.version.major===E.Versions.TLS_1_0.major&&q.version.minor===E.Versions.TLS_1_0.minor;at&&(Re+=2*Q.fixed_iv_length);var o=te(Q.master_secret,"key expansion",De=Q.server_random+Q.client_random,Re),ft={client_write_MAC_key:o.getBytes(Q.mac_key_length),server_write_MAC_key:o.getBytes(Q.mac_key_length),client_write_key:o.getBytes(Q.enc_key_length),server_write_key:o.getBytes(Q.enc_key_length)};return at&&(ft.client_write_IV=o.getBytes(Q.fixed_iv_length),ft.server_write_IV=o.getBytes(Q.fixed_iv_length)),ft},E.createConnectionState=function(q){var Q=q.entity===E.ConnectionEnd.client,te=function(){var at={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(o){return!0},compressionState:null,compressFunction:function(o){return!0},updateSequenceNumber:function(){4294967295===at.sequenceNumber[1]?(at.sequenceNumber[1]=0,++at.sequenceNumber[0]):++at.sequenceNumber[1]}};return at},De={read:te(),write:te()};if(De.read.update=function(at,o){return De.read.cipherFunction(o,De.read)?De.read.compressFunction(at,o,De.read)||at.error(at,{message:"Could not decompress record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.decompression_failure}}):at.error(at,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_record_mac}}),!at.fail},De.write.update=function(at,o){return De.write.compressFunction(at,o,De.write)?De.write.cipherFunction(o,De.write)||at.error(at,{message:"Could not encrypt record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):at.error(at,{message:"Could not compress record.",send:!1,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}),!at.fail},q.session){var Re=q.session.sp;switch(q.session.cipherSuite.initSecurityParameters(Re),Re.keys=E.generateKeys(q,Re),De.read.macKey=Q?Re.keys.server_write_MAC_key:Re.keys.client_write_MAC_key,De.write.macKey=Q?Re.keys.client_write_MAC_key:Re.keys.server_write_MAC_key,q.session.cipherSuite.initConnectionState(De,q,Re),Re.compression_algorithm){case E.CompressionMethod.none:break;case E.CompressionMethod.deflate:De.read.compressFunction=w,De.write.compressFunction=C;break;default:throw new Error("Unsupported compression algorithm.")}}return De},E.createRandom=function(){var q=new Date,Q=+q+6e4*q.getTimezoneOffset(),te=t.util.createBuffer();return te.putInt32(Q),te.putBytes(t.random.getBytes(28)),te},E.createRecord=function(q,Q){return Q.data?{type:Q.type,version:{major:q.version.major,minor:q.version.minor},length:Q.data.length(),fragment:Q.data}:null},E.createAlert=function(q,Q){var te=t.util.createBuffer();return te.putByte(Q.level),te.putByte(Q.description),E.createRecord(q,{type:E.ContentType.alert,data:te})},E.createClientHello=function(q){q.session.clientHelloVersion={major:q.version.major,minor:q.version.minor};for(var Q=t.util.createBuffer(),te=0;te<q.cipherSuites.length;++te){var De=q.cipherSuites[te];Q.putByte(De.id[0]),Q.putByte(De.id[1])}var Re=Q.length(),at=t.util.createBuffer();at.putByte(E.CompressionMethod.none);var o=at.length(),ft=t.util.createBuffer();if(q.virtualHost){var Ft=t.util.createBuffer();Ft.putByte(0),Ft.putByte(0);var _t=t.util.createBuffer();_t.putByte(0),h(_t,2,t.util.createBuffer(q.virtualHost));var lt=t.util.createBuffer();h(lt,2,_t),h(Ft,2,lt),ft.putBuffer(Ft)}var Pt=ft.length();Pt>0&&(Pt+=2);var tn=q.session.id,ct=tn.length+1+2+4+28+2+Re+1+o+Pt,Lt=t.util.createBuffer();return Lt.putByte(E.HandshakeType.client_hello),Lt.putInt24(ct),Lt.putByte(q.version.major),Lt.putByte(q.version.minor),Lt.putBytes(q.session.sp.client_random),h(Lt,1,t.util.createBuffer(tn)),h(Lt,2,Q),h(Lt,1,at),Pt>0&&h(Lt,2,ft),Lt},E.createServerHello=function(q){var Q=q.session.id,te=Q.length+1+2+4+28+2+1,De=t.util.createBuffer();return De.putByte(E.HandshakeType.server_hello),De.putInt24(te),De.putByte(q.version.major),De.putByte(q.version.minor),De.putBytes(q.session.sp.server_random),h(De,1,t.util.createBuffer(Q)),De.putByte(q.session.cipherSuite.id[0]),De.putByte(q.session.cipherSuite.id[1]),De.putByte(q.session.compressionMethod),De},E.createCertificate=function(q){var Q=q.entity===E.ConnectionEnd.client,te=null;q.getCertificate&&(te=q.getCertificate(q,Q?q.session.certificateRequest:q.session.extensions.server_name.serverNameList));var Re=t.util.createBuffer();if(null!==te)try{t.util.isArray(te)||(te=[te]);for(var at=null,o=0;o<te.length;++o){var ft=t.pem.decode(te[o])[0];if("CERTIFICATE"!==ft.type&&"X509 CERTIFICATE"!==ft.type&&"TRUSTED CERTIFICATE"!==ft.type){var Ft=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ft.headerType=ft.type,Ft}if(ft.procType&&"ENCRYPTED"===ft.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var _t=t.util.createBuffer(ft.body);null===at&&(at=t.asn1.fromDer(_t.bytes(),!1));var lt=t.util.createBuffer();h(lt,3,_t),Re.putBuffer(lt)}te=t.pki.certificateFromAsn1(at),Q?q.session.clientCertificate=te:q.session.serverCertificate=te}catch(ct){return q.error(q,{message:"Could not send certificate list.",cause:ct,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate}})}var Pt=3+Re.length(),tn=t.util.createBuffer();return tn.putByte(E.HandshakeType.certificate),tn.putInt24(Pt),h(tn,3,Re),tn},E.createClientKeyExchange=function(q){var Q=t.util.createBuffer();Q.putByte(q.session.clientHelloVersion.major),Q.putByte(q.session.clientHelloVersion.minor),Q.putBytes(t.random.getBytes(46));var te=q.session.sp;te.pre_master_secret=Q.getBytes();var Re=(Q=q.session.serverCertificate.publicKey.encrypt(te.pre_master_secret)).length+2,at=t.util.createBuffer();return at.putByte(E.HandshakeType.client_key_exchange),at.putInt24(Re),at.putInt16(Q.length),at.putBytes(Q),at},E.createServerKeyExchange=function(q){return t.util.createBuffer()},E.getClientSignature=function(q,Q){var te=t.util.createBuffer();te.putBuffer(q.session.md5.digest()),te.putBuffer(q.session.sha1.digest()),te=te.getBytes(),q.getSignature=q.getSignature||function(De,Re,at){var o=null;if(De.getPrivateKey)try{o=De.getPrivateKey(De,De.session.clientCertificate),o=t.pki.privateKeyFromPem(o)}catch(ft){De.error(De,{message:"Could not get private key.",cause:ft,send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}})}null===o?De.error(De,{message:"No private key set.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.internal_error}}):Re=o.sign(Re,null),at(De,Re)},q.getSignature(q,te,Q)},E.createCertificateVerify=function(q,Q){var te=Q.length+2,De=t.util.createBuffer();return De.putByte(E.HandshakeType.certificate_verify),De.putInt24(te),De.putInt16(Q.length),De.putBytes(Q),De},E.createCertificateRequest=function(q){var Q=t.util.createBuffer();Q.putByte(1);var te=t.util.createBuffer();for(var De in q.caStore.certs){var at=t.pki.distinguishedNameToAsn1(q.caStore.certs[De].subject),o=t.asn1.toDer(at);te.putInt16(o.length()),te.putBuffer(o)}var ft=1+Q.length()+2+te.length(),Ft=t.util.createBuffer();return Ft.putByte(E.HandshakeType.certificate_request),Ft.putInt24(ft),h(Ft,1,Q),h(Ft,2,te),Ft},E.createServerHelloDone=function(q){var Q=t.util.createBuffer();return Q.putByte(E.HandshakeType.server_hello_done),Q.putInt24(0),Q},E.createChangeCipherSpec=function(){var q=t.util.createBuffer();return q.putByte(1),q},E.createFinished=function(q){var Q=t.util.createBuffer();Q.putBuffer(q.session.md5.digest()),Q.putBuffer(q.session.sha1.digest()),Q=e(q.session.sp.master_secret,q.entity===E.ConnectionEnd.client?"client finished":"server finished",Q.getBytes(),12);var ft=t.util.createBuffer();return ft.putByte(E.HandshakeType.finished),ft.putInt24(Q.length()),ft.putBuffer(Q),ft},E.createHeartbeat=function(q,Q,te){typeof te>"u"&&(te=Q.length);var De=t.util.createBuffer();De.putByte(q),De.putInt16(te),De.putBytes(Q);var Re=De.length(),at=Math.max(16,Re-te-3);return De.putBytes(t.random.getBytes(at)),De},E.queue=function(q,Q){if(Q&&(0!==Q.fragment.length()||Q.type!==E.ContentType.handshake&&Q.type!==E.ContentType.alert&&Q.type!==E.ContentType.change_cipher_spec)){if(Q.type===E.ContentType.handshake){var te=Q.fragment.bytes();q.session.md5.update(te),q.session.sha1.update(te),te=null}var De;if(Q.fragment.length()<=E.MaxFragment)De=[Q];else{De=[];for(var Re=Q.fragment.bytes();Re.length>E.MaxFragment;)De.push(E.createRecord(q,{type:Q.type,data:t.util.createBuffer(Re.slice(0,E.MaxFragment))})),Re=Re.slice(E.MaxFragment);Re.length>0&&De.push(E.createRecord(q,{type:Q.type,data:t.util.createBuffer(Re)}))}for(var at=0;at<De.length&&!q.fail;++at){var o=De[at];q.state.current.write.update(q,o)&&q.records.push(o)}}},E.flush=function(q){for(var Q=0;Q<q.records.length;++Q){var te=q.records[Q];q.tlsData.putByte(te.type),q.tlsData.putByte(te.version.major),q.tlsData.putByte(te.version.minor),q.tlsData.putInt16(te.fragment.length()),q.tlsData.putBuffer(q.records[Q].fragment)}return q.records=[],q.tlsDataReady(q)};var mn=function(q){switch(q){case!0:return!0;case t.pki.certificateError.bad_certificate:return E.Alert.Description.bad_certificate;case t.pki.certificateError.unsupported_certificate:return E.Alert.Description.unsupported_certificate;case t.pki.certificateError.certificate_revoked:return E.Alert.Description.certificate_revoked;case t.pki.certificateError.certificate_expired:return E.Alert.Description.certificate_expired;case t.pki.certificateError.certificate_unknown:return E.Alert.Description.certificate_unknown;case t.pki.certificateError.unknown_ca:return E.Alert.Description.unknown_ca;default:return E.Alert.Description.bad_certificate}};for(var Dt in E.verifyCertificateChain=function(q,Q){try{var te={};for(var De in q.verifyOptions)te[De]=q.verifyOptions[De];te.verify=function(at,o,ft){mn(at);var _t=q.verify(q,at,o,ft);if(!0!==_t){if("object"==typeof _t&&!t.util.isArray(_t)){var lt=new Error("The application rejected the certificate.");throw lt.send=!0,lt.alert={level:E.Alert.Level.fatal,description:E.Alert.Description.bad_certificate},_t.message&&(lt.message=_t.message),_t.alert&&(lt.alert.description=_t.alert),lt}_t!==at&&(_t=function(q){switch(q){case!0:return!0;case E.Alert.Description.bad_certificate:return t.pki.certificateError.bad_certificate;case E.Alert.Description.unsupported_certificate:return t.pki.certificateError.unsupported_certificate;case E.Alert.Description.certificate_revoked:return t.pki.certificateError.certificate_revoked;case E.Alert.Description.certificate_expired:return t.pki.certificateError.certificate_expired;case E.Alert.Description.certificate_unknown:return t.pki.certificateError.certificate_unknown;case E.Alert.Description.unknown_ca:return t.pki.certificateError.unknown_ca;default:return t.pki.certificateError.bad_certificate}}(_t))}return _t},t.pki.verifyCertificateChain(q.caStore,Q,te)}catch(at){var Re=at;("object"!=typeof Re||t.util.isArray(Re))&&(Re={send:!0,alert:{level:E.Alert.Level.fatal,description:mn(at)}}),"send"in Re||(Re.send=!0),"alert"in Re||(Re.alert={level:E.Alert.Level.fatal,description:mn(Re.error)}),q.error(q,Re)}return!q.fail},E.createSessionCache=function(q,Q){var te=null;if(q&&q.getSession&&q.setSession&&q.order)te=q;else{for(var De in(te={}).cache=q||{},te.capacity=Math.max(Q||100,1),te.order=[],q)te.order.length<=Q?te.order.push(De):delete q[De];te.getSession=function(Re){var at=null,o=null;if(Re?o=t.util.bytesToHex(Re):te.order.length>0&&(o=te.order[0]),null!==o&&o in te.cache)for(var ft in at=te.cache[o],delete te.cache[o],te.order)if(te.order[ft]===o){te.order.splice(ft,1);break}return at},te.setSession=function(Re,at){if(te.order.length===te.capacity){var o=te.order.shift();delete te.cache[o]}o=t.util.bytesToHex(Re),te.order.push(o),te.cache[o]=at}}return te},E.createConnection=function(q){var Q;Q=q.caStore?t.util.isArray(q.caStore)?t.pki.createCaStore(q.caStore):q.caStore:t.pki.createCaStore();var te=q.cipherSuites||null;if(null===te)for(var De in te=[],E.CipherSuites)te.push(E.CipherSuites[De]);var Re=q.server?E.ConnectionEnd.server:E.ConnectionEnd.client,at=q.sessionCache?E.createSessionCache(q.sessionCache):null,o={version:{major:E.Version.major,minor:E.Version.minor},entity:Re,sessionId:q.sessionId,caStore:Q,sessionCache:at,cipherSuites:te,connected:q.connected,virtualHost:q.virtualHost||null,verifyClient:q.verifyClient||!1,verify:q.verify||function(lt,Pt,tn,ct){return Pt},verifyOptions:q.verifyOptions||{},getCertificate:q.getCertificate||null,getPrivateKey:q.getPrivateKey||null,getSignature:q.getSignature||null,input:t.util.createBuffer(),tlsData:t.util.createBuffer(),data:t.util.createBuffer(),tlsDataReady:q.tlsDataReady,dataReady:q.dataReady,heartbeatReceived:q.heartbeatReceived,closed:q.closed,error:function(lt,Pt){Pt.origin=Pt.origin||(lt.entity===E.ConnectionEnd.client?"client":"server"),Pt.send&&(E.queue(lt,E.createAlert(lt,Pt.alert)),E.flush(lt));var tn=!1!==Pt.fatal;tn&&(lt.fail=!0),q.error(lt,Pt),tn&&lt.close(!1)},deflate:q.deflate||null,inflate:q.inflate||null,reset:function(lt){o.version={major:E.Version.major,minor:E.Version.minor},o.record=null,o.session=null,o.peerCertificate=null,o.state={pending:null,current:null},o.expect=0,o.fragmented=null,o.records=[],o.open=!1,o.handshakes=0,o.handshaking=!1,o.isConnected=!1,o.fail=!(lt||typeof lt>"u"),o.input.clear(),o.tlsData.clear(),o.data.clear(),o.state.current=E.createConnectionState(o)}};return o.reset(),o.handshake=function(lt){if(o.entity!==E.ConnectionEnd.client)o.error(o,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(o.handshaking)o.error(o,{message:"Handshake already in progress.",fatal:!1});else{o.fail&&!o.open&&0===o.handshakes&&(o.fail=!1),o.handshaking=!0;var Pt=null;(lt=lt||"").length>0&&(o.sessionCache&&(Pt=o.sessionCache.getSession(lt)),null===Pt&&(lt="")),0===lt.length&&o.sessionCache&&null!==(Pt=o.sessionCache.getSession())&&(lt=Pt.id),o.session={id:lt,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:t.md.md5.create(),sha1:t.md.sha1.create()},Pt&&(o.version=Pt.version,o.session.sp=Pt.sp),o.session.sp.client_random=E.createRandom().getBytes(),o.open=!0,E.queue(o,E.createRecord(o,{type:E.ContentType.handshake,data:E.createClientHello(o)})),E.flush(o)}},o.process=function(lt){var Pt=0;return lt&&o.input.putBytes(lt),o.fail||(null!==o.record&&o.record.ready&&o.record.fragment.isEmpty()&&(o.record=null),null===o.record&&(Pt=function(lt){var Pt=0,tn=lt.input,ct=tn.length();if(ct<5)Pt=5-ct;else{lt.record={type:tn.getByte(),version:{major:tn.getByte(),minor:tn.getByte()},length:tn.getInt16(),fragment:t.util.createBuffer(),ready:!1};var Lt=lt.record.version.major===lt.version.major;Lt&&lt.session&&lt.session.version&&(Lt=lt.record.version.minor===lt.version.minor),Lt||lt.error(lt,{message:"Incompatible TLS version.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.protocol_version}})}return Pt}(o)),!o.fail&&null!==o.record&&!o.record.ready&&(Pt=function(lt){var Pt=0,tn=lt.input,ct=tn.length();return ct<lt.record.length?Pt=lt.record.length-ct:(lt.record.fragment.putBytes(tn.getBytes(lt.record.length)),tn.compact(),lt.state.current.read.update(lt,lt.record)&&(null!==lt.fragmented&&(lt.fragmented.type===lt.record.type?(lt.fragmented.fragment.putBuffer(lt.record.fragment),lt.record=lt.fragmented):lt.error(lt,{message:"Invalid fragmented record.",send:!0,alert:{level:E.Alert.Level.fatal,description:E.Alert.Description.unexpected_message}})),lt.record.ready=!0)),Pt}(o)),!o.fail&&null!==o.record&&o.record.ready&&function(lt,Pt){var tn=Pt.type-E.ContentType.change_cipher_spec,ct=Fe[lt.entity][lt.expect];tn in ct?ct[tn](lt,Pt):E.handleUnexpected(lt,Pt)}(o,o.record)),Pt},o.prepare=function(lt){return E.queue(o,E.createRecord(o,{type:E.ContentType.application_data,data:t.util.createBuffer(lt)})),E.flush(o)},o.prepareHeartbeatRequest=function(lt,Pt){return lt instanceof t.util.ByteBuffer&&(lt=lt.bytes()),typeof Pt>"u"&&(Pt=lt.length),o.expectedHeartbeatPayload=lt,E.queue(o,E.createRecord(o,{type:E.ContentType.heartbeat,data:E.createHeartbeat(E.HeartbeatMessageType.heartbeat_request,lt,Pt)})),E.flush(o)},o.close=function(lt){if(!o.fail&&o.sessionCache&&o.session){var Pt={id:o.session.id,version:o.session.version,sp:o.session.sp};Pt.sp.keys=null,o.sessionCache.setSession(Pt.id,Pt)}o.open&&(o.open=!1,o.input.clear(),(o.isConnected||o.handshaking)&&(o.isConnected=o.handshaking=!1,E.queue(o,E.createAlert(o,{level:E.Alert.Level.warning,description:E.Alert.Description.close_notify})),E.flush(o)),o.closed(o)),o.reset(lt)},o},nt.exports=t.tls=t.tls||{},E)"function"!=typeof E[Dt]&&(t.tls[Dt]=E[Dt]);t.tls.prf_tls1=e,t.tls.hmac_sha1=function(q,Q,te){var De=t.hmac.create();De.start("SHA1",q);var Re=t.util.createBuffer();return Re.putInt32(Q[0]),Re.putInt32(Q[1]),Re.putByte(te.type),Re.putByte(te.version.major),Re.putByte(te.version.minor),Re.putInt16(te.length),Re.putBytes(te.fragment.bytes()),De.update(Re.getBytes()),De.digest().getBytes()},t.tls.createSessionCache=E.createSessionCache,t.tls.createConnection=E.createConnection},812:(nt,ye,d)=>{var t=d(6589),e=d(3175),p=nt.exports=t.util=t.util||{};function S(N){if(8!==N&&16!==N&&24!==N&&32!==N)throw new Error("Only 8, 16, 24, or 32 bits supported: "+N)}function C(N){if(this.data="",this.read=0,"string"==typeof N)this.data=N;else if(p.isArrayBuffer(N)||p.isArrayBufferView(N))if(typeof Buffer<"u"&&N instanceof Buffer)this.data=N.toString("binary");else{var H=new Uint8Array(N);try{this.data=String.fromCharCode.apply(null,H)}catch{for(var G=0;G<H.length;++G)this.putByte(H[G])}}else(N instanceof C||"object"==typeof N&&"string"==typeof N.data&&"number"==typeof N.read)&&(this.data=N.data,this.read=N.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return p.nextTick=process.nextTick,void(p.setImmediate="function"==typeof setImmediate?setImmediate:p.nextTick);if("function"==typeof setImmediate)return p.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(p.nextTick=function(Z){return setImmediate(Z)});if(p.setImmediate=function(Z){setTimeout(Z,0)},typeof window<"u"&&"function"==typeof window.postMessage){let Z=function(ne){if(ne.source===window&&ne.data===N){ne.stopPropagation();var I=H.slice();H.length=0,I.forEach(function(pe){pe()})}};var N="forge.setImmediate",H=[];p.setImmediate=function(ne){H.push(ne),1===H.length&&window.postMessage(N,"*")},window.addEventListener("message",Z,!0)}if(typeof MutationObserver<"u"){var G=Date.now(),z=!0,ce=document.createElement("div");H=[],new MutationObserver(function(){var ne=H.slice();H.length=0,ne.forEach(function(I){I()})}).observe(ce,{attributes:!0});var de=p.setImmediate;p.setImmediate=function(ne){Date.now()-G>15?(G=Date.now(),de(ne)):(H.push(ne),1===H.length&&ce.setAttribute("a",z=!z))}}p.nextTick=p.setImmediate})(),p.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,p.globalScope=p.isNodejs?global:typeof self>"u"?window:self,p.isArray=Array.isArray||function(N){return"[object Array]"===Object.prototype.toString.call(N)},p.isArrayBuffer=function(N){return typeof ArrayBuffer<"u"&&N instanceof ArrayBuffer},p.isArrayBufferView=function(N){return N&&p.isArrayBuffer(N.buffer)&&void 0!==N.byteLength},p.ByteBuffer=C,p.ByteStringBuffer=C,p.ByteStringBuffer.prototype._optimizeConstructedString=function(N){this._constructedStringLength+=N,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},p.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},p.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},p.ByteStringBuffer.prototype.putByte=function(N){return this.putBytes(String.fromCharCode(N))},p.ByteStringBuffer.prototype.fillWithByte=function(N,H){N=String.fromCharCode(N);for(var G=this.data;H>0;)1&H&&(G+=N),(H>>>=1)>0&&(N+=N);return this.data=G,this._optimizeConstructedString(H),this},p.ByteStringBuffer.prototype.putBytes=function(N){return this.data+=N,this._optimizeConstructedString(N.length),this},p.ByteStringBuffer.prototype.putString=function(N){return this.putBytes(p.encodeUtf8(N))},p.ByteStringBuffer.prototype.putInt16=function(N){return this.putBytes(String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},p.ByteStringBuffer.prototype.putInt24=function(N){return this.putBytes(String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},p.ByteStringBuffer.prototype.putInt32=function(N){return this.putBytes(String.fromCharCode(N>>24&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N))},p.ByteStringBuffer.prototype.putInt16Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255))},p.ByteStringBuffer.prototype.putInt24Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255)+String.fromCharCode(N>>16&255))},p.ByteStringBuffer.prototype.putInt32Le=function(N){return this.putBytes(String.fromCharCode(255&N)+String.fromCharCode(N>>8&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>24&255))},p.ByteStringBuffer.prototype.putInt=function(N,H){S(H);var G="";do{H-=8,G+=String.fromCharCode(N>>H&255)}while(H>0);return this.putBytes(G)},p.ByteStringBuffer.prototype.putSignedInt=function(N,H){return N<0&&(N+=2<<H-1),this.putInt(N,H)},p.ByteStringBuffer.prototype.putBuffer=function(N){return this.putBytes(N.getBytes())},p.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},p.ByteStringBuffer.prototype.getInt16=function(){var N=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,N},p.ByteStringBuffer.prototype.getInt24=function(){var N=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,N},p.ByteStringBuffer.prototype.getInt32=function(){var N=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,N},p.ByteStringBuffer.prototype.getInt16Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,N},p.ByteStringBuffer.prototype.getInt24Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,N},p.ByteStringBuffer.prototype.getInt32Le=function(){var N=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,N},p.ByteStringBuffer.prototype.getInt=function(N){S(N);var H=0;do{H=(H<<8)+this.data.charCodeAt(this.read++),N-=8}while(N>0);return H},p.ByteStringBuffer.prototype.getSignedInt=function(N){var H=this.getInt(N),G=2<<N-2;return H>=G&&(H-=G<<1),H},p.ByteStringBuffer.prototype.getBytes=function(N){var H;return N?(N=Math.min(this.length(),N),H=this.data.slice(this.read,this.read+N),this.read+=N):0===N?H="":(H=0===this.read?this.data:this.data.slice(this.read),this.clear()),H},p.ByteStringBuffer.prototype.bytes=function(N){return typeof N>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+N)},p.ByteStringBuffer.prototype.at=function(N){return this.data.charCodeAt(this.read+N)},p.ByteStringBuffer.prototype.setAt=function(N,H){return this.data=this.data.substr(0,this.read+N)+String.fromCharCode(H)+this.data.substr(this.read+N+1),this},p.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},p.ByteStringBuffer.prototype.copy=function(){var N=p.createBuffer(this.data);return N.read=this.read,N},p.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},p.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},p.ByteStringBuffer.prototype.truncate=function(N){var H=Math.max(0,this.length()-N);return this.data=this.data.substr(this.read,H),this.read=0,this},p.ByteStringBuffer.prototype.toHex=function(){for(var N="",H=this.read;H<this.data.length;++H){var G=this.data.charCodeAt(H);G<16&&(N+="0"),N+=G.toString(16)}return N},p.ByteStringBuffer.prototype.toString=function(){return p.decodeUtf8(this.bytes())},p.DataBuffer=function g(N,H){this.read=(H=H||{}).readOffset||0,this.growSize=H.growSize||1024;var G=p.isArrayBuffer(N),z=p.isArrayBufferView(N);if(G||z)return this.data=G?new DataView(N):new DataView(N.buffer,N.byteOffset,N.byteLength),void(this.write="writeOffset"in H?H.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=N&&this.putBytes(N),"writeOffset"in H&&(this.write=H.writeOffset)},p.DataBuffer.prototype.length=function(){return this.write-this.read},p.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},p.DataBuffer.prototype.accommodate=function(N,H){if(this.length()>=N)return this;H=Math.max(H||this.growSize,N);var G=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),z=new Uint8Array(this.length()+H);return z.set(G),this.data=new DataView(z.buffer),this},p.DataBuffer.prototype.putByte=function(N){return this.accommodate(1),this.data.setUint8(this.write++,N),this},p.DataBuffer.prototype.fillWithByte=function(N,H){this.accommodate(H);for(var G=0;G<H;++G)this.data.setUint8(N);return this},p.DataBuffer.prototype.putBytes=function(N,H){if(p.isArrayBufferView(N)){var z=(G=new Uint8Array(N.buffer,N.byteOffset,N.byteLength)).byteLength-G.byteOffset;return this.accommodate(z),new Uint8Array(this.data.buffer,this.write).set(G),this.write+=z,this}if(p.isArrayBuffer(N)){var G=new Uint8Array(N);return this.accommodate(G.byteLength),new Uint8Array(this.data.buffer).set(G,this.write),this.write+=G.byteLength,this}if(N instanceof p.DataBuffer||"object"==typeof N&&"number"==typeof N.read&&"number"==typeof N.write&&p.isArrayBufferView(N.data))return G=new Uint8Array(N.data.byteLength,N.read,N.length()),this.accommodate(G.byteLength),new Uint8Array(N.data.byteLength,this.write).set(G),this.write+=G.byteLength,this;if(N instanceof p.ByteStringBuffer&&(N=N.data,H="binary"),H=H||"binary","string"==typeof N){var de;if("hex"===H)return this.accommodate(Math.ceil(N.length/2)),de=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.hex.decode(N,de,this.write),this;if("base64"===H)return this.accommodate(3*Math.ceil(N.length/4)),de=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.base64.decode(N,de,this.write),this;if("utf8"===H&&(N=p.encodeUtf8(N),H="binary"),"binary"===H||"raw"===H)return this.accommodate(N.length),de=new Uint8Array(this.data.buffer,this.write),this.write+=p.binary.raw.decode(de),this;if("utf16"===H)return this.accommodate(2*N.length),de=new Uint16Array(this.data.buffer,this.write),this.write+=p.text.utf16.encode(de),this;throw new Error("Invalid encoding: "+H)}throw Error("Invalid parameter: "+N)},p.DataBuffer.prototype.putBuffer=function(N){return this.putBytes(N),N.clear(),this},p.DataBuffer.prototype.putString=function(N){return this.putBytes(N,"utf16")},p.DataBuffer.prototype.putInt16=function(N){return this.accommodate(2),this.data.setInt16(this.write,N),this.write+=2,this},p.DataBuffer.prototype.putInt24=function(N){return this.accommodate(3),this.data.setInt16(this.write,N>>8&65535),this.data.setInt8(this.write,N>>16&255),this.write+=3,this},p.DataBuffer.prototype.putInt32=function(N){return this.accommodate(4),this.data.setInt32(this.write,N),this.write+=4,this},p.DataBuffer.prototype.putInt16Le=function(N){return this.accommodate(2),this.data.setInt16(this.write,N,!0),this.write+=2,this},p.DataBuffer.prototype.putInt24Le=function(N){return this.accommodate(3),this.data.setInt8(this.write,N>>16&255),this.data.setInt16(this.write,N>>8&65535,!0),this.write+=3,this},p.DataBuffer.prototype.putInt32Le=function(N){return this.accommodate(4),this.data.setInt32(this.write,N,!0),this.write+=4,this},p.DataBuffer.prototype.putInt=function(N,H){S(H),this.accommodate(H/8);do{H-=8,this.data.setInt8(this.write++,N>>H&255)}while(H>0);return this},p.DataBuffer.prototype.putSignedInt=function(N,H){return S(H),this.accommodate(H/8),N<0&&(N+=2<<H-1),this.putInt(N,H)},p.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},p.DataBuffer.prototype.getInt16=function(){var N=this.data.getInt16(this.read);return this.read+=2,N},p.DataBuffer.prototype.getInt24=function(){var N=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,N},p.DataBuffer.prototype.getInt32=function(){var N=this.data.getInt32(this.read);return this.read+=4,N},p.DataBuffer.prototype.getInt16Le=function(){var N=this.data.getInt16(this.read,!0);return this.read+=2,N},p.DataBuffer.prototype.getInt24Le=function(){var N=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,N},p.DataBuffer.prototype.getInt32Le=function(){var N=this.data.getInt32(this.read,!0);return this.read+=4,N},p.DataBuffer.prototype.getInt=function(N){S(N);var H=0;do{H=(H<<8)+this.data.getInt8(this.read++),N-=8}while(N>0);return H},p.DataBuffer.prototype.getSignedInt=function(N){var H=this.getInt(N),G=2<<N-2;return H>=G&&(H-=G<<1),H},p.DataBuffer.prototype.getBytes=function(N){var H;return N?(N=Math.min(this.length(),N),H=this.data.slice(this.read,this.read+N),this.read+=N):0===N?H="":(H=0===this.read?this.data:this.data.slice(this.read),this.clear()),H},p.DataBuffer.prototype.bytes=function(N){return typeof N>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+N)},p.DataBuffer.prototype.at=function(N){return this.data.getUint8(this.read+N)},p.DataBuffer.prototype.setAt=function(N,H){return this.data.setUint8(N,H),this},p.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},p.DataBuffer.prototype.copy=function(){return new p.DataBuffer(this)},p.DataBuffer.prototype.compact=function(){if(this.read>0){var N=new Uint8Array(this.data.buffer,this.read),H=new Uint8Array(N.byteLength);H.set(N),this.data=new DataView(H),this.write-=this.read,this.read=0}return this},p.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},p.DataBuffer.prototype.truncate=function(N){return this.write=Math.max(0,this.length()-N),this.read=Math.min(this.read,this.write),this},p.DataBuffer.prototype.toHex=function(){for(var N="",H=this.read;H<this.data.byteLength;++H){var G=this.data.getUint8(H);G<16&&(N+="0"),N+=G.toString(16)}return N},p.DataBuffer.prototype.toString=function(N){var H=new Uint8Array(this.data,this.read,this.length());if("binary"===(N=N||"utf8")||"raw"===N)return p.binary.raw.encode(H);if("hex"===N)return p.binary.hex.encode(H);if("base64"===N)return p.binary.base64.encode(H);if("utf8"===N)return p.text.utf8.decode(H);if("utf16"===N)return p.text.utf16.decode(H);throw new Error("Invalid encoding: "+N)},p.createBuffer=function(N,H){return H=H||"raw",void 0!==N&&"utf8"===H&&(N=p.encodeUtf8(N)),new p.ByteBuffer(N)},p.fillString=function(N,H){for(var G="";H>0;)1&H&&(G+=N),(H>>>=1)>0&&(N+=N);return G},p.xorBytes=function(N,H,G){for(var z="",ce="",de="",Y=0,Z=0;G>0;--G,++Y)ce=N.charCodeAt(Y)^H.charCodeAt(Y),Z>=10&&(z+=de,de="",Z=0),de+=String.fromCharCode(ce),++Z;return z+de},p.hexToBytes=function(N){var H="",G=0;for(!0&N.length&&(G=1,H+=String.fromCharCode(parseInt(N[0],16)));G<N.length;G+=2)H+=String.fromCharCode(parseInt(N.substr(G,2),16));return H},p.bytesToHex=function(N){return p.createBuffer(N).toHex()},p.int32ToBytes=function(N){return String.fromCharCode(N>>24&255)+String.fromCharCode(N>>16&255)+String.fromCharCode(N>>8&255)+String.fromCharCode(255&N)};var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",E=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],v="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";p.encode64=function(N,H){for(var ce,de,Y,G="",z="",Z=0;Z<N.length;)ce=N.charCodeAt(Z++),de=N.charCodeAt(Z++),Y=N.charCodeAt(Z++),G+=h.charAt(ce>>2),G+=h.charAt((3&ce)<<4|de>>4),isNaN(de)?G+="==":(G+=h.charAt((15&de)<<2|Y>>6),G+=isNaN(Y)?"=":h.charAt(63&Y)),H&&G.length>H&&(z+=G.substr(0,H)+"\r\n",G=G.substr(H));return z+G},p.decode64=function(N){N=N.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var G,z,ce,de,H="",Y=0;Y<N.length;)G=E[N.charCodeAt(Y++)-43],z=E[N.charCodeAt(Y++)-43],ce=E[N.charCodeAt(Y++)-43],de=E[N.charCodeAt(Y++)-43],H+=String.fromCharCode(G<<2|z>>4),64!==ce&&(H+=String.fromCharCode((15&z)<<4|ce>>2),64!==de&&(H+=String.fromCharCode((3&ce)<<6|de)));return H},p.encodeUtf8=function(N){return unescape(encodeURIComponent(N))},p.decodeUtf8=function(N){return decodeURIComponent(escape(N))},p.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},p.binary.raw.encode=function(N){return String.fromCharCode.apply(null,N)},p.binary.raw.decode=function(N,H,G){var z=H;z||(z=new Uint8Array(N.length));for(var ce=G=G||0,de=0;de<N.length;++de)z[ce++]=N.charCodeAt(de);return H?ce-G:z},p.binary.hex.encode=p.bytesToHex,p.binary.hex.decode=function(N,H,G){var z=H;z||(z=new Uint8Array(Math.ceil(N.length/2)));var ce=0,de=G=G||0;for(1&N.length&&(ce=1,z[de++]=parseInt(N[0],16));ce<N.length;ce+=2)z[de++]=parseInt(N.substr(ce,2),16);return H?de-G:z},p.binary.base64.encode=function(N,H){for(var ce,de,Y,G="",z="",Z=0;Z<N.byteLength;)ce=N[Z++],de=N[Z++],Y=N[Z++],G+=h.charAt(ce>>2),G+=h.charAt((3&ce)<<4|de>>4),isNaN(de)?G+="==":(G+=h.charAt((15&de)<<2|Y>>6),G+=isNaN(Y)?"=":h.charAt(63&Y)),H&&G.length>H&&(z+=G.substr(0,H)+"\r\n",G=G.substr(H));return z+G},p.binary.base64.decode=function(N,H,G){var z=H;z||(z=new Uint8Array(3*Math.ceil(N.length/4))),N=N.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var ce,de,Y,Z,ne=0,I=G=G||0;ne<N.length;)ce=E[N.charCodeAt(ne++)-43],de=E[N.charCodeAt(ne++)-43],Y=E[N.charCodeAt(ne++)-43],Z=E[N.charCodeAt(ne++)-43],z[I++]=ce<<2|de>>4,64!==Y&&(z[I++]=(15&de)<<4|Y>>2,64!==Z&&(z[I++]=(3&Y)<<6|Z));return H?I-G:z.subarray(0,I)},p.binary.base58.encode=function(N,H){return p.binary.baseN.encode(N,v,H)},p.binary.base58.decode=function(N,H){return p.binary.baseN.decode(N,v,H)},p.text={utf8:{},utf16:{}},p.text.utf8.encode=function(N,H,G){N=p.encodeUtf8(N);var z=H;z||(z=new Uint8Array(N.length));for(var ce=G=G||0,de=0;de<N.length;++de)z[ce++]=N.charCodeAt(de);return H?ce-G:z},p.text.utf8.decode=function(N){return p.decodeUtf8(String.fromCharCode.apply(null,N))},p.text.utf16.encode=function(N,H,G){var z=H;z||(z=new Uint8Array(2*N.length));for(var ce=new Uint16Array(z.buffer),de=G=G||0,Y=G,Z=0;Z<N.length;++Z)ce[Y++]=N.charCodeAt(Z),de+=2;return H?de-G:z},p.text.utf16.decode=function(N){return String.fromCharCode.apply(null,new Uint16Array(N.buffer))},p.deflate=function(N,H,G){if(H=p.decode64(N.deflate(p.encode64(H)).rval),G){var z=2;32&H.charCodeAt(1)&&(z=6),H=H.substring(z,H.length-4)}return H},p.inflate=function(N,H,G){var z=N.inflate(p.encode64(H)).rval;return null===z?null:p.decode64(z)};var B=function(N,H,G){if(!N)throw new Error("WebStorage not available.");var z;if(null===G?z=N.removeItem(H):(G=p.encode64(JSON.stringify(G)),z=N.setItem(H,G)),typeof z<"u"&&!0!==z.rval){var ce=new Error(z.error.message);throw ce.id=z.error.id,ce.name=z.error.name,ce}},U=function(N,H){if(!N)throw new Error("WebStorage not available.");var G=N.getItem(H);if(N.init)if(null===G.rval){if(G.error){var z=new Error(G.error.message);throw z.id=G.error.id,z.name=G.error.name,z}G=null}else G=G.rval;return null!==G&&(G=JSON.parse(p.decode64(G))),G},a=function(N,H,G,z){var ce=U(N,H);null===ce&&(ce={}),ce[G]=z,B(N,H,ce)},k=function(N,H,G){var z=U(N,H);return null!==z&&(z=G in z?z[G]:null),z},O=function(N,H,G){var z=U(N,H);if(null!==z&&G in z){delete z[G];var ce=!0;for(var de in z){ce=!1;break}ce&&(z=null),B(N,H,z)}},P=function(N,H){B(N,H,null)},W=function(N,H,G){var z=null;typeof G>"u"&&(G=["web","flash"]);var ce,de=!1,Y=null;for(var Z in G){ce=G[Z];try{if("flash"===ce||"both"===ce){if(null===H[0])throw new Error("Flash local storage not available.");z=N.apply(this,H),de="flash"===ce}("web"===ce||"both"===ce)&&(H[0]=localStorage,z=N.apply(this,H),de=!0)}catch(ne){Y=ne}if(de)break}if(!de)throw Y;return z};p.setItem=function(N,H,G,z,ce){W(a,arguments,ce)},p.getItem=function(N,H,G,z){return W(k,arguments,z)},p.removeItem=function(N,H,G,z){W(O,arguments,z)},p.clearItems=function(N,H,G){W(P,arguments,G)},p.isEmpty=function(N){for(var H in N)if(N.hasOwnProperty(H))return!1;return!0},p.format=function(N){for(var G,z,H=/%./g,ce=0,de=[],Y=0;G=H.exec(N);){(z=N.substring(Y,H.lastIndex-2)).length>0&&de.push(z),Y=H.lastIndex;var Z=G[0][1];switch(Z){case"s":case"o":de.push(ce<arguments.length?arguments[1+ce++]:"<?>");break;case"%":de.push("%");break;default:de.push("<%"+Z+"?>")}}return de.push(N.substring(Y)),de.join("")},p.formatNumber=function(N,H,G,z){var ce=N,de=isNaN(H=Math.abs(H))?2:H,Y=void 0===G?",":G,Z=void 0===z?".":z,ne=ce<0?"-":"",I=parseInt(ce=Math.abs(+ce||0).toFixed(de),10)+"",pe=I.length>3?I.length%3:0;return ne+(pe?I.substr(0,pe)+Z:"")+I.substr(pe).replace(/(\d{3})(?=\d)/g,"$1"+Z)+(de?Y+Math.abs(ce-I).toFixed(de).slice(2):"")},p.formatSize=function(N){return N>=1073741824?p.formatNumber(N/1073741824,2,".","")+" GiB":N>=1048576?p.formatNumber(N/1048576,2,".","")+" MiB":N>=1024?p.formatNumber(N/1024,0)+" KiB":p.formatNumber(N,0)+" bytes"},p.bytesFromIP=function(N){return-1!==N.indexOf(".")?p.bytesFromIPv4(N):-1!==N.indexOf(":")?p.bytesFromIPv6(N):null},p.bytesFromIPv4=function(N){if(4!==(N=N.split(".")).length)return null;for(var H=p.createBuffer(),G=0;G<N.length;++G){var z=parseInt(N[G],10);if(isNaN(z))return null;H.putByte(z)}return H.getBytes()},p.bytesFromIPv6=function(N){for(var H=0,G=2*(8-(N=N.split(":").filter(function(Y){return 0===Y.length&&++H,!0})).length+H),z=p.createBuffer(),ce=0;ce<8;++ce)if(N[ce]&&0!==N[ce].length){var de=p.hexToBytes(N[ce]);de.length<2&&z.putByte(0),z.putBytes(de)}else z.fillWithByte(0,G),G=0;return z.getBytes()},p.bytesToIP=function(N){return 4===N.length?p.bytesToIPv4(N):16===N.length?p.bytesToIPv6(N):null},p.bytesToIPv4=function(N){if(4!==N.length)return null;for(var H=[],G=0;G<N.length;++G)H.push(N.charCodeAt(G));return H.join(".")},p.bytesToIPv6=function(N){if(16!==N.length)return null;for(var H=[],G=[],z=0,ce=0;ce<N.length;ce+=2){for(var de=p.bytesToHex(N[ce]+N[ce+1]);"0"===de[0]&&"0"!==de;)de=de.substr(1);if("0"===de){var Y=G[G.length-1],Z=H.length;Y&&Z===Y.end+1?(Y.end=Z,Y.end-Y.start>G[z].end-G[z].start&&(z=G.length-1)):G.push({start:Z,end:Z})}H.push(de)}if(G.length>0){var ne=G[z];ne.end-ne.start>0&&(H.splice(ne.start,ne.end-ne.start+1,""),0===ne.start&&H.unshift(""),7===ne.end&&H.push(""))}return H.join(":")},p.estimateCores=function(N,H){if("function"==typeof N&&(H=N,N={}),N=N||{},"cores"in p&&!N.update)return H(null,p.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return p.cores=navigator.hardwareConcurrency,H(null,p.cores);if(typeof Worker>"u")return p.cores=1,H(null,p.cores);if(typeof Blob>"u")return p.cores=2,H(null,p.cores);var G=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(Y){for(var Z=Date.now(),ne=Z+4;Date.now()<ne;);self.postMessage({st:Z,et:ne})})}.toString(),")()"],{type:"application/javascript"}));!function z(Y,Z,ne){if(0===Z){var I=Math.floor(Y.reduce(function(pe,K){return pe+K},0)/Y.length);return p.cores=Math.max(1,I),URL.revokeObjectURL(G),H(null,p.cores)}!function ce(Y,Z){for(var ne=[],I=[],pe=0;pe<Y;++pe){var K=new Worker(G);K.addEventListener("message",function(he){if(I.push(he.data),I.length===Y){for(var Oe=0;Oe<Y;++Oe)ne[Oe].terminate();Z(null,I)}}),ne.push(K)}for(pe=0;pe<Y;++pe)ne[pe].postMessage(pe)}(ne,function(pe,K){Y.push(function de(Y,Z){for(var ne=[],I=0;I<Y;++I)for(var pe=Z[I],K=ne[I]=[],he=0;he<Y;++he)if(I!==he){var Oe=Z[he];(pe.st>Oe.st&&pe.st<Oe.et||Oe.st>pe.st&&Oe.st<pe.et)&&K.push(he)}return ne.reduce(function(Ae,Fe){return Math.max(Ae,Fe.length)},0)}(ne,K)),z(Y,Z-1,ne)})}([],5,16)}},9436:(nt,ye,d)=>{var t=d(6589);d(57),d(7097),d(3674),d(5437),d(8040),d(1817),d(9368),d(8588),d(2880),d(812);var e=t.asn1,p=nt.exports=t.pki=t.pki||{},S=p.oids,C={};C.CN=S.commonName,C.commonName="CN",C.C=S.countryName,C.countryName="C",C.L=S.localityName,C.localityName="L",C.ST=S.stateOrProvinceName,C.stateOrProvinceName="ST",C.O=S.organizationName,C.organizationName="O",C.OU=S.organizationalUnitName,C.organizationalUnitName="OU",C.E=S.emailAddress,C.emailAddress="E";var w=t.pki.rsa.publicKeyValidator,g={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},w,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},h={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},v={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},w,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function B(Y,Z){"string"==typeof Z&&(Z={shortName:Z});for(var I,ne=null,pe=0;null===ne&&pe<Y.attributes.length;++pe)I=Y.attributes[pe],(Z.type&&Z.type===I.type||Z.name&&Z.name===I.name||Z.shortName&&Z.shortName===I.shortName)&&(ne=I);return ne}p.RDNAttributesAsArray=function(Y,Z){for(var I,pe,K,ne=[],he=0;he<Y.value.length;++he){I=Y.value[he];for(var Oe=0;Oe<I.value.length;++Oe)(K={}).type=e.derToOid((pe=I.value[Oe]).value[0].value),K.value=pe.value[1].value,K.valueTagClass=pe.value[1].type,K.type in S&&(K.name=S[K.type],K.name in C&&(K.shortName=C[K.name])),Z&&(Z.update(K.type),Z.update(K.value)),ne.push(K)}return ne},p.CRIAttributesAsArray=function(Y){for(var Z=[],ne=0;ne<Y.length;++ne)for(var I=Y[ne],pe=e.derToOid(I.value[0].value),K=I.value[1].value,he=0;he<K.length;++he){var Oe={};if(Oe.type=pe,Oe.value=K[he].value,Oe.valueTagClass=K[he].type,Oe.type in S&&(Oe.name=S[Oe.type],Oe.name in C&&(Oe.shortName=C[Oe.name])),Oe.type===S.extensionRequest){Oe.extensions=[];for(var Ae=0;Ae<Oe.value.length;++Ae)Oe.extensions.push(p.certificateExtensionFromAsn1(Oe.value[Ae]))}Z.push(Oe)}return Z};var U=function(Y,Z,ne){var I={};if(Y!==S["RSASSA-PSS"])return I;ne&&(I={hash:{algorithmOid:S.sha1},mgf:{algorithmOid:S.mgf1,hash:{algorithmOid:S.sha1}},saltLength:20});var pe={},K=[];if(!e.validate(Z,h,pe,K)){var he=new Error("Cannot read RSASSA-PSS parameter block.");throw he.errors=K,he}return void 0!==pe.hashOid&&(I.hash=I.hash||{},I.hash.algorithmOid=e.derToOid(pe.hashOid)),void 0!==pe.maskGenOid&&(I.mgf=I.mgf||{},I.mgf.algorithmOid=e.derToOid(pe.maskGenOid),I.mgf.hash=I.mgf.hash||{},I.mgf.hash.algorithmOid=e.derToOid(pe.maskGenHashOid)),void 0!==pe.saltLength&&(I.saltLength=pe.saltLength.charCodeAt(0)),I},a=function(Y){switch(S[Y.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return t.md.sha1.create();case"md5WithRSAEncryption":return t.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return t.md.sha256.create();case"sha384WithRSAEncryption":return t.md.sha384.create();case"sha512WithRSAEncryption":return t.md.sha512.create();default:var Z=new Error("Could not compute "+Y.type+" digest. Unknown signature OID.");throw Z.signatureOid=Y.signatureOid,Z}},k=function(Y){var ne,Z=Y.certificate;switch(Z.signatureOid){case S.sha1WithRSAEncryption:case S.sha1WithRSASignature:break;case S["RSASSA-PSS"]:var I,pe,K;if(void 0===(I=S[Z.signatureParameters.mgf.hash.algorithmOid])||void 0===t.md[I])throw(K=new Error("Unsupported MGF hash function.")).oid=Z.signatureParameters.mgf.hash.algorithmOid,K.name=I,K;if(void 0===(pe=S[Z.signatureParameters.mgf.algorithmOid])||void 0===t.mgf[pe])throw(K=new Error("Unsupported MGF function.")).oid=Z.signatureParameters.mgf.algorithmOid,K.name=pe,K;if(pe=t.mgf[pe].create(t.md[I].create()),void 0===(I=S[Z.signatureParameters.hash.algorithmOid])||void 0===t.md[I])throw(K=new Error("Unsupported RSASSA-PSS hash function.")).oid=Z.signatureParameters.hash.algorithmOid,K.name=I,K;ne=t.pss.create(t.md[I].create(),pe,Z.signatureParameters.saltLength)}return Z.publicKey.verify(Y.md.digest().getBytes(),Y.signature,ne)};function O(Y){for(var ne,I,Z=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),pe=Y.attributes,K=0;K<pe.length;++K){var he=(ne=pe[K]).value,Oe=e.Type.PRINTABLESTRING;"valueTagClass"in ne&&(Oe=ne.valueTagClass)===e.Type.UTF8&&(he=t.util.encodeUtf8(he)),I=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ne.type).getBytes()),e.create(e.Class.UNIVERSAL,Oe,!1,he)])]),Z.value.push(I)}return Z}function W(Y){for(var Z,ne=0;ne<Y.length;++ne){if(typeof(Z=Y[ne]).name>"u"&&(Z.type&&Z.type in p.oids?Z.name=p.oids[Z.type]:Z.shortName&&Z.shortName in C&&(Z.name=p.oids[C[Z.shortName]])),typeof Z.type>"u"){if(!Z.name||!(Z.name in p.oids))throw(I=new Error("Attribute type not specified.")).attribute=Z,I;Z.type=p.oids[Z.name]}if(typeof Z.shortName>"u"&&Z.name&&Z.name in C&&(Z.shortName=C[Z.name]),Z.type===S.extensionRequest&&(Z.valueConstructed=!0,Z.valueTagClass=e.Type.SEQUENCE,!Z.value&&Z.extensions)){Z.value=[];for(var pe=0;pe<Z.extensions.length;++pe)Z.value.push(p.certificateExtensionToAsn1(N(Z.extensions[pe])))}var I;if(typeof Z.value>"u")throw(I=new Error("Attribute value not specified.")).attribute=Z,I}}function N(Y,Z){if(Z=Z||{},typeof Y.name>"u"&&Y.id&&Y.id in p.oids&&(Y.name=p.oids[Y.id]),typeof Y.id>"u"){if(!Y.name||!(Y.name in p.oids))throw(ne=new Error("Extension ID not specified.")).extension=Y,ne;Y.id=p.oids[Y.name]}if(typeof Y.value<"u")return Y;if("keyUsage"===Y.name){var I=0,pe=0,K=0;Y.digitalSignature&&(pe|=128,I=7),Y.nonRepudiation&&(pe|=64,I=6),Y.keyEncipherment&&(pe|=32,I=5),Y.dataEncipherment&&(pe|=16,I=4),Y.keyAgreement&&(pe|=8,I=3),Y.keyCertSign&&(pe|=4,I=2),Y.cRLSign&&(pe|=2,I=1),Y.encipherOnly&&(pe|=1,I=0),Y.decipherOnly&&(K|=128,I=7);var he=String.fromCharCode(I);0!==K?he+=String.fromCharCode(pe)+String.fromCharCode(K):0!==pe&&(he+=String.fromCharCode(pe)),Y.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,he)}else if("basicConstraints"===Y.name)Y.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Y.cA&&Y.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in Y&&Y.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Y.pathLenConstraint).getBytes()));else if("extKeyUsage"===Y.name){Y.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Oe=Y.value.value;for(var Ae in Y)!0===Y[Ae]&&(Ae in S?Oe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(S[Ae]).getBytes())):-1!==Ae.indexOf(".")&&Oe.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Ae).getBytes())))}else if("nsCertType"===Y.name)I=0,pe=0,Y.client&&(pe|=128,I=7),Y.server&&(pe|=64,I=6),Y.email&&(pe|=32,I=5),Y.objsign&&(pe|=16,I=4),Y.reserved&&(pe|=8,I=3),Y.sslCA&&(pe|=4,I=2),Y.emailCA&&(pe|=2,I=1),Y.objCA&&(pe|=1,I=0),he=String.fromCharCode(I),0!==pe&&(he+=String.fromCharCode(pe)),Y.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,he);else if("subjectAltName"===Y.name||"issuerAltName"===Y.name){Y.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var qe=0;qe<Y.altNames.length;++qe){if(he=(Fe=Y.altNames[qe]).value,7===Fe.type&&Fe.ip){if(null===(he=t.util.bytesFromIP(Fe.ip)))throw(ne=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=Y,ne}else 8===Fe.type&&(he=e.oidToDer(Fe.oid?e.oidToDer(Fe.oid):he));Y.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Fe.type,!1,he))}}else if("nsComment"===Y.name&&Z.cert){if(!/^[\x00-\x7F]*$/.test(Y.comment)||Y.comment.length<1||Y.comment.length>128)throw new Error('Invalid "nsComment" content.');Y.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,Y.comment)}else if("subjectKeyIdentifier"===Y.name&&Z.cert){var Me=Z.cert.generateSubjectKeyIdentifier();Y.subjectKeyIdentifier=Me.toHex(),Y.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Me.getBytes())}else if("authorityKeyIdentifier"===Y.name&&Z.cert){if(Y.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Oe=Y.value.value,Y.keyIdentifier){var Te=!0===Y.keyIdentifier?Z.cert.generateSubjectKeyIdentifier().getBytes():Y.keyIdentifier;Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,Te))}if(Y.authorityCertIssuer){var ge=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[O(!0===Y.authorityCertIssuer?Z.cert.issuer:Y.authorityCertIssuer)])];Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,ge))}if(Y.serialNumber){var $e=t.util.hexToBytes(!0===Y.serialNumber?Z.cert.serialNumber:Y.serialNumber);Oe.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,$e))}}else if("cRLDistributionPoints"===Y.name){Y.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Oe=Y.value.value;var Fe,xe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),pt=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(qe=0;qe<Y.altNames.length;++qe){if(he=(Fe=Y.altNames[qe]).value,7===Fe.type&&Fe.ip){if(null===(he=t.util.bytesFromIP(Fe.ip)))throw(ne=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=Y,ne}else 8===Fe.type&&(he=e.oidToDer(Fe.oid?e.oidToDer(Fe.oid):he));pt.value.push(e.create(e.Class.CONTEXT_SPECIFIC,Fe.type,!1,he))}xe.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[pt])),Oe.push(xe)}var ne;if(typeof Y.value>"u")throw(ne=new Error("Extension value not specified.")).extension=Y,ne;return Y}function H(Y,Z){if(Y===S["RSASSA-PSS"]){var ne=[];return void 0!==Z.hash.algorithmOid&&ne.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==Z.mgf.algorithmOid&&ne.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Z.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==Z.saltLength&&ne.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Z.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,ne)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function G(Y){var Z=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===Y.attributes.length)return Z;for(var ne=Y.attributes,I=0;I<ne.length;++I){var pe=ne[I],K=pe.value,he=e.Type.UTF8;"valueTagClass"in pe&&(he=pe.valueTagClass),he===e.Type.UTF8&&(K=t.util.encodeUtf8(K));var Oe=!1;"valueConstructed"in pe&&(Oe=pe.valueConstructed);var Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(pe.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,he,Oe,K)])]);Z.value.push(Ae)}return Z}p.certificateFromPem=function(Y,Z,ne){var I=t.pem.decode(Y)[0];if("CERTIFICATE"!==I.type&&"X509 CERTIFICATE"!==I.type&&"TRUSTED CERTIFICATE"!==I.type){var pe=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw pe.headerType=I.type,pe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var K=e.fromDer(I.body,ne);return p.certificateFromAsn1(K,Z)},p.certificateToPem=function(Y,Z){var ne={type:"CERTIFICATE",body:e.toDer(p.certificateToAsn1(Y)).getBytes()};return t.pem.encode(ne,{maxline:Z})},p.publicKeyFromPem=function(Y){var Z=t.pem.decode(Y)[0];if("PUBLIC KEY"!==Z.type&&"RSA PUBLIC KEY"!==Z.type){var ne=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw ne.headerType=Z.type,ne}if(Z.procType&&"ENCRYPTED"===Z.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var I=e.fromDer(Z.body);return p.publicKeyFromAsn1(I)},p.publicKeyToPem=function(Y,Z){var ne={type:"PUBLIC KEY",body:e.toDer(p.publicKeyToAsn1(Y)).getBytes()};return t.pem.encode(ne,{maxline:Z})},p.publicKeyToRSAPublicKeyPem=function(Y,Z){var ne={type:"RSA PUBLIC KEY",body:e.toDer(p.publicKeyToRSAPublicKey(Y)).getBytes()};return t.pem.encode(ne,{maxline:Z})},p.getPublicKeyFingerprint=function(Y,Z){var pe,ne=(Z=Z||{}).md||t.md.sha1.create();switch(Z.type||"RSAPublicKey"){case"RSAPublicKey":pe=e.toDer(p.publicKeyToRSAPublicKey(Y)).getBytes();break;case"SubjectPublicKeyInfo":pe=e.toDer(p.publicKeyToAsn1(Y)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+Z.type+'".')}ne.start(),ne.update(pe);var K=ne.digest();if("hex"===Z.encoding){var he=K.toHex();return Z.delimiter?he.match(/.{2}/g).join(Z.delimiter):he}if("binary"===Z.encoding)return K.getBytes();if(Z.encoding)throw new Error('Unknown encoding "'+Z.encoding+'".');return K},p.certificationRequestFromPem=function(Y,Z,ne){var I=t.pem.decode(Y)[0];if("CERTIFICATE REQUEST"!==I.type){var pe=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw pe.headerType=I.type,pe}if(I.procType&&"ENCRYPTED"===I.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var K=e.fromDer(I.body,ne);return p.certificationRequestFromAsn1(K,Z)},p.certificationRequestToPem=function(Y,Z){var ne={type:"CERTIFICATE REQUEST",body:e.toDer(p.certificationRequestToAsn1(Y)).getBytes()};return t.pem.encode(ne,{maxline:Z})},p.createCertificate=function(){var Y={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return Y.siginfo.algorithmOid=null,Y.validity={},Y.validity.notBefore=new Date,Y.validity.notAfter=new Date,Y.issuer={},Y.issuer.getField=function(Z){return B(Y.issuer,Z)},Y.issuer.addField=function(Z){W([Z]),Y.issuer.attributes.push(Z)},Y.issuer.attributes=[],Y.issuer.hash=null,Y.subject={},Y.subject.getField=function(Z){return B(Y.subject,Z)},Y.subject.addField=function(Z){W([Z]),Y.subject.attributes.push(Z)},Y.subject.attributes=[],Y.subject.hash=null,Y.extensions=[],Y.publicKey=null,Y.md=null,Y.setSubject=function(Z,ne){W(Z),Y.subject.attributes=Z,delete Y.subject.uniqueId,ne&&(Y.subject.uniqueId=ne),Y.subject.hash=null},Y.setIssuer=function(Z,ne){W(Z),Y.issuer.attributes=Z,delete Y.issuer.uniqueId,ne&&(Y.issuer.uniqueId=ne),Y.issuer.hash=null},Y.setExtensions=function(Z){for(var ne=0;ne<Z.length;++ne)N(Z[ne],{cert:Y});Y.extensions=Z},Y.getExtension=function(Z){"string"==typeof Z&&(Z={name:Z});for(var I,ne=null,pe=0;null===ne&&pe<Y.extensions.length;++pe)I=Y.extensions[pe],(Z.id&&I.id===Z.id||Z.name&&I.name===Z.name)&&(ne=I);return ne},Y.sign=function(Z,ne){Y.md=ne||t.md.sha1.create();var I=S[Y.md.algorithm+"WithRSAEncryption"];if(!I){var pe=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw pe.algorithm=Y.md.algorithm,pe}Y.signatureOid=Y.siginfo.algorithmOid=I,Y.tbsCertificate=p.getTBSCertificate(Y);var K=e.toDer(Y.tbsCertificate);Y.md.update(K.getBytes()),Y.signature=Z.sign(Y.md)},Y.verify=function(Z){var ne=!1;if(!Y.issued(Z)){var I=Z.issuer,pe=Y.subject,K=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw K.expectedIssuer=pe.attributes,K.actualIssuer=I.attributes,K}var he=Z.md;if(null===he){he=a({signatureOid:Z.signatureOid,type:"certificate"});var Oe=Z.tbsCertificate||p.getTBSCertificate(Z),Ae=e.toDer(Oe);he.update(Ae.getBytes())}return null!==he&&(ne=k({certificate:Y,md:he,signature:Z.signature})),ne},Y.isIssuer=function(Z){var ne=!1,I=Y.issuer,pe=Z.subject;if(I.hash&&pe.hash)ne=I.hash===pe.hash;else if(I.attributes.length===pe.attributes.length){ne=!0;for(var K,he,Oe=0;ne&&Oe<I.attributes.length;++Oe)((K=I.attributes[Oe]).type!==(he=pe.attributes[Oe]).type||K.value!==he.value)&&(ne=!1)}return ne},Y.issued=function(Z){return Z.isIssuer(Y)},Y.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(Y.publicKey,{type:"RSAPublicKey"})},Y.verifySubjectKeyIdentifier=function(){for(var Z=S.subjectKeyIdentifier,ne=0;ne<Y.extensions.length;++ne){var I=Y.extensions[ne];if(I.id===Z){var pe=Y.generateSubjectKeyIdentifier().getBytes();return t.util.hexToBytes(I.subjectKeyIdentifier)===pe}}return!1},Y},p.certificateFromAsn1=function(Y,Z){var ne={},I=[];if(!e.validate(Y,g,ne,I)){var pe=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw pe.errors=I,pe}if(e.derToOid(ne.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var he=p.createCertificate();he.version=ne.certVersion?ne.certVersion.charCodeAt(0):0;var Oe=t.util.createBuffer(ne.certSerialNumber);he.serialNumber=Oe.toHex(),he.signatureOid=t.asn1.derToOid(ne.certSignatureOid),he.signatureParameters=U(he.signatureOid,ne.certSignatureParams,!0),he.siginfo.algorithmOid=t.asn1.derToOid(ne.certinfoSignatureOid),he.siginfo.parameters=U(he.siginfo.algorithmOid,ne.certinfoSignatureParams,!1),he.signature=ne.certSignature;var Ae=[];if(void 0!==ne.certValidity1UTCTime&&Ae.push(e.utcTimeToDate(ne.certValidity1UTCTime)),void 0!==ne.certValidity2GeneralizedTime&&Ae.push(e.generalizedTimeToDate(ne.certValidity2GeneralizedTime)),void 0!==ne.certValidity3UTCTime&&Ae.push(e.utcTimeToDate(ne.certValidity3UTCTime)),void 0!==ne.certValidity4GeneralizedTime&&Ae.push(e.generalizedTimeToDate(ne.certValidity4GeneralizedTime)),Ae.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Ae.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(he.validity.notBefore=Ae[0],he.validity.notAfter=Ae[1],he.tbsCertificate=ne.tbsCertificate,Z){he.md=a({signatureOid:he.signatureOid,type:"certificate"});var Fe=e.toDer(he.tbsCertificate);he.md.update(Fe.getBytes())}var qe=t.md.sha1.create(),Me=e.toDer(ne.certIssuer);qe.update(Me.getBytes()),he.issuer.getField=function($e){return B(he.issuer,$e)},he.issuer.addField=function($e){W([$e]),he.issuer.attributes.push($e)},he.issuer.attributes=p.RDNAttributesAsArray(ne.certIssuer),ne.certIssuerUniqueId&&(he.issuer.uniqueId=ne.certIssuerUniqueId),he.issuer.hash=qe.digest().toHex();var Te=t.md.sha1.create(),ge=e.toDer(ne.certSubject);return Te.update(ge.getBytes()),he.subject.getField=function($e){return B(he.subject,$e)},he.subject.addField=function($e){W([$e]),he.subject.attributes.push($e)},he.subject.attributes=p.RDNAttributesAsArray(ne.certSubject),ne.certSubjectUniqueId&&(he.subject.uniqueId=ne.certSubjectUniqueId),he.subject.hash=Te.digest().toHex(),he.extensions=ne.certExtensions?p.certificateExtensionsFromAsn1(ne.certExtensions):[],he.publicKey=p.publicKeyFromAsn1(ne.subjectPublicKeyInfo),he},p.certificateExtensionsFromAsn1=function(Y){for(var Z=[],ne=0;ne<Y.value.length;++ne)for(var I=Y.value[ne],pe=0;pe<I.value.length;++pe)Z.push(p.certificateExtensionFromAsn1(I.value[pe]));return Z},p.certificateExtensionFromAsn1=function(Y){var Z={};if(Z.id=e.derToOid(Y.value[0].value),Z.critical=!1,Y.value[1].type===e.Type.BOOLEAN?(Z.critical=0!==Y.value[1].value.charCodeAt(0),Z.value=Y.value[2].value):Z.value=Y.value[1].value,Z.id in S)if(Z.name=S[Z.id],"keyUsage"===Z.name){var I=0,pe=0;(ne=e.fromDer(Z.value)).value.length>1&&(I=ne.value.charCodeAt(1),pe=ne.value.length>2?ne.value.charCodeAt(2):0),Z.digitalSignature=!(128&~I),Z.nonRepudiation=!(64&~I),Z.keyEncipherment=!(32&~I),Z.dataEncipherment=!(16&~I),Z.keyAgreement=!(8&~I),Z.keyCertSign=!(4&~I),Z.cRLSign=!(2&~I),Z.encipherOnly=!(1&~I),Z.decipherOnly=!(128&~pe)}else if("basicConstraints"===Z.name){var ne=e.fromDer(Z.value);Z.cA=ne.value.length>0&&ne.value[0].type===e.Type.BOOLEAN&&0!==ne.value[0].value.charCodeAt(0);var K=null;ne.value.length>0&&ne.value[0].type===e.Type.INTEGER?K=ne.value[0].value:ne.value.length>1&&(K=ne.value[1].value),null!==K&&(Z.pathLenConstraint=e.derToInteger(K))}else if("extKeyUsage"===Z.name){ne=e.fromDer(Z.value);for(var he=0;he<ne.value.length;++he){var Oe=e.derToOid(ne.value[he].value);Oe in S?Z[S[Oe]]=!0:Z[Oe]=!0}}else if("nsCertType"===Z.name)I=0,(ne=e.fromDer(Z.value)).value.length>1&&(I=ne.value.charCodeAt(1)),Z.client=!(128&~I),Z.server=!(64&~I),Z.email=!(32&~I),Z.objsign=!(16&~I),Z.reserved=!(8&~I),Z.sslCA=!(4&~I),Z.emailCA=!(2&~I),Z.objCA=!(1&~I);else if("subjectAltName"===Z.name||"issuerAltName"===Z.name){Z.altNames=[],ne=e.fromDer(Z.value);for(var Ae,Fe=0;Fe<ne.value.length;++Fe){var qe={type:(Ae=ne.value[Fe]).type,value:Ae.value};switch(Z.altNames.push(qe),Ae.type){case 1:case 2:case 6:break;case 7:qe.ip=t.util.bytesToIP(Ae.value);break;case 8:qe.oid=e.derToOid(Ae.value)}}}else"subjectKeyIdentifier"===Z.name&&(ne=e.fromDer(Z.value),Z.subjectKeyIdentifier=t.util.bytesToHex(ne.value));return Z},p.certificationRequestFromAsn1=function(Y,Z){var ne={},I=[];if(!e.validate(Y,v,ne,I)){var pe=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw pe.errors=I,pe}if(e.derToOid(ne.publicKeyOid)!==p.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var he=p.createCertificationRequest();if(he.version=ne.csrVersion?ne.csrVersion.charCodeAt(0):0,he.signatureOid=t.asn1.derToOid(ne.csrSignatureOid),he.signatureParameters=U(he.signatureOid,ne.csrSignatureParams,!0),he.siginfo.algorithmOid=t.asn1.derToOid(ne.csrSignatureOid),he.siginfo.parameters=U(he.siginfo.algorithmOid,ne.csrSignatureParams,!1),he.signature=ne.csrSignature,he.certificationRequestInfo=ne.certificationRequestInfo,Z){he.md=a({signatureOid:he.signatureOid,type:"certification request"});var Oe=e.toDer(he.certificationRequestInfo);he.md.update(Oe.getBytes())}var Ae=t.md.sha1.create();return he.subject.getField=function(Fe){return B(he.subject,Fe)},he.subject.addField=function(Fe){W([Fe]),he.subject.attributes.push(Fe)},he.subject.attributes=p.RDNAttributesAsArray(ne.certificationRequestInfoSubject,Ae),he.subject.hash=Ae.digest().toHex(),he.publicKey=p.publicKeyFromAsn1(ne.subjectPublicKeyInfo),he.getAttribute=function(Fe){return B(he,Fe)},he.addAttribute=function(Fe){W([Fe]),he.attributes.push(Fe)},he.attributes=p.CRIAttributesAsArray(ne.certificationRequestInfoAttributes||[]),he},p.createCertificationRequest=function(){var Y={version:0,signatureOid:null,signature:null,siginfo:{}};return Y.siginfo.algorithmOid=null,Y.subject={},Y.subject.getField=function(Z){return B(Y.subject,Z)},Y.subject.addField=function(Z){W([Z]),Y.subject.attributes.push(Z)},Y.subject.attributes=[],Y.subject.hash=null,Y.publicKey=null,Y.attributes=[],Y.getAttribute=function(Z){return B(Y,Z)},Y.addAttribute=function(Z){W([Z]),Y.attributes.push(Z)},Y.md=null,Y.setSubject=function(Z){W(Z),Y.subject.attributes=Z,Y.subject.hash=null},Y.setAttributes=function(Z){W(Z),Y.attributes=Z},Y.sign=function(Z,ne){Y.md=ne||t.md.sha1.create();var I=S[Y.md.algorithm+"WithRSAEncryption"];if(!I){var pe=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw pe.algorithm=Y.md.algorithm,pe}Y.signatureOid=Y.siginfo.algorithmOid=I,Y.certificationRequestInfo=p.getCertificationRequestInfo(Y);var K=e.toDer(Y.certificationRequestInfo);Y.md.update(K.getBytes()),Y.signature=Z.sign(Y.md)},Y.verify=function(){var Z=!1,ne=Y.md;if(null===ne){ne=a({signatureOid:Y.signatureOid,type:"certification request"});var I=Y.certificationRequestInfo||p.getCertificationRequestInfo(Y),pe=e.toDer(I);ne.update(pe.getBytes())}return null!==ne&&(Z=k({certificate:Y,md:ne,signature:Y.signature})),Z},Y};var z=new Date("1950-01-01T00:00:00Z"),ce=new Date("2050-01-01T00:00:00Z");function de(Y){return Y>=z&&Y<ce?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(Y)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(Y))}p.getTBSCertificate=function(Y){var Z=de(Y.validity.notBefore),ne=de(Y.validity.notAfter),I=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Y.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,t.util.hexToBytes(Y.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Y.siginfo.algorithmOid).getBytes()),H(Y.siginfo.algorithmOid,Y.siginfo.parameters)]),O(Y.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Z,ne]),O(Y.subject),p.publicKeyToAsn1(Y.publicKey)]);return Y.issuer.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+Y.issuer.uniqueId)])),Y.subject.uniqueId&&I.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+Y.subject.uniqueId)])),Y.extensions.length>0&&I.value.push(p.certificateExtensionsToAsn1(Y.extensions)),I},p.getCertificationRequestInfo=function(Y){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Y.version).getBytes()),O(Y.subject),p.publicKeyToAsn1(Y.publicKey),G(Y)])},p.distinguishedNameToAsn1=function(Y){return O(Y)},p.certificateToAsn1=function(Y){var Z=Y.tbsCertificate||p.getTBSCertificate(Y);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Z,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Y.signatureOid).getBytes()),H(Y.signatureOid,Y.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+Y.signature)])},p.certificateExtensionsToAsn1=function(Y){var Z=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),ne=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);Z.value.push(ne);for(var I=0;I<Y.length;++I)ne.value.push(p.certificateExtensionToAsn1(Y[I]));return Z},p.certificateExtensionToAsn1=function(Y){var Z=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);Z.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Y.id).getBytes())),Y.critical&&Z.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var ne=Y.value;return"string"!=typeof Y.value&&(ne=e.toDer(ne).getBytes()),Z.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,ne)),Z},p.certificationRequestToAsn1=function(Y){var Z=Y.certificationRequestInfo||p.getCertificationRequestInfo(Y);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Z,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Y.signatureOid).getBytes()),H(Y.signatureOid,Y.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+Y.signature)])},p.createCaStore=function(Y){var Z={certs:{}};function ne(he){return I(he),Z.certs[he.hash]||null}function I(he){if(!he.hash){var Oe=t.md.sha1.create();he.attributes=p.RDNAttributesAsArray(O(he),Oe),he.hash=Oe.digest().toHex()}}if(Z.getIssuer=function(he){return ne(he.issuer)},Z.addCertificate=function(he){if("string"==typeof he&&(he=t.pki.certificateFromPem(he)),I(he.subject),!Z.hasCertificate(he))if(he.subject.hash in Z.certs){var Oe=Z.certs[he.subject.hash];t.util.isArray(Oe)||(Oe=[Oe]),Oe.push(he),Z.certs[he.subject.hash]=Oe}else Z.certs[he.subject.hash]=he},Z.hasCertificate=function(he){"string"==typeof he&&(he=t.pki.certificateFromPem(he));var Oe=ne(he.subject);if(!Oe)return!1;t.util.isArray(Oe)||(Oe=[Oe]);for(var Ae=e.toDer(p.certificateToAsn1(he)).getBytes(),Fe=0;Fe<Oe.length;++Fe)if(Ae===e.toDer(p.certificateToAsn1(Oe[Fe])).getBytes())return!0;return!1},Z.listAllCertificates=function(){var he=[];for(var Oe in Z.certs)if(Z.certs.hasOwnProperty(Oe)){var Ae=Z.certs[Oe];if(t.util.isArray(Ae))for(var Fe=0;Fe<Ae.length;++Fe)he.push(Ae[Fe]);else he.push(Ae)}return he},Z.removeCertificate=function(he){var Oe;if("string"==typeof he&&(he=t.pki.certificateFromPem(he)),I(he.subject),!Z.hasCertificate(he))return null;var Ae=ne(he.subject);if(!t.util.isArray(Ae))return Oe=Z.certs[he.subject.hash],delete Z.certs[he.subject.hash],Oe;for(var Fe=e.toDer(p.certificateToAsn1(he)).getBytes(),qe=0;qe<Ae.length;++qe)Fe===e.toDer(p.certificateToAsn1(Ae[qe])).getBytes()&&(Oe=Ae[qe],Ae.splice(qe,1));return 0===Ae.length&&delete Z.certs[he.subject.hash],Oe},Y)for(var pe=0;pe<Y.length;++pe)Z.addCertificate(Y[pe]);return Z},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(Y,Z,ne){"function"==typeof ne&&(ne={verify:ne}),ne=ne||{};var I=(Z=Z.slice(0)).slice(0),pe=ne.validityCheckDate;typeof pe>"u"&&(pe=new Date);var K=!0,he=null,Oe=0;do{var Ae=Z.shift(),Fe=null,qe=!1;if(pe&&(pe<Ae.validity.notBefore||pe>Ae.validity.notAfter)&&(he={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:Ae.validity.notBefore,notAfter:Ae.validity.notAfter,now:pe}),null===he){if(null===(Fe=Z[0]||Y.getIssuer(Ae))&&Ae.isIssuer(Ae)&&(qe=!0,Fe=Ae),Fe){var Me=Fe;t.util.isArray(Me)||(Me=[Me]);for(var Te=!1;!Te&&Me.length>0;){Fe=Me.shift();try{Te=Fe.verify(Ae)}catch{}}Te||(he={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}null===he&&(!Fe||qe)&&!Y.hasCertificate(Ae)&&(he={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(null===he&&Fe&&!Ae.isIssuer(Fe)&&(he={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),null===he)for(var ge={keyUsage:!0,basicConstraints:!0},$e=0;null===he&&$e<Ae.extensions.length;++$e){var xe=Ae.extensions[$e];xe.critical&&!(xe.name in ge)&&(he={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(null===he&&(!K||0===Z.length&&(!Fe||qe))){var pt=Ae.getExtension("basicConstraints"),Le=Ae.getExtension("keyUsage");null!==Le&&(!Le.keyCertSign||null===pt)&&(he={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate}),null===he&&null!==pt&&!pt.cA&&(he={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),null===he&&null!==Le&&"pathLenConstraint"in pt&&Oe-1>pt.pathLenConstraint&&(he={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})}var ut=null===he||he.error,hn=ne.verify?ne.verify(ut,Oe,I):ut;if(!0!==hn)throw!0===ut&&(he={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(hn||0===hn)&&("object"!=typeof hn||t.util.isArray(hn)?"string"==typeof hn&&(he.error=hn):(hn.message&&(he.message=hn.message),hn.error&&(he.error=hn.error))),he;he=null,K=!1,++Oe}while(Z.length>0);return!0}},4531:(nt,ye,d)=>{"use strict";ye.hc=void 0;const e=d(2114);ye.hc=(C,w)=>{const g=e.asn1.fromDer(C.toString("binary")),E=e.pkcs12.pkcs12FromAsn1(g,!1,w).getBags({bagType:e.pki.oids.certBag});if(!E||!E?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return E[e.pki.oids.certBag][0]}},5955:(nt,ye)=>{"use strict";class e{static isArrayBuffer(k){return"[object ArrayBuffer]"===Object.prototype.toString.call(k)}static toArrayBuffer(k){return this.isArrayBuffer(k)?k:k.byteLength===k.buffer.byteLength||0===k.byteOffset&&k.byteLength===k.buffer.byteLength?k.buffer:this.toUint8Array(k.buffer).slice(k.byteOffset,k.byteOffset+k.byteLength).buffer}static toUint8Array(k){return this.toView(k,Uint8Array)}static toView(k,O){if(k.constructor===O)return k;if(this.isArrayBuffer(k))return new O(k);if(this.isArrayBufferView(k))return new O(k.buffer,k.byteOffset,k.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(k){return this.isArrayBufferView(k)||this.isArrayBuffer(k)}static isArrayBufferView(k){return ArrayBuffer.isView(k)||k&&this.isArrayBuffer(k.buffer)}static isEqual(k,O){const P=e.toUint8Array(k),W=e.toUint8Array(O);if(P.length!==W.byteLength)return!1;for(let N=0;N<P.length;N++)if(P[N]!==W[N])return!1;return!0}static concat(...k){let O;O=Array.isArray(k[0])&&!(k[1]instanceof Function)||Array.isArray(k[0])&&k[1]instanceof Function?k[0]:k[k.length-1]instanceof Function?k.slice(0,k.length-1):k;let P=0;for(const H of O)P+=H.byteLength;const W=new Uint8Array(P);let N=0;for(const H of O){const G=this.toUint8Array(H);W.set(G,N),N+=G.length}return k[k.length-1]instanceof Function?this.toView(W,k[k.length-1]):W.buffer}}const p="string",S=/^[0-9a-f]+$/i,C=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,w=/^[a-zA-Z0-9-_]+$/;class g{static fromString(k){const O=unescape(encodeURIComponent(k)),P=new Uint8Array(O.length);for(let W=0;W<O.length;W++)P[W]=O.charCodeAt(W);return P.buffer}static toString(k){const O=e.toUint8Array(k);let P="";for(let N=0;N<O.length;N++)P+=String.fromCharCode(O[N]);return decodeURIComponent(escape(P))}}class h{static toString(k,O=!1){const P=e.toArrayBuffer(k),W=new DataView(P);let N="";for(let H=0;H<P.byteLength;H+=2){const G=W.getUint16(H,O);N+=String.fromCharCode(G)}return N}static fromString(k,O=!1){const P=new ArrayBuffer(2*k.length),W=new DataView(P);for(let N=0;N<k.length;N++)W.setUint16(2*N,k.charCodeAt(N),O);return P}}let E=(()=>{class a{static isHex(O){return typeof O===p&&S.test(O)}static isBase64(O){return typeof O===p&&C.test(O)}static isBase64Url(O){return typeof O===p&&w.test(O)}static ToString(O,P="utf8"){const W=e.toUint8Array(O);switch(P.toLowerCase()){case"utf8":return this.ToUtf8String(W);case"binary":return this.ToBinary(W);case"hex":return this.ToHex(W);case"base64":return this.ToBase64(W);case"base64url":return this.ToBase64Url(W);case"utf16le":return h.toString(W,!0);case"utf16":case"utf16be":return h.toString(W);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromString(O,P="utf8"){if(!O)return new ArrayBuffer(0);switch(P.toLowerCase()){case"utf8":return this.FromUtf8String(O);case"binary":return this.FromBinary(O);case"hex":return this.FromHex(O);case"base64":return this.FromBase64(O);case"base64url":return this.FromBase64Url(O);case"utf16le":return h.fromString(O,!0);case"utf16":case"utf16be":return h.fromString(O);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToBase64(O){const P=e.toUint8Array(O);if(typeof btoa<"u"){const W=this.ToString(P,"binary");return btoa(W)}return Buffer.from(P).toString("base64")}static FromBase64(O){const P=this.formatString(O);if(!P)return new ArrayBuffer(0);if(!a.isBase64(P))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(P)):new Uint8Array(Buffer.from(P,"base64")).buffer}static FromBase64Url(O){const P=this.formatString(O);if(!P)return new ArrayBuffer(0);if(!a.isBase64Url(P))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(P.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(O){return this.ToBase64(O).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(O,P=a.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.FromBinary(O);case"utf8":return g.fromString(O);case"utf16":case"utf16be":return h.fromString(O);case"utf16le":case"usc2":return h.fromString(O,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static ToUtf8String(O,P=a.DEFAULT_UTF8_ENCODING){switch(P){case"ascii":return this.ToBinary(O);case"utf8":return g.toString(O);case"utf16":case"utf16be":return h.toString(O);case"utf16le":case"usc2":return h.toString(O,!0);default:throw new Error(`Unknown type of encoding '${P}'`)}}static FromBinary(O){const P=O.length,W=new Uint8Array(P);for(let N=0;N<P;N++)W[N]=O.charCodeAt(N);return W.buffer}static ToBinary(O){const P=e.toUint8Array(O);let W="";for(let N=0;N<P.length;N++)W+=String.fromCharCode(P[N]);return W}static ToHex(O){const P=e.toUint8Array(O);let W="";const N=P.length;for(let H=0;H<N;H++){const G=P[H];G<16&&(W+="0"),W+=G.toString(16)}return W}static FromHex(O){let P=this.formatString(O);if(!P)return new ArrayBuffer(0);if(!a.isHex(P))throw new TypeError("Argument 'hexString' is not HEX encoded");P.length%2&&(P=`0${P}`);const W=new Uint8Array(P.length/2);for(let N=0;N<P.length;N+=2){const H=P.slice(N,N+2);W[N/2]=parseInt(H,16)}return W.buffer}static ToUtf16String(O,P=!1){return h.toString(O,P)}static FromUtf16String(O,P=!1){return h.fromString(O,P)}static Base64Padding(O){const P=4-O.length%4;if(P<4)for(let W=0;W<P;W++)O+="=";return O}static formatString(O){return O?.replace(/[\n\r\t ]/g,"")||""}}return a.DEFAULT_UTF8_ENCODING="utf8",a})();ye._H=e,ye.U$=E},4412:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>e});var t=d(1413);class e extends t.B{constructor(S){super(),this._value=S}get value(){return this.getValue()}_subscribe(S){const C=super._subscribe(S);return!C.closed&&S.next(this._value),C}getValue(){const{hasError:S,thrownError:C,_value:w}=this;if(S)throw C;return this._throwIfClosed(),w}next(S){super.next(this._value=S)}}},1985:(nt,ye,d)=>{"use strict";d.d(ye,{c:()=>h});var t=d(7707),e=d(8359),p=d(3494),S=d(1203),C=d(1026),w=d(8071),g=d(9786);let h=(()=>{class U{constructor(k){k&&(this._subscribe=k)}lift(k){const O=new U;return O.source=this,O.operator=k,O}subscribe(k,O,P){const W=function B(U){return U&&U instanceof t.vU||function v(U){return U&&(0,w.T)(U.next)&&(0,w.T)(U.error)&&(0,w.T)(U.complete)}(U)&&(0,e.Uv)(U)}(k)?k:new t.Ms(k,O,P);return(0,g.Y)(()=>{const{operator:N,source:H}=this;W.add(N?N.call(W,H):H?this._subscribe(W):this._trySubscribe(W))}),W}_trySubscribe(k){try{return this._subscribe(k)}catch(O){k.error(O)}}forEach(k,O){return new(O=E(O))((P,W)=>{const N=new t.Ms({next:H=>{try{k(H)}catch(G){W(G),N.unsubscribe()}},error:W,complete:P});this.subscribe(N)})}_subscribe(k){var O;return null===(O=this.source)||void 0===O?void 0:O.subscribe(k)}[p.s](){return this}pipe(...k){return(0,S.m)(k)(this)}toPromise(k){return new(k=E(k))((O,P)=>{let W;this.subscribe(N=>W=N,N=>P(N),()=>O(W))})}}return U.create=a=>new U(a),U})();function E(U){var a;return null!==(a=U??C.$.Promise)&&void 0!==a?a:Promise}},2771:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>p});var t=d(1413),e=d(6129);class p extends t.B{constructor(C=1/0,w=1/0,g=e.U){super(),this._bufferSize=C,this._windowTime=w,this._timestampProvider=g,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=w===1/0,this._bufferSize=Math.max(1,C),this._windowTime=Math.max(1,w)}next(C){const{isStopped:w,_buffer:g,_infiniteTimeWindow:h,_timestampProvider:E,_windowTime:v}=this;w||(g.push(C),!h&&g.push(E.now()+v)),this._trimBuffer(),super.next(C)}_subscribe(C){this._throwIfClosed(),this._trimBuffer();const w=this._innerSubscribe(C),{_infiniteTimeWindow:g,_buffer:h}=this,E=h.slice();for(let v=0;v<E.length&&!C.closed;v+=g?1:2)C.next(E[v]);return this._checkFinalizedStatuses(C),w}_trimBuffer(){const{_bufferSize:C,_timestampProvider:w,_buffer:g,_infiniteTimeWindow:h}=this,E=(h?1:2)*C;if(C<1/0&&E<g.length&&g.splice(0,g.length-E),!h){const v=w.now();let B=0;for(let U=1;U<g.length&&g[U]<=v;U+=2)B=U;B&&g.splice(0,B+1)}}}},1413:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>g});var t=d(1985),e=d(8359);const S=(0,d(1853).L)(E=>function(){E(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var C=d(7908),w=d(9786);let g=(()=>{class E extends t.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(B){const U=new h(this,this);return U.operator=B,U}_throwIfClosed(){if(this.closed)throw new S}next(B){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const U of this.currentObservers)U.next(B)}})}error(B){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=B;const{observers:U}=this;for(;U.length;)U.shift().error(B)}})}complete(){(0,w.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:B}=this;for(;B.length;)B.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var B;return(null===(B=this.observers)||void 0===B?void 0:B.length)>0}_trySubscribe(B){return this._throwIfClosed(),super._trySubscribe(B)}_subscribe(B){return this._throwIfClosed(),this._checkFinalizedStatuses(B),this._innerSubscribe(B)}_innerSubscribe(B){const{hasError:U,isStopped:a,observers:k}=this;return U||a?e.Kn:(this.currentObservers=null,k.push(B),new e.yU(()=>{this.currentObservers=null,(0,C.o)(k,B)}))}_checkFinalizedStatuses(B){const{hasError:U,thrownError:a,isStopped:k}=this;U?B.error(a):k&&B.complete()}asObservable(){const B=new t.c;return B.source=this,B}}return E.create=(v,B)=>new h(v,B),E})();class h extends g{constructor(v,B){super(),this.destination=v,this.source=B}next(v){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.next)||void 0===U||U.call(B,v)}error(v){var B,U;null===(U=null===(B=this.destination)||void 0===B?void 0:B.error)||void 0===U||U.call(B,v)}complete(){var v,B;null===(B=null===(v=this.destination)||void 0===v?void 0:v.complete)||void 0===B||B.call(v)}_subscribe(v){var B,U;return null!==(U=null===(B=this.source)||void 0===B?void 0:B.subscribe(v))&&void 0!==U?U:e.Kn}}},7707:(nt,ye,d)=>{"use strict";d.d(ye,{Ms:()=>P,vU:()=>U});var t=d(8071),e=d(8359),p=d(1026),S=d(5334),C=d(5343);const w=E("C",void 0,void 0);function E(z,ce,de){return{kind:z,value:ce,error:de}}var v=d(9270),B=d(9786);class U extends e.yU{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,e.Uv)(ce)&&ce.add(this)):this.destination=G}static create(ce,de,Y){return new P(ce,de,Y)}next(ce){this.isStopped?H(function h(z){return E("N",z,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?H(function g(z){return E("E",void 0,z)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?H(w,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const a=Function.prototype.bind;function k(z,ce){return a.call(z,ce)}class O{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:de}=this;if(de.next)try{de.next(ce)}catch(Y){W(Y)}}error(ce){const{partialObserver:de}=this;if(de.error)try{de.error(ce)}catch(Y){W(Y)}else W(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(de){W(de)}}}class P extends U{constructor(ce,de,Y){let Z;if(super(),(0,t.T)(ce)||!ce)Z={next:ce??void 0,error:de??void 0,complete:Y??void 0};else{let ne;this&&p.$.useDeprecatedNextContext?(ne=Object.create(ce),ne.unsubscribe=()=>this.unsubscribe(),Z={next:ce.next&&k(ce.next,ne),error:ce.error&&k(ce.error,ne),complete:ce.complete&&k(ce.complete,ne)}):Z=ce}this.destination=new O(Z)}}function W(z){p.$.useDeprecatedSynchronousErrorHandling?(0,B.l)(z):(0,S.m)(z)}function H(z,ce){const{onStoppedNotification:de}=p.$;de&&v.f.setTimeout(()=>de(z,ce))}const G={closed:!0,next:C.l,error:function N(z){throw z},complete:C.l}},8359:(nt,ye,d)=>{"use strict";d.d(ye,{Kn:()=>w,yU:()=>C,Uv:()=>g});var t=d(8071);const p=(0,d(1853).L)(E=>function(B){E(this),this.message=B?`${B.length} errors occurred during unsubscription:\n${B.map((U,a)=>`${a+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=B});var S=d(7908);class C{constructor(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let v;if(!this.closed){this.closed=!0;const{_parentage:B}=this;if(B)if(this._parentage=null,Array.isArray(B))for(const k of B)k.remove(this);else B.remove(this);const{initialTeardown:U}=this;if((0,t.T)(U))try{U()}catch(k){v=k instanceof p?k.errors:[k]}const{_finalizers:a}=this;if(a){this._finalizers=null;for(const k of a)try{h(k)}catch(O){v=v??[],O instanceof p?v=[...v,...O.errors]:v.push(O)}}if(v)throw new p(v)}}add(v){var B;if(v&&v!==this)if(this.closed)h(v);else{if(v instanceof C){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=null!==(B=this._finalizers)&&void 0!==B?B:[]).push(v)}}_hasParent(v){const{_parentage:B}=this;return B===v||Array.isArray(B)&&B.includes(v)}_addParent(v){const{_parentage:B}=this;this._parentage=Array.isArray(B)?(B.push(v),B):B?[B,v]:v}_removeParent(v){const{_parentage:B}=this;B===v?this._parentage=null:Array.isArray(B)&&(0,S.o)(B,v)}remove(v){const{_finalizers:B}=this;B&&(0,S.o)(B,v),v instanceof C&&v._removeParent(this)}}C.EMPTY=(()=>{const E=new C;return E.closed=!0,E})();const w=C.EMPTY;function g(E){return E instanceof C||E&&"closed"in E&&(0,t.T)(E.remove)&&(0,t.T)(E.add)&&(0,t.T)(E.unsubscribe)}function h(E){(0,t.T)(E)?E():E.unsubscribe()}},1026:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(nt,ye,d)=>{"use strict";d.d(ye,{P:()=>B,z:()=>v});var t=d(1985),e=d(3073),p=d(6648),S=d(3669),C=d(6450),w=d(9326),g=d(8496),h=d(4360),E=d(5225);function v(...a){const k=(0,w.lI)(a),O=(0,w.ms)(a),{args:P,keys:W}=(0,e.D)(a);if(0===P.length)return(0,p.H)([],k);const N=new t.c(B(P,k,W?H=>(0,g.e)(W,H):S.D));return O?N.pipe((0,C.I)(O)):N}function B(a,k,O=S.D){return P=>{U(k,()=>{const{length:W}=a,N=new Array(W);let H=W,G=W;for(let z=0;z<W;z++)U(k,()=>{const ce=(0,p.H)(a[z],k);let de=!1;ce.subscribe((0,h._)(P,Y=>{N[z]=Y,de||(de=!0,G--),G||P.next(O(N.slice()))},()=>{--H||P.complete()}))},P)},P)}}function U(a,k,O){a?(0,E.N)(O,a,k):k()}},8793:(nt,ye,d)=>{"use strict";d.d(ye,{x:()=>C});var t=d(6365),p=d(9326),S=d(6648);function C(...w){return function e(){return(0,t.U)(1)}()((0,S.H)(w,(0,p.lI)(w)))}},9030:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>p});var t=d(1985),e=d(8750);function p(S){return new t.c(C=>{(0,e.Tg)(S()).subscribe(C)})}},983:(nt,ye,d)=>{"use strict";d.d(ye,{I:()=>p,w:()=>e});var t=d(1985);const e=new t.c(C=>C.complete());function p(C){return C?function S(C){return new t.c(w=>C.schedule(()=>w.complete()))}(C):e}},7468:(nt,ye,d)=>{"use strict";d.d(ye,{p:()=>h});var t=d(1985),e=d(3073),p=d(8750),S=d(9326),C=d(4360),w=d(6450),g=d(8496);function h(...E){const v=(0,S.ms)(E),{args:B,keys:U}=(0,e.D)(E),a=new t.c(k=>{const{length:O}=B;if(!O)return void k.complete();const P=new Array(O);let W=O,N=O;for(let H=0;H<O;H++){let G=!1;(0,p.Tg)(B[H]).subscribe((0,C._)(k,z=>{G||(G=!0,N--),P[H]=z},()=>W--,void 0,()=>{(!W||!G)&&(N||k.next(U?(0,g.e)(U,P):P),k.complete())}))}});return v?a.pipe((0,w.I)(v)):a}},6648:(nt,ye,d)=>{"use strict";d.d(ye,{H:()=>Y});var t=d(8750),e=d(5225),p=d(9974),S=d(4360);function C(Z,ne=0){return(0,p.N)((I,pe)=>{I.subscribe((0,S._)(pe,K=>(0,e.N)(pe,Z,()=>pe.next(K),ne),()=>(0,e.N)(pe,Z,()=>pe.complete(),ne),K=>(0,e.N)(pe,Z,()=>pe.error(K),ne)))})}function w(Z,ne=0){return(0,p.N)((I,pe)=>{pe.add(Z.schedule(()=>I.subscribe(pe),ne))})}var E=d(1985),B=d(4761),U=d(8071);function k(Z,ne){if(!Z)throw new Error("Iterable cannot be null");return new E.c(I=>{(0,e.N)(I,ne,()=>{const pe=Z[Symbol.asyncIterator]();(0,e.N)(I,ne,()=>{pe.next().then(K=>{K.done?I.complete():I.next(K.value)})},0,!0)})})}var O=d(5055),P=d(9858),W=d(7441),N=d(5397),H=d(7953),G=d(591),z=d(5196);function Y(Z,ne){return ne?function de(Z,ne){if(null!=Z){if((0,O.l)(Z))return function g(Z,ne){return(0,t.Tg)(Z).pipe(w(ne),C(ne))}(Z,ne);if((0,W.X)(Z))return function v(Z,ne){return new E.c(I=>{let pe=0;return ne.schedule(function(){pe===Z.length?I.complete():(I.next(Z[pe++]),I.closed||this.schedule())})})}(Z,ne);if((0,P.y)(Z))return function h(Z,ne){return(0,t.Tg)(Z).pipe(w(ne),C(ne))}(Z,ne);if((0,H.T)(Z))return k(Z,ne);if((0,N.x)(Z))return function a(Z,ne){return new E.c(I=>{let pe;return(0,e.N)(I,ne,()=>{pe=Z[B.l](),(0,e.N)(I,ne,()=>{let K,he;try{({value:K,done:he}=pe.next())}catch(Oe){return void I.error(Oe)}he?I.complete():I.next(K)},0,!0)}),()=>(0,U.T)(pe?.return)&&pe.return()})}(Z,ne);if((0,z.U)(Z))return function ce(Z,ne){return k((0,z.C)(Z),ne)}(Z,ne)}throw(0,G.L)(Z)}(Z,ne):(0,t.Tg)(Z)}},3726:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>v});var t=d(8750),e=d(1985),p=d(1397),S=d(7441),C=d(8071),w=d(6450);const g=["addListener","removeListener"],h=["addEventListener","removeEventListener"],E=["on","off"];function v(O,P,W,N){if((0,C.T)(W)&&(N=W,W=void 0),N)return v(O,P,W).pipe((0,w.I)(N));const[H,G]=function k(O){return(0,C.T)(O.addEventListener)&&(0,C.T)(O.removeEventListener)}(O)?h.map(z=>ce=>O[z](P,ce,W)):function U(O){return(0,C.T)(O.addListener)&&(0,C.T)(O.removeListener)}(O)?g.map(B(O,P)):function a(O){return(0,C.T)(O.on)&&(0,C.T)(O.off)}(O)?E.map(B(O,P)):[];if(!H&&(0,S.X)(O))return(0,p.Z)(z=>v(z,P,W))((0,t.Tg)(O));if(!H)throw new TypeError("Invalid event target");return new e.c(z=>{const ce=(...de)=>z.next(1<de.length?de:de[0]);return H(ce),()=>G(ce)})}function B(O,P){return W=>N=>O[W](P,N)}},8750:(nt,ye,d)=>{"use strict";d.d(ye,{Tg:()=>a});var t=d(1635),e=d(7441),p=d(9858),S=d(1985),C=d(5055),w=d(7953),g=d(591),h=d(5397),E=d(5196),v=d(8071),B=d(5334),U=d(3494);function a(z){if(z instanceof S.c)return z;if(null!=z){if((0,C.l)(z))return function k(z){return new S.c(ce=>{const de=z[U.s]();if((0,v.T)(de.subscribe))return de.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(z);if((0,e.X)(z))return function O(z){return new S.c(ce=>{for(let de=0;de<z.length&&!ce.closed;de++)ce.next(z[de]);ce.complete()})}(z);if((0,p.y)(z))return function P(z){return new S.c(ce=>{z.then(de=>{ce.closed||(ce.next(de),ce.complete())},de=>ce.error(de)).then(null,B.m)})}(z);if((0,w.T)(z))return N(z);if((0,h.x)(z))return function W(z){return new S.c(ce=>{for(const de of z)if(ce.next(de),ce.closed)return;ce.complete()})}(z);if((0,E.U)(z))return function H(z){return N((0,E.C)(z))}(z)}throw(0,g.L)(z)}function N(z){return new S.c(ce=>{(function G(z,ce){var de,Y,Z,ne;return(0,t.sH)(this,void 0,void 0,function*(){try{for(de=(0,t.xN)(z);!(Y=yield de.next()).done;)if(ce.next(Y.value),ce.closed)return}catch(I){Z={error:I}}finally{try{Y&&!Y.done&&(ne=de.return)&&(yield ne.call(de))}finally{if(Z)throw Z.error}}ce.complete()})})(z,ce).catch(de=>ce.error(de))})}},7786:(nt,ye,d)=>{"use strict";d.d(ye,{h:()=>w});var t=d(6365),e=d(8750),p=d(983),S=d(9326),C=d(6648);function w(...g){const h=(0,S.lI)(g),E=(0,S.R0)(g,1/0),v=g;return v.length?1===v.length?(0,e.Tg)(v[0]):(0,t.U)(E)((0,C.H)(v,h)):p.w}},5060:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>p});var t=d(1985),e=d(5343);const p=new t.c(e.l)},7673:(nt,ye,d)=>{"use strict";d.d(ye,{of:()=>p});var t=d(9326),e=d(6648);function p(...S){const C=(0,t.lI)(S);return(0,e.H)(S,C)}},8810:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>p});var t=d(1985),e=d(8071);function p(S,C){const w=(0,e.T)(S)?S:()=>S,g=h=>h.error(w());return new t.c(C?h=>C.schedule(g,0,h):g)}},1584:(nt,ye,d)=>{"use strict";d.d(ye,{O:()=>C});var t=d(1985),e=d(3236),p=d(9470);function C(w=0,g,h=e.b){let E=-1;return null!=g&&((0,p.m)(g)?h=g:E=g),new t.c(v=>{let B=function S(w){return w instanceof Date&&!isNaN(w)}(w)?+w-h.now():w;B<0&&(B=0);let U=0;return h.schedule(function(){v.closed||(v.next(U++),0<=E?this.schedule(void 0,E):v.complete())},B)})}},4360:(nt,ye,d)=>{"use strict";d.d(ye,{_:()=>e});var t=d(7707);function e(S,C,w,g,h){return new p(S,C,w,g,h)}class p extends t.vU{constructor(C,w,g,h,E,v){super(C),this.onFinalize=E,this.shouldUnsubscribe=v,this._next=w?function(B){try{w(B)}catch(U){C.error(U)}}:super._next,this._error=h?function(B){try{h(B)}catch(U){C.error(U)}finally{this.unsubscribe()}}:super._error,this._complete=g?function(){try{g()}catch(B){C.error(B)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var C;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:w}=this;super.unsubscribe(),!w&&(null===(C=this.onFinalize)||void 0===C||C.call(this))}}}},9437:(nt,ye,d)=>{"use strict";d.d(ye,{W:()=>S});var t=d(8750),e=d(4360),p=d(9974);function S(C){return(0,p.N)((w,g)=>{let v,h=null,E=!1;h=w.subscribe((0,e._)(g,void 0,void 0,B=>{v=(0,t.Tg)(C(B,S(C)(w))),h?(h.unsubscribe(),h=null,v.subscribe(g)):E=!0})),E&&(h.unsubscribe(),h=null,v.subscribe(g))})}},140:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>h});var t=d(4572),e=d(9974),p=d(2326),S=d(6450),C=d(1203),w=d(9326);function g(...E){const v=(0,w.ms)(E);return v?(0,C.F)(g(...E),(0,S.I)(v)):(0,e.N)((B,U)=>{(0,t.P)([B,...(0,p.K)(E)])(U)})}function h(...E){return g(...E)}},274:(nt,ye,d)=>{"use strict";d.d(ye,{H:()=>p});var t=d(1397),e=d(8071);function p(S,C){return(0,e.T)(C)?(0,t.Z)(S,C,1):(0,t.Z)(S,1)}},152:(nt,ye,d)=>{"use strict";d.d(ye,{B:()=>S});var t=d(3236),e=d(9974),p=d(4360);function S(C,w=t.E){return(0,e.N)((g,h)=>{let E=null,v=null,B=null;const U=()=>{if(E){E.unsubscribe(),E=null;const k=v;v=null,h.next(k)}};function a(){const k=B+C,O=w.now();if(O<k)return E=this.schedule(void 0,k-O),void h.add(E);U()}g.subscribe((0,p._)(h,k=>{v=k,B=w.now(),E||(E=w.schedule(a,C),h.add(E))},()=>{U(),h.complete()},void 0,()=>{v=E=null}))})}},9901:(nt,ye,d)=>{"use strict";d.d(ye,{U:()=>p});var t=d(9974),e=d(4360);function p(S){return(0,t.N)((C,w)=>{let g=!1;C.subscribe((0,e._)(w,h=>{g=!0,w.next(h)},()=>{g||w.next(S),w.complete()}))})}},1986:(nt,ye,d)=>{"use strict";d.d(ye,{c:()=>a});var t=d(3236),e=d(8793),p=d(6697),S=d(9974),C=d(4360),w=d(5343),h=d(3703),E=d(1397),v=d(8750);function B(k,O){return O?P=>(0,e.x)(O.pipe((0,p.s)(1),function g(){return(0,S.N)((k,O)=>{k.subscribe((0,C._)(O,w.l))})}()),P.pipe(B(k))):(0,E.Z)((P,W)=>(0,v.Tg)(k(P,W)).pipe((0,p.s)(1),(0,h.u)(P)))}var U=d(1584);function a(k,O=t.E){const P=(0,U.O)(k,O);return B(()=>P)}},3294:(nt,ye,d)=>{"use strict";d.d(ye,{F:()=>S});var t=d(3669),e=d(9974),p=d(4360);function S(w,g=t.D){return w=w??C,(0,e.N)((h,E)=>{let v,B=!0;h.subscribe((0,p._)(E,U=>{const a=g(U);(B||!w(v,a))&&(B=!1,v=a,E.next(U))}))})}function C(w,g){return w===g}},5964:(nt,ye,d)=>{"use strict";d.d(ye,{p:()=>p});var t=d(9974),e=d(4360);function p(S,C){return(0,t.N)((w,g)=>{let h=0;w.subscribe((0,e._)(g,E=>S.call(C,E,h++)&&g.next(E)))})}},980:(nt,ye,d)=>{"use strict";d.d(ye,{j:()=>e});var t=d(9974);function e(p){return(0,t.N)((S,C)=>{try{S.subscribe(C)}finally{C.add(p)}})}},1594:(nt,ye,d)=>{"use strict";d.d(ye,{$:()=>g});var t=d(9350),e=d(5964),p=d(6697),S=d(9901),C=d(3774),w=d(3669);function g(h,E){const v=arguments.length>=2;return B=>B.pipe(h?(0,e.p)((U,a)=>h(U,a,B)):w.D,(0,p.s)(1),v?(0,S.U)(E):(0,C.v)(()=>new t.G))}},6354:(nt,ye,d)=>{"use strict";d.d(ye,{T:()=>p});var t=d(9974),e=d(4360);function p(S,C){return(0,t.N)((w,g)=>{let h=0;w.subscribe((0,e._)(g,E=>{g.next(S.call(C,E,h++))}))})}},3703:(nt,ye,d)=>{"use strict";d.d(ye,{u:()=>e});var t=d(6354);function e(p){return(0,t.T)(()=>p)}},1716:(nt,ye,d)=>{"use strict";d.d(ye,{h:()=>w});var t=d(9974),e=d(2326),p=d(6365),S=d(9326),C=d(6648);function w(...g){const h=(0,S.lI)(g),E=(0,S.R0)(g,1/0);return g=(0,e.K)(g),(0,t.N)((v,B)=>{(0,p.U)(E)((0,C.H)([v,...g],h)).subscribe(B)})}},6365:(nt,ye,d)=>{"use strict";d.d(ye,{U:()=>p});var t=d(1397),e=d(3669);function p(S=1/0){return(0,t.Z)(e.D,S)}},1397:(nt,ye,d)=>{"use strict";d.d(ye,{Z:()=>h});var t=d(6354),e=d(8750),p=d(9974),S=d(5225),C=d(4360),g=d(8071);function h(E,v,B=1/0){return(0,g.T)(v)?h((U,a)=>(0,t.T)((k,O)=>v(U,k,a,O))((0,e.Tg)(E(U,a))),B):("number"==typeof v&&(B=v),(0,p.N)((U,a)=>function w(E,v,B,U,a,k,O,P){const W=[];let N=0,H=0,G=!1;const z=()=>{G&&!W.length&&!N&&v.complete()},ce=Y=>N<U?de(Y):W.push(Y),de=Y=>{k&&v.next(Y),N++;let Z=!1;(0,e.Tg)(B(Y,H++)).subscribe((0,C._)(v,ne=>{a?.(ne),k?ce(ne):v.next(ne)},()=>{Z=!0},void 0,()=>{if(Z)try{for(N--;W.length&&N<U;){const ne=W.shift();O?(0,S.N)(v,O,()=>de(ne)):de(ne)}z()}catch(ne){v.error(ne)}}))};return E.subscribe((0,C._)(v,ce,()=>{G=!0,z()})),()=>{P?.()}}(U,a,E,B)))}},8412:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>e});var t=d(1716);function e(...p){return(0,t.h)(...p)}},6649:(nt,ye,d)=>{"use strict";d.d(ye,{S:()=>e});var t=d(4360);function e(p,S,C,w,g){return(h,E)=>{let v=C,B=S,U=0;h.subscribe((0,t._)(E,a=>{const k=U++;B=v?p(B,a,k):(v=!0,a),w&&E.next(B)},g&&(()=>{v&&E.next(B),E.complete()})))}}},9568:(nt,ye,d)=>{"use strict";d.d(ye,{t:()=>h});var t=d(2771),e=d(8750),p=d(1413),S=d(7707),C=d(9974);function g(E,v,...B){if(!0===v)return void E();if(!1===v)return;const U=new S.Ms({next:()=>{U.unsubscribe(),E()}});return(0,e.Tg)(v(...B)).subscribe(U)}function h(E,v,B){let U,a=!1;return E&&"object"==typeof E?({bufferSize:U=1/0,windowTime:v=1/0,refCount:a=!1,scheduler:B}=E):U=E??1/0,function w(E={}){const{connector:v=(()=>new p.B),resetOnError:B=!0,resetOnComplete:U=!0,resetOnRefCountZero:a=!0}=E;return k=>{let O,P,W,N=0,H=!1,G=!1;const z=()=>{P?.unsubscribe(),P=void 0},ce=()=>{z(),O=W=void 0,H=G=!1},de=()=>{const Y=O;ce(),Y?.unsubscribe()};return(0,C.N)((Y,Z)=>{N++,!G&&!H&&z();const ne=W=W??v();Z.add(()=>{N--,0===N&&!G&&!H&&(P=g(de,a))}),ne.subscribe(Z),!O&&N>0&&(O=new S.Ms({next:I=>ne.next(I),error:I=>{G=!0,z(),P=g(ce,B,I),ne.error(I)},complete:()=>{H=!0,z(),P=g(ce,U),ne.complete()}}),(0,e.Tg)(Y).subscribe(O))})(k)}}({connector:()=>new t.m(U,v,B),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}},9172:(nt,ye,d)=>{"use strict";d.d(ye,{Z:()=>S});var t=d(8793),e=d(9326),p=d(9974);function S(...C){const w=(0,e.lI)(C);return(0,p.N)((g,h)=>{(w?(0,t.x)(C,g,w):(0,t.x)(C,g)).subscribe(h)})}},5558:(nt,ye,d)=>{"use strict";d.d(ye,{n:()=>S});var t=d(8750),e=d(9974),p=d(4360);function S(C,w){return(0,e.N)((g,h)=>{let E=null,v=0,B=!1;const U=()=>B&&!E&&h.complete();g.subscribe((0,p._)(h,a=>{E?.unsubscribe();let k=0;const O=v++;(0,t.Tg)(C(a,O)).subscribe(E=(0,p._)(h,P=>h.next(w?w(a,P,O,k++):P),()=>{E=null,U()}))},()=>{B=!0,U()}))})}},6697:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>S});var t=d(983),e=d(9974),p=d(4360);function S(C){return C<=0?()=>t.w:(0,e.N)((w,g)=>{let h=0;w.subscribe((0,p._)(g,E=>{++h<=C&&(g.next(E),C<=h&&g.complete())}))})}},6977:(nt,ye,d)=>{"use strict";d.d(ye,{Q:()=>C});var t=d(9974),e=d(4360),p=d(8750),S=d(5343);function C(w){return(0,t.N)((g,h)=>{(0,p.Tg)(w).subscribe((0,e._)(h,()=>h.complete(),S.l)),!h.closed&&g.subscribe(h)})}},8141:(nt,ye,d)=>{"use strict";d.d(ye,{M:()=>C});var t=d(8071),e=d(9974),p=d(4360),S=d(3669);function C(w,g,h){const E=(0,t.T)(w)||g||h?{next:w,error:g,complete:h}:w;return E?(0,e.N)((v,B)=>{var U;null===(U=E.subscribe)||void 0===U||U.call(E);let a=!0;v.subscribe((0,p._)(B,k=>{var O;null===(O=E.next)||void 0===O||O.call(E,k),B.next(k)},()=>{var k;a=!1,null===(k=E.complete)||void 0===k||k.call(E),B.complete()},k=>{var O;a=!1,null===(O=E.error)||void 0===O||O.call(E,k),B.error(k)},()=>{var k,O;a&&(null===(k=E.unsubscribe)||void 0===k||k.call(E)),null===(O=E.finalize)||void 0===O||O.call(E)}))}):S.D}},3774:(nt,ye,d)=>{"use strict";d.d(ye,{v:()=>S});var t=d(9350),e=d(9974),p=d(4360);function S(w=C){return(0,e.N)((g,h)=>{let E=!1;g.subscribe((0,p._)(h,v=>{E=!0,h.next(v)},()=>E?h.complete():h.error(w())))})}function C(){return new t.G}},3993:(nt,ye,d)=>{"use strict";d.d(ye,{E:()=>g});var t=d(9974),e=d(4360),p=d(8750),S=d(3669),C=d(5343),w=d(9326);function g(...h){const E=(0,w.ms)(h);return(0,t.N)((v,B)=>{const U=h.length,a=new Array(U);let k=h.map(()=>!1),O=!1;for(let P=0;P<U;P++)(0,p.Tg)(h[P]).subscribe((0,e._)(B,W=>{a[P]=W,!O&&!k[P]&&(k[P]=!0,(O=k.every(S.D))&&(k=null))},C.l));v.subscribe((0,e._)(B,P=>{if(O){const W=[P,...a];B.next(E?E(...W):W)}}))})}},6780:(nt,ye,d)=>{"use strict";d.d(ye,{R:()=>C});var t=d(8359);class e extends t.yU{constructor(g,h){super()}schedule(g,h=0){return this}}const p={setInterval(w,g,...h){const{delegate:E}=p;return E?.setInterval?E.setInterval(w,g,...h):setInterval(w,g,...h)},clearInterval(w){const{delegate:g}=p;return(g?.clearInterval||clearInterval)(w)},delegate:void 0};var S=d(7908);class C extends e{constructor(g,h){super(g,h),this.scheduler=g,this.work=h,this.pending=!1}schedule(g,h=0){var E;if(this.closed)return this;this.state=g;const v=this.id,B=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(B,v,h)),this.pending=!0,this.delay=h,this.id=null!==(E=this.id)&&void 0!==E?E:this.requestAsyncId(B,this.id,h),this}requestAsyncId(g,h,E=0){return p.setInterval(g.flush.bind(g,this),E)}recycleAsyncId(g,h,E=0){if(null!=E&&this.delay===E&&!1===this.pending)return h;null!=h&&p.clearInterval(h)}execute(g,h){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const E=this._execute(g,h);if(E)return E;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(g,h){let v,E=!1;try{this.work(g)}catch(B){E=!0,v=B||new Error("Scheduled action threw falsy error")}if(E)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:g,scheduler:h}=this,{actions:E}=h;this.work=this.state=this.scheduler=null,this.pending=!1,(0,S.o)(E,this),null!=g&&(this.id=this.recycleAsyncId(h,g,null)),this.delay=null,super.unsubscribe()}}}},9687:(nt,ye,d)=>{"use strict";d.d(ye,{q:()=>p});var t=d(6129);class e{constructor(C,w=e.now){this.schedulerActionCtor=C,this.now=w}schedule(C,w=0,g){return new this.schedulerActionCtor(this,C).schedule(g,w)}}e.now=t.U.now;class p extends e{constructor(C,w=e.now){super(C,w),this.actions=[],this._active=!1}flush(C){const{actions:w}=this;if(this._active)return void w.push(C);let g;this._active=!0;do{if(g=C.execute(C.state,C.delay))break}while(C=w.shift());if(this._active=!1,g){for(;C=w.shift();)C.unsubscribe();throw g}}}},3236:(nt,ye,d)=>{"use strict";d.d(ye,{E:()=>p,b:()=>S});var t=d(6780);const p=new(d(9687).q)(t.R),S=p},6129:(nt,ye,d)=>{"use strict";d.d(ye,{U:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},9270:(nt,ye,d)=>{"use strict";d.d(ye,{f:()=>t});const t={setTimeout(e,p,...S){const{delegate:C}=t;return C?.setTimeout?C.setTimeout(e,p,...S):setTimeout(e,p,...S)},clearTimeout(e){const{delegate:p}=t;return(p?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(nt,ye,d)=>{"use strict";d.d(ye,{l:()=>e});const e=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nt,ye,d)=>{"use strict";d.d(ye,{s:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nt,ye,d)=>{"use strict";d.d(ye,{G:()=>e});const e=(0,d(1853).L)(p=>function(){p(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(nt,ye,d)=>{"use strict";d.d(ye,{R0:()=>w,lI:()=>C,ms:()=>S});var t=d(8071),e=d(9470);function p(g){return g[g.length-1]}function S(g){return(0,t.T)(p(g))?g.pop():void 0}function C(g){return(0,e.m)(p(g))?g.pop():void 0}function w(g,h){return"number"==typeof p(g)?g.pop():h}},3073:(nt,ye,d)=>{"use strict";d.d(ye,{D:()=>C});const{isArray:t}=Array,{getPrototypeOf:e,prototype:p,keys:S}=Object;function C(g){if(1===g.length){const h=g[0];if(t(h))return{args:h,keys:null};if(function w(g){return g&&"object"==typeof g&&e(g)===p}(h)){const E=S(h);return{args:E.map(v=>h[v]),keys:E}}}return{args:g,keys:null}}},2326:(nt,ye,d)=>{"use strict";d.d(ye,{K:()=>e});const{isArray:t}=Array;function e(p){return 1===p.length&&t(p[0])?p[0]:p}},7908:(nt,ye,d)=>{"use strict";function t(e,p){if(e){const S=e.indexOf(p);0<=S&&e.splice(S,1)}}d.d(ye,{o:()=>t})},1853:(nt,ye,d)=>{"use strict";function t(e){const S=e(C=>{Error.call(C),C.stack=(new Error).stack});return S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S}d.d(ye,{L:()=>t})},8496:(nt,ye,d)=>{"use strict";function t(e,p){return e.reduce((S,C,w)=>(S[C]=p[w],S),{})}d.d(ye,{e:()=>t})},9786:(nt,ye,d)=>{"use strict";d.d(ye,{Y:()=>p,l:()=>S});var t=d(1026);let e=null;function p(C){if(t.$.useDeprecatedSynchronousErrorHandling){const w=!e;if(w&&(e={errorThrown:!1,error:null}),C(),w){const{errorThrown:g,error:h}=e;if(e=null,g)throw h}}else C()}function S(C){t.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=C)}},5225:(nt,ye,d)=>{"use strict";function t(e,p,S,C=0,w=!1){const g=p.schedule(function(){S(),w?e.add(this.schedule(null,C)):this.unsubscribe()},C);if(e.add(g),!w)return g}d.d(ye,{N:()=>t})},3669:(nt,ye,d)=>{"use strict";function t(e){return e}d.d(ye,{D:()=>t})},7441:(nt,ye,d)=>{"use strict";d.d(ye,{X:()=>t});const t=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(nt,ye,d)=>{"use strict";d.d(ye,{T:()=>e});var t=d(8071);function e(p){return Symbol.asyncIterator&&(0,t.T)(p?.[Symbol.asyncIterator])}},8071:(nt,ye,d)=>{"use strict";function t(e){return"function"==typeof e}d.d(ye,{T:()=>t})},5055:(nt,ye,d)=>{"use strict";d.d(ye,{l:()=>p});var t=d(3494),e=d(8071);function p(S){return(0,e.T)(S[t.s])}},5397:(nt,ye,d)=>{"use strict";d.d(ye,{x:()=>p});var t=d(4761),e=d(8071);function p(S){return(0,e.T)(S?.[t.l])}},4402:(nt,ye,d)=>{"use strict";d.d(ye,{A:()=>p});var t=d(1985),e=d(8071);function p(S){return!!S&&(S instanceof t.c||(0,e.T)(S.lift)&&(0,e.T)(S.subscribe))}},9858:(nt,ye,d)=>{"use strict";d.d(ye,{y:()=>e});var t=d(8071);function e(p){return(0,t.T)(p?.then)}},5196:(nt,ye,d)=>{"use strict";d.d(ye,{C:()=>p,U:()=>S});var t=d(1635),e=d(8071);function p(C){return(0,t.AQ)(this,arguments,function*(){const g=C.getReader();try{for(;;){const{value:h,done:E}=yield(0,t.N3)(g.read());if(E)return yield(0,t.N3)(void 0);yield yield(0,t.N3)(h)}}finally{g.releaseLock()}})}function S(C){return(0,e.T)(C?.getReader)}},9470:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>e});var t=d(8071);function e(p){return p&&(0,t.T)(p.schedule)}},9974:(nt,ye,d)=>{"use strict";d.d(ye,{N:()=>p,S:()=>e});var t=d(8071);function e(S){return(0,t.T)(S?.lift)}function p(S){return C=>{if(e(C))return C.lift(function(w){try{return S(w,this)}catch(g){this.error(g)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nt,ye,d)=>{"use strict";d.d(ye,{I:()=>S});var t=d(6354);const{isArray:e}=Array;function S(C){return(0,t.T)(w=>function p(C,w){return e(w)?C(...w):C(w)}(C,w))}},5343:(nt,ye,d)=>{"use strict";function t(){}d.d(ye,{l:()=>t})},1203:(nt,ye,d)=>{"use strict";d.d(ye,{F:()=>e,m:()=>p});var t=d(3669);function e(...S){return p(S)}function p(S){return 0===S.length?t.D:1===S.length?S[0]:function(w){return S.reduce((g,h)=>h(g),w)}}},5334:(nt,ye,d)=>{"use strict";d.d(ye,{m:()=>p});var t=d(1026),e=d(9270);function p(S){e.f.setTimeout(()=>{const{onUnhandledError:C}=t.$;if(!C)throw S;C(S)})}},591:(nt,ye,d)=>{"use strict";function t(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}d.d(ye,{L:()=>t})},9625:function(nt,ye,d){var t;!function(e,p){"use strict";var g="function",h="undefined",E="object",v="string",B="major",U="model",a="name",k="type",O="vendor",P="version",W="architecture",N="console",H="mobile",G="tablet",z="smarttv",ce="wearable",de="embedded",Z="Amazon",ne="Apple",I="ASUS",pe="BlackBerry",K="Browser",he="Chrome",Ae="Firefox",Fe="Google",Te="Microsoft",ge="Motorola",$e="Opera",xe="Samsung",Le="Sony",Ct="Xiaomi",ut="Zebra",hn="Facebook",mn="Chromium OS",q=function(ct){for(var Lt={},Ce=0;Ce<ct.length;Ce++)Lt[ct[Ce].toUpperCase()]=ct[Ce];return Lt},Q=function(ct,Lt){return typeof ct===v&&-1!==te(Lt).indexOf(te(ct))},te=function(ct){return ct.toLowerCase()},Re=function(ct,Lt){if(typeof ct===v)return ct=ct.replace(/^\s\s*/,""),typeof Lt===h?ct:ct.substring(0,500)},at=function(ct,Lt){for(var le,j,ae,Ge,tt,vt,Ce=0;Ce<Lt.length&&!tt;){var Bt=Lt[Ce],ln=Lt[Ce+1];for(le=j=0;le<Bt.length&&!tt&&Bt[le];)if(tt=Bt[le++].exec(ct))for(ae=0;ae<ln.length;ae++)vt=tt[++j],typeof(Ge=ln[ae])===E&&Ge.length>0?2===Ge.length?this[Ge[0]]=typeof Ge[1]==g?Ge[1].call(this,vt):Ge[1]:3===Ge.length?this[Ge[0]]=typeof Ge[1]!==g||Ge[1].exec&&Ge[1].test?vt?vt.replace(Ge[1],Ge[2]):p:vt?Ge[1].call(this,vt,Ge[2]):p:4===Ge.length&&(this[Ge[0]]=vt?Ge[3].call(this,vt.replace(Ge[1],Ge[2])):p):this[Ge]=vt||p;Ce+=2}},o=function(ct,Lt){for(var Ce in Lt)if(typeof Lt[Ce]===E&&Lt[Ce].length>0){for(var le=0;le<Lt[Ce].length;le++)if(Q(Lt[Ce][le],ct))return"?"===Ce?p:Ce}else if(Q(Lt[Ce],ct))return"?"===Ce?p:Ce;return ct},Ft={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_t={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[P,[a,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[P,[a,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[a,P],[/opios[\/ ]+([\w\.]+)/i],[P,[a,$e+" Mini"]],[/\bopr\/([\w\.]+)/i],[P,[a,$e]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[P,[a,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[a,P],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[P,[a,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[P,[a,"WeChat"]],[/konqueror\/([\w\.]+)/i],[P,[a,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[P,[a,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[P,[a,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[P,[a,"Smart Lenovo "+K]],[/(avast|avg)\/([\w\.]+)/i],[[a,/(.+)/,"$1 Secure "+K],P],[/\bfocus\/([\w\.]+)/i],[P,[a,Ae+" Focus"]],[/\bopt\/([\w\.]+)/i],[P,[a,$e+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[P,[a,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[P,[a,"Dolphin"]],[/coast\/([\w\.]+)/i],[P,[a,$e+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[P,[a,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[P,[a,Ae]],[/\bqihu|(qi?ho?o?|360)browser/i],[[a,"360 "+K]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[a,/(.+)/,"$1 "+K],P],[/samsungbrowser\/([\w\.]+)/i],[P,[a,xe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],P],[/metasr[\/ ]?([\d\.]+)/i],[P,[a,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[a,"Sogou Mobile"],P],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[a,P],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[a],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[a,hn],P],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[a,P],[/\bgsa\/([\w\.]+) .*safari\//i],[P,[a,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[P,[a,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[P,[a,he+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[a,he+" WebView"],P],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[P,[a,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[a,P],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[P,[a,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[P,a],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[a,[P,o,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[a,P],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[a,"Netscape"],P],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[P,[a,Ae+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[a,P],[/(cobalt)\/([\w\.]+)/i],[a,[P,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[W,"amd64"]],[/(ia32(?=;))/i],[[W,te]],[/((?:i[346]|x)86)[;\)]/i],[[W,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[W,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[W,"armhf"]],[/windows (ce|mobile); ppc;/i],[[W,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[W,/ower/,"",te]],[/(sun4\w)[;\)]/i],[[W,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[W,te]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[U,[O,xe],[k,G]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[U,[O,xe],[k,H]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[U,[O,ne],[k,H]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[U,[O,ne],[k,G]],[/(macintosh);/i],[U,[O,ne]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[U,[O,"Sharp"],[k,H]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[U,[O,"Huawei"],[k,G]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[U,[O,"Huawei"],[k,H]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[U,/_/g," "],[O,Ct],[k,H]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[U,/_/g," "],[O,Ct],[k,G]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[U,[O,"OPPO"],[k,H]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[U,[O,"Vivo"],[k,H]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[U,[O,"Realme"],[k,H]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[U,[O,ge],[k,H]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[U,[O,ge],[k,G]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[U,[O,"LG"],[k,G]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[U,[O,"LG"],[k,H]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[U,[O,"Lenovo"],[k,G]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[U,/_/g," "],[O,"Nokia"],[k,H]],[/(pixel c)\b/i],[U,[O,Fe],[k,G]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[U,[O,Fe],[k,H]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[U,[O,Le],[k,H]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[U,"Xperia Tablet"],[O,Le],[k,G]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[U,[O,"OnePlus"],[k,H]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[U,[O,Z],[k,G]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[U,/(.+)/g,"Fire Phone $1"],[O,Z],[k,H]],[/(playbook);[-\w\),; ]+(rim)/i],[U,O,[k,G]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[U,[O,pe],[k,H]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[U,[O,I],[k,G]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[U,[O,I],[k,H]],[/(nexus 9)/i],[U,[O,"HTC"],[k,G]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[O,[U,/_/g," "],[k,H]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[U,[O,"Acer"],[k,G]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[U,[O,"Meizu"],[k,H]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[U,[O,"Ulefone"],[k,H]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[O,U,[k,H]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[O,U,[k,G]],[/(surface duo)/i],[U,[O,Te],[k,G]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[U,[O,"Fairphone"],[k,H]],[/(u304aa)/i],[U,[O,"AT&T"],[k,H]],[/\bsie-(\w*)/i],[U,[O,"Siemens"],[k,H]],[/\b(rct\w+) b/i],[U,[O,"RCA"],[k,G]],[/\b(venue[\d ]{2,7}) b/i],[U,[O,"Dell"],[k,G]],[/\b(q(?:mv|ta)\w+) b/i],[U,[O,"Verizon"],[k,G]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[U,[O,"Barnes & Noble"],[k,G]],[/\b(tm\d{3}\w+) b/i],[U,[O,"NuVision"],[k,G]],[/\b(k88) b/i],[U,[O,"ZTE"],[k,G]],[/\b(nx\d{3}j) b/i],[U,[O,"ZTE"],[k,H]],[/\b(gen\d{3}) b.+49h/i],[U,[O,"Swiss"],[k,H]],[/\b(zur\d{3}) b/i],[U,[O,"Swiss"],[k,G]],[/\b((zeki)?tb.*\b) b/i],[U,[O,"Zeki"],[k,G]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[O,"Dragon Touch"],U,[k,G]],[/\b(ns-?\w{0,9}) b/i],[U,[O,"Insignia"],[k,G]],[/\b((nxa|next)-?\w{0,9}) b/i],[U,[O,"NextBook"],[k,G]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[O,"Voice"],U,[k,H]],[/\b(lvtel\-)?(v1[12]) b/i],[[O,"LvTel"],U,[k,H]],[/\b(ph-1) /i],[U,[O,"Essential"],[k,H]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[U,[O,"Envizen"],[k,G]],[/\b(trio[-\w\. ]+) b/i],[U,[O,"MachSpeed"],[k,G]],[/\btu_(1491) b/i],[U,[O,"Rotor"],[k,G]],[/(shield[\w ]+) b/i],[U,[O,"Nvidia"],[k,G]],[/(sprint) (\w+)/i],[O,U,[k,H]],[/(kin\.[onetw]{3})/i],[[U,/\./g," "],[O,Te],[k,H]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[U,[O,ut],[k,G]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[U,[O,ut],[k,H]],[/smart-tv.+(samsung)/i],[O,[k,z]],[/hbbtv.+maple;(\d+)/i],[[U,/^/,"SmartTV"],[O,xe],[k,z]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[O,"LG"],[k,z]],[/(apple) ?tv/i],[O,[U,ne+" TV"],[k,z]],[/crkey/i],[[U,he+"cast"],[O,Fe],[k,z]],[/droid.+aft(\w+)( bui|\))/i],[U,[O,Z],[k,z]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[U,[O,"Sharp"],[k,z]],[/(bravia[\w ]+)( bui|\))/i],[U,[O,Le],[k,z]],[/(mitv-\w{5}) bui/i],[U,[O,Ct],[k,z]],[/Hbbtv.*(technisat) (.*);/i],[O,U,[k,z]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[O,Re],[U,Re],[k,z]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[k,z]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[O,U,[k,N]],[/droid.+; (shield) bui/i],[U,[O,"Nvidia"],[k,N]],[/(playstation [345portablevi]+)/i],[U,[O,Le],[k,N]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[U,[O,Te],[k,N]],[/((pebble))app/i],[O,U,[k,ce]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[U,[O,ne],[k,ce]],[/droid.+; (glass) \d/i],[U,[O,Fe],[k,ce]],[/droid.+; (wt63?0{2,3})\)/i],[U,[O,ut],[k,ce]],[/(quest( 2| pro)?)/i],[U,[O,hn],[k,ce]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[O,[k,de]],[/(aeobc)\b/i],[U,[O,Z],[k,de]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[U,[k,H]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[U,[k,G]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[k,G]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[k,H]],[/(android[-\w\. ]{0,9});.+buil/i],[U,[O,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[P,[a,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[P,[a,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[a,P],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[P,a]],os:[[/microsoft (windows) (vista|xp)/i],[a,P],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[a,[P,o,Ft]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[P,o,Ft],[a,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[P,/_/g,"."],[a,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[a,"Mac OS"],[P,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[P,a],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[a,P],[/\(bb(10);/i],[P,[a,pe]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[P,[a,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[P,[a,Ae+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[P,[a,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[P,[a,"watchOS"]],[/crkey\/([\d\.]+)/i],[P,[a,he+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[a,mn],P],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[a,P],[/(sunos) ?([\w\.\d]*)/i],[[a,"Solaris"],P],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[a,P]]},lt=function(ct,Lt){if(typeof ct===E&&(Lt=ct,ct=p),!(this instanceof lt))return new lt(ct,Lt).getResult();var Ce=typeof e!==h&&e.navigator?e.navigator:p,le=ct||(Ce&&Ce.userAgent?Ce.userAgent:""),j=Ce&&Ce.userAgentData?Ce.userAgentData:p,ae=Lt?function(ct,Lt){var Ce={};for(var le in ct)Ce[le]=Lt[le]&&Lt[le].length%2==0?Lt[le].concat(ct[le]):ct[le];return Ce}(_t,Lt):_t,Ge=Ce&&Ce.userAgent==le;return this.getBrowser=function(){var tt={};return tt[a]=p,tt[P]=p,at.call(tt,le,ae.browser),tt[B]=function(ct){return typeof ct===v?ct.replace(/[^\d\.]/g,"").split(".")[0]:p}(tt[P]),Ge&&Ce&&Ce.brave&&typeof Ce.brave.isBrave==g&&(tt[a]="Brave"),tt},this.getCPU=function(){var tt={};return tt[W]=p,at.call(tt,le,ae.cpu),tt},this.getDevice=function(){var tt={};return tt[O]=p,tt[U]=p,tt[k]=p,at.call(tt,le,ae.device),Ge&&!tt[k]&&j&&j.mobile&&(tt[k]=H),Ge&&"Macintosh"==tt[U]&&Ce&&typeof Ce.standalone!==h&&Ce.maxTouchPoints&&Ce.maxTouchPoints>2&&(tt[U]="iPad",tt[k]=G),tt},this.getEngine=function(){var tt={};return tt[a]=p,tt[P]=p,at.call(tt,le,ae.engine),tt},this.getOS=function(){var tt={};return tt[a]=p,tt[P]=p,at.call(tt,le,ae.os),Ge&&!tt[a]&&j&&"Unknown"!=j.platform&&(tt[a]=j.platform.replace(/chrome os/i,mn).replace(/macos/i,"Mac OS")),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return le},this.setUA=function(tt){return le=typeof tt===v&&tt.length>500?Re(tt,500):tt,this},this.setUA(le),this};lt.VERSION="1.0.37",lt.BROWSER=q([a,P,B]),lt.CPU=q([W]),lt.DEVICE=q([U,O,k,N,H,z,G,ce,de]),lt.ENGINE=lt.OS=q([a,P]),typeof ye!==h?(nt.exports&&(ye=nt.exports=lt),ye.UAParser=lt):d.amdO?(t=function(){return lt}.call(ye,d,ye,nt))!==p&&(nt.exports=t):typeof e!==h&&(e.UAParser=lt);var Pt=typeof e!==h&&(e.jQuery||e.Zepto);if(Pt&&!Pt.ua){var tn=new lt;Pt.ua=tn.getResult(),Pt.ua.get=function(){return tn.getUA()},Pt.ua.set=function(ct){tn.setUA(ct);var Lt=tn.getResult();for(var Ce in Lt)Pt.ua[Ce]=Lt[Ce]}}}("object"==typeof window?window:this)},5568:function(nt,ye){!function(d){"use strict";function t(){for(var xt=arguments.length,bt=Array(xt),Gt=0;Gt<xt;Gt++)bt[Gt]=arguments[Gt];if(bt.length>1){bt[0]=bt[0].slice(0,-1);for(var Kt=bt.length-1,en=1;en<Kt;++en)bt[en]=bt[en].slice(1,-1);return bt[Kt]=bt[Kt].slice(1),bt.join("")}return bt[0]}function e(xt){return"(?:"+xt+")"}function p(xt){return void 0===xt?"undefined":null===xt?"null":Object.prototype.toString.call(xt).split(" ").pop().split("]").shift().toLowerCase()}function S(xt){return xt.toUpperCase()}function g(xt){var bt="[A-Za-z]",Kt="[0-9]",Rn=t(Kt,"[A-Fa-f]"),kn=e(e("%[EFef]"+Rn+"%"+Rn+Rn+"%"+Rn+Rn)+"|"+e("%[89A-Fa-f]"+Rn+"%"+Rn+Rn)+"|"+e("%"+Rn+Rn)),wi="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ri=t("[\\:\\/\\?\\#\\[\\]\\@]",wi),zi=xt?"[\\uE000-\\uF8FF]":"[]",ti=t(bt,Kt,"[\\-\\.\\_\\~]",xt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Gn=e(bt+t(bt,Kt,"[\\+\\-\\.]")+"*"),Ei=e(e(kn+"|"+t(ti,wi,"[\\:]"))+"*"),Yn=(e(e("25[0-5]")+"|"+e("2[0-4]"+Kt)+"|"+e("1"+Kt+Kt)+"|"+e("[1-9]"+Kt)+"|"+Kt),e(e("25[0-5]")+"|"+e("2[0-4]"+Kt)+"|"+e("1"+Kt+Kt)+"|"+e("0?[1-9]"+Kt)+"|0?0?"+Kt)),Ni=e(Yn+"\\."+Yn+"\\."+Yn+"\\."+Yn),rt=e(Rn+"{1,4}"),It=e(e(rt+"\\:"+rt)+"|"+Ni),Ye=e(e(rt+"\\:")+"{6}"+It),Zt=e("\\:\\:"+e(rt+"\\:")+"{5}"+It),ht=e(e(rt)+"?\\:\\:"+e(rt+"\\:")+"{4}"+It),Xt=e(e(e(rt+"\\:")+"{0,1}"+rt)+"?\\:\\:"+e(rt+"\\:")+"{3}"+It),$t=e(e(e(rt+"\\:")+"{0,2}"+rt)+"?\\:\\:"+e(rt+"\\:")+"{2}"+It),an=e(e(e(rt+"\\:")+"{0,3}"+rt)+"?\\:\\:"+rt+"\\:"+It),gn=e(e(e(rt+"\\:")+"{0,4}"+rt)+"?\\:\\:"+It),Ue=e(e(e(rt+"\\:")+"{0,5}"+rt)+"?\\:\\:"+rt),Xe=e(e(e(rt+"\\:")+"{0,6}"+rt)+"?\\:\\:"),ot=e([Ye,Zt,ht,Xt,$t,an,gn,Ue,Xe].join("|")),Vt=e(e(ti+"|"+kn)+"+"),bn=(e(ot+"\\%25"+Vt),e(ot+e("\\%25|\\%(?!"+Rn+"{2})")+Vt)),In=e("[vV]"+Rn+"+\\."+t(ti,wi,"[\\:]")+"+"),Dn=e("\\["+e(bn+"|"+ot+"|"+In)+"\\]"),_i=e(e(kn+"|"+t(ti,wi))+"*"),Gi=e(Dn+"|"+Ni+"(?!"+_i+")|"+_i),Ti=e(Kt+"*"),mi=e(e(Ei+"@")+"?"+Gi+e("\\:"+Ti)+"?"),rr=e(kn+"|"+t(ti,wi,"[\\:\\@]")),br=e(rr+"*"),ei=e(rr+"+"),hi=e(e(kn+"|"+t(ti,wi,"[\\@]"))+"+"),mr=e(e("\\/"+br)+"*"),Oi=e("\\/"+e(ei+mr)+"?"),Pr=e(hi+mr),Br=e(ei+mr),ds="(?!"+rr+")",Ai=(e(mr+"|"+Oi+"|"+Pr+"|"+Br+"|"+ds),e(e(rr+"|"+t("[\\/\\?]",zi))+"*")),Lr=e(e(rr+"|[\\/\\?]")+"*"),ss=e(e("\\/\\/"+mi+mr)+"|"+Oi+"|"+Br+"|"+ds),kr=e(Gn+"\\:"+ss+e("\\?"+Ai)+"?"+e("\\#"+Lr)+"?"),Ds=e(e("\\/\\/"+mi+mr)+"|"+Oi+"|"+Pr+"|"+ds),Er=e(Ds+e("\\?"+Ai)+"?"+e("\\#"+Lr)+"?");return e(kr+"|"+Er),e(Gn+"\\:"+ss+e("\\?"+Ai)+"?"),e(e("\\/\\/("+e("("+Ei+")@")+"?("+Gi+")"+e("\\:("+Ti+")")+"?)")+"?("+mr+"|"+Oi+"|"+Br+"|"+ds+")"),e("\\?("+Ai+")"),e("\\#("+Lr+")"),e(e("\\/\\/("+e("("+Ei+")@")+"?("+Gi+")"+e("\\:("+Ti+")")+"?)")+"?("+mr+"|"+Oi+"|"+Pr+"|"+ds+")"),e("\\?("+Ai+")"),e("\\#("+Lr+")"),e(e("\\/\\/("+e("("+Ei+")@")+"?("+Gi+")"+e("\\:("+Ti+")")+"?)")+"?("+mr+"|"+Oi+"|"+Br+"|"+ds+")"),e("\\?("+Ai+")"),e("\\#("+Lr+")"),e("("+Ei+")@"),e("\\:("+Ti+")"),{NOT_SCHEME:new RegExp(t("[^]",bt,Kt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",ti,wi),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",ti,wi),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",ti,wi),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",ti,wi),"g"),NOT_QUERY:new RegExp(t("[^\\%]",ti,wi,"[\\:\\@\\/\\?]",zi),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",ti,wi,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",ti,wi),"g"),UNRESERVED:new RegExp(ti,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",ti,Ri),"g"),PCT_ENCODED:new RegExp(kn,"g"),IPV4ADDRESS:new RegExp("^("+Ni+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ot+")"+e(e("\\%25|\\%(?!"+Rn+"{2})")+"("+Vt+")")+"?\\]?$")}}var h=g(!1),E=g(!0),v=function(){return function(bt,Gt){if(Array.isArray(bt))return bt;if(Symbol.iterator in Object(bt))return function xt(bt,Gt){var Kt=[],en=!0,Rn=!1,Sn=void 0;try{for(var kn,li=bt[Symbol.iterator]();!(en=(kn=li.next()).done)&&(Kt.push(kn.value),!Gt||Kt.length!==Gt);en=!0);}catch(Cn){Rn=!0,Sn=Cn}finally{try{!en&&li.return&&li.return()}finally{if(Rn)throw Sn}}return Kt}(bt,Gt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),U=2147483647,a=36,z=/^xn--/,ce=/[^\0-\x7E]/,de=/[\x2E\u3002\uFF0E\uFF61]/g,Y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=Math.floor,I=String.fromCharCode;function pe(xt){throw new RangeError(Y[xt])}function he(xt,bt){var Gt=xt.split("@"),Kt="";return Gt.length>1&&(Kt=Gt[0]+"@",xt=Gt[1]),Kt+function K(xt,bt){for(var Gt=[],Kt=xt.length;Kt--;)Gt[Kt]=bt(xt[Kt]);return Gt}((xt=xt.replace(de,".")).split("."),bt).join(".")}function Oe(xt){for(var bt=[],Gt=0,Kt=xt.length;Gt<Kt;){var en=xt.charCodeAt(Gt++);if(en>=55296&&en<=56319&&Gt<Kt){var Rn=xt.charCodeAt(Gt++);56320==(64512&Rn)?bt.push(((1023&en)<<10)+(1023&Rn)+65536):(bt.push(en),Gt--)}else bt.push(en)}return bt}var Fe=function(bt){return bt-48<10?bt-22:bt-65<26?bt-65:bt-97<26?bt-97:a},qe=function(bt,Gt){return bt+22+75*(bt<26)-((0!=Gt)<<5)},Me=function(bt,Gt,Kt){var en=0;for(bt=Kt?ne(bt/700):bt>>1,bt+=ne(bt/Gt);bt>455;en+=a)bt=ne(bt/35);return ne(en+36*bt/(bt+38))},Te=function(bt){var Gt=[],Kt=bt.length,en=0,Rn=128,Sn=72,li=bt.lastIndexOf("-");li<0&&(li=0);for(var kn=0;kn<li;++kn)bt.charCodeAt(kn)>=128&&pe("not-basic"),Gt.push(bt.charCodeAt(kn));for(var Cn=li>0?li+1:0;Cn<Kt;){for(var wi=en,Ri=1,ri=a;;ri+=a){Cn>=Kt&&pe("invalid-input");var zi=Fe(bt.charCodeAt(Cn++));(zi>=a||zi>ne((U-en)/Ri))&&pe("overflow"),en+=zi*Ri;var ti=ri<=Sn?1:ri>=Sn+26?26:ri-Sn;if(zi<ti)break;var Gn=a-ti;Ri>ne(U/Gn)&&pe("overflow"),Ri*=Gn}var Ei=Gt.length+1;Sn=Me(en-wi,Ei,0==wi),ne(en/Ei)>U-Rn&&pe("overflow"),Rn+=ne(en/Ei),en%=Ei,Gt.splice(en++,0,Rn)}return String.fromCodePoint.apply(String,Gt)},ge=function(bt){var Gt=[],Kt=(bt=Oe(bt)).length,en=128,Rn=0,Sn=72,li=!0,kn=!1,Cn=void 0;try{for(var Ri,wi=bt[Symbol.iterator]();!(li=(Ri=wi.next()).done);li=!0){var ri=Ri.value;ri<128&&Gt.push(I(ri))}}catch(bn){kn=!0,Cn=bn}finally{try{!li&&wi.return&&wi.return()}finally{if(kn)throw Cn}}var zi=Gt.length,ti=zi;for(zi&&Gt.push("-");ti<Kt;){var Gn=U,Ei=!0,Vi=!1,Yn=void 0;try{for(var rt,Ni=bt[Symbol.iterator]();!(Ei=(rt=Ni.next()).done);Ei=!0){var It=rt.value;It>=en&&It<Gn&&(Gn=It)}}catch(bn){Vi=!0,Yn=bn}finally{try{!Ei&&Ni.return&&Ni.return()}finally{if(Vi)throw Yn}}var Ye=ti+1;Gn-en>ne((U-Rn)/Ye)&&pe("overflow"),Rn+=(Gn-en)*Ye,en=Gn;var Zt=!0,ht=!1,Xt=void 0;try{for(var an,$t=bt[Symbol.iterator]();!(Zt=(an=$t.next()).done);Zt=!0){var gn=an.value;if(gn<en&&++Rn>U&&pe("overflow"),gn==en){for(var Ue=Rn,Xe=a;;Xe+=a){var ot=Xe<=Sn?1:Xe>=Sn+26?26:Xe-Sn;if(Ue<ot)break;var Vt=Ue-ot,_n=a-ot;Gt.push(I(qe(ot+Vt%_n,0))),Ue=ne(Vt/_n)}Gt.push(I(qe(Ue,0))),Sn=Me(Rn,Ye,ti==zi),Rn=0,++ti}}}catch(bn){ht=!0,Xt=bn}finally{try{!Zt&&$t.return&&$t.return()}finally{if(ht)throw Xt}}++Rn,++en}return Gt.join("")},pt={version:"2.1.0",ucs2:{decode:Oe,encode:function(bt){return String.fromCodePoint.apply(String,function(xt){if(Array.isArray(xt)){for(var bt=0,Gt=Array(xt.length);bt<xt.length;bt++)Gt[bt]=xt[bt];return Gt}return Array.from(xt)}(bt))}},decode:Te,encode:ge,toASCII:function(bt){return he(bt,function(Gt){return ce.test(Gt)?"xn--"+ge(Gt):Gt})},toUnicode:function(bt){return he(bt,function(Gt){return z.test(Gt)?Te(Gt.slice(4).toLowerCase()):Gt})}},Le={};function Ct(xt){var bt=xt.charCodeAt(0);return bt<16?"%0"+bt.toString(16).toUpperCase():bt<128?"%"+bt.toString(16).toUpperCase():bt<2048?"%"+(bt>>6|192).toString(16).toUpperCase()+"%"+(63&bt|128).toString(16).toUpperCase():"%"+(bt>>12|224).toString(16).toUpperCase()+"%"+(bt>>6&63|128).toString(16).toUpperCase()+"%"+(63&bt|128).toString(16).toUpperCase()}function ut(xt){for(var bt="",Gt=0,Kt=xt.length;Gt<Kt;){var en=parseInt(xt.substr(Gt+1,2),16);if(en<128)bt+=String.fromCharCode(en),Gt+=3;else if(en>=194&&en<224){if(Kt-Gt>=6){var Rn=parseInt(xt.substr(Gt+4,2),16);bt+=String.fromCharCode((31&en)<<6|63&Rn)}else bt+=xt.substr(Gt,6);Gt+=6}else if(en>=224){if(Kt-Gt>=9){var Sn=parseInt(xt.substr(Gt+4,2),16),li=parseInt(xt.substr(Gt+7,2),16);bt+=String.fromCharCode((15&en)<<12|(63&Sn)<<6|63&li)}else bt+=xt.substr(Gt,9);Gt+=9}else bt+=xt.substr(Gt,3),Gt+=3}return bt}function hn(xt,bt){function Gt(Kt){var en=ut(Kt);return en.match(bt.UNRESERVED)?en:Kt}return xt.scheme&&(xt.scheme=String(xt.scheme).replace(bt.PCT_ENCODED,Gt).toLowerCase().replace(bt.NOT_SCHEME,"")),void 0!==xt.userinfo&&(xt.userinfo=String(xt.userinfo).replace(bt.PCT_ENCODED,Gt).replace(bt.NOT_USERINFO,Ct).replace(bt.PCT_ENCODED,S)),void 0!==xt.host&&(xt.host=String(xt.host).replace(bt.PCT_ENCODED,Gt).toLowerCase().replace(bt.NOT_HOST,Ct).replace(bt.PCT_ENCODED,S)),void 0!==xt.path&&(xt.path=String(xt.path).replace(bt.PCT_ENCODED,Gt).replace(xt.scheme?bt.NOT_PATH:bt.NOT_PATH_NOSCHEME,Ct).replace(bt.PCT_ENCODED,S)),void 0!==xt.query&&(xt.query=String(xt.query).replace(bt.PCT_ENCODED,Gt).replace(bt.NOT_QUERY,Ct).replace(bt.PCT_ENCODED,S)),void 0!==xt.fragment&&(xt.fragment=String(xt.fragment).replace(bt.PCT_ENCODED,Gt).replace(bt.NOT_FRAGMENT,Ct).replace(bt.PCT_ENCODED,S)),xt}function mn(xt){return xt.replace(/^0*(.*)/,"$1")||"0"}function Rt(xt,bt){var Gt=xt.match(bt.IPV4ADDRESS)||[],en=v(Gt,2)[1];return en?en.split(".").map(mn).join("."):xt}function Dt(xt,bt){var Gt=xt.match(bt.IPV6ADDRESS)||[],Kt=v(Gt,3),en=Kt[1],Rn=Kt[2];if(en){for(var Sn=en.toLowerCase().split("::").reverse(),li=v(Sn,2),kn=li[0],Cn=li[1],wi=Cn?Cn.split(":").map(mn):[],Ri=kn.split(":").map(mn),ri=bt.IPV4ADDRESS.test(Ri[Ri.length-1]),zi=ri?7:8,ti=Ri.length-zi,Gn=Array(zi),Ei=0;Ei<zi;++Ei)Gn[Ei]=wi[Ei]||Ri[ti+Ei]||"";ri&&(Gn[zi-1]=Rt(Gn[zi-1],bt));var Yn=Gn.reduce(function(Ye,Zt,ht){if(!Zt||"0"===Zt){var Xt=Ye[Ye.length-1];Xt&&Xt.index+Xt.length===ht?Xt.length++:Ye.push({index:ht,length:1})}return Ye},[]).sort(function(Ye,Zt){return Zt.length-Ye.length})[0],Ni=void 0;if(Yn&&Yn.length>1){var rt=Gn.slice(0,Yn.index),It=Gn.slice(Yn.index+Yn.length);Ni=rt.join(":")+"::"+It.join(":")}else Ni=Gn.join(":");return Rn&&(Ni+="%"+Rn),Ni}return xt}var q=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Q=void 0==="".match(/(){0}/)[1];function te(xt){var bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Gt={},Kt=!1!==bt.iri?E:h;"suffix"===bt.reference&&(xt=(bt.scheme?bt.scheme+":":"")+"//"+xt);var en=xt.match(q);if(en){Q?(Gt.scheme=en[1],Gt.userinfo=en[3],Gt.host=en[4],Gt.port=parseInt(en[5],10),Gt.path=en[6]||"",Gt.query=en[7],Gt.fragment=en[8],isNaN(Gt.port)&&(Gt.port=en[5])):(Gt.scheme=en[1]||void 0,Gt.userinfo=-1!==xt.indexOf("@")?en[3]:void 0,Gt.host=-1!==xt.indexOf("//")?en[4]:void 0,Gt.port=parseInt(en[5],10),Gt.path=en[6]||"",Gt.query=-1!==xt.indexOf("?")?en[7]:void 0,Gt.fragment=-1!==xt.indexOf("#")?en[8]:void 0,isNaN(Gt.port)&&(Gt.port=xt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?en[4]:void 0)),Gt.host&&(Gt.host=Dt(Rt(Gt.host,Kt),Kt)),Gt.reference=void 0!==Gt.scheme||void 0!==Gt.userinfo||void 0!==Gt.host||void 0!==Gt.port||Gt.path||void 0!==Gt.query?void 0===Gt.scheme?"relative":void 0===Gt.fragment?"absolute":"uri":"same-document",bt.reference&&"suffix"!==bt.reference&&bt.reference!==Gt.reference&&(Gt.error=Gt.error||"URI is not a "+bt.reference+" reference.");var Rn=Le[(bt.scheme||Gt.scheme||"").toLowerCase()];if(bt.unicodeSupport||Rn&&Rn.unicodeSupport)hn(Gt,Kt);else{if(Gt.host&&(bt.domainHost||Rn&&Rn.domainHost))try{Gt.host=pt.toASCII(Gt.host.replace(Kt.PCT_ENCODED,ut).toLowerCase())}catch(Sn){Gt.error=Gt.error||"Host's domain name can not be converted to ASCII via punycode: "+Sn}hn(Gt,h)}Rn&&Rn.parse&&Rn.parse(Gt,bt)}else Gt.error=Gt.error||"URI can not be parsed.";return Gt}var Re=/^\.\.?\//,at=/^\/\.(\/|$)/,o=/^\/\.\.(\/|$)/,ft=/^\/?(?:.|\n)*?(?=\/|$)/;function Ft(xt){for(var bt=[];xt.length;)if(xt.match(Re))xt=xt.replace(Re,"");else if(xt.match(at))xt=xt.replace(at,"/");else if(xt.match(o))xt=xt.replace(o,"/"),bt.pop();else if("."===xt||".."===xt)xt="";else{var Gt=xt.match(ft);if(!Gt)throw new Error("Unexpected dot segment condition");var Kt=Gt[0];xt=xt.slice(Kt.length),bt.push(Kt)}return bt.join("")}function _t(xt){var bt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Gt=bt.iri?E:h,Kt=[],en=Le[(bt.scheme||xt.scheme||"").toLowerCase()];if(en&&en.serialize&&en.serialize(xt,bt),xt.host&&!Gt.IPV6ADDRESS.test(xt.host)&&(bt.domainHost||en&&en.domainHost))try{xt.host=bt.iri?pt.toUnicode(xt.host):pt.toASCII(xt.host.replace(Gt.PCT_ENCODED,ut).toLowerCase())}catch(li){xt.error=xt.error||"Host's domain name can not be converted to "+(bt.iri?"Unicode":"ASCII")+" via punycode: "+li}hn(xt,Gt),"suffix"!==bt.reference&&xt.scheme&&(Kt.push(xt.scheme),Kt.push(":"));var Rn=function De(xt,bt){var Gt=!1!==bt.iri?E:h,Kt=[];return void 0!==xt.userinfo&&(Kt.push(xt.userinfo),Kt.push("@")),void 0!==xt.host&&Kt.push(Dt(Rt(String(xt.host),Gt),Gt).replace(Gt.IPV6ADDRESS,function(en,Rn,Sn){return"["+Rn+(Sn?"%25"+Sn:"")+"]"})),("number"==typeof xt.port||"string"==typeof xt.port)&&(Kt.push(":"),Kt.push(String(xt.port))),Kt.length?Kt.join(""):void 0}(xt,bt);if(void 0!==Rn&&("suffix"!==bt.reference&&Kt.push("//"),Kt.push(Rn),xt.path&&"/"!==xt.path.charAt(0)&&Kt.push("/")),void 0!==xt.path){var Sn=xt.path;!bt.absolutePath&&(!en||!en.absolutePath)&&(Sn=Ft(Sn)),void 0===Rn&&(Sn=Sn.replace(/^\/\//,"/%2F")),Kt.push(Sn)}return void 0!==xt.query&&(Kt.push("?"),Kt.push(xt.query)),void 0!==xt.fragment&&(Kt.push("#"),Kt.push(xt.fragment)),Kt.join("")}function lt(xt,bt){var Gt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},en={};return arguments[3]||(xt=te(_t(xt,Gt),Gt),bt=te(_t(bt,Gt),Gt)),!(Gt=Gt||{}).tolerant&&bt.scheme?(en.scheme=bt.scheme,en.userinfo=bt.userinfo,en.host=bt.host,en.port=bt.port,en.path=Ft(bt.path||""),en.query=bt.query):(void 0!==bt.userinfo||void 0!==bt.host||void 0!==bt.port?(en.userinfo=bt.userinfo,en.host=bt.host,en.port=bt.port,en.path=Ft(bt.path||""),en.query=bt.query):(bt.path?("/"===bt.path.charAt(0)?en.path=Ft(bt.path):(en.path=void 0===xt.userinfo&&void 0===xt.host&&void 0===xt.port||xt.path?xt.path?xt.path.slice(0,xt.path.lastIndexOf("/")+1)+bt.path:bt.path:"/"+bt.path,en.path=Ft(en.path)),en.query=bt.query):(en.path=xt.path,en.query=void 0!==bt.query?bt.query:xt.query),en.userinfo=xt.userinfo,en.host=xt.host,en.port=xt.port),en.scheme=xt.scheme),en.fragment=bt.fragment,en}function Ce(xt,bt){return xt&&xt.toString().replace(bt&&bt.iri?E.PCT_ENCODED:h.PCT_ENCODED,ut)}var le={scheme:"http",domainHost:!0,parse:function(bt,Gt){return bt.host||(bt.error=bt.error||"HTTP URIs must have a host."),bt},serialize:function(bt,Gt){var Kt="https"===String(bt.scheme).toLowerCase();return(bt.port===(Kt?443:80)||""===bt.port)&&(bt.port=void 0),bt.path||(bt.path="/"),bt}},j={scheme:"https",domainHost:le.domainHost,parse:le.parse,serialize:le.serialize};function ae(xt){return"boolean"==typeof xt.secure?xt.secure:"wss"===String(xt.scheme).toLowerCase()}var Ge={scheme:"ws",domainHost:!0,parse:function(bt,Gt){var Kt=bt;return Kt.secure=ae(Kt),Kt.resourceName=(Kt.path||"/")+(Kt.query?"?"+Kt.query:""),Kt.path=void 0,Kt.query=void 0,Kt},serialize:function(bt,Gt){if((bt.port===(ae(bt)?443:80)||""===bt.port)&&(bt.port=void 0),"boolean"==typeof bt.secure&&(bt.scheme=bt.secure?"wss":"ws",bt.secure=void 0),bt.resourceName){var Kt=bt.resourceName.split("?"),en=v(Kt,2),Rn=en[0],Sn=en[1];bt.path=Rn&&"/"!==Rn?Rn:void 0,bt.query=Sn,bt.resourceName=void 0}return bt.fragment=void 0,bt}},tt={scheme:"wss",domainHost:Ge.domainHost,parse:Ge.parse,serialize:Ge.serialize},vt={},ln="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",sn="[0-9A-Fa-f]",Pn=e(e("%[EFef]"+sn+"%"+sn+sn+"%"+sn+sn)+"|"+e("%[89A-Fa-f]"+sn+"%"+sn+sn)+"|"+e("%"+sn+sn)),Mt=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Qt=new RegExp(ln,"g"),mt=new RegExp(Pn,"g"),St=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Mt),"g"),dt=new RegExp(t("[^]",ln,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Ut=dt;function rn(xt){var bt=ut(xt);return bt.match(Qt)?bt:xt}var Tn={scheme:"mailto",parse:function(bt,Gt){var Kt=bt,en=Kt.to=Kt.path?Kt.path.split(","):[];if(Kt.path=void 0,Kt.query){for(var Rn=!1,Sn={},li=Kt.query.split("&"),kn=0,Cn=li.length;kn<Cn;++kn){var wi=li[kn].split("=");switch(wi[0]){case"to":for(var Ri=wi[1].split(","),ri=0,zi=Ri.length;ri<zi;++ri)en.push(Ri[ri]);break;case"subject":Kt.subject=Ce(wi[1],Gt);break;case"body":Kt.body=Ce(wi[1],Gt);break;default:Rn=!0,Sn[Ce(wi[0],Gt)]=Ce(wi[1],Gt)}}Rn&&(Kt.headers=Sn)}Kt.query=void 0;for(var ti=0,Gn=en.length;ti<Gn;++ti){var Ei=en[ti].split("@");if(Ei[0]=Ce(Ei[0]),Gt.unicodeSupport)Ei[1]=Ce(Ei[1],Gt).toLowerCase();else try{Ei[1]=pt.toASCII(Ce(Ei[1],Gt).toLowerCase())}catch(Vi){Kt.error=Kt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Vi}en[ti]=Ei.join("@")}return Kt},serialize:function(bt,Gt){var Kt=bt,en=function C(xt){return null!=xt?xt instanceof Array?xt:"number"!=typeof xt.length||xt.split||xt.setInterval||xt.call?[xt]:Array.prototype.slice.call(xt):[]}(bt.to);if(en){for(var Rn=0,Sn=en.length;Rn<Sn;++Rn){var li=String(en[Rn]),kn=li.lastIndexOf("@"),Cn=li.slice(0,kn).replace(mt,rn).replace(mt,S).replace(St,Ct),wi=li.slice(kn+1);try{wi=Gt.iri?pt.toUnicode(wi):pt.toASCII(Ce(wi,Gt).toLowerCase())}catch(ti){Kt.error=Kt.error||"Email address's domain name can not be converted to "+(Gt.iri?"Unicode":"ASCII")+" via punycode: "+ti}en[Rn]=Cn+"@"+wi}Kt.path=en.join(",")}var Ri=bt.headers=bt.headers||{};bt.subject&&(Ri.subject=bt.subject),bt.body&&(Ri.body=bt.body);var ri=[];for(var zi in Ri)Ri[zi]!==vt[zi]&&ri.push(zi.replace(mt,rn).replace(mt,S).replace(dt,Ct)+"="+Ri[zi].replace(mt,rn).replace(mt,S).replace(Ut,Ct));return ri.length&&(Kt.query=ri.join("&")),Kt}},Jn=/^([^\:]+)\:(.*)/,yn={scheme:"urn",parse:function(bt,Gt){var Kt=bt.path&&bt.path.match(Jn),en=bt;if(Kt){var Rn=Gt.scheme||en.scheme||"urn",Sn=Kt[1].toLowerCase(),li=Kt[2],Cn=Le[Rn+":"+(Gt.nid||Sn)];en.nid=Sn,en.nss=li,en.path=void 0,Cn&&(en=Cn.parse(en,Gt))}else en.error=en.error||"URN can not be parsed.";return en},serialize:function(bt,Gt){var en=bt.nid,Sn=Le[(Gt.scheme||bt.scheme||"urn")+":"+(Gt.nid||en)];Sn&&(bt=Sn.serialize(bt,Gt));var li=bt;return li.path=(en||Gt.nid)+":"+bt.nss,li}},yi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ii={scheme:"urn:uuid",parse:function(bt,Gt){var Kt=bt;return Kt.uuid=Kt.nss,Kt.nss=void 0,!Gt.tolerant&&(!Kt.uuid||!Kt.uuid.match(yi))&&(Kt.error=Kt.error||"UUID is not valid."),Kt},serialize:function(bt,Gt){var Kt=bt;return Kt.nss=(bt.uuid||"").toLowerCase(),Kt}};Le[le.scheme]=le,Le[j.scheme]=j,Le[Ge.scheme]=Ge,Le[tt.scheme]=tt,Le[Tn.scheme]=Tn,Le[yn.scheme]=yn,Le[ii.scheme]=ii,d.SCHEMES=Le,d.pctEncChar=Ct,d.pctDecChars=ut,d.parse=te,d.removeDotSegments=Ft,d.serialize=_t,d.resolveComponents=lt,d.resolve=function Pt(xt,bt,Gt){var Kt=function w(xt,bt){var Gt=xt;if(bt)for(var Kt in bt)Gt[Kt]=bt[Kt];return Gt}({scheme:"null"},Gt);return _t(lt(te(xt,Kt),te(bt,Kt),Kt,!0),Kt)},d.normalize=function tn(xt,bt){return"string"==typeof xt?xt=_t(te(xt,bt),bt):"object"===p(xt)&&(xt=te(_t(xt,bt),bt)),xt},d.equal=function ct(xt,bt,Gt){return"string"==typeof xt?xt=_t(te(xt,Gt),Gt):"object"===p(xt)&&(xt=_t(xt,Gt)),"string"==typeof bt?bt=_t(te(bt,Gt),Gt):"object"===p(bt)&&(bt=_t(bt,Gt)),xt===bt},d.escapeComponent=function Lt(xt,bt){return xt&&xt.toString().replace(bt&&bt.iri?E.ESCAPE:h.ESCAPE,Ct)},d.unescapeComponent=Ce,Object.defineProperty(d,"__esModule",{value:!0})}(ye)},1108:function(nt,ye){var d,e;!function(p,S){"use strict";d=function(p){return function(C){C=C||{},function g(){C.arrayAccessForm=C.arrayAccessForm||"none",C.emptyNodeForm=C.emptyNodeForm||"text",C.jsAttributeFilter=C.jsAttributeFilter,C.jsAttributeConverter=C.jsAttributeConverter,C.attributeConverters=C.attributeConverters||[],C.datetimeAccessFormPaths=C.datetimeAccessFormPaths||[],C.arrayAccessFormPaths=C.arrayAccessFormPaths||[],C.xmldomOptions=C.xmldomOptions||{},void 0===C.enableToStringFunc&&(C.enableToStringFunc=!0),void 0===C.skipEmptyTextNodesForObj&&(C.skipEmptyTextNodesForObj=!0),void 0===C.stripWhitespaces&&(C.stripWhitespaces=!0),void 0===C.useDoubleQuotes&&(C.useDoubleQuotes=!0),void 0===C.ignoreRoot&&(C.ignoreRoot=!1),void 0===C.escapeMode&&(C.escapeMode=!0),void 0===C.attributePrefix&&(C.attributePrefix="_"),void 0===C.selfClosingElements&&(C.selfClosingElements=!0),void 0===C.keepCData&&(C.keepCData=!1),void 0===C.keepText&&(C.keepText=!1),void 0===C.jsDateUTC&&(C.jsDateUTC=!1)}(),function h(){function Ae(Fe){var qe=String(Fe);return 1===qe.length&&(qe="0"+qe),qe}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Ae(this.getUTCMonth()+1)+"-"+Ae(this.getUTCDate())+"T"+Ae(this.getUTCHours())+":"+Ae(this.getUTCMinutes())+":"+Ae(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var E={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function v(Ae){var Fe=Ae.localName;return null==Fe&&(Fe=Ae.baseName),(null==Fe||""===Fe)&&(Fe=Ae.nodeName),Fe}function U(Ae){return"string"==typeof Ae?Ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Ae}function k(Ae,Fe,qe){if("property"===C.arrayAccessForm&&(Ae[Fe+"_asArray"]=Ae[Fe]instanceof Array?Ae[Fe]:[Ae[Fe]]),!(Ae[Fe]instanceof Array)&&C.arrayAccessFormPaths.length>0){for(var Me=!1,Te=0;Te<C.arrayAccessFormPaths.length;Te++){var ge=C.arrayAccessFormPaths[Te];if("string"==typeof ge){if(ge===qe){Me=!0;break}}else if(ge instanceof RegExp){if(ge.test(qe)){Me=!0;break}}else if("function"==typeof ge&&ge(Fe,qe)){Me=!0;break}}Me&&(Ae[Fe]=[Ae[Fe]])}}function O(Ae){var qe=Ae.split(/[-T:+Z]/g),Me=new Date(qe[0],qe[1]-1,qe[2]),Te=qe[5].split(".");if(Me.setHours(qe[3],qe[4],Te[0]),Te.length>1&&Me.setMilliseconds(Te[1]),qe[6]&&qe[7]){var ge=60*qe[6]+Number(qe[7]);ge=0+("-"==(/\d\d-\d\d:\d\d$/.test(Ae)?"-":"+")?-1*ge:ge),Me.setMinutes(Me.getMinutes()-ge-Me.getTimezoneOffset())}else-1!==Ae.indexOf("Z",Ae.length-1)&&(Me=new Date(Date.UTC(Me.getFullYear(),Me.getMonth(),Me.getDate(),Me.getHours(),Me.getMinutes(),Me.getSeconds(),Me.getMilliseconds())));return Me}function N(Ae,Fe){for(var qe={__cnt:0},Me=Ae.childNodes,Te=0;Te<Me.length;Te++){var ge=Me.item(Te),$e=v(ge);ge.nodeType!==E.COMMENT_NODE&&(qe.__cnt++,null==qe[$e]?(qe[$e]=H(ge,Fe+"."+$e),k(qe,$e,Fe+"."+$e)):(qe[$e]instanceof Array||(qe[$e]=[qe[$e]],k(qe,$e,Fe+"."+$e)),qe[$e][qe[$e].length]=H(ge,Fe+"."+$e)))}for(var xe=0;xe<Ae.attributes.length;xe++){var pt=Ae.attributes.item(xe);qe.__cnt++;for(var Le=pt.value,Ct=0;Ct<C.attributeConverters.length;Ct++){var ut=C.attributeConverters[Ct];ut.test.call(null,pt.name,pt.value)&&(Le=ut.convert.call(null,pt.name,pt.value))}qe[C.attributePrefix+pt.name]=Le}var hn=function B(Ae){return Ae.prefix}(Ae);return hn&&(qe.__cnt++,qe.__prefix=hn),qe["#text"]&&(qe.__text=qe["#text"],qe.__text instanceof Array&&(qe.__text=qe.__text.join("\n")),C.escapeMode&&(qe.__text=function a(Ae){return Ae.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(qe.__text)),C.stripWhitespaces&&(qe.__text=qe.__text.trim()),delete qe["#text"],"property"===C.arrayAccessForm&&delete qe["#text_asArray"],qe.__text=function P(Ae,Fe,qe){if(C.datetimeAccessFormPaths.length>0)for(var Me=qe.split(".#")[0],Te=0;Te<C.datetimeAccessFormPaths.length;Te++){var ge=C.datetimeAccessFormPaths[Te];if("string"==typeof ge){if(ge===Me)return O(Ae)}else if(ge instanceof RegExp){if(ge.test(Me))return O(Ae)}else if("function"==typeof ge&&ge(Me))return O(Ae)}return Ae}(qe.__text,0,Fe+".#text")),qe.hasOwnProperty("#cdata-section")&&(qe.__cdata=qe["#cdata-section"],delete qe["#cdata-section"],"property"===C.arrayAccessForm&&delete qe["#cdata-section_asArray"]),1===qe.__cnt&&qe.__text&&!C.keepText?qe=qe.__text:0===qe.__cnt&&"text"===C.emptyNodeForm?qe="":qe.__cnt>1&&void 0!==qe.__text&&C.skipEmptyTextNodesForObj&&(C.stripWhitespaces&&""===qe.__text||""===qe.__text.trim())&&delete qe.__text,delete qe.__cnt,C.keepCData||qe.hasOwnProperty("__text")||!qe.hasOwnProperty("__cdata")||1!==Object.keys(qe).length?(C.enableToStringFunc&&(qe.__text||qe.__cdata)&&(qe.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),qe):qe.__cdata?qe.__cdata:""}function H(Ae,Fe){return Ae.nodeType===E.DOCUMENT_NODE?function W(Ae){for(var Fe={},qe=Ae.childNodes,Me=0;Me<qe.length;Me++){var Te=qe.item(Me);if(Te.nodeType===E.ELEMENT_NODE){var ge=v(Te);C.ignoreRoot?Fe=H(Te,ge):Fe[ge]=H(Te,ge)}}return Fe}(Ae):Ae.nodeType===E.ELEMENT_NODE?N(Ae,Fe):Ae.nodeType===E.TEXT_NODE||Ae.nodeType===E.CDATA_SECTION_NODE?Ae.nodeValue:null}function G(Ae,Fe,qe,Me){var Te="<"+(Ae&&Ae.__prefix?Ae.__prefix+":":"")+Fe;if(qe)for(var ge=0;ge<qe.length;ge++){var $e=qe[ge],xe=Ae[$e];C.escapeMode&&(xe=U(xe)),Te+=" "+$e.substr(C.attributePrefix.length)+"=",Te+=C.useDoubleQuotes?'"'+xe+'"':"'"+xe+"'"}return Te+(Me?" />":">")}function z(Ae,Fe){return"</"+(Ae&&Ae.__prefix?Ae.__prefix+":":"")+Fe+">"}function de(Ae,Fe){return!!("property"===C.arrayAccessForm&&function ce(Ae,Fe){return-1!==Ae.indexOf(Fe,Ae.length-Fe.length)}(Fe.toString(),"_asArray")||0===Fe.toString().indexOf(C.attributePrefix)||0===Fe.toString().indexOf("__")||Ae[Fe]instanceof Function)}function Y(Ae){var Fe=0;if(Ae instanceof Object)for(var qe in Ae)de(Ae,qe)||Fe++;return Fe}function Z(Ae){var Fe=[];if(Ae instanceof Object)for(var qe in Ae)-1===qe.toString().indexOf("__")&&0===qe.toString().indexOf(C.attributePrefix)&&Fe.push(qe);return Fe}function I(Ae){var Fe="";return Ae instanceof Object?Fe+=function ne(Ae){var Fe="";return Ae.__cdata&&(Fe+="<![CDATA["+Ae.__cdata+"]]>"),(Ae.__text||"number"==typeof Ae.__text||"boolean"==typeof Ae.__text)&&(Fe+=C.escapeMode?U(Ae.__text):Ae.__text),Fe}(Ae):null!==Ae&&(Fe+=C.escapeMode?U(Ae):Ae),Fe}function K(Ae,Fe,qe){var Me="";return C.jsAttributeFilter&&C.jsAttributeFilter.call(null,Fe,Ae)||(C.jsAttributeConverter&&(Ae=C.jsAttributeConverter.call(null,Fe,Ae)),null!=Ae&&""!==Ae||!C.selfClosingElements?"object"==typeof Ae?"[object Array]"===Object.prototype.toString.call(Ae)?Me+=function pe(Ae,Fe,qe){var Me="";if(0===Ae.length)Me+=G(Ae,Fe,qe,!0);else for(var Te=0;Te<Ae.length;Te++)Me+=K(Ae[Te],Fe,Z(Ae[Te]));return Me}(Ae,Fe,qe):Ae instanceof Date?(Me+=G(Ae,Fe,qe,!1),Me+=C.jsDateUTC?Ae.toUTCString():Ae.toISOString(),Me+=z(Ae,Fe)):Y(Ae)>0||"number"==typeof Ae.__text||"boolean"==typeof Ae.__text||Ae.__text||Ae.__cdata?(Me+=G(Ae,Fe,qe,!1),Me+=he(Ae),Me+=z(Ae,Fe)):C.selfClosingElements?Me+=G(Ae,Fe,qe,!0):(Me+=G(Ae,Fe,qe,!1),Me+=z(Ae,Fe)):(Me+=G(Ae,Fe,qe,!1),Me+=I(Ae),Me+=z(Ae,Fe)):Me+=G(Ae,Fe,qe,!0)),Me}function he(Ae){var Fe="";if(Y(Ae)>0)for(var Me in Ae)if(!de(Ae,Me)){var Te=Ae[Me];Fe+=K(Te,Me,Z(Te))}return Fe+I(Ae)}function Oe(Ae){if(void 0===Ae||"string"!=typeof Ae)return null;var Fe=null,qe=null;if(p)qe=(Fe=new p(C.xmldomOptions)).parseFromString(Ae,"text/xml");else if(window&&window.DOMParser){Fe=new window.DOMParser;var Me=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Me=Fe.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Me=null}try{qe=Fe.parseFromString(Ae,"text/xml"),null!==Me&&qe.getElementsByTagNameNS(Me,"parsererror").length>0&&(qe=null)}catch{qe=null}}else 0===Ae.indexOf("<?")&&(Ae=Ae.substr(Ae.indexOf("?>")+2)),(qe=new ActiveXObject("Microsoft.XMLDOM")).async="false",qe.loadXML(Ae);return qe}this.asArray=function(Fe){return null==Fe?[]:Fe instanceof Array?Fe:[Fe]},this.toXmlDateTime=function(Fe){return Fe instanceof Date?Fe.toISOString():"number"==typeof Fe?new Date(Fe).toISOString():null},this.asDateTime=function(Fe){return"string"==typeof Fe?O(Fe):Fe},this.xml2dom=function(Fe){return Oe(Fe)},this.dom2js=function(Fe){return H(Fe,null)},this.js2dom=function(Fe){return Oe(this.js2xml(Fe))},this.xml2js=function(Fe){var qe=Oe(Fe);return null!=qe?this.dom2js(qe):null},this.js2xml=function(Fe){return he(Fe)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=d.apply(ye,[]))&&(nt.exports=e)}()},310:()=>{},9969:(nt,ye,d)=>{"use strict";d.d(ye,{FX:()=>pe,If:()=>p,K2:()=>h,S6:()=>N,hZ:()=>C,i0:()=>w,iF:()=>E,kY:()=>U,kp:()=>S,sf:()=>ne,ui:()=>I,wk:()=>v});var t=d(177),e=d(4438),p=function(K){return K[K.State=0]="State",K[K.Transition=1]="Transition",K[K.Sequence=2]="Sequence",K[K.Group=3]="Group",K[K.Animate=4]="Animate",K[K.Keyframes=5]="Keyframes",K[K.Style=6]="Style",K[K.Trigger=7]="Trigger",K[K.Reference=8]="Reference",K[K.AnimateChild=9]="AnimateChild",K[K.AnimateRef=10]="AnimateRef",K[K.Query=11]="Query",K[K.Stagger=12]="Stagger",K}(p||{});const S="*";function C(K,he){return{type:p.Trigger,name:K,definitions:he,options:{}}}function w(K,he=null){return{type:p.Animate,styles:he,timings:K}}function h(K,he=null){return{type:p.Sequence,steps:K,options:he}}function E(K){return{type:p.Style,styles:K,offset:null}}function v(K,he,Oe){return{type:p.State,name:K,styles:he,options:Oe}}function U(K,he,Oe=null){return{type:p.Transition,expr:K,animation:he,options:Oe}}let N=(()=>{class K{static{this.\u0275fac=function(Ae){return new(Ae||K)}}static{this.\u0275prov=e.jDH({token:K,factory:()=>(0,e.WQX)(G),providedIn:"root"})}}return K})();class H{}let G=(()=>{class K extends N{constructor(Oe,Ae){if(super(),this.animationModuleType=(0,e.WQX)(e.bc$,{optional:!0}),this._nextAnimationId=0,this._renderer=Oe.createRenderer(Ae.body,{id:"0",encapsulation:e.gXe.None,styles:[],data:{animation:[]}}),null===this.animationModuleType&&!function Z(K){const he=K.\u0275type;return 0===he||1===he}(this._renderer))throw new e.wOt(3600,!1)}build(Oe){const Ae=this._nextAnimationId;this._nextAnimationId++;const Fe=Array.isArray(Oe)?h(Oe):Oe;return de(this._renderer,null,Ae,"register",[Fe]),new z(Ae,this._renderer)}static{this.\u0275fac=function(Ae){return new(Ae||K)(e.KVO(e._9s),e.KVO(t.qQ))}}static{this.\u0275prov=e.jDH({token:K,factory:K.\u0275fac,providedIn:"root"})}}return K})();class z extends H{constructor(he,Oe){super(),this._id=he,this._renderer=Oe}create(he,Oe){return new ce(this._id,he,Oe||{},this._renderer)}}class ce{constructor(he,Oe,Ae,Fe){this.id=he,this.element=Oe,this._renderer=Fe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",Ae)}_listen(he,Oe){return this._renderer.listen(this.element,`@@${this.id}:${he}`,Oe)}_command(he,...Oe){de(this._renderer,this.element,this.id,he,Oe)}onDone(he){this._listen("done",he)}onStart(he){this._listen("start",he)}onDestroy(he){this._listen("destroy",he)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(he){this._command("setPosition",he)}getPosition(){return function Y(K){const he=K.\u0275type;return 0===he?K:1===he?K.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}}function de(K,he,Oe,Ae,Fe){K.setProperty(he,`@@${Oe}:${Ae}`,Fe)}class ne{constructor(he=0,Oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=he+Oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(he=>he()),this._onDoneFns=[])}onStart(he){this._originalOnStartFns.push(he),this._onStartFns.push(he)}onDone(he){this._originalOnDoneFns.push(he),this._onDoneFns.push(he)}onDestroy(he){this._onDestroyFns.push(he)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(he=>he()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(he=>he()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(he){this._position=this.totalTime?he*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(he){const Oe="start"==he?this._onStartFns:this._onDoneFns;Oe.forEach(Ae=>Ae()),Oe.length=0}}class I{constructor(he){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=he;let Oe=0,Ae=0,Fe=0;const qe=this.players.length;0==qe?queueMicrotask(()=>this._onFinish()):this.players.forEach(Me=>{Me.onDone(()=>{++Oe==qe&&this._onFinish()}),Me.onDestroy(()=>{++Ae==qe&&this._onDestroy()}),Me.onStart(()=>{++Fe==qe&&this._onStart()})}),this.totalTime=this.players.reduce((Me,Te)=>Math.max(Me,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(he=>he()),this._onDoneFns=[])}init(){this.players.forEach(he=>he.init())}onStart(he){this._onStartFns.push(he)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(he=>he()),this._onStartFns=[])}onDone(he){this._onDoneFns.push(he)}onDestroy(he){this._onDestroyFns.push(he)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(he=>he.play())}pause(){this.players.forEach(he=>he.pause())}restart(){this.players.forEach(he=>he.restart())}finish(){this._onFinish(),this.players.forEach(he=>he.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(he=>he.destroy()),this._onDestroyFns.forEach(he=>he()),this._onDestroyFns=[])}reset(){this.players.forEach(he=>he.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(he){const Oe=he*this.totalTime;this.players.forEach(Ae=>{const Fe=Ae.totalTime?Math.min(1,Oe/Ae.totalTime):1;Ae.setPosition(Fe)})}getPosition(){const he=this.players.reduce((Oe,Ae)=>null===Oe||Ae.totalTime>Oe.totalTime?Ae:Oe,null);return null!=he?he.getPosition():0}beforeDestroy(){this.players.forEach(he=>{he.beforeDestroy&&he.beforeDestroy()})}triggerCallback(he){const Oe="start"==he?this._onStartFns:this._onDoneFns;Oe.forEach(Ae=>Ae()),Oe.length=0}}const pe="!"},177:(nt,ye,d)=>{"use strict";d.d(ye,{AJ:()=>os,MD:()=>zr,N0:()=>Co,P9:()=>jr,Pc:()=>Ds,QT:()=>p,QX:()=>Nr,Sm:()=>P,Sq:()=>gn,T3:()=>hi,UE:()=>vr,VF:()=>C,Vy:()=>Cs,XO:()=>Fe,Xr:()=>Yr,YU:()=>ht,Yq:()=>Ce,ZD:()=>S,_b:()=>It,aZ:()=>N,bT:()=>ot,cH:()=>I,fw:()=>W,hb:()=>k,hj:()=>E,lG:()=>Ar,oV:()=>ne,qQ:()=>g,tL:()=>qe});var t=d(4438);let e=null;function p(){return e}function S(re){e??=re}class C{}const g=new t.nKC("");let h=(()=>{class re{historyGo(Se){throw new Error("")}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(v),providedIn:"platform"})}}return re})();const E=new t.nKC("");let v=(()=>{class re extends h{constructor(){super(),this._doc=(0,t.WQX)(g),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return p().getBaseHref(this._doc)}onPopState(Se){const je=p().getGlobalEventTarget(this._doc,"window");return je.addEventListener("popstate",Se,!1),()=>je.removeEventListener("popstate",Se)}onHashChange(Se){const je=p().getGlobalEventTarget(this._doc,"window");return je.addEventListener("hashchange",Se,!1),()=>je.removeEventListener("hashchange",Se)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(Se){this._location.pathname=Se}pushState(Se,je,Tt){this._history.pushState(Se,je,Tt)}replaceState(Se,je,Tt){this._history.replaceState(Se,je,Tt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(Se=0){this._history.go(Se)}getState(){return this._history.state}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275prov=t.jDH({token:re,factory:()=>new re,providedIn:"platform"})}}return re})();function B(re,Qe){if(0==re.length)return Qe;if(0==Qe.length)return re;let Se=0;return re.endsWith("/")&&Se++,Qe.startsWith("/")&&Se++,2==Se?re+Qe.substring(1):1==Se?re+Qe:re+"/"+Qe}function U(re){const Qe=re.match(/#|\?|$/),Se=Qe&&Qe.index||re.length;return re.slice(0,Se-("/"===re[Se-1]?1:0))+re.slice(Se)}function a(re){return re&&"?"!==re[0]?"?"+re:re}let k=(()=>{class re{historyGo(Se){throw new Error("")}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275prov=t.jDH({token:re,factory:()=>(0,t.WQX)(P),providedIn:"root"})}}return re})();const O=new t.nKC("");let P=(()=>{class re extends k{constructor(Se,je){super(),this._platformLocation=Se,this._removeListenerFns=[],this._baseHref=je??this._platformLocation.getBaseHrefFromDOM()??(0,t.WQX)(g).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}prepareExternalUrl(Se){return B(this._baseHref,Se)}path(Se=!1){const je=this._platformLocation.pathname+a(this._platformLocation.search),Tt=this._platformLocation.hash;return Tt&&Se?`${je}${Tt}`:je}pushState(Se,je,Tt,cn){const wn=this.prepareExternalUrl(Tt+a(cn));this._platformLocation.pushState(Se,je,wn)}replaceState(Se,je,Tt,cn){const wn=this.prepareExternalUrl(Tt+a(cn));this._platformLocation.replaceState(Se,je,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}static{this.\u0275fac=function(je){return new(je||re)(t.KVO(h),t.KVO(O,8))}}static{this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})(),W=(()=>{class re extends k{constructor(Se,je){super(),this._platformLocation=Se,this._baseHref="",this._removeListenerFns=[],null!=je&&(this._baseHref=je)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(Se){this._removeListenerFns.push(this._platformLocation.onPopState(Se),this._platformLocation.onHashChange(Se))}getBaseHref(){return this._baseHref}path(Se=!1){const je=this._platformLocation.hash??"#";return je.length>0?je.substring(1):je}prepareExternalUrl(Se){const je=B(this._baseHref,Se);return je.length>0?"#"+je:je}pushState(Se,je,Tt,cn){let wn=this.prepareExternalUrl(Tt+a(cn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.pushState(Se,je,wn)}replaceState(Se,je,Tt,cn){let wn=this.prepareExternalUrl(Tt+a(cn));0==wn.length&&(wn=this._platformLocation.pathname),this._platformLocation.replaceState(Se,je,wn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(Se=0){this._platformLocation.historyGo?.(Se)}static{this.\u0275fac=function(je){return new(je||re)(t.KVO(h),t.KVO(O,8))}}static{this.\u0275prov=t.jDH({token:re,factory:re.\u0275fac})}}return re})(),N=(()=>{class re{constructor(Se){this._subject=new t.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=Se;const je=this._locationStrategy.getBaseHref();this._basePath=function ce(re){if(new RegExp("^(https?:)?//").test(re)){const[,Se]=re.split(/\/\/[^\/]+/);return Se}return re}(U(z(je))),this._locationStrategy.onPopState(Tt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Tt.state,type:Tt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(Se=!1){return this.normalize(this._locationStrategy.path(Se))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(Se,je=""){return this.path()==this.normalize(Se+a(je))}normalize(Se){return re.stripTrailingSlash(function G(re,Qe){if(!re||!Qe.startsWith(re))return Qe;const Se=Qe.substring(re.length);return""===Se||["/",";","?","#"].includes(Se[0])?Se:Qe}(this._basePath,z(Se)))}prepareExternalUrl(Se){return Se&&"/"!==Se[0]&&(Se="/"+Se),this._locationStrategy.prepareExternalUrl(Se)}go(Se,je="",Tt=null){this._locationStrategy.pushState(Tt,"",Se,je),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+a(je)),Tt)}replaceState(Se,je="",Tt=null){this._locationStrategy.replaceState(Tt,"",Se,je),this._notifyUrlChangeListeners(this.prepareExternalUrl(Se+a(je)),Tt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(Se=0){this._locationStrategy.historyGo?.(Se)}onUrlChange(Se){return this._urlChangeListeners.push(Se),this._urlChangeSubscription??=this.subscribe(je=>{this._notifyUrlChangeListeners(je.url,je.state)}),()=>{const je=this._urlChangeListeners.indexOf(Se);this._urlChangeListeners.splice(je,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(Se="",je){this._urlChangeListeners.forEach(Tt=>Tt(Se,je))}subscribe(Se,je,Tt){return this._subject.subscribe({next:Se,error:je,complete:Tt})}static{this.normalizeQueryParams=a}static{this.joinWithSlash=B}static{this.stripTrailingSlash=U}static{this.\u0275fac=function(je){return new(je||re)(t.KVO(k))}}static{this.\u0275prov=t.jDH({token:re,factory:()=>function H(){return new N((0,t.KVO)(k))}(),providedIn:"root"})}}return re})();function z(re){return re.replace(/\/index.html$/,"")}var Y=function(re){return re[re.Decimal=0]="Decimal",re[re.Percent=1]="Percent",re[re.Currency=2]="Currency",re[re.Scientific=3]="Scientific",re}(Y||{}),ne=function(re){return re[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re}(ne||{}),I=function(re){return re[re.Narrow=0]="Narrow",re[re.Abbreviated=1]="Abbreviated",re[re.Wide=2]="Wide",re[re.Short=3]="Short",re}(I||{}),pe=function(re){return re[re.Short=0]="Short",re[re.Medium=1]="Medium",re[re.Long=2]="Long",re[re.Full=3]="Full",re}(pe||{});const K={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Fe(re,Qe,Se){const je=(0,t.H5H)(re),cn=Re([je[t.KH2.DaysFormat],je[t.KH2.DaysStandalone]],Qe);return Re(cn,Se)}function qe(re,Qe,Se){const je=(0,t.H5H)(re),cn=Re([je[t.KH2.MonthsFormat],je[t.KH2.MonthsStandalone]],Qe);return Re(cn,Se)}function $e(re,Qe){return Re((0,t.H5H)(re)[t.KH2.DateFormat],Qe)}function xe(re,Qe){return Re((0,t.H5H)(re)[t.KH2.TimeFormat],Qe)}function pt(re,Qe){return Re((0,t.H5H)(re)[t.KH2.DateTimeFormat],Qe)}function Le(re,Qe){const Se=(0,t.H5H)(re),je=Se[t.KH2.NumberSymbols][Qe];if(typeof je>"u"){if(Qe===K.CurrencyDecimal)return Se[t.KH2.NumberSymbols][K.Decimal];if(Qe===K.CurrencyGroup)return Se[t.KH2.NumberSymbols][K.Group]}return je}function q(re){if(!re[t.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${re[t.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Re(re,Qe){for(let Se=Qe;Se>-1;Se--)if(typeof re[Se]<"u")return re[Se];throw new Error("Locale data API: locale data undefined")}function at(re){const[Qe,Se]=re.split(":");return{hours:+Qe,minutes:+Se}}const _t=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lt={},Pt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tn=function(re){return re[re.Short=0]="Short",re[re.ShortGMT=1]="ShortGMT",re[re.Long=2]="Long",re[re.Extended=3]="Extended",re}(tn||{}),ct=function(re){return re[re.FullYear=0]="FullYear",re[re.Month=1]="Month",re[re.Date=2]="Date",re[re.Hours=3]="Hours",re[re.Minutes=4]="Minutes",re[re.Seconds=5]="Seconds",re[re.FractionalSeconds=6]="FractionalSeconds",re[re.Day=7]="Day",re}(ct||{}),Lt=function(re){return re[re.DayPeriods=0]="DayPeriods",re[re.Days=1]="Days",re[re.Months=2]="Months",re[re.Eras=3]="Eras",re}(Lt||{});function Ce(re,Qe,Se,je){let Tt=function Jn(re){if(yi(re))return re;if("number"==typeof re&&!isNaN(re))return new Date(re);if("string"==typeof re){if(re=re.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(re)){const[Tt,cn=1,wn=1]=re.split("-").map(oi=>+oi);return le(Tt,cn-1,wn)}const Se=parseFloat(re);if(!isNaN(re-Se))return new Date(Se);let je;if(je=re.match(_t))return function yn(re){const Qe=new Date(0);let Se=0,je=0;const Tt=re[8]?Qe.setUTCFullYear:Qe.setFullYear,cn=re[8]?Qe.setUTCHours:Qe.setHours;re[9]&&(Se=Number(re[9]+re[10]),je=Number(re[9]+re[11])),Tt.call(Qe,Number(re[1]),Number(re[2])-1,Number(re[3]));const wn=Number(re[4]||0)-Se,oi=Number(re[5]||0)-je,sr=Number(re[6]||0),qi=Math.floor(1e3*parseFloat("0."+(re[7]||0)));return cn.call(Qe,wn,oi,sr,qi),Qe}(je)}const Qe=new Date(re);if(!yi(Qe))throw new Error(`Unable to convert "${re}" into a date`);return Qe}(re);Qe=j(Se,Qe)||Qe;let oi,wn=[];for(;Qe;){if(oi=Pt.exec(Qe),!oi){wn.push(Qe);break}{wn=wn.concat(oi.slice(1));const Ki=wn.pop();if(!Ki)break;Qe=Ki}}let sr=Tt.getTimezoneOffset();je&&(sr=Ut(je,sr),Tt=function Tn(re,Qe,Se){const je=Se?-1:1,Tt=re.getTimezoneOffset();return function rn(re,Qe){return(re=new Date(re.getTime())).setMinutes(re.getMinutes()+Qe),re}(re,je*(Ut(Qe,Tt)-Tt))}(Tt,je,!0));let qi="";return wn.forEach(Ki=>{const Wi=function dt(re){if(St[re])return St[re];let Qe;switch(re){case"G":case"GG":case"GGG":Qe=ln(Lt.Eras,I.Abbreviated);break;case"GGGG":Qe=ln(Lt.Eras,I.Wide);break;case"GGGGG":Qe=ln(Lt.Eras,I.Narrow);break;case"y":Qe=vt(ct.FullYear,1,0,!1,!0);break;case"yy":Qe=vt(ct.FullYear,2,0,!0,!0);break;case"yyy":Qe=vt(ct.FullYear,3,0,!1,!0);break;case"yyyy":Qe=vt(ct.FullYear,4,0,!1,!0);break;case"Y":Qe=mt(1);break;case"YY":Qe=mt(2,!0);break;case"YYY":Qe=mt(3);break;case"YYYY":Qe=mt(4);break;case"M":case"L":Qe=vt(ct.Month,1,1);break;case"MM":case"LL":Qe=vt(ct.Month,2,1);break;case"MMM":Qe=ln(Lt.Months,I.Abbreviated);break;case"MMMM":Qe=ln(Lt.Months,I.Wide);break;case"MMMMM":Qe=ln(Lt.Months,I.Narrow);break;case"LLL":Qe=ln(Lt.Months,I.Abbreviated,ne.Standalone);break;case"LLLL":Qe=ln(Lt.Months,I.Wide,ne.Standalone);break;case"LLLLL":Qe=ln(Lt.Months,I.Narrow,ne.Standalone);break;case"w":Qe=Qt(1);break;case"ww":Qe=Qt(2);break;case"W":Qe=Qt(1,!0);break;case"d":Qe=vt(ct.Date,1);break;case"dd":Qe=vt(ct.Date,2);break;case"c":case"cc":Qe=vt(ct.Day,1);break;case"ccc":Qe=ln(Lt.Days,I.Abbreviated,ne.Standalone);break;case"cccc":Qe=ln(Lt.Days,I.Wide,ne.Standalone);break;case"ccccc":Qe=ln(Lt.Days,I.Narrow,ne.Standalone);break;case"cccccc":Qe=ln(Lt.Days,I.Short,ne.Standalone);break;case"E":case"EE":case"EEE":Qe=ln(Lt.Days,I.Abbreviated);break;case"EEEE":Qe=ln(Lt.Days,I.Wide);break;case"EEEEE":Qe=ln(Lt.Days,I.Narrow);break;case"EEEEEE":Qe=ln(Lt.Days,I.Short);break;case"a":case"aa":case"aaa":Qe=ln(Lt.DayPeriods,I.Abbreviated);break;case"aaaa":Qe=ln(Lt.DayPeriods,I.Wide);break;case"aaaaa":Qe=ln(Lt.DayPeriods,I.Narrow);break;case"b":case"bb":case"bbb":Qe=ln(Lt.DayPeriods,I.Abbreviated,ne.Standalone,!0);break;case"bbbb":Qe=ln(Lt.DayPeriods,I.Wide,ne.Standalone,!0);break;case"bbbbb":Qe=ln(Lt.DayPeriods,I.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":Qe=ln(Lt.DayPeriods,I.Abbreviated,ne.Format,!0);break;case"BBBB":Qe=ln(Lt.DayPeriods,I.Wide,ne.Format,!0);break;case"BBBBB":Qe=ln(Lt.DayPeriods,I.Narrow,ne.Format,!0);break;case"h":Qe=vt(ct.Hours,1,-12);break;case"hh":Qe=vt(ct.Hours,2,-12);break;case"H":Qe=vt(ct.Hours,1);break;case"HH":Qe=vt(ct.Hours,2);break;case"m":Qe=vt(ct.Minutes,1);break;case"mm":Qe=vt(ct.Minutes,2);break;case"s":Qe=vt(ct.Seconds,1);break;case"ss":Qe=vt(ct.Seconds,2);break;case"S":Qe=vt(ct.FractionalSeconds,1);break;case"SS":Qe=vt(ct.FractionalSeconds,2);break;case"SSS":Qe=vt(ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Qe=Pn(tn.Short);break;case"ZZZZZ":Qe=Pn(tn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Qe=Pn(tn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Qe=Pn(tn.Long);break;default:return null}return St[re]=Qe,Qe}(Ki);qi+=Wi?Wi(Tt,Se,sr):"''"===Ki?"'":Ki.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),qi}function le(re,Qe,Se){const je=new Date(0);return je.setFullYear(re,Qe,Se),je.setHours(0,0,0),je}function j(re,Qe){const Se=function Oe(re){return(0,t.H5H)(re)[t.KH2.LocaleId]}(re);if(lt[Se]??={},lt[Se][Qe])return lt[Se][Qe];let je="";switch(Qe){case"shortDate":je=$e(re,pe.Short);break;case"mediumDate":je=$e(re,pe.Medium);break;case"longDate":je=$e(re,pe.Long);break;case"fullDate":je=$e(re,pe.Full);break;case"shortTime":je=xe(re,pe.Short);break;case"mediumTime":je=xe(re,pe.Medium);break;case"longTime":je=xe(re,pe.Long);break;case"fullTime":je=xe(re,pe.Full);break;case"short":const Tt=j(re,"shortTime"),cn=j(re,"shortDate");je=ae(pt(re,pe.Short),[Tt,cn]);break;case"medium":const wn=j(re,"mediumTime"),oi=j(re,"mediumDate");je=ae(pt(re,pe.Medium),[wn,oi]);break;case"long":const sr=j(re,"longTime"),qi=j(re,"longDate");je=ae(pt(re,pe.Long),[sr,qi]);break;case"full":const Ki=j(re,"fullTime"),Wi=j(re,"fullDate");je=ae(pt(re,pe.Full),[Ki,Wi])}return je&&(lt[Se][Qe]=je),je}function ae(re,Qe){return Qe&&(re=re.replace(/\{([^}]+)}/g,function(Se,je){return null!=Qe&&je in Qe?Qe[je]:Se})),re}function Ge(re,Qe,Se="-",je,Tt){let cn="";(re<0||Tt&&re<=0)&&(Tt?re=1-re:(re=-re,cn=Se));let wn=String(re);for(;wn.length<Qe;)wn="0"+wn;return je&&(wn=wn.slice(wn.length-Qe)),cn+wn}function vt(re,Qe,Se=0,je=!1,Tt=!1){return function(cn,wn){let oi=function Bt(re,Qe){switch(re){case ct.FullYear:return Qe.getFullYear();case ct.Month:return Qe.getMonth();case ct.Date:return Qe.getDate();case ct.Hours:return Qe.getHours();case ct.Minutes:return Qe.getMinutes();case ct.Seconds:return Qe.getSeconds();case ct.FractionalSeconds:return Qe.getMilliseconds();case ct.Day:return Qe.getDay();default:throw new Error(`Unknown DateType value "${re}".`)}}(re,cn);if((Se>0||oi>-Se)&&(oi+=Se),re===ct.Hours)0===oi&&-12===Se&&(oi=12);else if(re===ct.FractionalSeconds)return function tt(re,Qe){return Ge(re,3).substring(0,Qe)}(oi,Qe);const sr=Le(wn,K.MinusSign);return Ge(oi,Qe,sr,je,Tt)}}function ln(re,Qe,Se=ne.Format,je=!1){return function(Tt,cn){return function sn(re,Qe,Se,je,Tt,cn){switch(Se){case Lt.Months:return qe(Qe,Tt,je)[re.getMonth()];case Lt.Days:return Fe(Qe,Tt,je)[re.getDay()];case Lt.DayPeriods:const wn=re.getHours(),oi=re.getMinutes();if(cn){const qi=function Q(re){const Qe=(0,t.H5H)(re);return q(Qe),(Qe[t.KH2.ExtraData][2]||[]).map(je=>"string"==typeof je?at(je):[at(je[0]),at(je[1])])}(Qe),Ki=function te(re,Qe,Se){const je=(0,t.H5H)(re);q(je);const cn=Re([je[t.KH2.ExtraData][0],je[t.KH2.ExtraData][1]],Qe)||[];return Re(cn,Se)||[]}(Qe,Tt,je),Wi=qi.findIndex(di=>{if(Array.isArray(di)){const[Yi,Ii]=di,we=wn>=Yi.hours&&oi>=Yi.minutes,L=wn<Ii.hours||wn===Ii.hours&&oi<Ii.minutes;if(Yi.hours<Ii.hours){if(we&&L)return!0}else if(we||L)return!0}else if(di.hours===wn&&di.minutes===oi)return!0;return!1});if(-1!==Wi)return Ki[Wi]}return function Ae(re,Qe,Se){const je=(0,t.H5H)(re),cn=Re([je[t.KH2.DayPeriodsFormat],je[t.KH2.DayPeriodsStandalone]],Qe);return Re(cn,Se)}(Qe,Tt,je)[wn<12?0:1];case Lt.Eras:return function Me(re,Qe){return Re((0,t.H5H)(re)[t.KH2.Eras],Qe)}(Qe,je)[re.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${Se}`)}}(Tt,cn,re,Qe,Se,je)}}function Pn(re){return function(Qe,Se,je){const Tt=-1*je,cn=Le(Se,K.MinusSign),wn=Tt>0?Math.floor(Tt/60):Math.ceil(Tt/60);switch(re){case tn.Short:return(Tt>=0?"+":"")+Ge(wn,2,cn)+Ge(Math.abs(Tt%60),2,cn);case tn.ShortGMT:return"GMT"+(Tt>=0?"+":"")+Ge(wn,1,cn);case tn.Long:return"GMT"+(Tt>=0?"+":"")+Ge(wn,2,cn)+":"+Ge(Math.abs(Tt%60),2,cn);case tn.Extended:return 0===je?"Z":(Tt>=0?"+":"")+Ge(wn,2,cn)+":"+Ge(Math.abs(Tt%60),2,cn);default:throw new Error(`Unknown zone width "${re}"`)}}}const $n=0,Vn=4;function On(re){const Qe=re.getDay(),Se=0===Qe?-3:Vn-Qe;return le(re.getFullYear(),re.getMonth(),re.getDate()+Se)}function Qt(re,Qe=!1){return function(Se,je){let Tt;if(Qe){const cn=new Date(Se.getFullYear(),Se.getMonth(),1).getDay()-1,wn=Se.getDate();Tt=1+Math.floor((wn+cn)/7)}else{const cn=On(Se),wn=function Mt(re){const Qe=le(re,$n,1).getDay();return le(re,0,1+(Qe<=Vn?Vn:Vn+7)-Qe)}(cn.getFullYear()),oi=cn.getTime()-wn.getTime();Tt=1+Math.round(oi/6048e5)}return Ge(Tt,re,Le(je,K.MinusSign))}}function mt(re,Qe=!1){return function(Se,je){return Ge(On(Se).getFullYear(),re,Le(je,K.MinusSign),Qe)}}const St={};function Ut(re,Qe){re=re.replace(/:/g,"");const Se=Date.parse("Jan 01, 1970 00:00:00 "+re)/6e4;return isNaN(Se)?Qe:Se}function yi(re){return re instanceof Date&&!isNaN(re.valueOf())}const ii=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Ei(re){const Qe=parseInt(re);if(isNaN(Qe))throw new Error("Invalid integer literal when parsing "+re);return Qe}function It(re,Qe){Qe=encodeURIComponent(Qe);for(const Se of re.split(";")){const je=Se.indexOf("="),[Tt,cn]=-1==je?[Se,""]:[Se.slice(0,je),Se.slice(je+1)];if(Tt.trim()===Qe)return decodeURIComponent(cn)}return null}const Ye=/\s+/,Zt=[];let ht=(()=>{class re{constructor(Se,je){this._ngEl=Se,this._renderer=je,this.initialClasses=Zt,this.stateMap=new Map}set klass(Se){this.initialClasses=null!=Se?Se.trim().split(Ye):Zt}set ngClass(Se){this.rawClass="string"==typeof Se?Se.trim().split(Ye):Se}ngDoCheck(){for(const je of this.initialClasses)this._updateState(je,!0);const Se=this.rawClass;if(Array.isArray(Se)||Se instanceof Set)for(const je of Se)this._updateState(je,!0);else if(null!=Se)for(const je of Object.keys(Se))this._updateState(je,!!Se[je]);this._applyStateDiff()}_updateState(Se,je){const Tt=this.stateMap.get(Se);void 0!==Tt?(Tt.enabled!==je&&(Tt.changed=!0,Tt.enabled=je),Tt.touched=!0):this.stateMap.set(Se,{enabled:je,changed:!0,touched:!0})}_applyStateDiff(){for(const Se of this.stateMap){const je=Se[0],Tt=Se[1];Tt.changed?(this._toggleClass(je,Tt.enabled),Tt.changed=!1):Tt.touched||(Tt.enabled&&this._toggleClass(je,!1),this.stateMap.delete(je)),Tt.touched=!1}}_toggleClass(Se,je){(Se=Se.trim()).length>0&&Se.split(Ye).forEach(Tt=>{je?this._renderer.addClass(this._ngEl.nativeElement,Tt):this._renderer.removeClass(this._ngEl.nativeElement,Tt)})}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:re,selectors:[["","ngClass",""]],inputs:{klass:[t.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return re})();class an{constructor(Qe,Se,je,Tt){this.$implicit=Qe,this.ngForOf=Se,this.index=je,this.count=Tt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gn=(()=>{class re{set ngForOf(Se){this._ngForOf=Se,this._ngForOfDirty=!0}set ngForTrackBy(Se){this._trackByFn=Se}get ngForTrackBy(){return this._trackByFn}constructor(Se,je,Tt){this._viewContainer=Se,this._template=je,this._differs=Tt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(Se){Se&&(this._template=Se)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const Se=this._ngForOf;!this._differ&&Se&&(this._differ=this._differs.find(Se).create(this.ngForTrackBy))}if(this._differ){const Se=this._differ.diff(this._ngForOf);Se&&this._applyChanges(Se)}}_applyChanges(Se){const je=this._viewContainer;Se.forEachOperation((Tt,cn,wn)=>{if(null==Tt.previousIndex)je.createEmbeddedView(this._template,new an(Tt.item,this._ngForOf,-1,-1),null===wn?void 0:wn);else if(null==wn)je.remove(null===cn?void 0:cn);else if(null!==cn){const oi=je.get(cn);je.move(oi,wn),Ue(oi,Tt)}});for(let Tt=0,cn=je.length;Tt<cn;Tt++){const oi=je.get(Tt).context;oi.index=Tt,oi.count=cn,oi.ngForOf=this._ngForOf}Se.forEachIdentityChange(Tt=>{Ue(je.get(Tt.currentIndex),Tt)})}static ngTemplateContextGuard(Se,je){return!0}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.c1b),t.rXU(t.C4Q),t.rXU(t._q3))}}static{this.\u0275dir=t.FsC({type:re,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return re})();function Ue(re,Qe){re.context.$implicit=Qe.item}let ot=(()=>{class re{constructor(Se,je){this._viewContainer=Se,this._context=new Vt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=je}set ngIf(Se){this._context.$implicit=this._context.ngIf=Se,this._updateView()}set ngIfThen(Se){_n("ngIfThen",Se),this._thenTemplateRef=Se,this._thenViewRef=null,this._updateView()}set ngIfElse(Se){_n("ngIfElse",Se),this._elseTemplateRef=Se,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(Se,je){return!0}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.c1b),t.rXU(t.C4Q))}}static{this.\u0275dir=t.FsC({type:re,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return re})();class Vt{constructor(){this.$implicit=null,this.ngIf=null}}function _n(re,Qe){if(Qe&&!Qe.createEmbeddedView)throw new Error(`${re} must be a TemplateRef, but received '${(0,t.Tbb)(Qe)}'.`)}let hi=(()=>{class re{constructor(Se){this._viewContainerRef=Se,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(Se){if(this._shouldRecreateView(Se)){const je=this._viewContainerRef;if(this._viewRef&&je.remove(je.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Tt=this._createContextForwardProxy();this._viewRef=je.createEmbeddedView(this.ngTemplateOutlet,Tt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(Se){return!!Se.ngTemplateOutlet||!!Se.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(Se,je,Tt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,je,Tt),get:(Se,je,Tt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,je,Tt)}})}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:re,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[t.OA$]})}}return re})();function Oi(re,Qe){return new t.wOt(2100,!1)}let Ds=(()=>{class re{transform(Se){if(null==Se)return null;if("string"!=typeof Se)throw Oi();return Se.toUpperCase()}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275pipe=t.EJ8({name:"uppercase",type:re,pure:!0,standalone:!0})}}return re})(),Ar=(()=>{class re{constructor(Se){this.differs=Se,this.keyValues=[],this.compareFn=Dr}transform(Se,je=Dr){if(!Se||!(Se instanceof Map)&&"object"!=typeof Se)return null;this.differ??=this.differs.find(Se).create();const Tt=this.differ.diff(Se),cn=je!==this.compareFn;return Tt&&(this.keyValues=[],Tt.forEachItem(wn=>{this.keyValues.push(function Ir(re,Qe){return{key:re,value:Qe}}(wn.key,wn.currentValue))})),(Tt||cn)&&(this.keyValues.sort(je),this.compareFn=je),this.keyValues}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.MKu,16))}}static{this.\u0275pipe=t.EJ8({name:"keyvalue",type:re,pure:!1,standalone:!0})}}return re})();function Dr(re,Qe){const Se=re.key,je=Qe.key;if(Se===je)return 0;if(void 0===Se)return 1;if(void 0===je)return-1;if(null===Se)return 1;if(null===je)return-1;if("string"==typeof Se&&"string"==typeof je)return Se<je?-1:1;if("number"==typeof Se&&"number"==typeof je)return Se-je;if("boolean"==typeof Se&&"boolean"==typeof je)return Se<je?-1:1;const Tt=String(Se),cn=String(je);return Tt==cn?0:Tt<cn?-1:1}let Nr=(()=>{class re{constructor(Se){this._locale=Se}transform(Se,je,Tt){if(!function Li(re){return!(null==re||""===re||re!=re)}(Se))return null;Tt||=this._locale;try{return function Ri(re,Qe,Se){return function kn(re,Qe,Se,je,Tt,cn,wn=!1){let oi="",sr=!1;if(isFinite(re)){let qi=function ti(re){let je,Tt,cn,wn,oi,Qe=Math.abs(re)+"",Se=0;for((Tt=Qe.indexOf("."))>-1&&(Qe=Qe.replace(".","")),(cn=Qe.search(/e/i))>0?(Tt<0&&(Tt=cn),Tt+=+Qe.slice(cn+1),Qe=Qe.substring(0,cn)):Tt<0&&(Tt=Qe.length),cn=0;"0"===Qe.charAt(cn);cn++);if(cn===(oi=Qe.length))je=[0],Tt=1;else{for(oi--;"0"===Qe.charAt(oi);)oi--;for(Tt-=cn,je=[],wn=0;cn<=oi;cn++,wn++)je[wn]=Number(Qe.charAt(cn))}return Tt>22&&(je=je.splice(0,21),Se=Tt-1,Tt=1),{digits:je,exponent:Se,integerLen:Tt}}(re);wn&&(qi=function zi(re){if(0===re.digits[0])return re;const Qe=re.digits.length-re.integerLen;return re.exponent?re.exponent+=2:(0===Qe?re.digits.push(0,0):1===Qe&&re.digits.push(0),re.integerLen+=2),re}(qi));let Ki=Qe.minInt,Wi=Qe.minFrac,di=Qe.maxFrac;if(cn){const Pe=cn.match(ii);if(null===Pe)throw new Error(`${cn} is not a valid digit info`);const st=Pe[1],At=Pe[3],Ht=Pe[5];null!=st&&(Ki=Ei(st)),null!=At&&(Wi=Ei(At)),null!=Ht?di=Ei(Ht):null!=At&&Wi>di&&(di=Wi)}!function Gn(re,Qe,Se){if(Qe>Se)throw new Error(`The minimum number of digits after fraction (${Qe}) is higher than the maximum (${Se}).`);let je=re.digits,Tt=je.length-re.integerLen;const cn=Math.min(Math.max(Qe,Tt),Se);let wn=cn+re.integerLen,oi=je[wn];if(wn>0){je.splice(Math.max(re.integerLen,wn));for(let Wi=wn;Wi<je.length;Wi++)je[Wi]=0}else{Tt=Math.max(0,Tt),re.integerLen=1,je.length=Math.max(1,wn=cn+1),je[0]=0;for(let Wi=1;Wi<wn;Wi++)je[Wi]=0}if(oi>=5)if(wn-1<0){for(let Wi=0;Wi>wn;Wi--)je.unshift(0),re.integerLen++;je.unshift(1),re.integerLen++}else je[wn-1]++;for(;Tt<Math.max(0,cn);Tt++)je.push(0);let sr=0!==cn;const qi=Qe+re.integerLen,Ki=je.reduceRight(function(Wi,di,Yi,Ii){return Ii[Yi]=(di+=Wi)<10?di:di-10,sr&&(0===Ii[Yi]&&Yi>=qi?Ii.pop():sr=!1),di>=10?1:0},0);Ki&&(je.unshift(Ki),re.integerLen++)}(qi,Wi,di);let Yi=qi.digits,Ii=qi.integerLen;const we=qi.exponent;let L=[];for(sr=Yi.every(Pe=>!Pe);Ii<Ki;Ii++)Yi.unshift(0);for(;Ii<0;Ii++)Yi.unshift(0);Ii>0?L=Yi.splice(Ii,Yi.length):(L=Yi,Yi=[0]);const me=[];for(Yi.length>=Qe.lgSize&&me.unshift(Yi.splice(-Qe.lgSize,Yi.length).join(""));Yi.length>Qe.gSize;)me.unshift(Yi.splice(-Qe.gSize,Yi.length).join(""));Yi.length&&me.unshift(Yi.join("")),oi=me.join(Le(Se,je)),L.length&&(oi+=Le(Se,Tt)+L.join("")),we&&(oi+=Le(Se,K.Exponential)+"+"+we)}else oi=Le(Se,K.Infinity);return oi=re<0&&!sr?Qe.negPre+oi+Qe.negSuf:Qe.posPre+oi+Qe.posSuf,oi}(re,function ri(re,Qe="-"){const Se={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},je=re.split(";"),Tt=je[0],cn=je[1],wn=-1!==Tt.indexOf(".")?Tt.split("."):[Tt.substring(0,Tt.lastIndexOf("0")+1),Tt.substring(Tt.lastIndexOf("0")+1)],oi=wn[0],sr=wn[1]||"";Se.posPre=oi.substring(0,oi.indexOf("#"));for(let Ki=0;Ki<sr.length;Ki++){const Wi=sr.charAt(Ki);"0"===Wi?Se.minFrac=Se.maxFrac=Ki+1:"#"===Wi?Se.maxFrac=Ki+1:Se.posSuf+=Wi}const qi=oi.split(",");if(Se.gSize=qi[1]?qi[1].length:0,Se.lgSize=qi[2]||qi[1]?(qi[2]||qi[1]).length:0,cn){const Ki=Tt.length-Se.posPre.length-Se.posSuf.length,Wi=cn.indexOf("#");Se.negPre=cn.substring(0,Wi).replace(/'/g,""),Se.negSuf=cn.slice(Wi+Ki).replace(/'/g,"")}else Se.negPre=Qe+Se.posPre,Se.negSuf=Se.posSuf;return Se}(function Ct(re,Qe){return(0,t.H5H)(re)[t.KH2.NumberFormats][Qe]}(Qe,Y.Decimal),Le(Qe,K.MinusSign)),Qe,K.Group,K.Decimal,Se)}(function si(re){if("string"==typeof re&&!isNaN(Number(re)-parseFloat(re)))return Number(re);if("number"!=typeof re)throw new Error(`${re} is not a number`);return re}(Se),Tt,je)}catch(cn){throw Oi()}}static{this.\u0275fac=function(je){return new(je||re)(t.rXU(t.xe9,16))}}static{this.\u0275pipe=t.EJ8({name:"number",type:re,pure:!0,standalone:!0})}}return re})();let jr=(()=>{class re{transform(Se,je,Tt){if(null==Se)return null;if(!this.supports(Se))throw Oi();return Se.slice(je,Tt)}supports(Se){return"string"==typeof Se||Array.isArray(Se)}static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275pipe=t.EJ8({name:"slice",type:re,pure:!1,standalone:!0})}}return re})(),zr=(()=>{class re{static{this.\u0275fac=function(je){return new(je||re)}}static{this.\u0275mod=t.$C({type:re})}static{this.\u0275inj=t.G2t({})}}return re})();const os="browser",js="server";function vr(re){return re===os}function Cs(re){return re===js}let Yr=(()=>{class re{static{this.\u0275prov=(0,t.jDH)({token:re,providedIn:"root",factory:()=>vr((0,t.WQX)(t.Agw))?new Cr((0,t.WQX)(g),window):new Ws})}}return re})();class Cr{constructor(Qe,Se){this.document=Qe,this.window=Se,this.offset=()=>[0,0]}setOffset(Qe){this.offset=Array.isArray(Qe)?()=>Qe:Qe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Qe){this.window.scrollTo(Qe[0],Qe[1])}scrollToAnchor(Qe){const Se=function Rs(re,Qe){const Se=re.getElementById(Qe)||re.getElementsByName(Qe)[0];if(Se)return Se;if("function"==typeof re.createTreeWalker&&re.body&&"function"==typeof re.body.attachShadow){const je=re.createTreeWalker(re.body,NodeFilter.SHOW_ELEMENT);let Tt=je.currentNode;for(;Tt;){const cn=Tt.shadowRoot;if(cn){const wn=cn.getElementById(Qe)||cn.querySelector(`[name="${Qe}"]`);if(wn)return wn}Tt=je.nextNode()}}return null}(this.document,Qe);Se&&(this.scrollToElement(Se),Se.focus())}setHistoryScrollRestoration(Qe){this.window.history.scrollRestoration=Qe}scrollToElement(Qe){const Se=Qe.getBoundingClientRect(),je=Se.left+this.window.pageXOffset,Tt=Se.top+this.window.pageYOffset,cn=this.offset();this.window.scrollTo(je-cn[0],Tt-cn[1])}}class Ws{setOffset(Qe){}getScrollPosition(){return[0,0]}scrollToPosition(Qe){}scrollToAnchor(Qe){}setHistoryScrollRestoration(Qe){}}class Co{}},1626:(nt,ye,d)=>{"use strict";d.d(ye,{Lr:()=>k,Nl:()=>ce,Qq:()=>$e,a7:()=>Q,q1:()=>Kt,yz:()=>Me}),d(467);var e=d(4438),p=d(7673),S=d(1985),C=d(6648),w=d(274),g=d(5964),h=d(6354),E=d(980),v=d(5558),B=d(177);class U{}class a{}class k{constructor(It){this.normalizedNames=new Map,this.lazyUpdate=null,It?"string"==typeof It?this.lazyInit=()=>{this.headers=new Map,It.split("\n").forEach(Ye=>{const Zt=Ye.indexOf(":");if(Zt>0){const ht=Ye.slice(0,Zt),Xt=ht.toLowerCase(),$t=Ye.slice(Zt+1).trim();this.maybeSetNormalizedName(ht,Xt),this.headers.has(Xt)?this.headers.get(Xt).push($t):this.headers.set(Xt,[$t])}})}:typeof Headers<"u"&&It instanceof Headers?(this.headers=new Map,It.forEach((Ye,Zt)=>{this.setHeaderEntries(Zt,Ye)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(It).forEach(([Ye,Zt])=>{this.setHeaderEntries(Ye,Zt)})}:this.headers=new Map}has(It){return this.init(),this.headers.has(It.toLowerCase())}get(It){this.init();const Ye=this.headers.get(It.toLowerCase());return Ye&&Ye.length>0?Ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(It){return this.init(),this.headers.get(It.toLowerCase())||null}append(It,Ye){return this.clone({name:It,value:Ye,op:"a"})}set(It,Ye){return this.clone({name:It,value:Ye,op:"s"})}delete(It,Ye){return this.clone({name:It,value:Ye,op:"d"})}maybeSetNormalizedName(It,Ye){this.normalizedNames.has(Ye)||this.normalizedNames.set(Ye,It)}init(){this.lazyInit&&(this.lazyInit instanceof k?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(It=>this.applyUpdate(It)),this.lazyUpdate=null))}copyFrom(It){It.init(),Array.from(It.headers.keys()).forEach(Ye=>{this.headers.set(Ye,It.headers.get(Ye)),this.normalizedNames.set(Ye,It.normalizedNames.get(Ye))})}clone(It){const Ye=new k;return Ye.lazyInit=this.lazyInit&&this.lazyInit instanceof k?this.lazyInit:this,Ye.lazyUpdate=(this.lazyUpdate||[]).concat([It]),Ye}applyUpdate(It){const Ye=It.name.toLowerCase();switch(It.op){case"a":case"s":let Zt=It.value;if("string"==typeof Zt&&(Zt=[Zt]),0===Zt.length)return;this.maybeSetNormalizedName(It.name,Ye);const ht=("a"===It.op?this.headers.get(Ye):void 0)||[];ht.push(...Zt),this.headers.set(Ye,ht);break;case"d":const Xt=It.value;if(Xt){let $t=this.headers.get(Ye);if(!$t)return;$t=$t.filter(an=>-1===Xt.indexOf(an)),0===$t.length?(this.headers.delete(Ye),this.normalizedNames.delete(Ye)):this.headers.set(Ye,$t)}else this.headers.delete(Ye),this.normalizedNames.delete(Ye)}}setHeaderEntries(It,Ye){const Zt=(Array.isArray(Ye)?Ye:[Ye]).map(Xt=>Xt.toString()),ht=It.toLowerCase();this.headers.set(ht,Zt),this.maybeSetNormalizedName(It,ht)}forEach(It){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ye=>It(this.normalizedNames.get(Ye),this.headers.get(Ye)))}}class P{encodeKey(It){return G(It)}encodeValue(It){return G(It)}decodeKey(It){return decodeURIComponent(It)}decodeValue(It){return decodeURIComponent(It)}}const N=/%(\d[a-f0-9])/gi,H={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G(rt){return encodeURIComponent(rt).replace(N,(It,Ye)=>H[Ye]??It)}function z(rt){return`${rt}`}class ce{constructor(It={}){if(this.updates=null,this.cloneFrom=null,this.encoder=It.encoder||new P,It.fromString){if(It.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function W(rt,It){const Ye=new Map;return rt.length>0&&rt.replace(/^\?/,"").split("&").forEach(ht=>{const Xt=ht.indexOf("="),[$t,an]=-1==Xt?[It.decodeKey(ht),""]:[It.decodeKey(ht.slice(0,Xt)),It.decodeValue(ht.slice(Xt+1))],gn=Ye.get($t)||[];gn.push(an),Ye.set($t,gn)}),Ye}(It.fromString,this.encoder)}else It.fromObject?(this.map=new Map,Object.keys(It.fromObject).forEach(Ye=>{const Zt=It.fromObject[Ye],ht=Array.isArray(Zt)?Zt.map(z):[z(Zt)];this.map.set(Ye,ht)})):this.map=null}has(It){return this.init(),this.map.has(It)}get(It){this.init();const Ye=this.map.get(It);return Ye?Ye[0]:null}getAll(It){return this.init(),this.map.get(It)||null}keys(){return this.init(),Array.from(this.map.keys())}append(It,Ye){return this.clone({param:It,value:Ye,op:"a"})}appendAll(It){const Ye=[];return Object.keys(It).forEach(Zt=>{const ht=It[Zt];Array.isArray(ht)?ht.forEach(Xt=>{Ye.push({param:Zt,value:Xt,op:"a"})}):Ye.push({param:Zt,value:ht,op:"a"})}),this.clone(Ye)}set(It,Ye){return this.clone({param:It,value:Ye,op:"s"})}delete(It,Ye){return this.clone({param:It,value:Ye,op:"d"})}toString(){return this.init(),this.keys().map(It=>{const Ye=this.encoder.encodeKey(It);return this.map.get(It).map(Zt=>Ye+"="+this.encoder.encodeValue(Zt)).join("&")}).filter(It=>""!==It).join("&")}clone(It){const Ye=new ce({encoder:this.encoder});return Ye.cloneFrom=this.cloneFrom||this,Ye.updates=(this.updates||[]).concat(It),Ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(It=>this.map.set(It,this.cloneFrom.map.get(It))),this.updates.forEach(It=>{switch(It.op){case"a":case"s":const Ye=("a"===It.op?this.map.get(It.param):void 0)||[];Ye.push(z(It.value)),this.map.set(It.param,Ye);break;case"d":if(void 0===It.value){this.map.delete(It.param);break}{let Zt=this.map.get(It.param)||[];const ht=Zt.indexOf(z(It.value));-1!==ht&&Zt.splice(ht,1),Zt.length>0?this.map.set(It.param,Zt):this.map.delete(It.param)}}}),this.cloneFrom=this.updates=null)}}class Y{constructor(){this.map=new Map}set(It,Ye){return this.map.set(It,Ye),this}get(It){return this.map.has(It)||this.map.set(It,It.defaultValue()),this.map.get(It)}delete(It){return this.map.delete(It),this}has(It){return this.map.has(It)}keys(){return this.map.keys()}}function ne(rt){return typeof ArrayBuffer<"u"&&rt instanceof ArrayBuffer}function I(rt){return typeof Blob<"u"&&rt instanceof Blob}function pe(rt){return typeof FormData<"u"&&rt instanceof FormData}class he{constructor(It,Ye,Zt,ht){let Xt;if(this.url=Ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=It.toUpperCase(),function Z(rt){switch(rt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ht?(this.body=void 0!==Zt?Zt:null,Xt=ht):Xt=Zt,Xt&&(this.reportProgress=!!Xt.reportProgress,this.withCredentials=!!Xt.withCredentials,Xt.responseType&&(this.responseType=Xt.responseType),Xt.headers&&(this.headers=Xt.headers),Xt.context&&(this.context=Xt.context),Xt.params&&(this.params=Xt.params),this.transferCache=Xt.transferCache),this.headers??=new k,this.context??=new Y,this.params){const $t=this.params.toString();if(0===$t.length)this.urlWithParams=Ye;else{const an=Ye.indexOf("?");this.urlWithParams=Ye+(-1===an?"?":an<Ye.length-1?"&":"")+$t}}else this.params=new ce,this.urlWithParams=Ye}serializeBody(){return null===this.body?null:"string"==typeof this.body||ne(this.body)||I(this.body)||pe(this.body)||function K(rt){return typeof URLSearchParams<"u"&&rt instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||pe(this.body)?null:I(this.body)?this.body.type||null:ne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(It={}){const Ye=It.method||this.method,Zt=It.url||this.url,ht=It.responseType||this.responseType,Xt=It.transferCache??this.transferCache,$t=void 0!==It.body?It.body:this.body,an=It.withCredentials??this.withCredentials,gn=It.reportProgress??this.reportProgress;let Ue=It.headers||this.headers,Xe=It.params||this.params;const ot=It.context??this.context;return void 0!==It.setHeaders&&(Ue=Object.keys(It.setHeaders).reduce((Vt,_n)=>Vt.set(_n,It.setHeaders[_n]),Ue)),It.setParams&&(Xe=Object.keys(It.setParams).reduce((Vt,_n)=>Vt.set(_n,It.setParams[_n]),Xe)),new he(Ye,Zt,$t,{params:Xe,headers:Ue,context:ot,reportProgress:gn,responseType:ht,withCredentials:an,transferCache:Xt})}}var Oe=function(rt){return rt[rt.Sent=0]="Sent",rt[rt.UploadProgress=1]="UploadProgress",rt[rt.ResponseHeader=2]="ResponseHeader",rt[rt.DownloadProgress=3]="DownloadProgress",rt[rt.Response=4]="Response",rt[rt.User=5]="User",rt}(Oe||{});class Ae{constructor(It,Ye=Te.Ok,Zt="OK"){this.headers=It.headers||new k,this.status=void 0!==It.status?It.status:Ye,this.statusText=It.statusText||Zt,this.url=It.url||null,this.ok=this.status>=200&&this.status<300}}class Fe extends Ae{constructor(It={}){super(It),this.type=Oe.ResponseHeader}clone(It={}){return new Fe({headers:It.headers||this.headers,status:void 0!==It.status?It.status:this.status,statusText:It.statusText||this.statusText,url:It.url||this.url||void 0})}}class qe extends Ae{constructor(It={}){super(It),this.type=Oe.Response,this.body=void 0!==It.body?It.body:null}clone(It={}){return new qe({body:void 0!==It.body?It.body:this.body,headers:It.headers||this.headers,status:void 0!==It.status?It.status:this.status,statusText:It.statusText||this.statusText,url:It.url||this.url||void 0})}}class Me extends Ae{constructor(It){super(It,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${It.url||"(unknown url)"}`:`Http failure response for ${It.url||"(unknown url)"}: ${It.status} ${It.statusText}`,this.error=It.error||null}}var Te=function(rt){return rt[rt.Continue=100]="Continue",rt[rt.SwitchingProtocols=101]="SwitchingProtocols",rt[rt.Processing=102]="Processing",rt[rt.EarlyHints=103]="EarlyHints",rt[rt.Ok=200]="Ok",rt[rt.Created=201]="Created",rt[rt.Accepted=202]="Accepted",rt[rt.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",rt[rt.NoContent=204]="NoContent",rt[rt.ResetContent=205]="ResetContent",rt[rt.PartialContent=206]="PartialContent",rt[rt.MultiStatus=207]="MultiStatus",rt[rt.AlreadyReported=208]="AlreadyReported",rt[rt.ImUsed=226]="ImUsed",rt[rt.MultipleChoices=300]="MultipleChoices",rt[rt.MovedPermanently=301]="MovedPermanently",rt[rt.Found=302]="Found",rt[rt.SeeOther=303]="SeeOther",rt[rt.NotModified=304]="NotModified",rt[rt.UseProxy=305]="UseProxy",rt[rt.Unused=306]="Unused",rt[rt.TemporaryRedirect=307]="TemporaryRedirect",rt[rt.PermanentRedirect=308]="PermanentRedirect",rt[rt.BadRequest=400]="BadRequest",rt[rt.Unauthorized=401]="Unauthorized",rt[rt.PaymentRequired=402]="PaymentRequired",rt[rt.Forbidden=403]="Forbidden",rt[rt.NotFound=404]="NotFound",rt[rt.MethodNotAllowed=405]="MethodNotAllowed",rt[rt.NotAcceptable=406]="NotAcceptable",rt[rt.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",rt[rt.RequestTimeout=408]="RequestTimeout",rt[rt.Conflict=409]="Conflict",rt[rt.Gone=410]="Gone",rt[rt.LengthRequired=411]="LengthRequired",rt[rt.PreconditionFailed=412]="PreconditionFailed",rt[rt.PayloadTooLarge=413]="PayloadTooLarge",rt[rt.UriTooLong=414]="UriTooLong",rt[rt.UnsupportedMediaType=415]="UnsupportedMediaType",rt[rt.RangeNotSatisfiable=416]="RangeNotSatisfiable",rt[rt.ExpectationFailed=417]="ExpectationFailed",rt[rt.ImATeapot=418]="ImATeapot",rt[rt.MisdirectedRequest=421]="MisdirectedRequest",rt[rt.UnprocessableEntity=422]="UnprocessableEntity",rt[rt.Locked=423]="Locked",rt[rt.FailedDependency=424]="FailedDependency",rt[rt.TooEarly=425]="TooEarly",rt[rt.UpgradeRequired=426]="UpgradeRequired",rt[rt.PreconditionRequired=428]="PreconditionRequired",rt[rt.TooManyRequests=429]="TooManyRequests",rt[rt.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",rt[rt.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",rt[rt.InternalServerError=500]="InternalServerError",rt[rt.NotImplemented=501]="NotImplemented",rt[rt.BadGateway=502]="BadGateway",rt[rt.ServiceUnavailable=503]="ServiceUnavailable",rt[rt.GatewayTimeout=504]="GatewayTimeout",rt[rt.HttpVersionNotSupported=505]="HttpVersionNotSupported",rt[rt.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",rt[rt.InsufficientStorage=507]="InsufficientStorage",rt[rt.LoopDetected=508]="LoopDetected",rt[rt.NotExtended=510]="NotExtended",rt[rt.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",rt}(Te||{});function ge(rt,It){return{body:It,headers:rt.headers,context:rt.context,observe:rt.observe,params:rt.params,reportProgress:rt.reportProgress,responseType:rt.responseType,withCredentials:rt.withCredentials,transferCache:rt.transferCache}}let $e=(()=>{class rt{constructor(Ye){this.handler=Ye}request(Ye,Zt,ht={}){let Xt;if(Ye instanceof he)Xt=Ye;else{let gn,Ue;gn=ht.headers instanceof k?ht.headers:new k(ht.headers),ht.params&&(Ue=ht.params instanceof ce?ht.params:new ce({fromObject:ht.params})),Xt=new he(Ye,Zt,void 0!==ht.body?ht.body:null,{headers:gn,context:ht.context,params:Ue,reportProgress:ht.reportProgress,responseType:ht.responseType||"json",withCredentials:ht.withCredentials,transferCache:ht.transferCache})}const $t=(0,p.of)(Xt).pipe((0,w.H)(gn=>this.handler.handle(gn)));if(Ye instanceof he||"events"===ht.observe)return $t;const an=$t.pipe((0,g.p)(gn=>gn instanceof qe));switch(ht.observe||"body"){case"body":switch(Xt.responseType){case"arraybuffer":return an.pipe((0,h.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return gn.body}));case"blob":return an.pipe((0,h.T)(gn=>{if(null!==gn.body&&!(gn.body instanceof Blob))throw new Error("Response is not a Blob.");return gn.body}));case"text":return an.pipe((0,h.T)(gn=>{if(null!==gn.body&&"string"!=typeof gn.body)throw new Error("Response is not a string.");return gn.body}));default:return an.pipe((0,h.T)(gn=>gn.body))}case"response":return an;default:throw new Error(`Unreachable: unhandled observe type ${ht.observe}}`)}}delete(Ye,Zt={}){return this.request("DELETE",Ye,Zt)}get(Ye,Zt={}){return this.request("GET",Ye,Zt)}head(Ye,Zt={}){return this.request("HEAD",Ye,Zt)}jsonp(Ye,Zt){return this.request("JSONP",Ye,{params:(new ce).append(Zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ye,Zt={}){return this.request("OPTIONS",Ye,Zt)}patch(Ye,Zt,ht={}){return this.request("PATCH",Ye,ge(ht,Zt))}post(Ye,Zt,ht={}){return this.request("POST",Ye,ge(ht,Zt))}put(Ye,Zt,ht={}){return this.request("PUT",Ye,ge(ht,Zt))}static{this.\u0275fac=function(Zt){return new(Zt||rt)(e.KVO(U))}}static{this.\u0275prov=e.jDH({token:rt,factory:rt.\u0275fac})}}return rt})();function Rt(rt,It){return It(rt)}function Dt(rt,It){return(Ye,Zt)=>It.intercept(Ye,{handle:ht=>rt(ht,Zt)})}const Q=new e.nKC(""),te=new e.nKC(""),De=new e.nKC(""),Re=new e.nKC("");function at(){let rt=null;return(It,Ye)=>{null===rt&&(rt=((0,e.WQX)(Q,{optional:!0})??[]).reduceRight(Dt,Rt));const Zt=(0,e.WQX)(e.TgB),ht=Zt.add();return rt(It,Ye).pipe((0,E.j)(()=>Zt.remove(ht)))}}let Ft=(()=>{class rt extends U{constructor(Ye,Zt){super(),this.backend=Ye,this.injector=Zt,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const ht=(0,e.WQX)(Re,{optional:!0});this.backend=ht??Ye}handle(Ye){if(null===this.chain){const ht=Array.from(new Set([...this.injector.get(te),...this.injector.get(De,[])]));this.chain=ht.reduceRight((Xt,$t)=>function q(rt,It,Ye){return(Zt,ht)=>(0,e.N4e)(Ye,()=>It(Zt,Xt=>rt(Xt,ht)))}(Xt,$t,this.injector),Rt)}const Zt=this.pendingTasks.add();return this.chain(Ye,ht=>this.backend.handle(ht)).pipe((0,E.j)(()=>this.pendingTasks.remove(Zt)))}static{this.\u0275fac=function(Zt){return new(Zt||rt)(e.KVO(a),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:rt,factory:rt.\u0275fac})}}return rt})();const tt=/^\)\]\}',?\n/;let Bt=(()=>{class rt{constructor(Ye){this.xhrFactory=Ye}handle(Ye){if("JSONP"===Ye.method)throw new e.wOt(-2800,!1);const Zt=this.xhrFactory;return(Zt.\u0275loadImpl?(0,C.H)(Zt.\u0275loadImpl()):(0,p.of)(null)).pipe((0,v.n)(()=>new S.c(Xt=>{const $t=Zt.build();if($t.open(Ye.method,Ye.urlWithParams),Ye.withCredentials&&($t.withCredentials=!0),Ye.headers.forEach((In,Dn)=>$t.setRequestHeader(In,Dn.join(","))),Ye.headers.has("Accept")||$t.setRequestHeader("Accept","application/json, text/plain, */*"),!Ye.headers.has("Content-Type")){const In=Ye.detectContentTypeHeader();null!==In&&$t.setRequestHeader("Content-Type",In)}if(Ye.responseType){const In=Ye.responseType.toLowerCase();$t.responseType="json"!==In?In:"text"}const an=Ye.serializeBody();let gn=null;const Ue=()=>{if(null!==gn)return gn;const In=$t.statusText||"OK",Dn=new k($t.getAllResponseHeaders()),_i=function vt(rt){return"responseURL"in rt&&rt.responseURL?rt.responseURL:/^X-Request-URL:/m.test(rt.getAllResponseHeaders())?rt.getResponseHeader("X-Request-URL"):null}($t)||Ye.url;return gn=new Fe({headers:Dn,status:$t.status,statusText:In,url:_i}),gn},Xe=()=>{let{headers:In,status:Dn,statusText:_i,url:Gi}=Ue(),Ti=null;Dn!==Te.NoContent&&(Ti=typeof $t.response>"u"?$t.responseText:$t.response),0===Dn&&(Dn=Ti?Te.Ok:0);let mi=Dn>=200&&Dn<300;if("json"===Ye.responseType&&"string"==typeof Ti){const rr=Ti;Ti=Ti.replace(tt,"");try{Ti=""!==Ti?JSON.parse(Ti):null}catch(br){Ti=rr,mi&&(mi=!1,Ti={error:br,text:Ti})}}mi?(Xt.next(new qe({body:Ti,headers:In,status:Dn,statusText:_i,url:Gi||void 0})),Xt.complete()):Xt.error(new Me({error:Ti,headers:In,status:Dn,statusText:_i,url:Gi||void 0}))},ot=In=>{const{url:Dn}=Ue(),_i=new Me({error:In,status:$t.status||0,statusText:$t.statusText||"Unknown Error",url:Dn||void 0});Xt.error(_i)};let Vt=!1;const _n=In=>{Vt||(Xt.next(Ue()),Vt=!0);let Dn={type:Oe.DownloadProgress,loaded:In.loaded};In.lengthComputable&&(Dn.total=In.total),"text"===Ye.responseType&&$t.responseText&&(Dn.partialText=$t.responseText),Xt.next(Dn)},bn=In=>{let Dn={type:Oe.UploadProgress,loaded:In.loaded};In.lengthComputable&&(Dn.total=In.total),Xt.next(Dn)};return $t.addEventListener("load",Xe),$t.addEventListener("error",ot),$t.addEventListener("timeout",ot),$t.addEventListener("abort",ot),Ye.reportProgress&&($t.addEventListener("progress",_n),null!==an&&$t.upload&&$t.upload.addEventListener("progress",bn)),$t.send(an),Xt.next({type:Oe.Sent}),()=>{$t.removeEventListener("error",ot),$t.removeEventListener("abort",ot),$t.removeEventListener("load",Xe),$t.removeEventListener("timeout",ot),Ye.reportProgress&&($t.removeEventListener("progress",_n),null!==an&&$t.upload&&$t.upload.removeEventListener("progress",bn)),$t.readyState!==$t.DONE&&$t.abort()}})))}static{this.\u0275fac=function(Zt){return new(Zt||rt)(e.KVO(B.N0))}}static{this.\u0275prov=e.jDH({token:rt,factory:rt.\u0275fac})}}return rt})();const ln=new e.nKC(""),Pn=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Vn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Mt{}let On=(()=>{class rt{constructor(Ye,Zt,ht){this.doc=Ye,this.platform=Zt,this.cookieName=ht,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ye=this.doc.cookie||"";return Ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,B._b)(Ye,this.cookieName),this.lastCookieString=Ye),this.lastToken}static{this.\u0275fac=function(Zt){return new(Zt||rt)(e.KVO(B.qQ),e.KVO(e.Agw),e.KVO(Pn))}}static{this.\u0275prov=e.jDH({token:rt,factory:rt.\u0275fac})}}return rt})();function Qt(rt,It){const Ye=rt.url.toLowerCase();if(!(0,e.WQX)(ln)||"GET"===rt.method||"HEAD"===rt.method||Ye.startsWith("http://")||Ye.startsWith("https://"))return It(rt);const Zt=(0,e.WQX)(Mt).getToken(),ht=(0,e.WQX)(Vn);return null!=Zt&&!rt.headers.has(ht)&&(rt=rt.clone({headers:rt.headers.set(ht,Zt)})),It(rt)}var St=function(rt){return rt[rt.Interceptors=0]="Interceptors",rt[rt.LegacyInterceptors=1]="LegacyInterceptors",rt[rt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",rt[rt.NoXsrfProtection=3]="NoXsrfProtection",rt[rt.JsonpSupport=4]="JsonpSupport",rt[rt.RequestsMadeViaParent=5]="RequestsMadeViaParent",rt[rt.Fetch=6]="Fetch",rt}(St||{});function dt(rt,It){return{\u0275kind:rt,\u0275providers:It}}function Ut(...rt){const It=[$e,Bt,Ft,{provide:U,useExisting:Ft},{provide:a,useExisting:Bt},{provide:te,useValue:Qt,multi:!0},{provide:ln,useValue:!0},{provide:Mt,useClass:On}];for(const Ye of rt)It.push(...Ye.\u0275providers);return(0,e.EmA)(It)}const Tn=new e.nKC("");let Kt=(()=>{class rt{static{this.\u0275fac=function(Zt){return new(Zt||rt)}}static{this.\u0275mod=e.$C({type:rt})}static{this.\u0275inj=e.G2t({providers:[Ut(dt(St.LegacyInterceptors,[{provide:Tn,useFactory:at},{provide:te,useExisting:Tn,multi:!0}]))]})}}return rt})()},4438:(nt,ye,d)=>{"use strict";d.d(ye,{bc$:()=>vw,iLQ:()=>jC,sZ2:()=>iy,hnV:()=>KT,Hbi:()=>sA,o8S:()=>Lc,BIS:()=>yw,gRc:()=>oI,Ql9:()=>MR,OM3:()=>Iu,Ocv:()=>LR,abz:()=>lc,Z63:()=>as,aKT:()=>Zc,uvJ:()=>Mr,zcH:()=>ml,bkB:()=>Ka,$GK:()=>Ai,nKC:()=>ht,zZn:()=>ha,_q3:()=>XC,MKu:()=>JC,xe9:()=>nv,Co$:()=>n0,Vns:()=>Kl,SKi:()=>is,Xx1:()=>vr,Agw:()=>Wm,PLl:()=>ry,sFG:()=>V_,_9s:()=>h1,czy:()=>Cf,WPN:()=>al,kdw:()=>Jr,C4Q:()=>_c,NYb:()=>SR,giA:()=>WT,RxE:()=>BT,c1b:()=>jd,gXe:()=>Kr,mal:()=>y1,Af3:()=>Ns,L39:()=>OA,a0P:()=>$A,Ol2:()=>hp,w6W:()=>Ab,oH4:()=>nI,SmG:()=>HR,Rfq:()=>Qt,WQX:()=>si,naY:()=>GR,QuC:()=>Ss,EmA:()=>Fr,fpN:()=>rA,HJs:()=>GA,N4e:()=>Ts,O8t:()=>PA,An2:()=>ul,H3F:()=>LT,H8p:()=>zo,KH2:()=>dh,TgB:()=>Sc,wOt:()=>o,WHO:()=>GT,e01:()=>HT,lNU:()=>at,h9k:()=>ug,$MX:()=>uf,ZF7:()=>cu,Kcf:()=>Aw,e5t:()=>ud,UyX:()=>ng,cWb:()=>Mw,osQ:()=>yy,H5H:()=>yC,Zy3:()=>ft,mq5:()=>GS,JZv:()=>vt,LfX:()=>Ei,plB:()=>la,jNT:()=>UC,zjR:()=>zT,TL$:()=>mw,Tbb:()=>$n,rcV:()=>yl,nM4:()=>Q1,Vt3:()=>cp,Mj6:()=>Bn,GFd:()=>t0,OA$:()=>vo,Jv_:()=>nT,aNF:()=>iT,R7$:()=>Bg,BMQ:()=>Mc,HbH:()=>Bi,ZvI:()=>ga,STu:()=>rs,AVh:()=>zn,vxM:()=>Ml,wni:()=>xE,VBU:()=>cr,FsC:()=>wo,jDH:()=>ri,G2t:()=>ti,$C:()=>Ln,EJ8:()=>zs,rXU:()=>gc,nrm:()=>pC,eu8:()=>mC,bVm:()=>H0,qex:()=>G0,k0s:()=>$0,j41:()=>j0,RV6:()=>$S,xGo:()=>ya,Mr5:()=>gC,pXf:()=>gE,KVO:()=>or,kS0:()=>Qu,QTQ:()=>Ug,bIt:()=>CC,lsd:()=>OE,XpG:()=>CE,nI1:()=>vT,bMT:()=>yT,i5U:()=>_T,brH:()=>bT,SdG:()=>SE,NAR:()=>wE,Y8G:()=>En,FS9:()=>SC,Mz_:()=>X0,FCK:()=>EC,lJ4:()=>sT,eq3:()=>oT,l_i:()=>aT,sMw:()=>lT,ziG:()=>cT,s1E:()=>uT,l4e:()=>dT,mGM:()=>NE,sdS:()=>FE,Dyx:()=>Np,Z7z:()=>kp,fX1:()=>Mp,Njj:()=>em,EBC:()=>Ny,tSv:()=>ky,eBV:()=>qp,npT:()=>Ty,B4B:()=>md,n$t:()=>gf,xc7:()=>Wn,zvX:()=>vC,DNE:()=>Ec,C5r:()=>CT,EFF:()=>WE,JRh:()=>TC,SpI:()=>J0,Lme:()=>IC,DH7:()=>eT,mxI:()=>RC,R50:()=>DC,GBs:()=>kE}),d(467);let p=null,C=1;const w=Symbol("SIGNAL");function g(n){const i=p;return p=n,i}function k(n){if((!Y(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==C)){if(!n.producerMustRecompute(n)&&!G(n))return n.dirty=!1,void(n.lastCleanEpoch=C);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=C}}function G(n){Z(n);for(let i=0;i<n.producerNode.length;i++){const s=n.producerNode[i],u=n.producerLastReadVersion[i];if(u!==s.version||(k(s),u!==s.version))return!0}return!1}function de(n,i){if(function ne(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Z(n),1===n.liveConsumerNode.length)for(let u=0;u<n.producerNode.length;u++)de(n.producerNode[u],n.producerIndexOfThis[u]);const s=n.liveConsumerNode.length-1;if(n.liveConsumerNode[i]=n.liveConsumerNode[s],n.liveConsumerIndexOfThis[i]=n.liveConsumerIndexOfThis[s],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,i<n.liveConsumerNode.length){const u=n.liveConsumerIndexOfThis[i],_=n.liveConsumerNode[i];Z(_),_.producerIndexOfThis[u]=i}}function Y(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Z(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Fe=null;var q=d(1413),Q=d(8359),te=d(4412),De=d(6354);const at="https://g.co/ng/security#xss";class o extends Error{constructor(i,s){super(ft(i,s)),this.code=i}}function ft(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}function ct(n){return{toString:n}.toString()}const Ce="__parameters__";function Ge(n,i,s){return ct(()=>{const u=function ae(n){return function(...s){if(n){const u=n(...s);for(const _ in u)this[_]=u[_]}}}(i);function _(...T){if(this instanceof _)return u.apply(this,T),this;const F=new _(...T);return X.annotation=F,X;function X(oe,ke,Ke){const yt=oe.hasOwnProperty(Ce)?oe[Ce]:Object.defineProperty(oe,Ce,{value:[]})[Ce];for(;yt.length<=Ke;)yt.push(null);return(yt[Ke]=yt[Ke]||[]).push(F),oe}}return s&&(_.prototype=Object.create(s.prototype)),_.prototype.ngMetadataName=n,_.annotationCls=_,_})}const vt=globalThis;function sn(n){for(let i in n)if(n[i]===sn)return i;throw Error("Could not find renamed property on target object.")}function Pn(n,i){for(const s in i)i.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=i[s])}function $n(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map($n).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Vn(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const On=sn({__forward_ref__:sn});function Qt(n){return n.__forward_ref__=Qt,n.toString=function(){return $n(this())},n}function mt(n){return St(n)?n():n}function St(n){return"function"==typeof n&&n.hasOwnProperty(On)&&n.__forward_ref__===Qt}function Jn(n,i,s){n!=i&&function Sn(n,i,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${i} <=Actual]`))}(s,n,i,"==")}function ri(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ti(n){return{providers:n.providers||[],imports:n.imports||[]}}function Gn(n){return Vi(n,rt)||Vi(n,Ye)}function Ei(n){return null!==Gn(n)}function Vi(n,i){return n.hasOwnProperty(i)?n[i]:null}function Ni(n){return n&&(n.hasOwnProperty(It)||n.hasOwnProperty(Zt))?n[It]:null}const rt=sn({\u0275prov:sn}),It=sn({\u0275inj:sn}),Ye=sn({ngInjectableDef:sn}),Zt=sn({ngInjectorDef:sn});class ht{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=ri({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function In(n){return n&&!!n.\u0275providers}const Dn=sn({\u0275cmp:sn}),_i=sn({\u0275dir:sn}),Gi=sn({\u0275pipe:sn}),Ti=sn({\u0275mod:sn}),mi=sn({\u0275fac:sn}),rr=sn({__NG_ELEMENT_ID__:sn}),br=sn({__NG_ENV_ID__:sn});function ei(n){return"string"==typeof n?n:null==n?"":String(n)}function Vs(n,i){throw new o(-201,!1)}var Ai=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ai||{});let Lr;function ss(){return Lr}function kr(n){const i=Lr;return Lr=n,i}function Ds(n,i,s){const u=Gn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Ai.Optional?null:void 0!==i?i:void Vs()}const Pi={},Xs="__NG_DI_FLAG__",gi="ngTempTokenPath",Zn=/\n/gm,Ir="__source";let Ar;function Nr(n){const i=Ar;return Ar=n,i}function Vr(n,i=Ai.Default){if(void 0===Ar)throw new o(-203,!1);return null===Ar?Ds(n,void 0,i):Ar.get(n,i&Ai.Optional?null:void 0,i)}function or(n,i=Ai.Default){return(ss()||Vr)(mt(n),i)}function si(n,i=Ai.Default){return or(n,jr(i))}function jr(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function gr(n){const i=[];for(let s=0;s<n.length;s++){const u=mt(n[s]);if(Array.isArray(u)){if(0===u.length)throw new o(900,!1);let _,T=Ai.Default;for(let F=0;F<u.length;F++){const X=u[F],oe=os(X);"number"==typeof oe?-1===oe?_=X.token:T|=oe:_=X}i.push(or(_,T))}else i.push(or(u))}return i}function zr(n,i){return n[Xs]=i,n.prototype[Xs]=i,n}function os(n){return n[Xs]}const vr=zr(Ge("Optional"),8),Jr=zr(Ge("SkipSelf"),4);function Qr(n,i){return n.hasOwnProperty(mi)?n[mi]:null}function Rs(n,i){n.forEach(s=>Array.isArray(s)?Rs(s,i):i(s))}function Ws(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Co(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function dr(n,i,s){let u=Zr(n,i);return u>=0?n[1|u]=s:(u=~u,function Or(n,i,s,u){let _=n.length;if(_==i)n.push(s,u);else if(1===_)n.push(u,n[0]),n[0]=s;else{for(_--,n.push(n[_-1],n[_]);_>i;)n[_]=n[_-2],_--;n[i]=s,n[i+1]=u}}(n,u,i,s)),u}function $r(n,i){const s=Zr(n,i);if(s>=0)return n[1|s]}function Zr(n,i){return function ua(n,i,s){let u=0,_=n.length>>s;for(;_!==u;){const T=u+(_-u>>1),F=n[T<<s];if(i===F)return T<<s;F>i?_=T:u=T+1}return~(_<<s)}(n,i,1)}const ws={},ui=[],as=new ht(""),Gs=new ht("",-1),Rr=new ht("");class Hs{get(i,s=Pi){if(s===Pi){const u=new Error(`NullInjectorError: No provider for ${$n(i)}!`);throw u.name="NullInjectorError",u}return s}}var Gr=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Gr||{}),Kr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Kr||{}),Bn=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Bn||{});function ro(n,i,s){let u=n.length;for(;;){const _=n.indexOf(i,s);if(-1===_)return _;if(0===_||n.charCodeAt(_-1)<=32){const T=i.length;if(_+T===u||n.charCodeAt(_+T)<=32)return _}s=_+1}}function ps(n,i,s){let u=0;for(;u<s.length;){const _=s[u];if("number"==typeof _){if(0!==_)break;u++;const T=s[u++],F=s[u++],X=s[u++];n.setAttribute(i,F,X,T)}else{const T=_,F=s[++u];He(T)?n.setProperty(i,T,F):n.setAttribute(i,T,F),u++}}return u}function Ve(n){return 3===n||4===n||6===n}function He(n){return 64===n.charCodeAt(0)}function ve(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let u=0;u<i.length;u++){const _=i[u];"number"==typeof _?s=_:0===s||it(n,s,_,null,-1===s||2===s?i[++u]:null)}}return n}function it(n,i,s,u,_){let T=0,F=n.length;if(-1===i)F=-1;else for(;T<n.length;){const X=n[T++];if("number"==typeof X){if(X===i){F=-1;break}if(X>i){F=T-1;break}}}for(;T<n.length;){const X=n[T];if("number"==typeof X)break;if(X===s){if(null===u)return void(null!==_&&(n[T+1]=_));if(u===n[T+1])return void(n[T+2]=_)}T++,null!==u&&T++,null!==_&&T++}-1!==F&&(n.splice(F,0,i),T=F+1),n.splice(T++,0,s),null!==u&&n.splice(T++,0,u),null!==_&&n.splice(T++,0,_)}const jt="ng-template";function qn(n,i,s,u){let _=0;if(u){for(;_<i.length&&"string"==typeof i[_];_+=2)if("class"===i[_]&&-1!==ro(i[_+1].toLowerCase(),s,0))return!0}else if(Mi(n))return!1;if(_=i.indexOf(1,_),_>-1){let T;for(;++_<i.length&&"string"==typeof(T=i[_]);)if(T.toLowerCase()===s)return!0}return!1}function Mi(n){return 4===n.type&&n.value!==jt}function ls(n,i,s){return i===(4!==n.type||s?n.value:jt)}function Hi(n,i,s){let u=4;const _=n.attrs,T=null!==_?function kt(n){for(let i=0;i<n.length;i++)if(Ve(n[i]))return i;return n.length}(_):0;let F=!1;for(let X=0;X<i.length;X++){const oe=i[X];if("number"!=typeof oe){if(!F)if(4&u){if(u=2|1&u,""!==oe&&!ls(n,oe,s)||""===oe&&1===i.length){if(jn(u))return!1;F=!0}}else if(8&u){if(null===_||!qn(n,_,oe,s)){if(jn(u))return!1;F=!0}}else{const ke=i[++X],Ke=Be(oe,_,Mi(n),s);if(-1===Ke){if(jn(u))return!1;F=!0;continue}if(""!==ke){let yt;if(yt=Ke>T?"":_[Ke+1].toLowerCase(),2&u&&ke!==yt){if(jn(u))return!1;F=!0}}}}else{if(!F&&!jn(u)&&!jn(oe))return!1;if(F&&jn(oe))continue;F=!1,u=oe|1&u}}return jn(u)||F}function jn(n){return!(1&n)}function Be(n,i,s,u){if(null===i)return-1;let _=0;if(u||!s){let T=!1;for(;_<i.length;){const F=i[_];if(F===n)return _;if(3===F||6===F)T=!0;else{if(1===F||2===F){let X=i[++_];for(;"string"==typeof X;)X=i[++_];continue}if(4===F)break;if(0===F){_+=4;continue}}_+=T?1:2}return-1}return function zt(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===i)return s;s++}return-1}(i,n)}function Ze(n,i,s=!1){for(let u=0;u<i.length;u++)if(Hi(n,i[u],s))return!0;return!1}function Wt(n,i){e:for(let s=0;s<i.length;s++){const u=i[s];if(n.length===u.length){for(let _=0;_<n.length;_++)if(n[_]!==u[_])continue e;return!0}}return!1}function vn(n,i){return n?":not("+i.trim()+")":i}function Hn(n){let i=n[0],s=1,u=2,_="",T=!1;for(;s<n.length;){let F=n[s];if("string"==typeof F)if(2&u){const X=n[++s];_+="["+F+(X.length>0?'="'+X+'"':"")+"]"}else 8&u?_+="."+F:4&u&&(_+=" "+F);else""!==_&&!jn(F)&&(i+=vn(T,_),_=""),u=F,T=T||!jn(u);s++}return""!==_&&(i+=vn(T,_)),i}function cr(n){return ct(()=>{const i=Mo(n),s={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Kr.Emulated,styles:n.styles||ui,_:null,schemas:n.schemas||null,tView:null,id:""};$i(s);const u=n.dependencies;return s.directiveDefs=so(u,!1),s.pipeDefs=so(u,!0),s.id=function xo(n){let i=0;const s=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const _ of s)i=Math.imul(31,i)+_.charCodeAt(0)|0;return i+=2147483648,"c"+i}(s),s})}function cs(n){return Fi(n)||Zi(n)}function vi(n){return null!==n}function Ln(n){return ct(()=>({type:n.type,bootstrap:n.bootstrap||ui,declarations:n.declarations||ui,imports:n.imports||ui,exports:n.exports||ui,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function ar(n,i){if(null==n)return ws;const s={};for(const u in n)if(n.hasOwnProperty(u)){const _=n[u];let T,F,X=Bn.None;Array.isArray(_)?(X=_[0],T=_[1],F=_[2]??T):(T=_,F=_),i?(s[T]=X!==Bn.None?[u,X]:u,i[T]=F):s[T]=u}return s}function wo(n){return ct(()=>{const i=Mo(n);return $i(i),i})}function zs(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Fi(n){return n[Dn]||null}function Zi(n){return n[_i]||null}function qr(n){return n[Gi]||null}function Ss(n){const i=Fi(n)||Zi(n)||qr(n);return null!==i&&i.standalone}function nr(n,i){const s=n[Ti]||null;if(!s&&!0===i)throw new Error(`Type ${$n(n)} does not have '\u0275mod' property.`);return s}function Mo(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:n.inputs||ws,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ui,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ar(n.inputs,i),outputs:ar(n.outputs),debugInfo:null}}function $i(n){n.features?.forEach(i=>i(n))}function so(n,i){if(!n)return null;const s=i?qr:cs;return()=>("function"==typeof n?n():n).map(u=>s(u)).filter(vi)}function Fr(n){return{\u0275providers:n}}function As(...n){return{\u0275providers:Ms(0,n),\u0275fromNgModule:!0}}function Ms(n,...i){const s=[],u=new Set;let _;const T=F=>{s.push(F)};return Rs(i,F=>{const X=F;Lo(X,T,[],u)&&(_||=[],_.push(X))}),void 0!==_&&na(_,T),s}function na(n,i){for(let s=0;s<n.length;s++){const{ngModule:u,providers:_}=n[s];ko(_,T=>{i(T,u)})}}function Lo(n,i,s,u){if(!(n=mt(n)))return!1;let _=null,T=Ni(n);const F=!T&&Fi(n);if(T||F){if(F&&!F.standalone)return!1;_=n}else{const oe=n.ngModule;if(T=Ni(oe),!T)return!1;_=oe}const X=u.has(_);if(F){if(X)return!1;if(u.add(_),F.dependencies){const oe="function"==typeof F.dependencies?F.dependencies():F.dependencies;for(const ke of oe)Lo(ke,i,s,u)}}else{if(!T)return!1;{if(null!=T.imports&&!X){let ke;u.add(_);try{Rs(T.imports,Ke=>{Lo(Ke,i,s,u)&&(ke||=[],ke.push(Ke))})}finally{}void 0!==ke&&na(ke,i)}if(!X){const ke=Qr(_)||(()=>new _);i({provide:_,useFactory:ke,deps:ui},_),i({provide:Rr,useValue:_,multi:!0},_),i({provide:as,useValue:()=>or(_),multi:!0},_)}const oe=T.providers;if(null!=oe&&!X){const ke=n;ko(oe,Ke=>{i(Ke,ke)})}}}return _!==n&&void 0!==n.providers}function ko(n,i){for(let s of n)In(s)&&(s=s.\u0275providers),Array.isArray(s)?ko(s,i):i(s)}const Uo=sn({provide:String,useValue:sn});function yr(n){return null!==n&&"object"==typeof n&&Uo in n}function So(n){return"function"==typeof n}const zo=new ht(""),Vo={},jo={};let ia;function ms(){return void 0===ia&&(ia=new Hs),ia}class Mr{}class Ks extends Mr{get destroyed(){return this._destroyed}constructor(i,s,u,_){super(),this.parent=s,this.source=u,this.scopes=_,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ks(i,F=>this.processProvider(F)),this.records.set(Gs,Hr(void 0,this)),_.has("environment")&&this.records.set(Mr,Hr(void 0,this));const T=this.records.get(zo);null!=T&&"string"==typeof T.value&&this.scopes.add(T.value),this.injectorDefTypes=new Set(this.get(Rr,ui,Ai.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const i=g(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of s)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),g(i)}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const s=Nr(this),u=kr(void 0);try{return i()}finally{Nr(s),kr(u)}}get(i,s=Pi,u=Ai.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(br))return i[br](this);u=jr(u);const T=Nr(this),F=kr(void 0);try{if(!(u&Ai.SkipSelf)){let oe=this.records.get(i);if(void 0===oe){const ke=function eo(n){return"function"==typeof n||"object"==typeof n&&n instanceof ht}(i)&&Gn(i);oe=ke&&this.injectableDefInScope(ke)?Hr(Es(i),Vo):null,this.records.set(i,oe)}if(null!=oe)return this.hydrate(i,oe)}return(u&Ai.Self?ms():this.parent).get(i,s=u&Ai.Optional&&s===Pi?null:s)}catch(X){if("NullInjectorError"===X.name){if((X[gi]=X[gi]||[]).unshift($n(i)),T)throw X;return function js(n,i,s,u){const _=n[gi];throw i[Ir]&&_.unshift(i[Ir]),n.message=function bo(n,i,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let _=$n(i);if(Array.isArray(i))_=i.map($n).join(" -> ");else if("object"==typeof i){let T=[];for(let F in i)if(i.hasOwnProperty(F)){let X=i[F];T.push(F+":"+("string"==typeof X?JSON.stringify(X):$n(X)))}_=`{${T.join(", ")}}`}return`${s}${u?"("+u+")":""}[${_}]: ${n.replace(Zn,"\n  ")}`}("\n"+n.message,_,s,u),n.ngTokenPath=_,n[gi]=null,n}(X,i,"R3InjectorError",this.source)}throw X}finally{kr(F),Nr(T)}}resolveInjectorInitializers(){const i=g(null),s=Nr(this),u=kr(void 0);try{const T=this.get(as,ui,Ai.Self);for(const F of T)F()}finally{Nr(s),kr(u),g(i)}}toString(){const i=[],s=this.records;for(const u of s.keys())i.push($n(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new o(205,!1)}processProvider(i){let s=So(i=mt(i))?i:mt(i&&i.provide);const u=function mo(n){return yr(n)?Hr(void 0,n.useValue):Hr(hr(n),Vo)}(i);if(!So(i)&&!0===i.multi){let _=this.records.get(s);_||(_=Hr(void 0,Vo,!0),_.factory=()=>gr(_.multi),this.records.set(s,_)),s=i,_.multi.push(i)}this.records.set(s,u)}hydrate(i,s){const u=g(null);try{return s.value===Vo&&(s.value=jo,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Oo(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}finally{g(u)}}injectableDefInScope(i){if(!i.providedIn)return!1;const s=mt(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(i){const s=this._onDestroyHooks.indexOf(i);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Es(n){const i=Gn(n),s=null!==i?i.factory:Qr(n);if(null!==s)return s;if(n instanceof ht)throw new o(204,!1);if(n instanceof Function)return function Ys(n){if(n.length>0)throw new o(204,!1);const s=function Yn(n){return n&&(n[rt]||n[Ye])||null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new o(204,!1)}function hr(n,i,s){let u;if(So(n)){const _=mt(n);return Qr(_)||Es(_)}if(yr(n))u=()=>mt(n.useValue);else if(function xs(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...gr(n.deps||[]));else if(function ir(n){return!(!n||!n.useExisting)}(n))u=()=>or(mt(n.useExisting));else{const _=mt(n&&(n.useClass||n.provide));if(!function es(n){return!!n.deps}(n))return Qr(_)||Es(_);u=()=>new _(...gr(n.deps))}return u}function Hr(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function ks(n,i){for(const s of n)Array.isArray(s)?ks(s,i):s&&In(s)?ks(s.\u0275providers,i):i(s)}function Ts(n,i){n instanceof Ks&&n.assertNotDestroyed();const u=Nr(n),_=kr(void 0);try{return i()}finally{Nr(u),kr(_)}}function Fo(){return void 0!==ss()||null!=function Dr(){return Ar}()}function Ns(n){if(!Fo())throw new o(-203,!1)}const we=0,L=1,me=2,Pe=3,st=4,At=5,Ht=6,on=7,un=8,An=9,ci=10,Qn=11,Xi=12,Ie=13,Nt=14,_e=15,Je=16,gt=17,pn=18,ni=19,Di=20,gs=21,Sr=22,to=23,ki=25,Eo=1,go=7,To=9,us=10;var Ma=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Ma||{});function ts(n){return Array.isArray(n)&&"object"==typeof n[Eo]}function Os(n){return Array.isArray(n)&&!0===n[Eo]}function il(n){return!!(4&n.flags)}function Ca(n){return n.componentOffset>-1}function Ko(n){return!(1&~n.flags)}function Po(n){return!!n.template}function xa(n){return!!(512&n[me])}class Yo{constructor(i,s,u){this.previousValue=i,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function dl(n,i,s,u){null!==i?i.applyValueToInputSignal(i,u):n[s]=u}function vo(){return hl}function hl(n){return n.type.prototype.ngOnChanges&&(n.setInput=ka),vh}function vh(){const n=wa(this),i=n?.current;if(i){const s=n.previous;if(s===ws)n.previous=i;else for(let u in i)s[u]=i[u];n.current=null,this.ngOnChanges(i)}}function ka(n,i,s,u,_){const T=this.declaredInputs[u],F=wa(n)||function $a(n,i){return n[ys]=i}(n,{previous:ws,current:null}),X=F.current||(F.current={}),oe=F.previous,ke=oe[T];X[T]=new Yo(ke&&ke.currentValue,s,oe===ws),dl(n,i,_,s)}vo.ngInherit=!0;const ys="__ngSimpleChanges__";function wa(n){return n[ys]||null}const da=function(n,i,s){};let Ha=!1;function Wr(n){for(;Array.isArray(n);)n=n[we];return n}function jc(n,i){return Wr(i[n])}function Xo(n,i){return Wr(i[n.index])}function $c(n,i){return n.data[i]}function nc(n,i){return n[i]}function va(n,i){const s=i[n];return ts(s)?s:s[we]}function _h(n){return!(128&~n[me])}function Wa(n,i){return null==i?null:n[i]}function zp(n){n[gt]=0}function hv(n){1024&n[me]||(n[me]|=1024,_h(n)&&Gc(n))}function Yp(n){return!!(9216&n[me]||n[to]?.dirty)}function Xp(n){n[ci].changeDetectionScheduler?.notify(1),Yp(n)?Gc(n):64&n[me]&&(function Vc(){return Ha}()?(n[me]|=1024,Gc(n)):n[ci].changeDetectionScheduler?.notify())}function Gc(n){n[ci].changeDetectionScheduler?.notify();let i=Nl(n);for(;null!==i&&!(8192&i[me])&&(i[me]|=8192,_h(i));)i=Nl(i)}function bh(n,i){if(!(256&~n[me]))throw new o(911,!1);null===n[gs]&&(n[gs]=[]),n[gs].push(i)}function Nl(n){const i=n[Pe];return Os(i)?i[Pe]:i}const tr={lFrame:am(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Zp(){return tr.bindingsEnabled}function ic(){return null!==tr.skipHydrationRootTNode}function Mn(){return tr.lFrame.lView}function xr(){return tr.lFrame.tView}function qp(n){return tr.lFrame.contextLView=n,n[un]}function em(n){return tr.lFrame.contextLView=null,n}function fs(){let n=tm();for(;null!==n&&64===n.type;)n=n.parent;return n}function tm(){return tr.lFrame.currentTNode}function Hc(){const n=tr.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}function Na(n,i){const s=tr.lFrame;s.currentTNode=n,s.isParent=i}function Ch(){return tr.lFrame.isParent}function wh(){tr.lFrame.isParent=!1}function ra(){const n=tr.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}function Oa(){return tr.lFrame.bindingIndex++}function sl(n){const i=tr.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}function rm(n){tr.lFrame.inI18n=n}function Sv(n,i){const s=tr.lFrame;s.bindingIndex=s.bindingRootIndex=n,Sh(i)}function Sh(n){tr.lFrame.currentDirectiveIndex=n}function Wc(n){const i=tr.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function Eh(){return tr.lFrame.currentQueryIndex}function zu(n){tr.lFrame.currentQueryIndex=n}function Tv(n){const i=n[L];return 2===i.type?i.declTNode:1===i.type?n[At]:null}function sm(n,i,s){if(s&Ai.SkipSelf){let _=i,T=n;for(;!(_=_.parent,null!==_||s&Ai.Host||(_=Tv(T),null===_||(T=T[Nt],10&_.type))););if(null===_)return!1;i=_,n=T}const u=tr.lFrame=om();return u.currentTNode=i,u.lView=n,!0}function Th(n){const i=om(),s=n[L];tr.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function om(){const n=tr.lFrame,i=null===n?null:n.child;return null===i?am(n):i}function am(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function lm(){const n=tr.lFrame;return tr.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const cm=lm;function Ih(){const n=lm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Jo(){return tr.lFrame.selectedIndex}function Ol(n){tr.lFrame.selectedIndex=n}function Fs(){const n=tr.lFrame;return $c(n.tView,n.selectedIndex)}let dm=!0;function zc(){return dm}function za(n){dm=n}function Ku(n,i){for(let s=i.directiveStart,u=i.directiveEnd;s<u;s++){const T=n.data[s].type.prototype,{ngAfterContentInit:F,ngAfterContentChecked:X,ngAfterViewInit:oe,ngAfterViewChecked:ke,ngOnDestroy:Ke}=T;F&&(n.contentHooks??=[]).push(-s,F),X&&((n.contentHooks??=[]).push(s,X),(n.contentCheckHooks??=[]).push(s,X)),oe&&(n.viewHooks??=[]).push(-s,oe),ke&&((n.viewHooks??=[]).push(s,ke),(n.viewCheckHooks??=[]).push(s,ke)),null!=Ke&&(n.destroyHooks??=[]).push(s,Ke)}}function Dh(n,i,s){fm(n,i,3,s)}function Rh(n,i,s,u){(3&n[me])===s&&fm(n,i,s,u)}function hm(n,i){let s=n[me];(3&s)===i&&(s&=16383,s+=1,n[me]=s)}function fm(n,i,s,u){const T=u??-1,F=i.length-1;let X=0;for(let oe=void 0!==u?65535&n[gt]:0;oe<F;oe++)if("number"==typeof i[oe+1]){if(X=i[oe],null!=u&&X>=u)break}else i[oe]<0&&(n[gt]+=65536),(X<T||-1==T)&&(nw(n,s,i,oe),n[gt]=(4294901760&n[gt])+oe+2),oe++}function kv(n,i){da(4,n,i);const s=g(null);try{i.call(n)}finally{g(s),da(5,n,i)}}function nw(n,i,s,u){const _=s[u]<0,T=s[u+1],X=n[_?-s[u]:s[u]];_?n[me]>>14<n[gt]>>16&&(3&n[me])===i&&(n[me]+=16384,kv(X,T)):kv(X,T)}const Kc=-1;class Yu{constructor(i,s,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function pm(n){return n!==Kc}function Yc(n){return 32767&n}function Xc(n,i){let s=function ow(n){return n>>16}(n),u=i;for(;s>0;)u=u[Nt],s--;return u}let Mh=!0;function xh(n){const i=Mh;return Mh=n,i}const Fv=255,mm=5;let lw=0;const Fa={};function Ju(n,i){const s=sa(n,i);if(-1!==s)return s;const u=i[L];u.firstCreatePass&&(n.injectorIndex=i.length,kh(u.data,n),kh(i,null),kh(u.blueprint,null));const _=Nh(n,i),T=n.injectorIndex;if(pm(_)){const F=Yc(_),X=Xc(_,i),oe=X[L].data;for(let ke=0;ke<8;ke++)i[T+ke]=X[F+ke]|oe[F+ke]}return i[T+8]=_,T}function kh(n,i){n.push(0,0,0,0,0,0,0,0,i)}function sa(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function Nh(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,_=i;for(;null!==_;){if(u=_m(_),null===u)return Kc;if(s++,_=_[Nt],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return Kc}function Oh(n,i,s){!function Xu(n,i,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(rr)&&(u=s[rr]),null==u&&(u=s[rr]=lw++);const _=u&Fv;i.data[n+(_>>mm)]|=1<<_}(n,i,s)}function Bo(n,i,s){if(s&Ai.Optional||void 0!==n)return n;Vs()}function oa(n,i,s,u){if(s&Ai.Optional&&void 0===u&&(u=null),!(s&(Ai.Self|Ai.Host))){const _=n[An],T=kr(void 0);try{return _?_.get(i,u,s&Ai.Optional):Ds(i,u,s&Ai.Optional)}finally{kr(T)}}return Bo(u,0,s)}function pl(n,i,s,u=Ai.Default,_){if(null!==n){if(2048&i[me]&&!(u&Ai.Self)){const F=function Bv(n,i,s,u,_){let T=n,F=i;for(;null!==T&&null!==F&&2048&F[me]&&!(512&F[me]);){const X=Fh(T,F,s,u|Ai.Self,Fa);if(X!==Fa)return X;let oe=T.parent;if(!oe){const ke=F[Di];if(ke){const Ke=ke.get(s,Fa,u);if(Ke!==Fa)return Ke}oe=_m(F),F=F[Nt]}T=oe}return _}(n,i,s,u,Fa);if(F!==Fa)return F}const T=Fh(n,i,s,u,Fa);if(T!==Fa)return T}return oa(i,s,u,_)}function Fh(n,i,s,u,_){const T=function sc(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(rr)?n[rr]:void 0;return"number"==typeof i?i>=0?i&Fv:Jc:i}(s);if("function"==typeof T){if(!sm(i,n,u))return u&Ai.Host?Bo(_,0,u):oa(i,s,u,_);try{let F;if(F=T(u),null!=F||u&Ai.Optional)return F;Vs()}finally{cm()}}else if("number"==typeof T){let F=null,X=sa(n,i),oe=Kc,ke=u&Ai.Host?i[_e][At]:null;for((-1===X||u&Ai.SkipSelf)&&(oe=-1===X?Nh(n,i):i[X+8],oe!==Kc&&Pv(u,!1)?(F=i[L],X=Yc(oe),i=Xc(oe,i)):X=-1);-1!==X;){const Ke=i[L];if(vm(T,X,Ke.data)){const yt=gm(X,i,s,F,u,ke);if(yt!==Fa)return yt}oe=i[X+8],oe!==Kc&&Pv(u,i[L].data[X+8]===ke)&&vm(T,X,i)?(F=Ke,X=Yc(oe),i=Xc(oe,i)):X=-1}}return _}function gm(n,i,s,u,_,T){const F=i[L],X=F.data[n+8],Ke=Ph(X,F,s,null==u?Ca(X)&&Mh:u!=F&&!!(3&X.type),_&Ai.Host&&T===X);return null!==Ke?Fl(i,F,Ke,X):Fa}function Ph(n,i,s,u,_){const T=n.providerIndexes,F=i.data,X=1048575&T,oe=n.directiveStart,Ke=T>>20,Yt=_?X+Ke:n.directiveEnd;for(let qt=u?X:X+Ke;qt<Yt;qt++){const dn=F[qt];if(qt<oe&&s===dn||qt>=oe&&dn.type===s)return qt}if(_){const qt=F[oe];if(qt&&Po(qt)&&qt.type===s)return oe}return null}function Fl(n,i,s,u){let _=n[s];const T=i.data;if(function iw(n){return n instanceof Yu}(_)){const F=_;F.resolving&&function Pr(n,i){throw i&&i.join(" > "),new o(-200,n)}(function hi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ei(n)}(T[s]));const X=xh(F.canSeeViewProviders);F.resolving=!0;const ke=F.injectImpl?kr(F.injectImpl):null;sm(n,u,Ai.Default);try{_=n[s]=F.factory(void 0,T,n,u),i.firstCreatePass&&s>=u.directiveStart&&function xv(n,i,s){const{ngOnChanges:u,ngOnInit:_,ngDoCheck:T}=i.type.prototype;if(u){const F=hl(i);(s.preOrderHooks??=[]).push(n,F),(s.preOrderCheckHooks??=[]).push(n,F)}_&&(s.preOrderHooks??=[]).push(0-n,_),T&&((s.preOrderHooks??=[]).push(n,T),(s.preOrderCheckHooks??=[]).push(n,T))}(s,T[s],i)}finally{null!==ke&&kr(ke),xh(X),F.resolving=!1,cm()}}return _}function vm(n,i,s){return!!(s[i+(n>>mm)]&1<<n)}function Pv(n,i){return!(n&Ai.Self||n&Ai.Host&&i)}class Io{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,u){return pl(this._tNode,this._lView,i,jr(u),s)}}function Jc(){return new Io(fs(),Mn())}function ya(n){return ct(()=>{const i=n.prototype.constructor,s=i[mi]||ym(i),u=Object.prototype;let _=Object.getPrototypeOf(n.prototype).constructor;for(;_&&_!==u;){const T=_[mi]||ym(_);if(T&&T!==s)return T;_=Object.getPrototypeOf(_)}return T=>new T})}function ym(n){return St(n)?()=>{const i=ym(mt(n));return i&&i()}:Qr(n)}function _m(n){const i=n[L],s=i.type;return 2===s?i.declTNode:1===s?n[At]:null}function Qu(n){return function rc(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const u=s.length;let _=0;for(;_<u;){const T=s[_];if(Ve(T))break;if(0===T)_+=2;else if("number"==typeof T)for(_++;_<u&&"string"==typeof s[_];)_++;else{if(T===i)return s[_+1];_+=2}}}return null}(fs(),n)}function Vh(n,i=null,s=null,u){const _=Vv(n,i,s,u);return _.resolveInjectorInitializers(),_}function Vv(n,i=null,s=null,u,_=new Set){const T=[s||ui,As(n)];return u=u||("object"==typeof n?void 0:$n(n)),new Ks(T,i||ms(),u||null,_)}let ha=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Pi}static{this.NULL=new Hs}static create(s,u){if(Array.isArray(s))return Vh({name:""},u,s,"");{const _=s.name??"";return Vh({name:_},s.parent,s.providers,_)}}static{this.\u0275prov=ri({token:n,providedIn:"any",factory:()=>or(Gs)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function wm(n){return n.ngOriginalError}class ml{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&wm(i);for(;s&&wm(s);)s=wm(s);return s||null}}const $v=new ht("",{providedIn:"root",factory:()=>si(ml).handleError.bind(void 0)});let lc=(()=>{class n{static{this.__NG_ELEMENT_ID__=fw}static{this.__NG_ENV_ID__=s=>s}}return n})();class hw extends lc{constructor(i){super(),this._lView=i}onDestroy(i){return bh(this._lView,i),()=>function Jp(n,i){if(null===n[gs])return;const s=n[gs].indexOf(i);-1!==s&&n[gs].splice(s,1)}(this._lView,i)}}function fw(){return new hw(Mn())}function zv(){return ol(fs(),Mn())}function ol(n,i){return new Zc(Xo(n,i))}let Zc=(()=>{class n{constructor(s){this.nativeElement=s}static{this.__NG_ELEMENT_ID__=zv}}return n})();function Ll(n){return n instanceof Zc?n.nativeElement:n}function Gh(n){return i=>{setTimeout(n,void 0,i)}}const Ka=class Em extends q.B{constructor(i=!1){super(),this.destroyRef=void 0,this.__isAsync=i,Fo()&&(this.destroyRef=si(lc,{optional:!0})??void 0)}emit(i){const s=g(null);try{super.next(i)}finally{g(s)}}subscribe(i,s,u){let _=i,T=s||(()=>null),F=u;if(i&&"object"==typeof i){const oe=i;_=oe.next?.bind(oe),T=oe.error?.bind(oe),F=oe.complete?.bind(oe)}this.__isAsync&&(T=Gh(T),_&&(_=Gh(_)),F&&(F=Gh(F)));const X=super.subscribe({next:_,error:T,complete:F});return i instanceof Q.yU&&i.add(X),X}};function qu(){return this._results[Symbol.iterator]()}class qc{get changes(){return this._changes??=new Ka}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const s=qc.prototype;s[Symbol.iterator]||(s[Symbol.iterator]=qu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){this.dirty=!1;const u=function Cr(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function Yr(n,i,s){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let _=n[u],T=i[u];if(s&&(_=s(_),T=s(T)),T!==_)return!1}return!0}(this._results,u,s))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function ed(n){return!(128&~n.flags)}const Hh=new Map;let Ul=0;const Yh="__ngContext__";function Zo(n,i){ts(i)?(n[Yh]=i[ni],function Wh(n){Hh.set(n[ni],n)}(i)):n[Yh]=i}function Om(n){return Pm(n[Xi])}function Fm(n){return Pm(n[st])}function Pm(n){for(;null!==n&&!Os(n);)n=n[st];return n}let Hm;function mw(n){Hm=n}function Vl(){if(void 0!==Hm)return Hm;if(typeof document<"u")return document;throw new o(210,!1)}const iy=new ht("",{providedIn:"root",factory:()=>gw}),gw="ng",ry=new ht(""),Wm=new ht("",{providedIn:"platform",factory:()=>"unknown"}),vw=new ht(""),yw=new ht("",{providedIn:"root",factory:()=>Vl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let au=()=>null;function ef(n,i,s=!1){return au(n,i,s)}const cy=new ht("",{providedIn:"root",factory:()=>!1});let af,lu;function jl(n){return function eg(){if(void 0===af&&(af=null,vt.trustedTypes))try{af=vt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return af}()?.createHTML(n)||n}function tg(){if(void 0===lu&&(lu=null,vt.trustedTypes))try{lu=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return lu}function cd(n){return tg()?.createHTML(n)||n}function py(n){return tg()?.createScriptURL(n)||n}class vl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class my extends vl{getTypeName(){return"HTML"}}class gy extends vl{getTypeName(){return"Style"}}class vy extends vl{getTypeName(){return"Script"}}class Iw extends vl{getTypeName(){return"URL"}}class Dw extends vl{getTypeName(){return"ResourceURL"}}function yl(n){return n instanceof vl?n.changingThisBreaksApplicationSecurity:n}function cu(n,i){const s=function Rw(n){return n instanceof vl&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see ${at})`)}return s===i}function Aw(n){return new my(n)}function Mw(n){return new gy(n)}function ng(n){return new vy(n)}function yy(n){return new Iw(n)}function ud(n){return new Dw(n)}function lf(n){const i=new dd(n);return function ig(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch{return!1}}()?new cf(i):i}class cf{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(jl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class dd{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const s=this.inertDocument.createElement("template");return s.innerHTML=jl(i),s}}const hd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uf(n){return(n=String(n)).match(hd)?n:"unsafe:"+n}function Ba(n){const i={};for(const s of n.split(","))i[s]=!0;return i}function uu(...n){const i={};for(const s of n)for(const u in s)s.hasOwnProperty(u)&&(i[u]=!0);return i}const _l=Ba("area,br,col,hr,img,wbr"),_y=Ba("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rg=Ba("rp,rt"),df=uu(_l,uu(_y,Ba("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uu(rg,Ba("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uu(rg,_y)),hf=Ba("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),og=uu(hf,Ba("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ba("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cy=Ba("script,style,template");class ag{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,u=!0,_=[];for(;s;)if(s.nodeType===Node.ELEMENT_NODE?u=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,u&&s.firstChild)_.push(s),s=Sy(s);else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let T=lg(s);if(T){s=T;break}s=_.pop()}return this.buf.join("")}startElement(i){const s=ff(i).toLowerCase();if(!df.hasOwnProperty(s))return this.sanitizedSomething=!0,!Cy.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const u=i.attributes;for(let _=0;_<u.length;_++){const T=u.item(_),F=T.name,X=F.toLowerCase();if(!og.hasOwnProperty(X)){this.sanitizedSomething=!0;continue}let oe=T.value;hf[X]&&(oe=uf(oe)),this.buf.push(" ",F,'="',du(oe),'"')}return this.buf.push(">"),!0}endElement(i){const s=ff(i).toLowerCase();df.hasOwnProperty(s)&&!_l.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(du(i))}}function lg(n){const i=n.nextSibling;if(i&&n!==i.previousSibling)throw cg(i);return i}function Sy(n){const i=n.firstChild;if(i&&function wy(n,i){return(n.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,i))throw cg(i);return i}function ff(n){const i=n.nodeName;return"string"==typeof i?i:"FORM"}function cg(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const pf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fd=/([^\#-~ |!])/g;function du(n){return n.replace(/&/g,"&amp;").replace(pf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(fd,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pd;function ug(n,i){let s=null;try{pd=pd||lf(n);let u=i?String(i):"";s=pd.getInertBodyElement(u);let _=5,T=u;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,u=T,T=s.innerHTML,s=pd.getInertBodyElement(u)}while(u!==T);return jl((new ag).sanitizeChildren(mf(s)||s))}finally{if(s){const u=mf(s)||s;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function mf(n){return"content"in n&&function Ey(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var al=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(al||{});function Ty(n){const i=gd();return i?cd(i.sanitize(al.HTML,n)||""):cu(n,"HTML")?cd(yl(n)):ug(Vl(),ei(n))}function md(n){const i=gd();return i?i.sanitize(al.URL,n)||"":cu(n,"URL")?yl(n):uf(ei(n))}function dg(n){const i=gd();if(i)return py(i.sanitize(al.RESOURCE_URL,n)||"");if(cu(n,"ResourceURL"))return py(yl(n));throw new o(904,!1)}function gf(n,i,s){return function mg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?dg:md}(i,s)(n)}function gd(){const n=Mn();return n&&n[ci].sanitizer}const Fw=/^>|^->|<!--|-->|--!>|<!-$/g,gg=/(<|>)/g,Ry="\u200b$1\u200b";function ky(n){return n.ownerDocument.defaultView}function Ny(n){return n.ownerDocument}function Sa(n){return n instanceof Function?n():n}var Cf=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Cf||{});let Cg;function wg(n,i){return Cg(n,i)}function Gl(n,i,s,u,_){if(null!=u){let T,F=!1;Os(u)?T=u:ts(u)&&(F=!0,u=u[we]);const X=Wr(u);0===n&&null!==s?null==_?Uy(i,s,X):pc(i,s,X,_||null,!0):1===n&&null!==s?pc(i,s,X,_||null,!0):2===n?function pu(n,i,s){const u=bd(n,i);u&&function qw(n,i,s,u){n.removeChild(i,s,u)}(n,u,i,s)}(i,X,F):3===n&&i.destroyNode(X),null!=T&&function Hy(n,i,s,u,_){const T=s[go];T!==Wr(s)&&Gl(i,n,u,T,_);for(let X=us;X<s.length;X++){const oe=s[X];wd(oe[L],oe,n,i,u,T)}}(i,n,T,s,_)}}function Sg(n,i){return n.createText(i)}function Eg(n,i){return n.createComment(function vg(n){return n.replace(Fw,i=>i.replace(gg,Ry))}(i))}function wf(n,i,s){return n.createElement(i,s)}function By(n,i){i[ci].changeDetectionScheduler?.notify(1),wd(n,i,i[Qn],2,null,null)}function Ly(n,i){const s=n[To],u=s.indexOf(i);s.splice(u,1)}function yd(n,i){if(n.length<=us)return;const s=us+i,u=n[s];if(u){const _=u[Je];null!==_&&_!==n&&Ly(_,u),i>0&&(n[s-1][st]=u[st]);const T=Co(n,us+i);!function Tg(n,i){By(n,i),i[we]=null,i[At]=null}(u[L],u);const F=T[pn];null!==F&&F.detachView(T[L]),u[Pe]=null,u[st]=null,u[me]&=-129}return u}function Sf(n,i){if(!(256&i[me])){const s=i[Qn];s.destroyNode&&wd(n,i,s,3,null,null),function Yw(n){let i=n[Xi];if(!i)return _d(n[L],n);for(;i;){let s=null;if(ts(i))s=i[Xi];else{const u=i[us];u&&(s=u)}if(!s){for(;i&&!i[st]&&i!==n;)ts(i)&&_d(i[L],i),i=i[Pe];null===i&&(i=n),ts(i)&&_d(i[L],i),s=i&&i[st]}i=s}}(i)}}function _d(n,i){if(256&i[me])return;const s=g(null);try{i[me]&=-129,i[me]|=256,i[to]&&function z(n){if(Z(n),Y(n))for(let i=0;i<n.producerNode.length;i++)de(n.producerNode[i],n.producerIndexOfThis[i]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(i[to]),function Zw(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const _=i[s[u]];if(!(_ instanceof Yu)){const T=s[u+1];if(Array.isArray(T))for(let F=0;F<T.length;F+=2){const X=_[T[F]],oe=T[F+1];da(4,X,oe);try{oe.call(X)}finally{da(5,X,oe)}}else{da(4,_,T);try{T.call(_)}finally{da(5,_,T)}}}}}(n,i),function Qw(n,i){const s=n.cleanup,u=i[on];if(null!==s)for(let T=0;T<s.length-1;T+=2)if("string"==typeof s[T]){const F=s[T+3];F>=0?u[F]():u[-F].unsubscribe(),T+=2}else s[T].call(u[s[T+1]]);null!==u&&(i[on]=null);const _=i[gs];if(null!==_){i[gs]=null;for(let T=0;T<_.length;T++)(0,_[T])()}}(n,i),1===i[L].type&&i[Qn].destroy();const u=i[Je];if(null!==u&&Os(i[Pe])){u!==i[Pe]&&Ly(u,i);const _=i[pn];null!==_&&_.detachView(n)}!function zh(n){Hh.delete(n[ni])}(i)}finally{g(s)}}function Ig(n,i,s){return Dg(n,i.parent,s)}function Dg(n,i,s){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return s[we];{const{componentOffset:_}=u;if(_>-1){const{encapsulation:T}=n.data[u.directiveStart+_];if(T===Kr.None||T===Kr.Emulated)return null}return Xo(u,s)}}function pc(n,i,s,u,_){n.insertBefore(i,s,u,_)}function Uy(n,i,s){n.appendChild(i,s)}function Vy(n,i,s,u,_){null!==u?pc(n,i,s,u,_):Uy(n,i,s)}function bd(n,i){return n.parentNode(i)}function Cd(n,i,s){return Ag(n,i,s)}function Rg(n,i,s){return 40&n.type?Xo(n,s):null}let Ef,Ag=Rg;function Mg(n,i){Ag=n,Ef=i}function mc(n,i,s,u){const _=Ig(n,u,i),T=i[Qn],X=Cd(u.parent||i[At],u,i);if(null!=_)if(Array.isArray(s))for(let oe=0;oe<s.length;oe++)Vy(T,_,s[oe],X,!1);else Vy(T,_,s,X,!1);void 0!==Ef&&Ef(T,u,i,s,_)}function fu(n,i){if(null!==i){const s=i.type;if(3&s)return Xo(i,n);if(4&s)return Tf(-1,n[i.index]);if(8&s){const u=i.child;if(null!==u)return fu(n,u);{const _=n[i.index];return Os(_)?Tf(-1,_):Wr(_)}}if(32&s)return wg(i,n)()||Wr(n[i.index]);{const u=xg(n,i);return null!==u?Array.isArray(u)?u[0]:fu(Nl(n[_e]),u):fu(n,i.next)}}return null}function xg(n,i){return null!==i?n[_e][At].projection[i.projection]:null}function Tf(n,i){const s=us+n+1;if(s<i.length){const u=i[s],_=u[L].firstChild;if(null!==_)return fu(u,_)}return i[go]}function If(n,i,s,u,_,T,F){for(;null!=s;){const X=u[s.index],oe=s.type;if(F&&0===i&&(X&&Zo(Wr(X),u),s.flags|=2),32&~s.flags)if(8&oe)If(n,i,s.child,u,_,T,!1),Gl(i,n,_,X,T);else if(32&oe){const ke=wg(s,u);let Ke;for(;Ke=ke();)Gl(i,n,_,Ke,T);Gl(i,n,_,X,T)}else 16&oe?Ng(n,i,u,s,_,T):Gl(i,n,_,X,T);s=F?s.projectionNext:s.next}}function wd(n,i,s,u,_,T){If(s,u,n.firstChild,i,_,T,!1)}function Ng(n,i,s,u,_,T){const F=s[_e],oe=F[At].projection[u.projection];if(Array.isArray(oe))for(let ke=0;ke<oe.length;ke++)Gl(i,n,_,oe[ke],T);else{let ke=oe;const Ke=F[Pe];ed(u)&&(ke.flags|=128),If(n,i,ke,Ke,_,T,!0)}}function Fg(n,i,s){""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s)}function Pg(n,i,s){const{mergedAttrs:u,classes:_,styles:T}=s;null!==u&&ps(n,i,u),null!==_&&Fg(n,i,_),null!==T&&function Wy(n,i,s){n.setAttribute(i,"style",s)}(n,i,T)}const lr={};function Bg(n=1){Lg(xr(),Mn(),Jo()+n,!1)}function Lg(n,i,s,u){if(!u)if(3&~i[me]){const T=n.preOrderHooks;null!==T&&Rh(i,T,0,s)}else{const T=n.preOrderCheckHooks;null!==T&&Dh(i,T,s)}Ol(s)}function gc(n,i=Ai.Default){const s=Mn();return null===s?or(n,i):pl(fs(),s,mt(n),i)}function Ug(){throw new Error("invalid")}function Vg(n,i,s,u,_,T){const F=g(null);try{let X=null;_&Bn.SignalBased&&(X=i[u][w]),null!==X&&void 0!==X.transformFn&&(T=X.transformFn(T)),_&Bn.HasDecoratorInputTransform&&(T=n.inputTransforms[u].call(i,T)),null!==n.setInput?n.setInput(i,X,T,s,u):dl(i,X,u,T)}finally{g(F)}}function Sd(n,i,s,u,_,T,F,X,oe,ke,Ke){const yt=i.blueprint.slice();return yt[we]=_,yt[me]=204|u,(null!==ke||n&&2048&n[me])&&(yt[me]|=2048),zp(yt),yt[Pe]=yt[Nt]=n,yt[un]=s,yt[ci]=F||n&&n[ci],yt[Qn]=X||n&&n[Qn],yt[An]=oe||n&&n[An]||null,yt[At]=T,yt[ni]=function Yv(){return Ul++}(),yt[Ht]=Ke,yt[Di]=ke,yt[_e]=2==i.type?n[_e]:yt,yt}function vc(n,i,s,u,_){let T=n.data[i];if(null===T)T=Df(n,i,s,u,_),function wv(){return tr.lFrame.inI18n}()&&(T.flags|=32);else if(64&T.type){T.type=s,T.value=u,T.attrs=_;const F=Hc();T.injectorIndex=null===F?-1:F.injectorIndex}return Na(T,!0),T}function Df(n,i,s,u,_){const T=tm(),F=Ch(),oe=n.data[i]=function qy(n,i,s,u,_,T){let F=i?i.injectorIndex:-1,X=0;return ic()&&(X|=128),{type:s,index:u,insertBeforeIndex:null,injectorIndex:F,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:X,providerIndexes:0,value:_,attrs:T,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,F?T:T&&T.parent,s,i,u,_);return null===n.firstChild&&(n.firstChild=oe),null!==T&&(F?null==T.child&&null!==oe.parent&&(T.child=oe):null===T.next&&(T.next=oe,oe.prev=T)),oe}function mu(n,i,s,u){if(0===s)return-1;const _=i.length;for(let T=0;T<s;T++)i.push(u),n.blueprint.push(u),n.data.push(null);return _}function jg(n,i,s,u,_){const T=Jo(),F=2&u;try{Ol(-1),F&&i.length>ki&&Lg(n,i,ki,!1),da(F?2:0,_),s(u,_)}finally{Ol(T),da(F?3:1,_)}}function Rf(n,i,s){if(il(i)){const u=g(null);try{const T=i.directiveEnd;for(let F=i.directiveStart;F<T;F++){const X=n.data[F];X.contentQueries&&X.contentQueries(1,s[F],F)}}finally{g(u)}}}function Af(n,i,s){Zp()&&(function zg(n,i,s,u){const _=s.directiveStart,T=s.directiveEnd;Ca(s)&&function l_(n,i,s){const u=Xo(i,n),_=$g(s);let F=16;s.signals?F=4096:s.onPush&&(F=64);const X=Td(n,Sd(n,_,null,F,u,i,null,n[ci].rendererFactory.createRenderer(u,s),null,null,null));n[i.index]=X}(i,s,n.data[_+s.componentOffset]),n.firstCreatePass||Ju(s,i),Zo(u,i);const F=s.initialInputs;for(let X=_;X<T;X++){const oe=n.data[X],ke=Fl(i,n,X,s);Zo(ke,i),null!==F&&Yg(0,X-_,ke,oe,0,F),Po(oe)&&(va(s.index,i)[un]=Fl(i,n,X,s))}}(n,i,s,Xo(s,i)),!(64&~s.flags)&&kf(n,i,s))}function Mf(n,i,s=Xo){const u=i.localNames;if(null!==u){let _=i.index+1;for(let T=0;T<u.length;T+=2){const F=u[T+1],X=-1===F?s(i,n):n[F];n[_++]=X}}}function $g(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):i}function xf(n,i,s,u,_,T,F,X,oe,ke,Ke){const yt=ki+u,Yt=yt+_,qt=function Ky(n,i){const s=[];for(let u=0;u<i;u++)s.push(u<n?null:lr);return s}(yt,Yt),dn="function"==typeof ke?ke():ke;return qt[L]={type:n,blueprint:qt,template:s,queries:null,viewQuery:X,declTNode:i,data:qt.slice().fill(null,yt),bindingStartIndex:yt,expandoStartIndex:Yt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof T?T():T,pipeRegistry:"function"==typeof F?F():F,firstChild:null,schemas:oe,consts:dn,incompleteFirstPass:!1,ssrId:Ke}}let Gg=()=>null;function Hg(n,i,s,u,_){for(let T in i){if(!i.hasOwnProperty(T))continue;const F=i[T];if(void 0===F)continue;u??={};let X,oe=Bn.None;Array.isArray(F)?(X=F[0],oe=F[1]):X=F;let ke=T;if(null!==_){if(!_.hasOwnProperty(T))continue;ke=_[T]}0===n?Wg(u,s,ke,X,oe):Wg(u,s,ke,X)}return u}function Wg(n,i,s,u,_){let T;n.hasOwnProperty(s)?(T=n[s]).push(i,u):T=n[s]=[i,u],void 0!==_&&T.push(_)}function fa(n,i,s,u,_,T,F,X){const oe=Xo(i,s);let Ke,ke=i.inputs;!X&&null!=ke&&(Ke=ke[u])?(Pf(n,s,Ke,u,_),Ca(i)&&function n_(n,i){const s=va(i,n);16&s[me]||(s[me]|=64)}(s,i.index)):3&i.type&&(u=function t_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),_=null!=F?F(_,i.value||"",u):_,T.setProperty(oe,u,_))}function Ed(n,i,s,u){if(Zp()){const _=null===u?null:{"":-1},T=function r_(n,i){const s=n.directiveRegistry;let u=null,_=null;if(s)for(let T=0;T<s.length;T++){const F=s[T];if(Ze(i,F.selectors,!1))if(u||(u=[]),Po(F))if(null!==F.findHostDirectiveDefs){const X=[];_=_||new Map,F.findHostDirectiveDefs(F,X,_),u.unshift(...X,F),Nf(n,i,X.length)}else u.unshift(F),Nf(n,i,0);else _=_||new Map,F.findHostDirectiveDefs?.(F,u,_),u.push(F)}return null===u?null:[u,_]}(n,s);let F,X;null===T?F=X=null:[F,X]=T,null!==F&&bl(n,i,s,F,_,X),_&&function s_(n,i,s){if(i){const u=n.localNames=[];for(let _=0;_<i.length;_+=2){const T=s[i[_+1]];if(null==T)throw new o(-301,!1);u.push(i[_],T)}}}(s,u,_)}s.mergedAttrs=ve(s.mergedAttrs,s.attrs)}function bl(n,i,s,u,_,T){for(let ke=0;ke<u.length;ke++)Oh(Ju(s,i),n,u[ke].type);!function Cl(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}(s,n.data.length,u.length);for(let ke=0;ke<u.length;ke++){const Ke=u[ke];Ke.providersResolver&&Ke.providersResolver(Ke)}let F=!1,X=!1,oe=mu(n,i,u.length,null);for(let ke=0;ke<u.length;ke++){const Ke=u[ke];s.mergedAttrs=ve(s.mergedAttrs,Ke.hostAttrs),a_(n,s,i,oe,Ke),o_(oe,Ke,_),null!==Ke.contentQueries&&(s.flags|=4),(null!==Ke.hostBindings||null!==Ke.hostAttrs||0!==Ke.hostVars)&&(s.flags|=64);const yt=Ke.type.prototype;!F&&(yt.ngOnChanges||yt.ngOnInit||yt.ngDoCheck)&&((n.preOrderHooks??=[]).push(s.index),F=!0),!X&&(yt.ngOnChanges||yt.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(s.index),X=!0),oe++}!function e_(n,i,s){const _=i.directiveEnd,T=n.data,F=i.attrs,X=[];let oe=null,ke=null;for(let Ke=i.directiveStart;Ke<_;Ke++){const yt=T[Ke],Yt=s?s.get(yt):null,dn=Yt?Yt.outputs:null;oe=Hg(0,yt.inputs,Ke,oe,Yt?Yt.inputs:null),ke=Hg(1,yt.outputs,Ke,ke,dn);const xn=null===oe||null===F||Mi(i)?null:c_(oe,Ke,F);X.push(xn)}null!==oe&&(oe.hasOwnProperty("class")&&(i.flags|=8),oe.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=X,i.inputs=oe,i.outputs=ke}(n,s,T)}function kf(n,i,s){const u=s.directiveStart,_=s.directiveEnd,T=s.index,F=function Ev(){return tr.lFrame.currentDirectiveIndex}();try{Ol(T);for(let X=u;X<_;X++){const oe=n.data[X],ke=i[X];Sh(X),(null!==oe.hostBindings||0!==oe.hostVars||null!==oe.hostAttrs)&&Kg(oe,ke)}}finally{Ol(-1),Sh(F)}}function Kg(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Nf(n,i,s){i.componentOffset=s,(n.components??=[]).push(i.index)}function o_(n,i,s){if(s){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)s[i.exportAs[u]]=n;Po(i)&&(s[""]=n)}}function a_(n,i,s,u,_){n.data[u]=_;const T=_.factory||(_.factory=Qr(_.type)),F=new Yu(T,Po(_),gc);n.blueprint[u]=F,s[u]=F,function Ya(n,i,s,u,_){const T=_.hostBindings;if(T){let F=n.hostBindingOpCodes;null===F&&(F=n.hostBindingOpCodes=[]);const X=~i.index;(function La(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(F)!=X&&F.push(X),F.push(s,u,T)}}(n,i,u,mu(n,s,_.hostVars,lr),_)}function Xa(n,i,s,u,_,T){const F=Xo(n,i);!function Of(n,i,s,u,_,T,F){if(null==T)n.removeAttribute(i,_,s);else{const X=null==F?ei(T):F(T,u||"",_);n.setAttribute(i,_,X,s)}}(i[Qn],F,T,n.value,s,u,_)}function Yg(n,i,s,u,_,T){const F=T[i];if(null!==F)for(let X=0;X<F.length;)Vg(u,s,F[X++],F[X++],F[X++],F[X++])}function c_(n,i,s){let u=null,_=0;for(;_<s.length;){const T=s[_];if(0!==T)if(5!==T){if("number"==typeof T)break;if(n.hasOwnProperty(T)){null===u&&(u=[]);const F=n[T];for(let X=0;X<F.length;X+=3)if(F[X]===i){u.push(T,F[X+1],F[X+2],s[_+1]);break}}_+=2}else _+=2;else _+=4}return u}function Xg(n,i,s,u){return[n,!0,0,i,null,u,null,s,null,null]}function Jg(n,i){const s=n.contentQueries;if(null!==s){const u=g(null);try{for(let _=0;_<s.length;_+=2){const F=s[_+1];if(-1!==F){const X=n.data[F];zu(s[_]),X.contentQueries(2,i[F],F)}}}finally{g(u)}}}function Td(n,i){return n[Xi]?n[Ie][st]=i:n[Xi]=i,n[Ie]=i,i}function Ff(n,i,s){zu(0);const u=g(null);try{i(n,s)}finally{g(u)}}function Qg(n){return n[on]||(n[on]=[])}function Zg(n){return n.cleanup||(n.cleanup=[])}function qg(n,i,s){return(null===n||Po(n))&&(s=function yh(n){for(;Array.isArray(n);){if("object"==typeof n[Eo])return n;n=n[we]}return null}(s[i.index])),s[Qn]}function Id(n,i){const s=n[An],u=s?s.get(ml,null):null;u&&u.handleError(i)}function Pf(n,i,s,u,_){for(let T=0;T<s.length;){const F=s[T++],X=s[T++],oe=s[T++];Vg(n.data[F],i[F],u,X,oe,_)}}function Ua(n,i,s){const u=jc(i,n);!function Py(n,i,s){n.setValue(i,s)}(n[Qn],u,s)}function Dd(n,i){const s=va(i,n),u=s[L];!function gu(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])}(u,s);const _=s[we];null!==_&&null===s[Ht]&&(s[Ht]=ef(_,s[An])),Ja(u,s,s[un])}function Ja(n,i,s){Th(i);try{const u=n.viewQuery;null!==u&&Ff(1,u,s);const _=n.template;null!==_&&jg(n,i,_,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),i[pn]?.finishViewCreation(n),n.staticContentQueries&&Jg(n,i),n.staticViewQueries&&Ff(2,n.viewQuery,s);const T=n.components;null!==T&&function no(n,i){for(let s=0;s<i.length;s++)Dd(n,i[s])}(i,T)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[me]&=-5,Ih()}}function qo(n,i,s,u){const _=g(null);try{const T=i.tView,oe=Sd(n,T,s,4096&n[me]?4096:16,null,i,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);oe[Je]=n[i.index];const Ke=n[pn];return null!==Ke&&(oe[pn]=Ke.createEmbeddedView(T)),Ja(T,oe,s),oe}finally{g(_)}}function wl(n,i){const s=us+i;if(s<n.length)return n[s]}function Ea(n,i){return!i||null===i.firstChild||ed(n)}function Sl(n,i,s,u=!0){const _=i[L];if(function Xw(n,i,s,u){const _=us+u,T=s.length;u>0&&(s[_-1][st]=i),u<T-us?(i[st]=s[_],Ws(s,us+u,i)):(s.push(i),i[st]=null),i[Pe]=s;const F=i[Je];null!==F&&s!==F&&function Jw(n,i){const s=n[To];i[_e]!==i[Pe][Pe][_e]&&(n[me]|=Ma.HasTransplantedViews),null===s?n[To]=[i]:s.push(i)}(F,i);const X=i[pn];null!==X&&X.insertView(n),Xp(i),i[me]|=128}(_,i,n,s),u){const F=Tf(s,n),X=i[Qn],oe=bd(X,n[go]);null!==oe&&function Kw(n,i,s,u,_,T){u[we]=_,u[At]=i,wd(n,u,s,1,_,T)}(_,n[At],X,i,oe,F)}const T=i[Ht];null!==T&&null!==T.firstChild&&(T.firstChild=null)}function Bf(n,i){const s=yd(n,i);return void 0!==s&&Sf(s[L],s),s}function $o(n,i,s,u,_=!1){for(;null!==s;){const T=i[s.index];null!==T&&u.push(Wr(T)),Os(T)&&e1(T,u);const F=s.type;if(8&F)$o(n,i,s.child,u);else if(32&F){const X=wg(s,i);let oe;for(;oe=X();)u.push(oe)}else if(16&F){const X=xg(i,s);if(Array.isArray(X))u.push(...X);else{const oe=Nl(i[_e]);$o(oe[L],oe,X,u,!0)}}s=_?s.projectionNext:s.next}return u}function e1(n,i){for(let s=us;s<n.length;s++){const u=n[s],_=u[L].firstChild;null!==_&&$o(u[L],u,_,i)}n[go]!==n[we]&&i.push(n[go])}let t1=[];const f_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Gc(n.lView)},consumerOnSignalRead(){this.lView[to]=this}},n1=100;function Rd(n,i=!0,s=0){const u=n[ci],_=u.rendererFactory;_.begin?.();try{!function p_(n,i){Lf(n,i);let s=0;for(;Yp(n);){if(s===n1)throw new o(103,!1);s++,Lf(n,1)}}(n,s)}catch(F){throw i&&Id(n,F),F}finally{_.end?.(),u.inlineEffectRunner?.flush()}}function m_(n,i,s,u){const _=i[me];if(!(256&~_))return;i[ci].inlineEffectRunner?.flush(),Th(i);let F=null,X=null;(function g_(n){return 2!==n.type})(n)&&(X=function u_(n){return n[to]??function d_(n){const i=t1.pop()??Object.create(f_);return i.lView=n,i}(n)}(i),F=function N(n){return n&&(n.nextProducerIndex=0),g(n)}(X));try{zp(i),function im(n){return tr.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&jg(n,i,s,2,u);const oe=!(3&~_);if(oe){const yt=n.preOrderCheckHooks;null!==yt&&Dh(i,yt,null)}else{const yt=n.preOrderHooks;null!==yt&&Rh(i,yt,0,null),hm(i,0)}if(function v_(n){for(let i=Om(n);null!==i;i=Fm(i)){if(!(i[me]&Ma.HasTransplantedViews))continue;const s=i[To];for(let u=0;u<s.length;u++){hv(s[u])}}}(i),i1(i,0),null!==n.contentQueries&&Jg(n,i),oe){const yt=n.contentCheckHooks;null!==yt&&Dh(i,yt)}else{const yt=n.contentHooks;null!==yt&&Rh(i,yt,1),hm(i,1)}!function zy(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const _=s[u];if(_<0)Ol(~_);else{const T=_,F=s[++u],X=s[++u];Sv(F,T),X(2,i[T])}}}finally{Ol(-1)}}(n,i);const ke=n.components;null!==ke&&s1(i,ke,0);const Ke=n.viewQuery;if(null!==Ke&&Ff(2,Ke,u),oe){const yt=n.viewCheckHooks;null!==yt&&Dh(i,yt)}else{const yt=n.viewHooks;null!==yt&&Rh(i,yt,2),hm(i,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[Sr]){for(const yt of i[Sr])yt();i[Sr]=null}i[me]&=-73}catch(oe){throw Gc(i),oe}finally{null!==X&&(function H(n,i){if(g(i),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Y(n))for(let s=n.nextProducerIndex;s<n.producerNode.length;s++)de(n.producerNode[s],n.producerIndexOfThis[s]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(X,F),function h_(n){n.lView[to]!==n&&(n.lView=null,t1.push(n))}(X)),Ih()}}function i1(n,i){for(let s=Om(n);null!==s;s=Fm(s))for(let u=us;u<s.length;u++)r1(s[u],i)}function y_(n,i,s){r1(va(i,n),s)}function r1(n,i){_h(n)&&Lf(n,i)}function Lf(n,i){const u=n[L],_=n[me],T=n[to];let F=!!(0===i&&16&_);if(F||=!!(64&_&&0===i),F||=!!(1024&_),F||=!(!T?.dirty||!G(T)),T&&(T.dirty=!1),n[me]&=-9217,F)m_(u,n,u.template,n[un]);else if(8192&_){i1(n,1);const X=u.components;null!==X&&s1(n,X,1)}}function s1(n,i,s){for(let u=0;u<i.length;u++)y_(n,i[u],s)}function vu(n){for(n[ci].changeDetectionScheduler?.notify();n;){n[me]|=64;const i=Nl(n);if(xa(n)&&!i)return n;n=i}return null}class yc{get rootNodes(){const i=this._lView,s=i[L];return $o(s,i,s.firstChild,[])}constructor(i,s,u=!0){this._lView=i,this._cdRefInjectingView=s,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[un]}set context(i){this._lView[un]=i}get destroyed(){return!(256&~this._lView[me])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Pe];if(Os(i)){const s=i[8],u=s?s.indexOf(this):-1;u>-1&&(yd(i,u),Co(s,u))}this._attachedToViewContainer=!1}Sf(this._lView[L],this._lView)}onDestroy(i){bh(this._lView,i)}markForCheck(){vu(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){Xp(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,Rd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new o(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,By(this._lView[L],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new o(902,!1);this._appRef=i,Xp(this._lView)}}let _c=(()=>{class n{static{this.__NG_ELEMENT_ID__=C_}}return n})();const __=_c,b_=class extends __{constructor(i,s,u){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,s){return this.createEmbeddedViewImpl(i,s)}createEmbeddedViewImpl(i,s,u){const _=qo(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:s,dehydratedView:u});return new yc(_)}};function C_(){return Ad(fs(),Mn())}function Ad(n,i){return 4&n.type?new b_(i,n,ol(n,i)):null}let d1=()=>null;function Ta(n,i){return d1(n,i)}class ul{}class Cc{}class Su{}class Pd{resolveComponentFactory(i){throw function Eu(n){const i=Error(`No component factory found for ${$n(n)}.`);return i.ngComponent=n,i}(i)}}let Iu=(()=>{class n{static{this.NULL=new Pd}}return n})();class h1{}let V_=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function j_(){const n=Mn(),s=va(fs().index,n);return(ts(s)?s:n)[Qn]}()}}return n})(),$_=(()=>{class n{static{this.\u0275prov=ri({token:n,providedIn:"root",factory:()=>null})}}return n})();const Gf={},f1=new Set;function Qa(n){f1.has(n)||(f1.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Du(...n){}class is{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ka(!1),this.onMicrotaskEmpty=new Ka(!1),this.onStable=new Ka(!1),this.onError=new Ka(!1),typeof Zone>"u")throw new o(908,!1);Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!u&&s,_.shouldCoalesceRunChangeDetection=u,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function Hf(){const n="function"==typeof vt.requestAnimationFrame;let i=vt[n?"requestAnimationFrame":"setTimeout"],s=vt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&s){const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u);const _=s[Zone.__symbol__("OriginalDelegate")];_&&(s=_)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function H_(n){const i=()=>{!function G_(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(vt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zf(n),n.isCheckStableRunning=!0,Wf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,_,T,F,X)=>{if(function W_(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(X))return s.invokeTask(_,T,F,X);try{return p1(n),s.invokeTask(_,T,F,X)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===T.type||n.shouldCoalesceRunChangeDetection)&&i(),m1(n)}},onInvoke:(s,u,_,T,F,X,oe)=>{try{return p1(n),s.invoke(_,T,F,X,oe)}finally{n.shouldCoalesceRunChangeDetection&&i(),m1(n)}},onHasTask:(s,u,_,T)=>{s.hasTask(_,T),u===_&&("microTask"==T.change?(n._hasPendingMicrotasks=T.microTask,zf(n),Wf(n)):"macroTask"==T.change&&(n.hasPendingMacrotasks=T.macroTask))},onHandleError:(s,u,_,T)=>(s.handleError(_,T),n.runOutsideAngular(()=>n.onError.emit(T)),!1)})}(_)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!is.isInAngularZone())throw new o(909,!1)}static assertNotInAngularZone(){if(is.isInAngularZone())throw new o(909,!1)}run(i,s,u){return this._inner.run(i,s,u)}runTask(i,s,u,_){const T=this._inner,F=T.scheduleEventTask("NgZoneEvent: "+_,i,Hl,Du,Du);try{return T.runTask(F,s,u)}finally{T.cancelTask(F)}}runGuarded(i,s,u){return this._inner.runGuarded(i,s,u)}runOutsideAngular(i){return this._outer.run(i)}}const Hl={};function Wf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function zf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function p1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function m1(n){n._nesting--,Wf(n)}class g1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ka,this.onMicrotaskEmpty=new Ka,this.onStable=new Ka,this.onError=new Ka}run(i,s,u){return i.apply(s,u)}runGuarded(i,s,u){return i.apply(s,u)}runOutsideAngular(i){return i()}runTask(i,s,u,_){return i.apply(s,u)}}var Wl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Wl||{});const v1={destroy(){}};function y1(n,i){!i&&Ns();const s=i?.injector??si(ha);if(!function $l(n){return"browser"===(n??si(ha)).get(Wm)}(s))return v1;Qa("NgAfterNextRender");const u=s.get(Ru),_=u.handler??=new b1,T=i?.phase??Wl.MixedReadWrite,F=()=>{_.unregister(oe),X()},X=s.get(lc).onDestroy(F),oe=Ts(s,()=>new _1(T,()=>{F(),n()}));return _.register(oe),{destroy:F}}class _1{constructor(i,s){this.phase=i,this.callbackFn=s,this.zone=si(is),this.errorHandler=si(ml,{optional:!0}),si(ul,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class b1{constructor(){this.executingCallbacks=!1,this.buckets={[Wl.EarlyRead]:new Set,[Wl.Write]:new Set,[Wl.MixedReadWrite]:new Set,[Wl.Read]:new Set},this.deferredCallbacks=new Set}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const s of i)s.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let Ru=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of s)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ri({token:n,providedIn:"root",factory:()=>new n})}}return n})();function la(n){return!!nr(n)}function Ud(n,i,s){let u=s?n.styles:null,_=s?n.classes:null,T=0;if(null!==i)for(let F=0;F<i.length;F++){const X=i[F];"number"==typeof X?T=X:1==T?_=Vn(_,X):2==T&&(u=Vn(u,X+": "+i[++F]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=_:n.classesWithoutHost=_}class w1 extends Iu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=Fi(i);return new Mu(s,this.ngModule)}}function S1(n){const i=[];for(const s in n){if(!n.hasOwnProperty(s))continue;const u=n[s];void 0!==u&&i.push({propName:Array.isArray(u)?u[0]:u,templateName:s})}return i}class Vd{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,u){u=jr(u);const _=this.injector.get(i,Gf,u);return _!==Gf||s===Gf?_:this.parentInjector.get(i,s,u)}}class Mu extends Su{get inputs(){const i=this.componentDef,s=i.inputTransforms,u=S1(i.inputs);if(null!==s)for(const _ of u)s.hasOwnProperty(_.propName)&&(_.transform=s[_.propName]);return u}get outputs(){return S1(this.componentDef.outputs)}constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function xi(n){return n.map(Hn).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}create(i,s,u,_){const T=g(null);try{let F=(_=_||this.ngModule)instanceof Mr?_:_?.injector;F&&null!==this.componentDef.getStandaloneInjector&&(F=this.componentDef.getStandaloneInjector(F)||F);const X=F?new Vd(i,F):i,oe=X.get(h1,null);if(null===oe)throw new o(407,!1);const ke=X.get($_,null),Yt={rendererFactory:oe,sanitizer:ke,inlineEffectRunner:null,afterRenderEventManager:X.get(Ru,null),changeDetectionScheduler:X.get(ul,null)},qt=oe.createRenderer(null,this.componentDef),dn=this.componentDef.selectors[0][0]||"div",xn=u?function Yy(n,i,s,u){const T=u.get(cy,!1)||s===Kr.ShadowDom,F=n.selectRootElement(i,T);return function Xy(n){Gg(n)}(F),F}(qt,u,this.componentDef.encapsulation,X):wf(qt,dn,function X_(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(dn));let Kn=512;this.componentDef.signals?Kn|=4096:this.componentDef.onPush||(Kn|=16);let ai=null;null!==xn&&(ai=ef(xn,X,!0));const Un=xf(0,null,null,1,0,null,null,null,null,null,null),er=Sd(null,Un,null,Kn,null,null,Yt,qt,X,null,ai);let Xr,Us;Th(er);try{const Ho=this.componentDef;let Ra,gh=null;Ho.findHostDirectiveDefs?(Ra=[],gh=new Map,Ho.findHostDirectiveDefs(Ho,Ra,gh),Ra.push(Ho)):Ra=[Ho];const BI=function Q_(n,i){const s=n[L],u=ki;return n[u]=i,vc(s,u,2,"#host",null)}(er,xn),HA=function Z_(n,i,s,u,_,T,F){const X=_[L];!function q_(n,i,s,u){for(const _ of n)i.mergedAttrs=ve(i.mergedAttrs,_.hostAttrs);null!==i.mergedAttrs&&(Ud(i,i.mergedAttrs,!0),null!==s&&Pg(u,s,i))}(u,n,i,F);let oe=null;null!==i&&(oe=ef(i,_[An]));const ke=T.rendererFactory.createRenderer(i,s);let Ke=16;s.signals?Ke=4096:s.onPush&&(Ke=64);const yt=Sd(_,$g(s),null,Ke,_[n.index],n,T,ke,null,null,oe);return X.firstCreatePass&&Nf(X,n,u.length-1),Td(_,yt),_[n.index]=yt}(BI,xn,Ho,Ra,er,Yt,qt);Us=$c(Un,ki),xn&&function tb(n,i,s,u){if(u)ps(n,s,["ng-version","17.3.3"]);else{const{attrs:_,classes:T}=function nn(n){const i=[],s=[];let u=1,_=2;for(;u<n.length;){let T=n[u];if("string"==typeof T)2===_?""!==T&&i.push(T,n[++u]):8===_&&s.push(T);else{if(!jn(_))break;_=T}u++}return{attrs:i,classes:s}}(i.selectors[0]);_&&ps(n,s,_),T&&T.length>0&&Fg(n,s,T.join(" "))}}(qt,Ho,xn,u),void 0!==s&&function nb(n,i,s){const u=n.projection=[];for(let _=0;_<i.length;_++){const T=s[_];u.push(null!=T?Array.from(T):null)}}(Us,this.ngContentSelectors,s),Xr=function eb(n,i,s,u,_,T){const F=fs(),X=_[L],oe=Xo(F,_);bl(X,_,F,s,null,u);for(let Ke=0;Ke<s.length;Ke++)Zo(Fl(_,X,F.directiveStart+Ke,F),_);kf(X,_,F),oe&&Zo(oe,_);const ke=Fl(_,X,F.directiveStart+F.componentOffset,F);if(n[un]=_[un]=ke,null!==T)for(const Ke of T)Ke(ke,i);return Rf(X,F,_),ke}(HA,Ho,Ra,gh,er,[ib]),Ja(Un,er,null)}finally{Ih()}return new J_(this.componentType,Xr,ol(Us,er),er,Us)}finally{g(T)}}}class J_ extends Cc{constructor(i,s,u,_,T){super(),this.location=u,this._rootLView=_,this._tNode=T,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new yc(_,void 0,!1),this.componentType=i}setInput(i,s){const u=this._tNode.inputs;let _;if(null!==u&&(_=u[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),s))return;const T=this._rootLView;Pf(T[L],T,_,i,s),this.previousInputValues.set(i,s),vu(va(this._tNode.index,T))}}get injector(){return new Io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function ib(){const n=fs();Ku(Mn()[L],n)}let jd=(()=>{class n{static{this.__NG_ELEMENT_ID__=rb}}return n})();function rb(){return T1(fs(),Mn())}const sb=jd,E1=class extends sb{constructor(i,s,u){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=u}get element(){return ol(this._hostTNode,this._hostLView)}get injector(){return new Io(this._hostTNode,this._hostLView)}get parentInjector(){const i=Nh(this._hostTNode,this._hostLView);if(pm(i)){const s=Xc(i,this._hostLView),u=Yc(i);return new Io(s[L].data[u+8],s)}return new Io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=$d(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-us}createEmbeddedView(i,s,u){let _,T;"number"==typeof u?_=u:null!=u&&(_=u.index,T=u.injector);const F=Ta(this._lContainer,i.ssrId),X=i.createEmbeddedViewImpl(s||{},T,F);return this.insertImpl(X,_,Ea(this._hostTNode,F)),X}createComponent(i,s,u,_,T){const F=i&&!function wn(n){return"function"==typeof n}(i);let X;if(F)X=s;else{const dn=s||{};X=dn.index,u=dn.injector,_=dn.projectableNodes,T=dn.environmentInjector||dn.ngModuleRef}const oe=F?i:new Mu(Fi(i)),ke=u||this.parentInjector;if(!T&&null==oe.ngModule){const xn=(F?ke:this.parentInjector).get(Mr,null);xn&&(T=xn)}const Ke=Fi(oe.componentType??{}),yt=Ta(this._lContainer,Ke?.id??null),qt=oe.create(ke,_,yt?.firstChild??null,T);return this.insertImpl(qt.hostView,X,Ea(this._hostTNode,yt)),qt}insert(i,s){return this.insertImpl(i,s,!0)}insertImpl(i,s,u){const _=i._lView;if(function dv(n){return Os(n[Pe])}(_)){const X=this.indexOf(i);if(-1!==X)this.detach(X);else{const oe=_[Pe],ke=new E1(oe,oe[At],oe[Pe]);ke.detach(ke.indexOf(i))}}const T=this._adjustIndex(s),F=this._lContainer;return Sl(F,_,T,u),i.attachToViewContainerRef(),Ws(Jf(F),T,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=$d(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),u=yd(this._lContainer,s);u&&(Co(Jf(this._lContainer),s),Sf(u[L],u))}detach(i){const s=this._adjustIndex(i,-1),u=yd(this._lContainer,s);return u&&null!=Co(Jf(this._lContainer),s)?new yc(u):null}_adjustIndex(i,s=0){return i??this.length+s}};function $d(n){return n[8]}function Jf(n){return n[8]||(n[8]=[])}function T1(n,i){let s;const u=i[n.index];return Os(u)?s=u:(s=Xg(u,i,null,n),i[n.index]=s,Td(i,s)),I1(s,i,n,u),new E1(s,n,i)}let I1=function R1(n,i,s,u){if(n[go])return;let _;_=8&s.type?Wr(u):function xu(n,i){const s=n[Qn],u=s.createComment(""),_=Xo(i,n);return pc(s,bd(s,_),u,function $y(n,i){return n.nextSibling(i)}(s,_),!1),u}(i,s),n[go]=_},Gd=()=>!1;class Zf{constructor(i){this.queryList=i,this.matches=null}clone(){return new Zf(this.queryList)}setDirty(){this.queryList.setDirty()}}class qf{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const u=null!==i.contentQueries?i.contentQueries[0]:s.length,_=[];for(let T=0;T<u;T++){const F=s.getByIndex(T);_.push(this.queries[F.indexInDeclarationView].clone())}return new qf(_)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==sp(i,s).matches&&this.queries[s].setDirty()}}class ep{constructor(i,s,u=null){this.flags=s,this.read=u,this.predicate="string"==typeof i?function db(n){return n.split(",").map(i=>i.trim())}(i):i}}class tp{constructor(i=[]){this.queries=i}elementStart(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let u=0;u<this.length;u++){const _=null!==s?s.length:0,T=this.getByIndex(u).embeddedTView(i,_);T&&(T.indexInDeclarationView=u,null!==s?s.push(T):s=[T])}return null!==s?new tp(s):null}template(i,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class np{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new np(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1&~this.metadata.flags){const s=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let _=0;_<u.length;_++){const T=u[_];this.matchTNodeWithReadOption(i,s,ab(s,T)),this.matchTNodeWithReadOption(i,s,Ph(s,i,T,!1,!1))}else u===_c?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Ph(s,i,u,!1,!1))}matchTNodeWithReadOption(i,s,u){if(null!==u){const _=this.metadata.read;if(null!==_)if(_===Zc||_===jd||_===_c&&4&s.type)this.addMatch(s.index,-2);else{const T=Ph(s,i,_,!1,!1);null!==T&&this.addMatch(s.index,T)}else this.addMatch(s.index,u)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function ab(n,i){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===i)return s[u+1];return null}function cb(n,i,s,u){return-1===s?function lb(n,i){return 11&n.type?ol(n,i):4&n.type?Ad(n,i):null}(i,n):-2===s?function ub(n,i,s){return s===Zc?ol(i,n):s===_c?Ad(i,n):s===jd?T1(i,n):void 0}(n,i,u):Fl(n,n[L],s,i)}function A1(n,i,s,u){const _=i[pn].queries[u];if(null===_.matches){const T=n.data,F=s.matches,X=[];for(let oe=0;null!==F&&oe<F.length;oe+=2){const ke=F[oe];X.push(ke<0?null:cb(i,T[ke],F[oe+1],s.metadata.read))}_.matches=X}return _.matches}function ip(n,i,s,u){const _=n.queries.getByIndex(s),T=_.matches;if(null!==T){const F=A1(n,i,_,s);for(let X=0;X<T.length;X+=2){const oe=T[X];if(oe>0)u.push(F[X/2]);else{const ke=T[X+1],Ke=i[-oe];for(let yt=us;yt<Ke.length;yt++){const Yt=Ke[yt];Yt[Je]===Yt[Pe]&&ip(Yt[L],Yt,ke,u)}if(null!==Ke[To]){const yt=Ke[To];for(let Yt=0;Yt<yt.length;Yt++){const qt=yt[Yt];ip(qt[L],qt,ke,u)}}}}}return u}function M1(n,i,s){const u=new qc(!(4&~s));return function Zy(n,i,s,u){const _=Qg(i);_.push(s),n.firstCreatePass&&Zg(n).push(u,_.length-1)}(n,i,u,u.destroy),(i[pn]??=new qf).queries.push(new Zf(u))-1}function N1(n,i,s){null===n.queries&&(n.queries=new tp),n.queries.track(new np(i,s))}function sp(n,i){return n.queries.getByIndex(i)}function O1(n,i){const s=n[L],u=sp(s,i);return u.crossesNgTemplate?ip(s,n,i,[]):A1(s,n,u,i)}function B1(n){return function F1(n){return"function"==typeof n&&void 0!==n[w]}(n)&&"function"==typeof n.set}function cp(n){let i=function J1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;i;){let _;if(Po(n))_=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new o(903,!1);_=i.\u0275dir}if(_){if(s){u.push(_);const F=n;F.inputs=zd(n.inputs),F.inputTransforms=zd(n.inputTransforms),F.declaredInputs=zd(n.declaredInputs),F.outputs=zd(n.outputs);const X=_.hostBindings;X&&Tb(n,X);const oe=_.viewQuery,ke=_.contentQueries;if(oe&&Sb(n,oe),ke&&Eb(n,ke),Cb(n,_),Pn(n.outputs,_.outputs),Po(_)&&_.data.animation){const Ke=n.data;Ke.animation=(Ke.animation||[]).concat(_.data.animation)}}const T=_.features;if(T)for(let F=0;F<T.length;F++){const X=T[F];X&&X.ngInherit&&X(n),X===cp&&(s=!1)}}i=Object.getPrototypeOf(i)}!function wb(n){let i=0,s=null;for(let u=n.length-1;u>=0;u--){const _=n[u];_.hostVars=i+=_.hostVars,_.hostAttrs=ve(_.hostAttrs,s=ve(s,_.hostAttrs))}}(u)}function Cb(n,i){for(const s in i.inputs){if(!i.inputs.hasOwnProperty(s)||n.inputs.hasOwnProperty(s))continue;const u=i.inputs[s];if(void 0!==u&&(n.inputs[s]=u,n.declaredInputs[s]=i.declaredInputs[s],null!==i.inputTransforms)){const _=Array.isArray(u)?u[0]:u;if(!i.inputTransforms.hasOwnProperty(_))continue;n.inputTransforms??={},n.inputTransforms[_]=i.inputTransforms[_]}}}function zd(n){return n===ws?{}:n===ui?[]:n}function Sb(n,i){const s=n.viewQuery;n.viewQuery=s?(u,_)=>{i(u,_),s(u,_)}:i}function Eb(n,i){const s=n.contentQueries;n.contentQueries=s?(u,_,T)=>{i(u,_,T),s(u,_,T)}:i}function Tb(n,i){const s=n.hostBindings;n.hostBindings=s?(u,_)=>{i(u,_),s(u,_)}:i}function Q1(n){const i=s=>{const u=(Array.isArray(n)?n:n()).map(_=>"function"==typeof _?{directive:mt(_),inputs:ws,outputs:ws}:{directive:mt(_.directive),inputs:q1(_.inputs),outputs:q1(_.outputs)});null===s.hostDirectives?(s.findHostDirectiveDefs=Z1,s.hostDirectives=u):s.hostDirectives.unshift(...u)};return i.ngInherit=!0,i}function Z1(n,i,s){if(null!==n.hostDirectives)for(const u of n.hostDirectives){const _=Zi(u.directive);Rb(_.declaredInputs,u.inputs),Z1(_,i,s),s.set(_,u),i.push(_)}}function q1(n){if(void 0===n||0===n.length)return ws;const i={};for(let s=0;s<n.length;s+=2)i[n[s]]=n[s+1];return i}function Rb(n,i){for(const s in i)i.hasOwnProperty(s)&&(n[i[s]]=n[s])}function t0(n){const i=n.inputConfig,s={};for(const u in i)if(i.hasOwnProperty(u)){const _=i[u];Array.isArray(_)&&_[3]&&(s[u]=_[3])}n.inputTransforms=s}class Kl{}class n0{}function Ab(n,i){return new dp(n,i??null,[])}class dp extends Kl{constructor(i,s,u){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new w1(this);const _=nr(i);this._bootstrapComponents=Sa(_.bootstrap),this._r3Injector=Vv(i,s,[{provide:Kl,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver},...u],$n(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Kd extends n0{constructor(i){super(),this.moduleType=i}create(i){return new dp(this.moduleType,i,[])}}class r0 extends Kl{constructor(i){super(),this.componentFactoryResolver=new w1(this),this.instance=null;const s=new Ks([...i.providers,{provide:Kl,useValue:this},{provide:Iu,useValue:this.componentFactoryResolver}],i.parent||ms(),i.debugName,new Set(["environment"]));this.injector=s,i.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function hp(n,i,s=null){return new r0({providers:n,parent:i,debugName:s,runEnvironmentInitializers:!0}).injector}let Sc=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new te.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Xd(n){return!!fp(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function fp(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function el(n,i,s){return n[i]=s}function Ou(n,i){return n[i]}function ao(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function Yl(n,i,s,u){const _=ao(n,i,s);return ao(n,i+1,u)||_}function Ia(n,i,s,u,_,T){const F=Yl(n,i,s,u);return Yl(n,i+2,_,T)||F}function Ec(n,i,s,u,_,T,F,X){const oe=Mn(),ke=xr(),Ke=n+ki,yt=ke.firstCreatePass?function Pb(n,i,s,u,_,T,F,X,oe){const ke=i.consts,Ke=vc(i,n,4,F||null,Wa(ke,X));Ed(i,s,Ke,Wa(ke,oe)),Ku(i,Ke);const yt=Ke.tView=xf(2,Ke,u,_,T,i.directiveRegistry,i.pipeRegistry,null,i.schemas,ke,null);return null!==i.queries&&(i.queries.template(i,Ke),yt.queries=i.queries.embeddedTView(Ke)),Ke}(Ke,ke,oe,i,s,u,_,T,F):ke.data[Ke];Na(yt,!1);const Yt=o0(ke,oe,yt,n);zc()&&mc(ke,oe,Yt,yt),Zo(Yt,oe);const qt=Xg(Yt,oe,Yt,yt);return oe[Ke]=qt,Td(oe,qt),function D1(n,i,s){return Gd(n,i,s)}(qt,yt,oe),Ko(yt)&&Af(ke,oe,yt),null!=F&&Mf(oe,yt,X),Ec}let o0=function a0(n,i,s,u){return za(!0),i[Qn].createComment("")};function Mc(n,i,s,u){const _=Mn();return ao(_,Oa(),i)&&(xr(),Xa(Fs(),_,n,i,s,u)),Mc}function Ql(n,i,s,u){return ao(n,Oa(),s)?i+ei(s)+u:lr}function kc(n,i,s,u,_,T){const X=Yl(n,function rl(){return tr.lFrame.bindingIndex}(),s,_);return sl(2),X?i+ei(s)+u+ei(_)+T:lr}function oh(n,i){return n<<17|i<<2}function Rl(n){return n>>17&32767}function Tp(n){return 2|n}function Al(n){return(131068&n)>>2}function Ip(n,i){return-131069&n|i<<2}function Dp(n){return 1|n}function O0(n,i,s,u){const _=n[s+1],T=null===i;let F=u?Rl(_):Al(_),X=!1;for(;0!==F&&(!1===X||T);){const ke=n[F+1];uC(n[F],i)&&(X=!0,n[F+1]=u?Dp(ke):Tp(ke)),F=u?Rl(ke):Al(ke)}X&&(n[s+1]=u?Tp(_):Dp(_))}function uC(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&Zr(n,i)>=0}const Ro={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function F0(n){return n.substring(Ro.key,Ro.keyEnd)}function y(n,i){const s=Ro.textEnd;return s===i?-1:(i=Ro.keyEnd=function ie(n,i,s){for(;i<s&&n.charCodeAt(i)>32;)i++;return i}(n,Ro.key=i,s),D(n,i,s))}function D(n,i,s){for(;i<s&&n.charCodeAt(i)<=32;)i++;return i}function En(n,i,s){const u=Mn();return ao(u,Oa(),i)&&fa(xr(),Fs(),u,n,i,u[Qn],s,!1),En}function Nn(n,i,s,u,_){const F=_?"class":"style";Pf(n,s,i.inputs[F],F,u)}function Wn(n,i,s){return Ci(n,i,s,!1),Wn}function zn(n,i){return Ci(n,i,null,!0),zn}function Bi(n){Qi(pi,Ji,n,!0)}function Ji(n,i){for(let s=function l(n){return function m(n){Ro.key=0,Ro.keyEnd=0,Ro.value=0,Ro.valueEnd=0,Ro.textEnd=n.length}(n),y(n,D(n,0,Ro.textEnd))}(i);s>=0;s=y(i,s))dr(n,F0(i),!0)}function Ci(n,i,s,u){const _=Mn(),T=xr(),F=sl(2);T.firstUpdatePass&&fr(T,n,F,u),i!==lr&&ao(_,F,i)&&Ui(T,T.data[Jo()],_,_[Qn],n,_[F+1]=function ma(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=$n(yl(n)))),n}(i,s),u,F)}function Qi(n,i,s,u){const _=xr(),T=sl(2);_.firstUpdatePass&&fr(_,null,T,u);const F=Mn();if(s!==lr&&ao(F,T,s)){const X=_.data[Jo()];if(yo(X,u)&&!ur(_,T)){let oe=u?X.classesWithoutHost:X.stylesWithoutHost;null!==oe&&(s=Vn(oe,s||"")),Nn(_,X,F,s,u)}else!function Si(n,i,s,u,_,T,F,X){_===lr&&(_=ui);let oe=0,ke=0,Ke=0<_.length?_[0]:null,yt=0<T.length?T[0]:null;for(;null!==Ke||null!==yt;){const Yt=oe<_.length?_[oe+1]:void 0,qt=ke<T.length?T[ke+1]:void 0;let xn,dn=null;Ke===yt?(oe+=2,ke+=2,Yt!==qt&&(dn=yt,xn=qt)):null===yt||null!==Ke&&Ke<yt?(oe+=2,dn=Ke):(ke+=2,dn=yt,xn=qt),null!==dn&&Ui(n,i,s,u,dn,xn,F,X),Ke=oe<_.length?_[oe]:null,yt=ke<T.length?T[ke]:null}}(_,X,F,F[Qn],F[T+1],F[T+1]=function nl(n,i,s){if(null==s||""===s)return ui;const u=[],_=yl(s);if(Array.isArray(_))for(let T=0;T<_.length;T++)n(u,_[T],!0);else if("object"==typeof _)for(const T in _)_.hasOwnProperty(T)&&n(u,T,_[T]);else"string"==typeof _&&i(u,_);return u}(n,i,s),u,T)}}function ur(n,i){return i>=n.expandoStartIndex}function fr(n,i,s,u){const _=n.data;if(null===_[s+1]){const T=_[Jo()],F=ur(n,s);yo(T,u)&&null===i&&!F&&(i=!1),i=function _r(n,i,s,u){const _=Wc(n);let T=u?i.residualClasses:i.residualStyles;if(null===_)0===(u?i.classBindings:i.styleBindings)&&(s=Zs(s=ho(null,n,i,s,u),i.attrs,u),T=null);else{const F=i.directiveStylingLast;if(-1===F||n[F]!==_)if(s=ho(_,n,i,s,u),null===T){let oe=function Ps(n,i,s){const u=s?i.classBindings:i.styleBindings;if(0!==Al(u))return n[Rl(u)]}(n,i,u);void 0!==oe&&Array.isArray(oe)&&(oe=ho(null,n,i,oe[1],u),oe=Zs(oe,i.attrs,u),function Bs(n,i,s,u){n[Rl(s?i.classBindings:i.styleBindings)]=u}(n,i,u,oe))}else T=function Ao(n,i,s){let u;const _=i.directiveEnd;for(let T=1+i.directiveStylingLast;T<_;T++)u=Zs(u,n[T].hostAttrs,s);return Zs(u,i.attrs,s)}(n,i,u)}return void 0!==T&&(u?i.residualClasses=T:i.residualStyles=T),s}(_,T,i,u),function lC(n,i,s,u,_,T){let F=T?i.classBindings:i.styleBindings,X=Rl(F),oe=Al(F);n[u]=s;let Ke,ke=!1;if(Array.isArray(s)?(Ke=s[1],(null===Ke||Zr(s,Ke)>0)&&(ke=!0)):Ke=s,_)if(0!==oe){const Yt=Rl(n[X+1]);n[u+1]=oh(Yt,X),0!==Yt&&(n[Yt+1]=Ip(n[Yt+1],u)),n[X+1]=function N0(n,i){return 131071&n|i<<17}(n[X+1],u)}else n[u+1]=oh(X,0),0!==X&&(n[X+1]=Ip(n[X+1],u)),X=u;else n[u+1]=oh(oe,0),0===X?X=u:n[oe+1]=Ip(n[oe+1],u),oe=u;ke&&(n[u+1]=Tp(n[u+1])),O0(n,Ke,u,!0),O0(n,Ke,u,!1),function cC(n,i,s,u,_){const T=_?n.residualClasses:n.residualStyles;null!=T&&"string"==typeof i&&Zr(T,i)>=0&&(s[u+1]=Dp(s[u+1]))}(i,Ke,n,u,T),F=oh(X,oe),T?i.classBindings=F:i.styleBindings=F}(_,T,i,s,F,u)}}function ho(n,i,s,u,_){let T=null;const F=s.directiveEnd;let X=s.directiveStylingLast;for(-1===X?X=s.directiveStart:X++;X<F&&(T=i[X],u=Zs(u,T.hostAttrs,_),T!==n);)X++;return null!==n&&(s.directiveStylingLast=X),u}function Zs(n,i,s){const u=s?1:2;let _=-1;if(null!==i)for(let T=0;T<i.length;T++){const F=i[T];"number"==typeof F?_=F:_===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),dr(n,F,!!s||i[++T]))}return void 0===n?null:n}function pi(n,i,s){const u=String(i);""!==u&&!u.includes(" ")&&dr(n,u,s)}function Ui(n,i,s,u,_,T,F,X){if(!(3&i.type))return;const oe=n.data,ke=oe[X+1],Ke=function aC(n){return!(1&~n)}(ke)?pr(oe,i,s,_,Al(ke),F):void 0;Ls(Ke)||(Ls(T)||function oC(n){return!(2&~n)}(ke)&&(T=pr(oe,null,s,_,X,F)),function Og(n,i,s,u,_){if(i)_?n.addClass(s,u):n.removeClass(s,u);else{let T=-1===u.indexOf("-")?void 0:Cf.DashCase;null==_?n.removeStyle(s,u,T):("string"==typeof _&&_.endsWith("!important")&&(_=_.slice(0,-10),T|=Cf.Important),n.setStyle(s,u,_,T))}}(u,F,jc(Jo(),s),_,T))}function pr(n,i,s,u,_,T){const F=null===i;let X;for(;_>0;){const oe=n[_],ke=Array.isArray(oe),Ke=ke?oe[1]:oe,yt=null===Ke;let Yt=s[_+1];Yt===lr&&(Yt=yt?ui:void 0);let qt=yt?$r(Yt,u):Ke===u?Yt:void 0;if(ke&&!Ls(qt)&&(qt=$r(oe,u)),Ls(qt)&&(X=qt,F))return X;const dn=n[_+1];_=F?Rl(dn):Al(dn)}if(null!==i){let oe=T?i.residualClasses:i.residualStyles;null!=oe&&(X=$r(oe,u))}return X}function Ls(n){return void 0!==n}function yo(n,i){return!!(n.flags&(i?8:16))}function ga(n,i,s){Qi(dr,Ji,Ql(Mn(),n,i,s),!0)}function rs(n,i,s,u,_){Qi(dr,Ji,kc(Mn(),n,i,s,u,_),!0)}class P0{destroy(i){}updateValue(i,s){}swap(i,s){const u=Math.min(i,s),_=Math.max(i,s),T=this.detach(_);if(_-u>1){const F=this.detach(u);this.attach(u,T),this.attach(_,F)}else this.attach(u,T)}move(i,s){this.attach(s,this.detach(i))}}function Rp(n,i,s,u,_){return n===s&&Object.is(i,u)?1:Object.is(_(n,i),_(s,u))?-1:0}function ah(n,i,s,u){return!(void 0===i||!i.has(u)||(n.attach(s,i.get(u)),i.delete(u),0))}function Ap(n,i,s,u,_){if(ah(n,i,u,s(u,_)))n.updateValue(u,_);else{const T=n.create(u,_);n.attach(u,T)}}function B0(n,i,s,u){const _=new Set;for(let T=i;T<=s;T++)_.add(u(T,n.at(T)));return _}class L0{constructor(){this.kvMap=new Map,this._vMap=void 0}has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;const s=this.kvMap.get(i);return void 0!==this._vMap&&this._vMap.has(s)?(this.kvMap.set(i,this._vMap.get(s)),this._vMap.delete(s)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,s){if(this.kvMap.has(i)){let u=this.kvMap.get(i);void 0===this._vMap&&(this._vMap=new Map);const _=this._vMap;for(;_.has(u);)u=_.get(u);_.set(u,s)}else this.kvMap.set(i,s)}forEach(i){for(let[s,u]of this.kvMap)if(i(u,s),void 0!==this._vMap){const _=this._vMap;for(;_.has(u);)u=_.get(u),i(u,s)}}}function Ml(n,i,s){Qa("NgControlFlow");const u=Mn(),_=Oa(),T=ch(u,ki+n);if(ao(u,_,i)){const X=g(null);try{if(Bf(T,0),-1!==i){const oe=fC(u[L],ki+i),ke=Ta(T,oe.tView.ssrId);Sl(T,qo(u,oe,s,{dehydratedView:ke}),0,Ea(oe,ke))}}finally{g(X)}}else{const X=wl(T,0);void 0!==X&&(X[un]=s)}}class lh{constructor(i,s,u){this.lContainer=i,this.$implicit=s,this.$index=u}get $count(){return this.lContainer.length-us}}function Mp(n,i){return i}class xp{constructor(i,s,u){this.hasEmptyBlock=i,this.trackByFn=s,this.liveCollection=u}}function kp(n,i,s,u,_,T,F,X,oe,ke,Ke,yt,Yt){Qa("NgControlFlow");const qt=void 0!==oe,dn=Mn(),xn=X?F.bind(dn[_e][un]):F,Kn=new xp(qt,xn);dn[ki+n]=Kn,Ec(n+1,i,s,u,_,T),qt&&Ec(n+2,oe,ke,Ke,yt,Yt)}class V0 extends P0{constructor(i,s,u){super(),this.lContainer=i,this.hostLView=s,this.templateTNode=u,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-us}at(i){return this.getLView(i)[un].$implicit}attach(i,s){const u=s[Ht];this.needsIndexUpdate||=i!==this.length,Sl(this.lContainer,s,i,Ea(this.templateTNode,u))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,function JI(n,i){return yd(n,i)}(this.lContainer,i)}create(i,s){const u=Ta(this.lContainer,this.templateTNode.tView.ssrId);return qo(this.hostLView,this.templateTNode,new lh(this.lContainer,s,i),{dehydratedView:u})}destroy(i){Sf(i[L],i)}updateValue(i,s){this.getLView(i)[un].$implicit=s}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[un].$index=i}getLView(i){return function QI(n,i){return wl(n,i)}(this.lContainer,i)}}function Np(n){const i=g(null),s=Jo();try{const u=Mn(),_=u[L],T=u[s];if(void 0===T.liveCollection){const X=s+1,oe=ch(u,X),ke=fC(_,X);T.liveCollection=new V0(oe,u,ke)}else T.liveCollection.reset();const F=T.liveCollection;if(function hC(n,i,s){let u,_,T=0,F=n.length-1;if(Array.isArray(i)){let X=i.length-1;for(;T<=F&&T<=X;){const oe=n.at(T),ke=i[T],Ke=Rp(T,oe,T,ke,s);if(0!==Ke){Ke<0&&n.updateValue(T,ke),T++;continue}const yt=n.at(F),Yt=i[X],qt=Rp(F,yt,X,Yt,s);if(0!==qt){qt<0&&n.updateValue(F,Yt),F--,X--;continue}const dn=s(T,oe),xn=s(F,yt),Kn=s(T,ke);if(Object.is(Kn,xn)){const ai=s(X,Yt);Object.is(ai,dn)?(n.swap(T,F),n.updateValue(F,Yt),X--,F--):n.move(F,T),n.updateValue(T,ke),T++}else if(u??=new L0,_??=B0(n,T,F,s),ah(n,u,T,Kn))n.updateValue(T,ke),T++,F++;else if(_.has(Kn))u.set(dn,n.detach(T)),F--;else{const ai=n.create(T,i[T]);n.attach(T,ai),T++,F++}}for(;T<=X;)Ap(n,u,s,T,i[T]),T++}else if(null!=i){const X=i[Symbol.iterator]();let oe=X.next();for(;!oe.done&&T<=F;){const ke=n.at(T),Ke=oe.value,yt=Rp(T,ke,T,Ke,s);if(0!==yt)yt<0&&n.updateValue(T,Ke),T++,oe=X.next();else{u??=new L0,_??=B0(n,T,F,s);const Yt=s(T,Ke);if(ah(n,u,T,Yt))n.updateValue(T,Ke),T++,F++,oe=X.next();else if(_.has(Yt)){const qt=s(T,ke);u.set(qt,n.detach(T)),F--}else n.attach(T,n.create(T,Ke)),T++,F++,oe=X.next()}}for(;!oe.done;)Ap(n,u,s,n.length,oe.value),oe=X.next()}for(;T<=F;)n.destroy(n.detach(F--));u?.forEach(X=>{n.destroy(X)})}(F,n,T.trackByFn),F.updateIndexes(),T.hasEmptyBlock){const X=Oa(),oe=0===F.length;if(ao(u,X,oe)){const ke=s+2,Ke=ch(u,ke);if(oe){const yt=fC(_,ke),Yt=Ta(Ke,yt.tView.ssrId);Sl(Ke,qo(u,yt,void 0,{dehydratedView:Yt}),0,Ea(yt,Yt))}else Bf(Ke,0)}}}finally{g(i)}}function ch(n,i){return n[i]}function fC(n,i){return $c(n,i)}function j0(n,i,s,u){const _=Mn(),T=xr(),F=ki+n,X=_[Qn],oe=T.firstCreatePass?function ZI(n,i,s,u,_,T){const F=i.consts,oe=vc(i,n,2,u,Wa(F,_));return Ed(i,s,oe,Wa(F,T)),null!==oe.attrs&&Ud(oe,oe.attrs,!1),null!==oe.mergedAttrs&&Ud(oe,oe.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,oe),oe}(F,T,_,i,s,u):T.data[F],ke=VS(T,_,oe,X,i,n);_[F]=ke;const Ke=Ko(oe);return Na(oe,!0),Pg(X,ke,oe),!function Fu(n){return!(32&~n.flags)}(oe)&&zc()&&mc(T,_,ke,oe),0===function fv(){return tr.lFrame.elementDepthCount}()&&Zo(ke,_),function pv(){tr.lFrame.elementDepthCount++}(),Ke&&(Af(T,_,oe),Rf(T,oe,_)),null!==u&&Mf(_,oe),j0}function $0(){let n=fs();Ch()?wh():(n=n.parent,Na(n,!1));const i=n;(function gv(n){return tr.skipHydrationRootTNode===n})(i)&&function bv(){tr.skipHydrationRootTNode=null}(),function mv(){tr.lFrame.elementDepthCount--}();const s=xr();return s.firstCreatePass&&(Ku(s,n),il(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function rw(n){return!!(8&n.flags)}(i)&&Nn(s,i,Mn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function Ov(n){return!!(16&n.flags)}(i)&&Nn(s,i,Mn(),i.stylesWithoutHost,!1),$0}function pC(n,i,s,u){return j0(n,i,s,u),$0(),pC}let VS=(n,i,s,u,_,T)=>(za(!0),wf(u,_,function um(){return tr.lFrame.currentNamespace}()));function G0(n,i,s){const u=Mn(),_=xr(),T=n+ki,F=_.firstCreatePass?function tD(n,i,s,u,_){const T=i.consts,F=Wa(T,u),X=vc(i,n,8,"ng-container",F);return null!==F&&Ud(X,F,!0),Ed(i,s,X,Wa(T,_)),null!==i.queries&&i.queries.elementStart(i,X),X}(T,_,u,i,s):_.data[T];Na(F,!0);const X=jS(_,u,F,n);return u[T]=X,zc()&&mc(_,u,X,F),Zo(X,u),Ko(F)&&(Af(_,u,F),Rf(_,F,u)),null!=s&&Mf(u,F),G0}function H0(){let n=fs();const i=xr();return Ch()?wh():(n=n.parent,Na(n,!1)),i.firstCreatePass&&(Ku(i,n),il(n)&&i.queries.elementEnd(n)),H0}function mC(n,i,s){return G0(n,i,s),H0(),mC}let jS=(n,i,s,u)=>(za(!0),Eg(i[Qn],""));function $S(){return Mn()}function gC(n,i,s){const u=Mn();return ao(u,Oa(),i)&&fa(xr(),Fs(),u,n,i,u[Qn],s,!0),gC}function vC(n,i,s){const u=Mn();if(ao(u,Oa(),i)){const T=xr(),F=Fs();fa(T,F,u,n,i,qg(Wc(T.data),F,u),s,!0)}return vC}const $u=void 0;var sD=["en",[["a","p"],["AM","PM"],$u],[["AM","PM"],$u,$u],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$u,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$u,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$u,"{1} 'at' {0}",$u],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rD(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let uh={};function yC(n){const i=function oD(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=HS(i);if(s)return s;const u=i.split("-")[0];if(s=HS(u),s)return s;if("en"===u)return sD;throw new o(701,!1)}function GS(n){return yC(n)[dh.PluralCase]}function HS(n){return n in uh||(uh[n]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[n]),uh[n]}var dh=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(dh||{});const hh="en-US",W0={marker:"element"},z0={marker:"ICU"};var Da=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(Da||{});let WS=hh;function KS(n,i,s){const u=i.insertBeforeIndex,_=Array.isArray(u)?u[0]:u;return null===_?Rg(n,0,s):Wr(s[_])}function YS(n,i,s,u,_){const T=i.insertBeforeIndex;if(Array.isArray(T)){let F=u,X=null;if(3&i.type||(X=F,F=_),null!==F&&-1===i.componentOffset)for(let oe=1;oe<T.length;oe++)pc(n,F,s[T[oe]],X,!1)}}function XS(n,i){if(n.push(i),n.length>1)for(let s=n.length-2;s>=0;s--){const u=n[s];JS(u)||dD(u,i)&&null===hD(u)&&fD(u,i.index)}}function JS(n){return!(64&n.type)}function dD(n,i){return JS(i)||n.index>i.index}function hD(n){const i=n.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function fD(n,i){const s=n.insertBeforeIndex;Array.isArray(s)?s[0]=i:(Mg(KS,YS),n.insertBeforeIndex=i)}function gD(n,i,s){const u=Df(n,s,64,null,null);return XS(i,u),u}let Bp=(n,i,s,u)=>(za(!0),function eE(n,i,s){const u=n[Qn];switch(s){case Node.COMMENT_NODE:return Eg(u,i);case Node.TEXT_NODE:return Sg(u,i);case Node.ELEMENT_NODE:return wf(u,i,null)}}(n,s,u));function TD(){const n=[];let s,u,i=-1;function T(X,oe){i=0;const ke=function K0(n,i){const s=i[n.currentCaseLViewIndex];return null===s?s:s<0?~s:s}(X,oe);u=null!==ke?X.remove[ke]:ui}function F(){if(i<u.length){const X=u[i++];return X>0?s[X]:(n.push(i,u),T(s[L].data[~X],s),F())}return 0===n.length?null:(u=n.pop(),i=n.pop(),F())}return function _(X,oe){for(s=oe;n.length;)n.pop();return T(X.value,oe),F}}const Y0=/\ufffd(\d+):?\d*\ufffd/gi,DD=/\ufffd(\d+)\ufffd/,oE=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Lp="\ufffd",RD=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,AD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,MD=/\uE500/g;function aE(n,i,s,u,_,T,F){const X=mu(n,u,1,null);let oe=X<<Da.SHIFT,ke=Hc();i===ke&&(ke=null),null===ke&&(oe|=Da.APPEND_EAGERLY),F&&(oe|=Da.COMMENT,function zw(n){void 0===Cg&&(Cg=n())}(TD)),_.push(oe,null===T?"":T);const Ke=Df(n,X,F?32:1,null===T?"":T,null);XS(s,Ke);const yt=Ke.index;return Na(Ke,!1),null!==ke&&i!==ke&&function mD(n,i){let s=n.insertBeforeIndex;null===s?(Mg(KS,YS),s=n.insertBeforeIndex=[null,i]):(Jn(Array.isArray(s),!0,"Expecting array here"),s.push(i))}(ke,yt),Ke}function ND(n,i,s,u,_,T,F,X){const oe=X.match(Y0),Ke=aE(i,s,u,F,_,oe?null:X,!1).index;oe&&Up(T,X,Ke,null,0,null),n.push({kind:0,index:Ke})}function Up(n,i,s,u,_,T){const F=n.length,X=F+1;n.push(null,null);const oe=F+2,ke=i.split(Y0);let Ke=0;for(let yt=0;yt<ke.length;yt++){const Yt=ke[yt];if(1&yt){const qt=_+parseInt(Yt,10);n.push(-1-qt),Ke|=lE(qt)}else""!==Yt&&n.push(Yt)}return n.push(s<<2|(u?1:0)),u&&n.push(u,T),n[F]=Ke,n[X]=n.length-oe,Ke}function lE(n){return 1<<Math.min(n,31)}function cE(n){let i,T,s="",u=0,_=!1;for(;null!==(i=RD.exec(n));)_?i[0]===`${Lp}/*${T}${Lp}`&&(u=i.index,_=!1):(s+=n.substring(u,i.index+i[0].length),T=i[1],_=!0);return s+=n.slice(u),s}function uE(n,i,s,u,_,T,F){let X=0;const oe={type:T.type,currentCaseLViewIndex:mu(i,s,1,null),anchorIdx:F,cases:[],create:[],remove:[],update:[]};(function jD(n,i,s){n.push(lE(i.mainBinding),2,-1-i.mainBinding,s<<2|2)})(u,T,F),function pD(n,i,s){const u=n.data[i];null===u?n.data[i]=s:u.value=s}(i,F,oe);const ke=T.values,Ke=[];for(let yt=0;yt<ke.length;yt++){const Yt=ke[yt],qt=[];for(let xn=0;xn<Yt.length;xn++){const Kn=Yt[xn];if("string"!=typeof Kn){const ai=qt.push(Kn)-1;Yt[xn]=`\x3c!--\ufffd${ai}\ufffd--\x3e`}}const dn=[];Ke.push(dn),X=UD(dn,i,oe,s,u,_,T.cases[yt],Yt.join(""),qt)|X}X&&function $D(n,i,s){n.push(i,1,s<<2|3)}(u,X,F),n.push({kind:3,index:F,cases:Ke,currentCaseLViewIndex:oe.currentCaseLViewIndex})}function LD(n){const i=[],s=[];let u=1,_=0;const T=_C(n=n.replace(oE,function(F,X,oe){return u="select"===oe?0:1,_=parseInt(X.slice(1),10),""}));for(let F=0;F<T.length;){let X=T[F++].trim();1===u&&(X=X.replace(/\s*(?:=)?(\w+)\s*/,"$1")),X.length&&i.push(X);const oe=_C(T[F++]);i.length>s.length&&s.push(oe)}return{type:u,mainBinding:_,cases:i,values:s}}function _C(n){if(!n)return[];let i=0;const s=[],u=[],_=/[{}]/g;let T;for(_.lastIndex=0;T=_.exec(n);){const X=T.index;if("}"==T[0]){if(s.pop(),0==s.length){const oe=n.substring(i,X);oE.test(oe)?u.push(LD(oe)):u.push(oe),i=X+1}}else{if(0==s.length){const oe=n.substring(i,X);u.push(oe),i=X+1}s.push("{")}}const F=n.substring(i);return u.push(F),u}function UD(n,i,s,u,_,T,F,X,oe){const ke=[],Ke=[],yt=[];s.cases.push(F),s.create.push(ke),s.remove.push(Ke),s.update.push(yt);const qt=lf(Vl()).getInertBodyElement(X),dn=mf(qt)||qt;return dn?dE(n,i,s,u,_,ke,Ke,yt,dn,T,oe,0):0}function dE(n,i,s,u,_,T,F,X,oe,ke,Ke,yt){let Yt=0,qt=oe.firstChild;for(;qt;){const dn=mu(i,u,1,null);switch(qt.nodeType){case Node.ELEMENT_NODE:const xn=qt,Kn=xn.tagName.toLowerCase();if(df.hasOwnProperty(Kn)){bC(T,W0,Kn,ke,dn),i.data[dn]=Kn;const Xr=xn.attributes;for(let Ho=0;Ho<Xr.length;Ho++){const Ra=Xr.item(Ho),gh=Ra.name.toLowerCase();Ra.value.match(Y0)?og.hasOwnProperty(gh)&&Up(X,Ra.value,dn,Ra.name,0,hf[gh]?uf:null):GD(T,dn,Ra)}const Us={kind:1,index:dn,children:[]};n.push(Us),Yt=dE(Us.children,i,s,u,_,T,F,X,qt,dn,Ke,yt+1)|Yt,hE(F,dn,yt)}break;case Node.TEXT_NODE:const ai=qt.textContent||"",Un=ai.match(Y0);bC(T,null,Un?"":ai,ke,dn),hE(F,dn,yt),Un&&(Yt=Up(X,ai,dn,null,0,null)|Yt),n.push({kind:0,index:dn});break;case Node.COMMENT_NODE:const er=DD.exec(qt.textContent||"");if(er){const Us=Ke[parseInt(er[1],10)];bC(T,z0,"",ke,dn),uE(n,i,u,_,ke,Us,dn),VD(F,dn,yt)}}qt=qt.nextSibling}return Yt}function hE(n,i,s){0===s&&n.push(i)}function VD(n,i,s){0===s&&(n.push(~i),n.push(i))}function bC(n,i,s,u,_){null!==i&&n.push(i),n.push(s,_,function vD(n,i,s){return n|i<<17|s<<1}(0,u,_))}function GD(n,i,s){n.push(i<<1|1,s.name,s.value)}function pE(n,i,s=-1){const u=xr(),_=Mn(),T=ki+n,F=Wa(u.consts,i),X=Hc();u.firstCreatePass&&function kD(n,i,s,u,_,T){const F=Hc(),X=[],oe=[],ke=[[]],Ke=[[]];_=function BD(n,i){if(function PD(n){return-1===n}(i))return cE(n);{const s=n.indexOf(`:${i}${Lp}`)+2+i.toString().length,u=n.search(new RegExp(`${Lp}\\/\\*\\d+:${i}${Lp}`));return cE(n.substring(s,u))}}(_,T);const yt=function xD(n){return n.replace(MD," ")}(_).split(AD);for(let Yt=0;Yt<yt.length;Yt++){let qt=yt[Yt];if(1&Yt){const dn=47===qt.charCodeAt(0),xn=qt.charCodeAt(dn?1:0),Kn=ki+Number.parseInt(qt.substring(dn?2:1));if(dn)ke.shift(),Ke.shift(),Na(Hc(),!1);else{const ai=gD(n,ke[0],Kn);ke.unshift([]),Na(ai,!0);const Un={kind:2,index:Kn,children:[],type:35===xn?0:1};Ke[0].push(Un),Ke.unshift(Un.children)}}else{const dn=_C(qt);for(let xn=0;xn<dn.length;xn++){let Kn=dn[xn];if(1&xn){const ai=Kn;if("object"!=typeof ai)throw new Error(`Unable to parse ICU expression in "${_}" message.`);const er=aE(n,F,ke[0],s,X,"",!0).index;uE(Ke[0],n,s,oe,i,ai,er)}else""!==Kn&&ND(Ke[0],n,F,ke[0],X,oe,s,Kn)}}}n.data[u]={create:X,update:oe,ast:Ke[0]}}(u,null===X?0:X.index,_,T,F,s),2===u.type?_[_e][me]|=32:_[me]|=32;const oe=u.data[T],Ke=Dg(u,X===_[At]?null:X,_);(function wD(n,i,s,u){const _=n[Qn];for(let T=0;T<i.length;T++){const F=i[T++],ke=(F&Da.APPEND_EAGERLY)===Da.APPEND_EAGERLY,Ke=F>>>Da.SHIFT;let yt=n[Ke],Yt=!1;null===yt&&(yt=n[Ke]=Bp(n,Ke,i[T],(F&Da.COMMENT)===Da.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Yt=zc()),ke&&null!==s&&Yt&&pc(_,s,yt,u,!1)}})(_,oe.create,Ke,X&&8&X.type?_[X.index]:null),rm(!0)}function gE(n,i,s){pE(n,i,s),function mE(){rm(!1)}()}function CC(n,i,s,u){const _=Mn(),T=xr(),F=fs();return wC(T,_,_[Qn],F,n,i,u),CC}function wC(n,i,s,u,_,T,F){const X=Ko(u),ke=n.firstCreatePass&&Zg(n),Ke=i[un],yt=Qg(i);let Yt=!0;if(3&u.type||F){const xn=Xo(u,i),Kn=F?F(xn):xn,ai=yt.length,Un=F?Xr=>F(Wr(Xr[u.index])):u.index;let er=null;if(!F&&X&&(er=function t2(n,i,s,u){const _=n.cleanup;if(null!=_)for(let T=0;T<_.length-1;T+=2){const F=_[T];if(F===s&&_[T+1]===u){const X=i[on],oe=_[T+2];return X.length>oe?X[oe]:null}"string"==typeof F&&(T+=2)}return null}(n,i,_,u.index)),null!==er)(er.__ngLastListenerFn__||er).__ngNextListenerFn__=T,er.__ngLastListenerFn__=T,Yt=!1;else{T=bE(u,i,Ke,T,!1);const Xr=s.listen(Kn,_,T);yt.push(T,Xr),ke&&ke.push(_,Un,ai,ai+1)}}else T=bE(u,i,Ke,T,!1);const qt=u.outputs;let dn;if(Yt&&null!==qt&&(dn=qt[_])){const xn=dn.length;if(xn)for(let Kn=0;Kn<xn;Kn+=2){const Us=i[dn[Kn]][dn[Kn+1]].subscribe(T),Ho=yt.length;yt.push(T,Us),ke&&ke.push(_,u.index,Ho,-(Ho+1))}}}function _E(n,i,s,u){const _=g(null);try{return da(6,i,s),!1!==s(u)}catch(T){return Id(n,T),!1}finally{da(7,i,s),g(_)}}function bE(n,i,s,u,_){return function T(F){if(F===Function)return u;vu(n.componentOffset>-1?va(n.index,i):i);let oe=_E(i,s,u,F),ke=T.__ngNextListenerFn__;for(;ke;)oe=_E(i,s,ke,F)&&oe,ke=ke.__ngNextListenerFn__;return _&&!1===oe&&F.preventDefault(),oe}}function CE(n=1){return function Iv(n){return(tr.lFrame.contextLView=function Kp(n,i){for(;n>0;)i=i[Nt],n--;return i}(n,tr.lFrame.contextLView))[un]}(n)}function n2(n,i){let s=null;const u=function Et(n){const i=n.attrs;if(null!=i){const s=i.indexOf(5);if(!(1&s))return i[s+1]}return null}(n);for(let _=0;_<i.length;_++){const T=i[_];if("*"!==T){if(null===u?Ze(n,T,!0):Wt(u,T))return _}else s=_}return s}function wE(n){const i=Mn()[_e][At];if(!i.projection){const u=i.projection=function qs(n,i){const s=[];for(let u=0;u<n;u++)s.push(i);return s}(n?n.length:1,null),_=u.slice();let T=i.child;for(;null!==T;){const F=n?n2(T,n):0;null!==F&&(_[F]?_[F].projectionNext=T:u[F]=T,_[F]=T),T=T.next}}}function SE(n,i=0,s){const u=Mn(),_=xr(),T=vc(_,ki+n,16,null,s||null);null===T.projection&&(T.projection=i),wh(),(!u[Ht]||ic())&&32&~T.flags&&function Gy(n,i,s){Ng(i[Qn],0,i,s,Ig(n,s,i),Cd(s.parent||i[At],s,i))}(_,u,T)}function SC(n,i,s){return X0(n,"",i,"",s),SC}function X0(n,i,s,u,_){const T=Mn(),F=Ql(T,i,s,u);return F!==lr&&fa(xr(),Fs(),T,n,F,T[Qn],_,!1),X0}function EC(n,i,s,u,_,T,F){const X=Mn(),oe=kc(X,i,s,u,_,T);return oe!==lr&&fa(xr(),Fs(),X,n,oe,X[Qn],F,!1),EC}function xE(n,i,s,u){!function k1(n,i,s,u){const _=xr();if(_.firstCreatePass){const T=fs();N1(_,new ep(i,s,u),T.index),function hb(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(_,n),!(2&~s)&&(_.staticContentQueries=!0)}return M1(_,Mn(),s)}(n,i,s,u)}function kE(n,i,s){!function x1(n,i,s){const u=xr();return u.firstCreatePass&&(N1(u,new ep(n,i,s),-1),!(2&~i)&&(u.staticViewQueries=!0)),M1(u,Mn(),i)}(n,i,s)}function NE(n){const i=Mn(),s=xr(),u=Eh();zu(u+1);const _=sp(s,u);if(n.dirty&&function qC(n){return!(4&~n[me])}(i)===!(2&~_.metadata.flags)){if(null===_.matches)n.reset([]);else{const T=O1(i,u);n.reset(T,Ll),n.notifyOnChanges()}return!0}return!1}function OE(){return function rp(n,i){return n[pn].queries[i].queryList}(Mn(),Eh())}function FE(n){return nc(function Cv(){return tr.lFrame.contextLView}(),ki+n)}function WE(n,i=""){const s=Mn(),u=xr(),_=n+ki,T=u.firstCreatePass?vc(u,_,1,i,null):u.data[_],F=zE(u,s,T,i,n);s[_]=F,zc()&&mc(u,s,F,T),Na(T,!1)}let zE=(n,i,s,u,_)=>(za(!0),Sg(i[Qn],u));function TC(n){return J0("",n,""),TC}function J0(n,i,s){const u=Mn(),_=Ql(u,n,i,s);return _!==lr&&Ua(u,Jo(),_),J0}function IC(n,i,s,u,_){const T=Mn(),F=kc(T,n,i,s,u,_);return F!==lr&&Ua(T,Jo(),F),IC}function DC(n,i,s){B1(i)&&(i=i());const u=Mn();return ao(u,Oa(),i)&&fa(xr(),Fs(),u,n,i,u[Qn],s,!1),DC}function eT(n,i){const s=B1(n);return s&&n.set(i),s}function RC(n,i){const s=Mn(),u=xr(),_=fs();return wC(u,s,s[Qn],_,n,i),RC}function AC(n,i,s,u,_){if(n=mt(n),Array.isArray(n))for(let T=0;T<n.length;T++)AC(n[T],i,s,u,_);else{const T=xr(),F=Mn(),X=fs();let oe=So(n)?n:mt(n.provide);const ke=hr(n),Ke=1048575&X.providerIndexes,yt=X.directiveStart,Yt=X.providerIndexes>>20;if(So(n)||!n.multi){const qt=new Yu(ke,_,gc),dn=xC(oe,i,_?Ke:Ke+Yt,yt);-1===dn?(Oh(Ju(X,F),T,oe),MC(T,n,i.length),i.push(oe),X.directiveStart++,X.directiveEnd++,_&&(X.providerIndexes+=1048576),s.push(qt),F.push(qt)):(s[dn]=qt,F[dn]=qt)}else{const qt=xC(oe,i,Ke+Yt,yt),dn=xC(oe,i,Ke,Ke+Yt),Kn=dn>=0&&s[dn];if(_&&!Kn||!_&&!(qt>=0&&s[qt])){Oh(Ju(X,F),T,oe);const ai=function C2(n,i,s,u,_){const T=new Yu(n,s,gc);return T.multi=[],T.index=i,T.componentProviders=0,tT(T,_,u&&!s),T}(_?b2:_2,s.length,_,u,ke);!_&&Kn&&(s[dn].providerFactory=ai),MC(T,n,i.length,0),i.push(oe),X.directiveStart++,X.directiveEnd++,_&&(X.providerIndexes+=1048576),s.push(ai),F.push(ai)}else MC(T,n,qt>-1?qt:dn,tT(s[_?dn:qt],ke,!_&&u));!_&&u&&Kn&&s[dn].componentProviders++}}}function MC(n,i,s,u){const _=So(i),T=function No(n){return!!n.useClass}(i);if(_||T){const oe=(T?mt(i.useClass):i).prototype.ngOnDestroy;if(oe){const ke=n.destroyHooks||(n.destroyHooks=[]);if(!_&&i.multi){const Ke=ke.indexOf(s);-1===Ke?ke.push(s,[u,oe]):ke[Ke+1].push(u,oe)}else ke.push(s,oe)}}}function tT(n,i,s){return s&&n.componentProviders++,n.multi.push(i)-1}function xC(n,i,s,u){for(let _=s;_<u;_++)if(i[_]===n)return _;return-1}function _2(n,i,s,u){return kC(this.multi,[])}function b2(n,i,s,u){const _=this.multi;let T;if(this.providerFactory){const F=this.providerFactory.componentProviders,X=Fl(s,s[L],this.providerFactory.index,u);T=X.slice(0,F),kC(_,T);for(let oe=F;oe<X.length;oe++)T.push(X[oe])}else T=[],kC(_,T);return T}function kC(n,i){for(let s=0;s<n.length;s++)i.push((0,n[s])());return i}function nT(n,i=[]){return s=>{s.providersResolver=(u,_)=>function y2(n,i,s){const u=xr();if(u.firstCreatePass){const _=Po(n);AC(s,u.data,u.blueprint,_,!0),AC(i,u.data,u.blueprint,_,!1)}}(u,_?_(n):n,i)}}let w2=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const u=Ms(0,s.type),_=u.length>0?hp([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,_)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ri({token:n,providedIn:"environment",factory:()=>new n(or(Mr))})}}return n})();function iT(n){Qa("NgStandalone"),n.getStandaloneInjector=i=>i.get(w2).getOrCreateStandaloneInjector(n)}function sT(n,i,s){const u=ra()+n,_=Mn();return _[u]===lr?el(_,u,s?i.call(s):i()):Ou(_,u)}function oT(n,i,s,u){return hT(Mn(),ra(),n,i,s,u)}function aT(n,i,s,u,_){return fT(Mn(),ra(),n,i,s,u,_)}function lT(n,i,s,u,_,T){return pT(Mn(),ra(),n,i,s,u,_,T)}function cT(n,i,s,u,_,T,F){return function mT(n,i,s,u,_,T,F,X,oe){const ke=i+s;return Ia(n,ke,_,T,F,X)?el(n,ke+4,oe?u.call(oe,_,T,F,X):u(_,T,F,X)):Vp(n,ke+4)}(Mn(),ra(),n,i,s,u,_,T,F)}function uT(n,i,s,u,_,T,F,X){const oe=ra()+n,ke=Mn(),Ke=Ia(ke,oe,s,u,_,T);return ao(ke,oe+4,F)||Ke?el(ke,oe+5,X?i.call(X,s,u,_,T,F):i(s,u,_,T,F)):Ou(ke,oe+5)}function dT(n,i,s,u,_,T,F,X,oe){const ke=ra()+n,Ke=Mn(),yt=Ia(Ke,ke,s,u,_,T);return Yl(Ke,ke+4,F,X)||yt?el(Ke,ke+6,oe?i.call(oe,s,u,_,T,F,X):i(s,u,_,T,F,X)):Ou(Ke,ke+6)}function Vp(n,i){const s=n[i];return s===lr?void 0:s}function hT(n,i,s,u,_,T){const F=i+s;return ao(n,F,_)?el(n,F+1,T?u.call(T,_):u(_)):Vp(n,F+1)}function fT(n,i,s,u,_,T,F){const X=i+s;return Yl(n,X,_,T)?el(n,X+2,F?u.call(F,_,T):u(_,T)):Vp(n,X+2)}function pT(n,i,s,u,_,T,F,X){const oe=i+s;return function Jd(n,i,s,u,_){const T=Yl(n,i,s,u);return ao(n,i+2,_)||T}(n,oe,_,T,F)?el(n,oe+3,X?u.call(X,_,T,F):u(_,T,F)):Vp(n,oe+3)}function vT(n,i){const s=xr();let u;const _=n+ki;s.firstCreatePass?(u=function R2(n,i){if(i)for(let s=i.length-1;s>=0;s--){const u=i[s];if(n===u.name)return u}}(i,s.pipeRegistry),s.data[_]=u,u.onDestroy&&(s.destroyHooks??=[]).push(_,u.onDestroy)):u=s.data[_];const T=u.factory||(u.factory=Qr(u.type)),X=kr(gc);try{const oe=xh(!1),ke=T();return xh(oe),function o2(n,i,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),i[s]=u}(s,Mn(),_,ke),ke}finally{kr(X)}}function yT(n,i,s){const u=n+ki,_=Mn(),T=nc(_,u);return jp(_,u)?hT(_,ra(),i,T.transform,s,T):T.transform(s)}function _T(n,i,s,u){const _=n+ki,T=Mn(),F=nc(T,_);return jp(T,_)?fT(T,ra(),i,F.transform,s,u,F):F.transform(s,u)}function bT(n,i,s,u,_){const T=n+ki,F=Mn(),X=nc(F,T);return jp(F,T)?pT(F,ra(),i,X.transform,s,u,_,X):X.transform(s,u,_)}function jp(n,i){return n[L].data[i].pure}function CT(n,i){return Ad(n,i)}class BT{constructor(i){this.full=i;const s=i.split(".");this.major=s[0],this.minor=s[1],this.patch=s.slice(2).join(".")}}let LT=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const GT=new ht(""),HT=new ht("");let LC,SR=(()=>{class n{constructor(s,u,_){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,LC||(function ER(n){LC=n}(_),_.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{is.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,_){let T=-1;u&&u>0&&(T=setTimeout(()=>{this._callbacks=this._callbacks.filter(F=>F.timeoutId!==T),s()},u)),this._callbacks.push({doneCb:s,timeoutId:T,updateCb:_})}whenStable(s,u,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,_){return[]}static{this.\u0275fac=function(u){return new(u||n)(or(is),or(WT),or(HT))}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac})}}return n})(),WT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return LC?.findTestabilityInTree(this,s,u)??null}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function UC(n){return!!n&&"function"==typeof n.then}function zT(n){return!!n&&"function"==typeof n.subscribe}const KT=new ht("");let VC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,u)=>{this.resolve=s,this.reject=u}),this.appInits=si(KT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const _ of this.appInits){const T=_();if(UC(T))s.push(T);else if(zT(T)){const F=new Promise((X,oe)=>{T.subscribe({complete:X,error:oe})});s.push(F)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{u()}).catch(_=>{this.reject(_)}),0===s.length&&u(),this.initialized=!0}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const jC=new ht("");function JT(n,i){return Array.isArray(i)?i.reduce(JT,n):{...n,...i}}let Lc=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=si($v),this.afterRenderEffectManager=si(Ru),this.externalTestViews=new Set,this.beforeRender=new q.B,this.afterTick=new q.B,this.componentTypes=[],this.components=[],this.isStable=si(Sc).hasPendingTasks.pipe((0,De.T)(s=>!s)),this._injector=si(Mr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const _=s instanceof Su;if(!this._injector.get(VC).done)throw!_&&Ss(s),new o(405,!1);let F;F=_?s:this._injector.get(Iu).resolveComponentFactory(s),this.componentTypes.push(F.componentType);const X=function TR(n){return n.isBoundToModule}(F)?void 0:this._injector.get(Kl),ke=F.create(ha.NULL,[],u||F.selector,X),Ke=ke.location.nativeElement,yt=ke.injector.get(GT,null);return yt?.registerApplication(Ke),ke.onDestroy(()=>{this.detachView(ke.hostView),ev(this.components,ke),yt?.unregisterApplication(Ke)}),this._loadComponent(ke),ke}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new o(101,!1);const u=g(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(_){this.internalErrorHandler(_)}finally{this.afterTick.next(),this._runningTick=!1,g(u)}}detectChangesInAttachedViews(s){let u=0;const _=this.afterRenderEffectManager;for(;;){if(u===n1)throw new o(103,!1);if(s){const T=0===u;this.beforeRender.next(T);for(let{_lView:F,notifyErrorHandler:X}of this._views)DR(F,T,X)}if(u++,_.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>$C(T))&&(_.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:T})=>$C(T))))break}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;ev(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const u=this._injector.get(jC,[]);[...this._bootstrapListeners,...u].forEach(_=>_(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>ev(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new o(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ev(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}function DR(n,i,s){!i&&!$C(n)||function RR(n,i,s){let u;s?(u=0,n[me]|=1024):u=64&n[me]?0:1,Rd(n,i,u)}(n,s,i)}function $C(n){return Yp(n)}class AR{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let MR=(()=>{class n{compileModuleSync(s){return new Kd(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),T=Sa(nr(s).declarations).reduce((F,X)=>{const oe=Fi(X);return oe&&F.push(new Mu(oe)),F},[]);return new AR(u,T)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),NR=(()=>{class n{constructor(){this.zone=si(is),this.applicationRef=si(Lc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OR(){const n=si(is),i=si(ml);return s=>n.runOutsideAngular(()=>i.handleError(s))}let PR=(()=>{class n{constructor(){this.subscription=new Q.yU,this.initialized=!1,this.zone=si(is),this.pendingTasks=si(Sc)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{is.assertNotInAngularZone(),queueMicrotask(()=>{null!==s&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{is.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(u){return new(u||n)}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const nv=new ht("",{providedIn:"root",factory:()=>si(nv,Ai.Optional|Ai.SkipSelf)||function BR(){return typeof $localize<"u"&&$localize.locale||hh}()}),LR=new ht("",{providedIn:"root",factory:()=>"USD"}),GC=new ht("");let eI=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const _=function z_(n="zone.js",i){return"noop"===n?new g1:"zone.js"===n?new is(i):n}(u?.ngZone,function qT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:u?.ngZoneEventCoalescing,runCoalescing:u?.ngZoneRunCoalescing}));return _.run(()=>{const T=function Mb(n,i,s){return new dp(n,i,s)}(s.moduleType,this.injector,function ZT(n){return[{provide:is,useFactory:n},{provide:as,multi:!0,useFactory:()=>{const i=si(NR,{optional:!0});return()=>i.initialize()}},{provide:as,multi:!0,useFactory:()=>{const i=si(PR);return()=>{i.initialize()}}},{provide:$v,useFactory:OR}]}(()=>_)),F=T.injector.get(ml,null);return _.runOutsideAngular(()=>{const X=_.onError.subscribe({next:oe=>{F.handleError(oe)}});T.onDestroy(()=>{ev(this._modules,T),X.unsubscribe()})}),function XT(n,i,s){try{const u=s();return UC(u)?u.catch(_=>{throw i.runOutsideAngular(()=>n.handleError(_)),_}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(F,_,()=>{const X=T.injector.get(VC);return X.runInitializers(),X.donePromise.then(()=>(function zS(n){"string"==typeof n&&(WS=n.toLowerCase().replace(/_/g,"-"))}(T.injector.get(nv,hh)||hh),this._moduleDoBootstrap(T),T))})})}bootstrapModule(s,u=[]){const _=JT({},u);return function kR(n,i,s){const u=new Kd(s);return Promise.resolve(u)}(0,0,s).then(T=>this.bootstrapModuleFactory(T,_))}_moduleDoBootstrap(s){const u=s.injector.get(Lc);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(_=>u.bootstrap(_));else{if(!s.instance.ngDoBootstrap)throw new o(-403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new o(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(GC,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(u){return new(u||n)(or(ha))}}static{this.\u0275prov=ri({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),Uc=null;const tI=new ht("");function nI(n,i,s=[]){const u=`Platform: ${i}`,_=new ht(u);return(T=[])=>{let F=HC();if(!F||F.injector.get(tI,!1)){const X=[...s,...T,{provide:_,useValue:!0}];n?n(X):function VR(n){if(Uc&&!Uc.get(tI,!1))throw new o(400,!1);(function YT(){!function Me(n){Fe=n}(()=>{throw new o(600,!1)})})(),Uc=n;const i=n.get(eI);(function rI(n){n.get(ry,null)?.forEach(s=>s())})(n)}(function iI(n=[],i){return ha.create({name:i,providers:[{provide:zo,useValue:"platform"},{provide:GC,useValue:new Set([()=>Uc=null])},...n]})}(X,u))}return function jR(n){const i=HC();if(!i)throw new o(401,!1);return i}()}}function HC(){return Uc?.get(eI)??null}function GR(){return!1}function HR(){}let oI=(()=>{class n{static{this.__NG_ELEMENT_ID__=WR}}return n})();function WR(n){return function zR(n,i,s){if(Ca(n)&&!s){const u=va(n.index,i);return new yc(u,u)}return 47&n.type?new yc(i[_e],i):null}(fs(),Mn(),!(16&~n))}class uI{constructor(){}supports(i){return Xd(i)}create(i){return new QR(i)}}const JR=(n,i)=>i;class QR{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||JR}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,u=this._removalsHead,_=0,T=null;for(;s||u;){const F=!u||s&&s.currentIndex<hI(u,_,T)?s:u,X=hI(F,_,T),oe=F.currentIndex;if(F===u)_--,u=u._nextRemoved;else if(s=s._next,null==F.previousIndex)_++;else{T||(T=[]);const ke=X-_,Ke=oe-_;if(ke!=Ke){for(let Yt=0;Yt<ke;Yt++){const qt=Yt<T.length?T[Yt]:T[Yt]=0,dn=qt+Yt;Ke<=dn&&dn<ke&&(T[Yt]=qt+1)}T[F.previousIndex]=Ke-ke}}X!==oe&&i(F,X,oe)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!Xd(i))throw new o(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let _,T,F,s=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let X=0;X<this.length;X++)T=i[X],F=this._trackByFn(X,T),null!==s&&Object.is(s.trackById,F)?(u&&(s=this._verifyReinsertion(s,T,F,X)),Object.is(s.item,T)||this._addIdentityChange(s,T)):(s=this._mismatch(s,T,F,X),u=!0),s=s._next}else _=0,function Ob(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[Symbol.iterator]();let u;for(;!(u=s.next()).done;)i(u.value)}}(i,X=>{F=this._trackByFn(_,X),null!==s&&Object.is(s.trackById,F)?(u&&(s=this._verifyReinsertion(s,X,F,_)),Object.is(s.item,X)||this._addIdentityChange(s,X)):(s=this._mismatch(s,X,F,_),u=!0),s=s._next,_++}),this.length=_;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,u,_){let T;return null===i?T=this._itTail:(T=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,T,_)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,_))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,T,_)):i=this._addAfter(new ZR(s,u),T,_),i}_verifyReinsertion(i,s,u,_){let T=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==T?i=this._reinsertAfter(T,i._prev,_):i.currentIndex!=_&&(i.currentIndex=_,this._addToMoves(i,_)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const _=i._prevRemoved,T=i._nextRemoved;return null===_?this._removalsHead=T:_._nextRemoved=T,null===T?this._removalsTail=_:T._prevRemoved=_,this._insertAfter(i,s,u),this._addToMoves(i,u),i}_moveAfter(i,s,u){return this._unlink(i),this._insertAfter(i,s,u),this._addToMoves(i,u),i}_addAfter(i,s,u){return this._insertAfter(i,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,u){const _=null===s?this._itHead:s._next;return i._next=_,i._prev=s,null===_?this._itTail=i:_._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new dI),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,u=i._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new dI),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class ZR{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qR{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const s=i._prevDup,u=i._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class dI{constructor(){this.map=new Map}put(i){const s=i.trackById;let u=this.map.get(s);u||(u=new qR,this.map.set(s,u)),u.add(i)}get(i,s){const _=this.map.get(i);return _?_.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hI(n,i,s){const u=n.previousIndex;if(null===u)return u;let _=0;return s&&u<s.length&&(_=s[u]),u+i+_}class fI{constructor(){}supports(i){return i instanceof Map||fp(i)}create(){return new eA}}class eA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||fp(i)))throw new o(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,_)=>{if(s&&s.key===_)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const T=this._getOrCreateRecordForKey(_,u);s=this._insertBeforeOrAppend(s,T)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const u=i._prev;return s._next=i,s._prev=u,i._prev=s,u&&(u._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const _=this._records.get(i);this._maybeAddToChanges(_,s);const T=_._prev,F=_._next;return T&&(T._next=F),F&&(F._prev=T),_._next=null,_._prev=null,_}const u=new tA(i);return this._records.set(i,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(u=>s(i[u],u))}}class tA{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pI(){return new XC([new uI])}let XC=(()=>{class n{static{this.\u0275prov=ri({token:n,providedIn:"root",factory:pI})}constructor(s){this.factories=s}static create(s,u){if(null!=u){const _=u.factories.slice();s=s.concat(_)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||pI()),deps:[[n,new Jr,new vr]]}}find(s){const u=this.factories.find(_=>_.supports(s));if(null!=u)return u;throw new o(901,!1)}}return n})();function mI(){return new JC([new fI])}let JC=(()=>{class n{static{this.\u0275prov=ri({token:n,providedIn:"root",factory:mI})}constructor(s){this.factories=s}static create(s,u){if(u){const _=u.factories.slice();s=s.concat(_)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||mI()),deps:[[n,new Jr,new vr]]}}find(s){const u=this.factories.find(_=>_.supports(s));if(u)return u;throw new o(901,!1)}}return n})();const rA=nI(null,"core",[]);let sA=(()=>{class n{constructor(s){}static{this.\u0275fac=function(u){return new(u||n)(or(Lc))}}static{this.\u0275mod=Ln({type:n})}static{this.\u0275inj=ti({})}}return n})();function OA(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function PA(n){const i=g(null);try{return n()}finally{g(i)}}function $A(n,i){const s=Fi(n),u=i.elementInjector||ms();return new Mu(s).create(u,i.projectableNodes,i.hostElement,i.environmentInjector)}function GA(n){const i=Fi(n);if(!i)return null;const s=new Mu(i);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}},9417:(nt,ye,d)=>{"use strict";d.d(ye,{$R:()=>gi,BC:()=>at,Fm:()=>Ai,JD:()=>Ar,Q0:()=>Pr,VZ:()=>Qr,X1:()=>ps,YN:()=>ro,YS:()=>Rs,Zm:()=>v,cV:()=>Ue,cb:()=>o,cz:()=>W,hs:()=>_n,j4:()=>Pi,k0:()=>G,kq:()=>h,l_:()=>Er,me:()=>k,ok:()=>Hs,qT:()=>mr,tU:()=>wr,vO:()=>Q,vS:()=>hi,wz:()=>or,xH:()=>Li,xh:()=>Js,y7:()=>js,ze:()=>Kr});var t=d(4438),e=d(177),p=d(6648),S=d(7468),C=d(6354);let w=(()=>{class Ve{constructor(ve,it){this._renderer=ve,this._elementRef=it,this.onChange=jt=>{},this.onTouched=()=>{}}setProperty(ve,it){this._renderer.setProperty(this._elementRef.nativeElement,ve,it)}registerOnTouched(ve){this.onTouched=ve}registerOnChange(ve){this.onChange=ve}setDisabledState(ve){this.setProperty("disabled",ve)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(t.sFG),t.rXU(t.aKT))}}static{this.\u0275dir=t.FsC({type:Ve})}}return Ve})(),g=(()=>{class Ve extends w{static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,features:[t.Vt3]})}}return Ve})();const h=new t.nKC(""),E={provide:h,useExisting:(0,t.Rfq)(()=>v),multi:!0};let v=(()=>{class Ve extends g{writeValue(ve){this.setProperty("checked",ve)}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(it,jt){1&it&&t.bIt("change",function(Mi){return jt.onChange(Mi.target.checked)})("blur",function(){return jt.onTouched()})},features:[t.Jv_([E]),t.Vt3]})}}return Ve})();const B={provide:h,useExisting:(0,t.Rfq)(()=>k),multi:!0},a=new t.nKC("");let k=(()=>{class Ve extends w{constructor(ve,it,jt){super(ve,it),this._compositionMode=jt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function U(){const Ve=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(Ve.toLowerCase())}())}writeValue(ve){this.setProperty("value",ve??"")}_handleInput(ve){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(ve)}_compositionStart(){this._composing=!0}_compositionEnd(ve){this._composing=!1,this._compositionMode&&this.onChange(ve)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(a,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(it,jt){1&it&&t.bIt("input",function(Mi){return jt._handleInput(Mi.target.value)})("blur",function(){return jt.onTouched()})("compositionstart",function(){return jt._compositionStart()})("compositionend",function(Mi){return jt._compositionEnd(Mi.target.value)})},features:[t.Jv_([B]),t.Vt3]})}}return Ve})();function O(Ve){return null==Ve||("string"==typeof Ve||Array.isArray(Ve))&&0===Ve.length}function P(Ve){return null!=Ve&&"number"==typeof Ve.length}const W=new t.nKC(""),N=new t.nKC(""),H=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class G{static min(He){return z(He)}static max(He){return function ce(Ve){return He=>{if(O(He.value)||O(Ve))return null;const ve=parseFloat(He.value);return!isNaN(ve)&&ve>Ve?{max:{max:Ve,actual:He.value}}:null}}(He)}static required(He){return de(He)}static requiredTrue(He){return function Y(Ve){return!0===Ve.value?null:{required:!0}}(He)}static email(He){return function Z(Ve){return O(Ve.value)||H.test(Ve.value)?null:{email:!0}}(He)}static minLength(He){return ne(He)}static maxLength(He){return I(He)}static pattern(He){return function pe(Ve){if(!Ve)return K;let He,ve;return"string"==typeof Ve?(ve="","^"!==Ve.charAt(0)&&(ve+="^"),ve+=Ve,"$"!==Ve.charAt(Ve.length-1)&&(ve+="$"),He=new RegExp(ve)):(ve=Ve.toString(),He=Ve),it=>{if(O(it.value))return null;const jt=it.value;return He.test(jt)?null:{pattern:{requiredPattern:ve,actualValue:jt}}}}(He)}static nullValidator(He){return null}static compose(He){return Te(He)}static composeAsync(He){return $e(He)}}function z(Ve){return He=>{if(O(He.value)||O(Ve))return null;const ve=parseFloat(He.value);return!isNaN(ve)&&ve<Ve?{min:{min:Ve,actual:He.value}}:null}}function de(Ve){return O(Ve.value)?{required:!0}:null}function ne(Ve){return He=>O(He.value)||!P(He.value)?null:He.value.length<Ve?{minlength:{requiredLength:Ve,actualLength:He.value.length}}:null}function I(Ve){return He=>P(He.value)&&He.value.length>Ve?{maxlength:{requiredLength:Ve,actualLength:He.value.length}}:null}function K(Ve){return null}function he(Ve){return null!=Ve}function Oe(Ve){return(0,t.jNT)(Ve)?(0,p.H)(Ve):Ve}function Ae(Ve){let He={};return Ve.forEach(ve=>{He=null!=ve?{...He,...ve}:He}),0===Object.keys(He).length?null:He}function Fe(Ve,He){return He.map(ve=>ve(Ve))}function Me(Ve){return Ve.map(He=>function qe(Ve){return!Ve.validate}(He)?He:ve=>He.validate(ve))}function Te(Ve){if(!Ve)return null;const He=Ve.filter(he);return 0==He.length?null:function(ve){return Ae(Fe(ve,He))}}function ge(Ve){return null!=Ve?Te(Me(Ve)):null}function $e(Ve){if(!Ve)return null;const He=Ve.filter(he);return 0==He.length?null:function(ve){const it=Fe(ve,He).map(Oe);return(0,S.p)(it).pipe((0,C.T)(Ae))}}function xe(Ve){return null!=Ve?$e(Me(Ve)):null}function pt(Ve,He){return null===Ve?[He]:Array.isArray(Ve)?[...Ve,He]:[Ve,He]}function Le(Ve){return Ve._rawValidators}function Ct(Ve){return Ve._rawAsyncValidators}function ut(Ve){return Ve?Array.isArray(Ve)?Ve:[Ve]:[]}function hn(Ve,He){return Array.isArray(Ve)?Ve.includes(He):Ve===He}function mn(Ve,He){const ve=ut(He);return ut(Ve).forEach(jt=>{hn(ve,jt)||ve.push(jt)}),ve}function Rt(Ve,He){return ut(He).filter(ve=>!hn(Ve,ve))}class Dt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(He){this._rawValidators=He||[],this._composedValidatorFn=ge(this._rawValidators)}_setAsyncValidators(He){this._rawAsyncValidators=He||[],this._composedAsyncValidatorFn=xe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(He){this._onDestroyCallbacks.push(He)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(He=>He()),this._onDestroyCallbacks=[]}reset(He=void 0){this.control&&this.control.reset(He)}hasError(He,ve){return!!this.control&&this.control.hasError(He,ve)}getError(He,ve){return this.control?this.control.getError(He,ve):null}}class q extends Dt{get formDirective(){return null}get path(){return null}}class Q extends Dt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class te{constructor(He){this._cd=He}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class Ve extends te{constructor(ve){super(ve)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(Q,2))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(it,jt){2&it&&t.AVh("ng-untouched",jt.isUntouched)("ng-touched",jt.isTouched)("ng-pristine",jt.isPristine)("ng-dirty",jt.isDirty)("ng-valid",jt.isValid)("ng-invalid",jt.isInvalid)("ng-pending",jt.isPending)},features:[t.Vt3]})}}return Ve})(),o=(()=>{class Ve extends te{constructor(ve){super(ve)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(q,10))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(it,jt){2&it&&t.AVh("ng-untouched",jt.isUntouched)("ng-touched",jt.isTouched)("ng-pristine",jt.isPristine)("ng-dirty",jt.isDirty)("ng-valid",jt.isValid)("ng-invalid",jt.isInvalid)("ng-pending",jt.isPending)("ng-submitted",jt.isSubmitted)},features:[t.Vt3]})}}return Ve})();const sn="VALID",Pn="INVALID",$n="PENDING",Vn="DISABLED";function Mt(Ve){return(St(Ve)?Ve.validators:Ve)||null}function Qt(Ve,He){return(St(He)?He.asyncValidators:Ve)||null}function St(Ve){return null!=Ve&&!Array.isArray(Ve)&&"object"==typeof Ve}function dt(Ve,He,ve){const it=Ve.controls;if(!(He?Object.keys(it):it).length)throw new t.wOt(1e3,"");if(!it[ve])throw new t.wOt(1001,"")}function Ut(Ve,He,ve){Ve._forEachChild((it,jt)=>{if(void 0===ve[jt])throw new t.wOt(1002,"")})}class rn{constructor(He,ve){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(He),this._assignAsyncValidators(ve)}get validator(){return this._composedValidatorFn}set validator(He){this._rawValidators=this._composedValidatorFn=He}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(He){this._rawAsyncValidators=this._composedAsyncValidatorFn=He}get parent(){return this._parent}get valid(){return this.status===sn}get invalid(){return this.status===Pn}get pending(){return this.status==$n}get disabled(){return this.status===Vn}get enabled(){return this.status!==Vn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(He){this._assignValidators(He)}setAsyncValidators(He){this._assignAsyncValidators(He)}addValidators(He){this.setValidators(mn(He,this._rawValidators))}addAsyncValidators(He){this.setAsyncValidators(mn(He,this._rawAsyncValidators))}removeValidators(He){this.setValidators(Rt(He,this._rawValidators))}removeAsyncValidators(He){this.setAsyncValidators(Rt(He,this._rawAsyncValidators))}hasValidator(He){return hn(this._rawValidators,He)}hasAsyncValidator(He){return hn(this._rawAsyncValidators,He)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(He={}){this.touched=!0,this._parent&&!He.onlySelf&&this._parent.markAsTouched(He)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(He=>He.markAllAsTouched())}markAsUntouched(He={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ve=>{ve.markAsUntouched({onlySelf:!0})}),this._parent&&!He.onlySelf&&this._parent._updateTouched(He)}markAsDirty(He={}){this.pristine=!1,this._parent&&!He.onlySelf&&this._parent.markAsDirty(He)}markAsPristine(He={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ve=>{ve.markAsPristine({onlySelf:!0})}),this._parent&&!He.onlySelf&&this._parent._updatePristine(He)}markAsPending(He={}){this.status=$n,!1!==He.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!He.onlySelf&&this._parent.markAsPending(He)}disable(He={}){const ve=this._parentMarkedDirty(He.onlySelf);this.status=Vn,this.errors=null,this._forEachChild(it=>{it.disable({...He,onlySelf:!0})}),this._updateValue(),!1!==He.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...He,skipPristineCheck:ve}),this._onDisabledChange.forEach(it=>it(!0))}enable(He={}){const ve=this._parentMarkedDirty(He.onlySelf);this.status=sn,this._forEachChild(it=>{it.enable({...He,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:He.emitEvent}),this._updateAncestors({...He,skipPristineCheck:ve}),this._onDisabledChange.forEach(it=>it(!1))}_updateAncestors(He){this._parent&&!He.onlySelf&&(this._parent.updateValueAndValidity(He),He.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(He){this._parent=He}getRawValue(){return this.value}updateValueAndValidity(He={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sn||this.status===$n)&&this._runAsyncValidator(He.emitEvent)),!1!==He.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!He.onlySelf&&this._parent.updateValueAndValidity(He)}_updateTreeValidity(He={emitEvent:!0}){this._forEachChild(ve=>ve._updateTreeValidity(He)),this.updateValueAndValidity({onlySelf:!0,emitEvent:He.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vn:sn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(He){if(this.asyncValidator){this.status=$n,this._hasOwnPendingAsyncValidator=!0;const ve=Oe(this.asyncValidator(this));this._asyncValidationSubscription=ve.subscribe(it=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(it,{emitEvent:He})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(He,ve={}){this.errors=He,this._updateControlsErrors(!1!==ve.emitEvent)}get(He){let ve=He;return null==ve||(Array.isArray(ve)||(ve=ve.split(".")),0===ve.length)?null:ve.reduce((it,jt)=>it&&it._find(jt),this)}getError(He,ve){const it=ve?this.get(ve):this;return it&&it.errors?it.errors[He]:null}hasError(He,ve){return!!this.getError(He,ve)}get root(){let He=this;for(;He._parent;)He=He._parent;return He}_updateControlsErrors(He){this.status=this._calculateStatus(),He&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(He)}_initObservables(){this.valueChanges=new t.bkB,this.statusChanges=new t.bkB}_calculateStatus(){return this._allControlsDisabled()?Vn:this.errors?Pn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($n)?$n:this._anyControlsHaveStatus(Pn)?Pn:sn}_anyControlsHaveStatus(He){return this._anyControls(ve=>ve.status===He)}_anyControlsDirty(){return this._anyControls(He=>He.dirty)}_anyControlsTouched(){return this._anyControls(He=>He.touched)}_updatePristine(He={}){this.pristine=!this._anyControlsDirty(),this._parent&&!He.onlySelf&&this._parent._updatePristine(He)}_updateTouched(He={}){this.touched=this._anyControlsTouched(),this._parent&&!He.onlySelf&&this._parent._updateTouched(He)}_registerOnCollectionChange(He){this._onCollectionChange=He}_setUpdateStrategy(He){St(He)&&null!=He.updateOn&&(this._updateOn=He.updateOn)}_parentMarkedDirty(He){return!He&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(He){return null}_assignValidators(He){this._rawValidators=Array.isArray(He)?He.slice():He,this._composedValidatorFn=function On(Ve){return Array.isArray(Ve)?ge(Ve):Ve||null}(this._rawValidators)}_assignAsyncValidators(He){this._rawAsyncValidators=Array.isArray(He)?He.slice():He,this._composedAsyncValidatorFn=function mt(Ve){return Array.isArray(Ve)?xe(Ve):Ve||null}(this._rawAsyncValidators)}}class Tn extends rn{constructor(He,ve,it){super(Mt(ve),Qt(it,ve)),this.controls=He,this._initObservables(),this._setUpdateStrategy(ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(He,ve){return this.controls[He]?this.controls[He]:(this.controls[He]=ve,ve.setParent(this),ve._registerOnCollectionChange(this._onCollectionChange),ve)}addControl(He,ve,it={}){this.registerControl(He,ve),this.updateValueAndValidity({emitEvent:it.emitEvent}),this._onCollectionChange()}removeControl(He,ve={}){this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),delete this.controls[He],this.updateValueAndValidity({emitEvent:ve.emitEvent}),this._onCollectionChange()}setControl(He,ve,it={}){this.controls[He]&&this.controls[He]._registerOnCollectionChange(()=>{}),delete this.controls[He],ve&&this.registerControl(He,ve),this.updateValueAndValidity({emitEvent:it.emitEvent}),this._onCollectionChange()}contains(He){return this.controls.hasOwnProperty(He)&&this.controls[He].enabled}setValue(He,ve={}){Ut(this,0,He),Object.keys(He).forEach(it=>{dt(this,!0,it),this.controls[it].setValue(He[it],{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve)}patchValue(He,ve={}){null!=He&&(Object.keys(He).forEach(it=>{const jt=this.controls[it];jt&&jt.patchValue(He[it],{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve))}reset(He={},ve={}){this._forEachChild((it,jt)=>{it.reset(He?He[jt]:null,{onlySelf:!0,emitEvent:ve.emitEvent})}),this._updatePristine(ve),this._updateTouched(ve),this.updateValueAndValidity(ve)}getRawValue(){return this._reduceChildren({},(He,ve,it)=>(He[it]=ve.getRawValue(),He))}_syncPendingControls(){let He=this._reduceChildren(!1,(ve,it)=>!!it._syncPendingControls()||ve);return He&&this.updateValueAndValidity({onlySelf:!0}),He}_forEachChild(He){Object.keys(this.controls).forEach(ve=>{const it=this.controls[ve];it&&He(it,ve)})}_setUpControls(){this._forEachChild(He=>{He.setParent(this),He._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(He){for(const[ve,it]of Object.entries(this.controls))if(this.contains(ve)&&He(it))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ve,it,jt)=>((it.enabled||this.disabled)&&(ve[jt]=it.value),ve))}_reduceChildren(He,ve){let it=He;return this._forEachChild((jt,qn)=>{it=ve(it,jt,qn)}),it}_allControlsDisabled(){for(const He of Object.keys(this.controls))if(this.controls[He].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(He){return this.controls.hasOwnProperty(He)?this.controls[He]:null}}class ii extends Tn{}const bt=new t.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Gt}),Gt="always";function Kt(Ve,He){return[...He.path,Ve]}function en(Ve,He,ve=Gt){kn(Ve,He),He.valueAccessor.writeValue(Ve.value),(Ve.disabled||"always"===ve)&&He.valueAccessor.setDisabledState?.(Ve.disabled),function wi(Ve,He){He.valueAccessor.registerOnChange(ve=>{Ve._pendingValue=ve,Ve._pendingChange=!0,Ve._pendingDirty=!0,"change"===Ve.updateOn&&ri(Ve,He)})}(Ve,He),function zi(Ve,He){const ve=(it,jt)=>{He.valueAccessor.writeValue(it),jt&&He.viewToModelUpdate(it)};Ve.registerOnChange(ve),He._registerOnDestroy(()=>{Ve._unregisterOnChange(ve)})}(Ve,He),function Ri(Ve,He){He.valueAccessor.registerOnTouched(()=>{Ve._pendingTouched=!0,"blur"===Ve.updateOn&&Ve._pendingChange&&ri(Ve,He),"submit"!==Ve.updateOn&&Ve.markAsTouched()})}(Ve,He),function li(Ve,He){if(He.valueAccessor.setDisabledState){const ve=it=>{He.valueAccessor.setDisabledState(it)};Ve.registerOnDisabledChange(ve),He._registerOnDestroy(()=>{Ve._unregisterOnDisabledChange(ve)})}}(Ve,He)}function Rn(Ve,He,ve=!0){const it=()=>{};He.valueAccessor&&(He.valueAccessor.registerOnChange(it),He.valueAccessor.registerOnTouched(it)),Cn(Ve,He),Ve&&(He._invokeOnDestroyCallbacks(),Ve._registerOnCollectionChange(()=>{}))}function Sn(Ve,He){Ve.forEach(ve=>{ve.registerOnValidatorChange&&ve.registerOnValidatorChange(He)})}function kn(Ve,He){const ve=Le(Ve);null!==He.validator?Ve.setValidators(pt(ve,He.validator)):"function"==typeof ve&&Ve.setValidators([ve]);const it=Ct(Ve);null!==He.asyncValidator?Ve.setAsyncValidators(pt(it,He.asyncValidator)):"function"==typeof it&&Ve.setAsyncValidators([it]);const jt=()=>Ve.updateValueAndValidity();Sn(He._rawValidators,jt),Sn(He._rawAsyncValidators,jt)}function Cn(Ve,He){let ve=!1;if(null!==Ve){if(null!==He.validator){const jt=Le(Ve);if(Array.isArray(jt)&&jt.length>0){const qn=jt.filter(Mi=>Mi!==He.validator);qn.length!==jt.length&&(ve=!0,Ve.setValidators(qn))}}if(null!==He.asyncValidator){const jt=Ct(Ve);if(Array.isArray(jt)&&jt.length>0){const qn=jt.filter(Mi=>Mi!==He.asyncValidator);qn.length!==jt.length&&(ve=!0,Ve.setAsyncValidators(qn))}}}const it=()=>{};return Sn(He._rawValidators,it),Sn(He._rawAsyncValidators,it),ve}function ri(Ve,He){Ve._pendingDirty&&Ve.markAsDirty(),Ve.setValue(Ve._pendingValue,{emitModelToViewChange:!1}),He.viewToModelUpdate(Ve._pendingValue),Ve._pendingChange=!1}function ti(Ve,He){kn(Ve,He)}function It(Ve,He){if(!Ve.hasOwnProperty("model"))return!1;const ve=Ve.model;return!!ve.isFirstChange()||!Object.is(He,ve.currentValue)}function Zt(Ve,He){Ve._syncPendingControls(),He.forEach(ve=>{const it=ve.control;"submit"===it.updateOn&&it._pendingChange&&(ve.viewToModelUpdate(it._pendingValue),it._pendingChange=!1)})}function ht(Ve,He){if(!He)return null;let ve,it,jt;return Array.isArray(He),He.forEach(qn=>{qn.constructor===k?ve=qn:function Ye(Ve){return Object.getPrototypeOf(Ve.constructor)===g}(qn)?it=qn:jt=qn}),jt||it||ve||null}const an={provide:q,useExisting:(0,t.Rfq)(()=>Ue)},gn=Promise.resolve();let Ue=(()=>{class Ve extends q{constructor(ve,it,jt){super(),this.callSetDisabledState=jt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new t.bkB,this.form=new Tn({},ge(ve),xe(it))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(ve){gn.then(()=>{const it=this._findContainer(ve.path);ve.control=it.registerControl(ve.name,ve.control),en(ve.control,ve,this.callSetDisabledState),ve.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(ve)})}getControl(ve){return this.form.get(ve.path)}removeControl(ve){gn.then(()=>{const it=this._findContainer(ve.path);it&&it.removeControl(ve.name),this._directives.delete(ve)})}addFormGroup(ve){gn.then(()=>{const it=this._findContainer(ve.path),jt=new Tn({});ti(jt,ve),it.registerControl(ve.name,jt),jt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(ve){gn.then(()=>{const it=this._findContainer(ve.path);it&&it.removeControl(ve.name)})}getFormGroup(ve){return this.form.get(ve.path)}updateModel(ve,it){gn.then(()=>{this.form.get(ve.path).setValue(it)})}setValue(ve){this.control.setValue(ve)}onSubmit(ve){return this.submitted=!0,Zt(this.form,this._directives),this.ngSubmit.emit(ve),"dialog"===ve?.target?.method}onReset(){this.resetForm()}resetForm(ve=void 0){this.form.reset(ve),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(ve){return ve.pop(),ve.length?this.form.get(ve):this.form}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(W,10),t.rXU(N,10),t.rXU(bt,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(it,jt){1&it&&t.bIt("submit",function(Mi){return jt.onSubmit(Mi)})("reset",function(){return jt.onReset()})},inputs:{options:[t.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([an]),t.Vt3]})}}return Ve})();function Xe(Ve,He){const ve=Ve.indexOf(He);ve>-1&&Ve.splice(ve,1)}function ot(Ve){return"object"==typeof Ve&&null!==Ve&&2===Object.keys(Ve).length&&"value"in Ve&&"disabled"in Ve}const Vt=class extends rn{constructor(He=null,ve,it){super(Mt(ve),Qt(it,ve)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(He),this._setUpdateStrategy(ve),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),St(ve)&&(ve.nonNullable||ve.initialValueIsDefault)&&(this.defaultValue=ot(He)?He.value:He)}setValue(He,ve={}){this.value=this._pendingValue=He,this._onChange.length&&!1!==ve.emitModelToViewChange&&this._onChange.forEach(it=>it(this.value,!1!==ve.emitViewToModelChange)),this.updateValueAndValidity(ve)}patchValue(He,ve={}){this.setValue(He,ve)}reset(He=this.defaultValue,ve={}){this._applyFormState(He),this.markAsPristine(ve),this.markAsUntouched(ve),this.setValue(this.value,ve),this._pendingChange=!1}_updateValue(){}_anyControls(He){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(He){this._onChange.push(He)}_unregisterOnChange(He){Xe(this._onChange,He)}registerOnDisabledChange(He){this._onDisabledChange.push(He)}_unregisterOnDisabledChange(He){Xe(this._onDisabledChange,He)}_forEachChild(He){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(He){ot(He)?(this.value=this._pendingValue=He.value,He.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=He}},_n=Vt;let In=(()=>{class Ve extends q{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Kt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,features:[t.Vt3]})}}return Ve})();const br={provide:Q,useExisting:(0,t.Rfq)(()=>hi)},ei=Promise.resolve();let hi=(()=>{class Ve extends Q{constructor(ve,it,jt,qn,Mi,ls){super(),this._changeDetectorRef=Mi,this.callSetDisabledState=ls,this.control=new Vt,this._registered=!1,this.name="",this.update=new t.bkB,this._parent=ve,this._setValidators(it),this._setAsyncValidators(jt),this.valueAccessor=ht(0,qn)}ngOnChanges(ve){if(this._checkForErrors(),!this._registered||"name"in ve){if(this._registered&&(this._checkName(),this.formDirective)){const it=ve.name.previousValue;this.formDirective.removeControl({name:it,path:this._getPath(it)})}this._setUpControl()}"isDisabled"in ve&&this._updateDisabled(ve),It(ve,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(ve){this.viewModel=ve,this.update.emit(ve)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){en(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(ve){ei.then(()=>{this.control.setValue(ve,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(ve){const it=ve.isDisabled.currentValue,jt=0!==it&&(0,t.L39)(it);ei.then(()=>{jt&&!this.control.disabled?this.control.disable():!jt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(ve){return this._parent?Kt(ve,this._parent):[ve]}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(q,9),t.rXU(W,10),t.rXU(N,10),t.rXU(h,10),t.rXU(t.gRc,8),t.rXU(bt,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"],options:[t.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t.Jv_([br]),t.Vt3,t.OA$]})}}return Ve})(),mr=(()=>{class Ve{static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return Ve})();const Oi={provide:h,useExisting:(0,t.Rfq)(()=>Pr),multi:!0};let Pr=(()=>{class Ve extends g{writeValue(ve){this.setProperty("value",ve??"")}registerOnChange(ve){this.onChange=it=>{ve(""==it?null:parseFloat(it))}}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(it,jt){1&it&&t.bIt("input",function(Mi){return jt.onChange(Mi.target.value)})("blur",function(){return jt.onTouched()})},features:[t.Jv_([Oi]),t.Vt3]})}}return Ve})();const Br={provide:h,useExisting:(0,t.Rfq)(()=>Ai),multi:!0};let Vs=(()=>{class Ve{constructor(){this._accessors=[]}add(ve,it){this._accessors.push([ve,it])}remove(ve){for(let it=this._accessors.length-1;it>=0;--it)if(this._accessors[it][1]===ve)return void this._accessors.splice(it,1)}select(ve){this._accessors.forEach(it=>{this._isSameGroup(it,ve)&&it[1]!==ve&&it[1].fireUncheck(ve.value)})}_isSameGroup(ve,it){return!!ve[0].control&&ve[0]._parent===it._control._parent&&ve[1].name===it.name}static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),Ai=(()=>{class Ve extends g{constructor(ve,it,jt,qn){super(ve,it),this._registry=jt,this._injector=qn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,t.WQX)(bt,{optional:!0})??Gt}ngOnInit(){this._control=this._injector.get(Q),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(ve){this._state=ve===this.value,this.setProperty("checked",this._state)}registerOnChange(ve){this._fn=ve,this.onChange=()=>{ve(this.value),this._registry.select(this)}}setDisabledState(ve){(this.setDisabledStateFired||ve||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",ve),this.setDisabledStateFired=!0}fireUncheck(ve){this.writeValue(ve)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(Vs),t.rXU(t.zZn))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(it,jt){1&it&&t.bIt("change",function(){return jt.onChange()})("blur",function(){return jt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[t.Jv_([Br]),t.Vt3]})}}return Ve})();const kr=new t.nKC(""),Ds={provide:Q,useExisting:(0,t.Rfq)(()=>Er)};let Er=(()=>{class Ve extends Q{set isDisabled(ve){}static{this._ngModelWarningSentOnce=!1}constructor(ve,it,jt,qn,Mi){super(),this._ngModelWarningConfig=qn,this.callSetDisabledState=Mi,this.update=new t.bkB,this._ngModelWarningSent=!1,this._setValidators(ve),this._setAsyncValidators(it),this.valueAccessor=ht(0,jt)}ngOnChanges(ve){if(this._isControlChanged(ve)){const it=ve.form.previousValue;it&&Rn(it,this,!1),en(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}It(ve,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Rn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(ve){this.viewModel=ve,this.update.emit(ve)}_isControlChanged(ve){return ve.hasOwnProperty("form")}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(W,10),t.rXU(N,10),t.rXU(h,10),t.rXU(kr,8),t.rXU(bt,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formControl",""]],inputs:{form:[t.Mj6.None,"formControl","form"],isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[t.Jv_([Ds]),t.Vt3,t.OA$]})}}return Ve})();const Tr={provide:q,useExisting:(0,t.Rfq)(()=>Pi)};let Pi=(()=>{class Ve extends q{constructor(ve,it,jt){super(),this.callSetDisabledState=jt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new t.bkB,this._setValidators(ve),this._setAsyncValidators(it)}ngOnChanges(ve){this._checkFormPresent(),ve.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(ve){const it=this.form.get(ve.path);return en(it,ve,this.callSetDisabledState),it.updateValueAndValidity({emitEvent:!1}),this.directives.push(ve),it}getControl(ve){return this.form.get(ve.path)}removeControl(ve){Rn(ve.control||null,ve,!1),function Xt(Ve,He){const ve=Ve.indexOf(He);ve>-1&&Ve.splice(ve,1)}(this.directives,ve)}addFormGroup(ve){this._setUpFormContainer(ve)}removeFormGroup(ve){this._cleanUpFormContainer(ve)}getFormGroup(ve){return this.form.get(ve.path)}addFormArray(ve){this._setUpFormContainer(ve)}removeFormArray(ve){this._cleanUpFormContainer(ve)}getFormArray(ve){return this.form.get(ve.path)}updateModel(ve,it){this.form.get(ve.path).setValue(it)}onSubmit(ve){return this.submitted=!0,Zt(this.form,this.directives),this.ngSubmit.emit(ve),"dialog"===ve?.target?.method}onReset(){this.resetForm()}resetForm(ve=void 0){this.form.reset(ve),this.submitted=!1}_updateDomValue(){this.directives.forEach(ve=>{const it=ve.control,jt=this.form.get(ve.path);it!==jt&&(Rn(it||null,ve),(Ve=>Ve instanceof Vt)(jt)&&(en(jt,ve,this.callSetDisabledState),ve.control=jt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(ve){const it=this.form.get(ve.path);ti(it,ve),it.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(ve){if(this.form){const it=this.form.get(ve.path);it&&function Gn(Ve,He){return Cn(Ve,He)}(it,ve)&&it.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kn(this.form,this),this._oldForm&&Cn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(W,10),t.rXU(N,10),t.rXU(bt,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formGroup",""]],hostBindings:function(it,jt){1&it&&t.bIt("submit",function(Mi){return jt.onSubmit(Mi)})("reset",function(){return jt.onReset()})},inputs:{form:[t.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[t.Jv_([Tr]),t.Vt3,t.OA$]})}}return Ve})();const Xs={provide:q,useExisting:(0,t.Rfq)(()=>gi)};let gi=(()=>{class Ve extends In{constructor(ve,it,jt){super(),this.name=null,this._parent=ve,this._setValidators(it),this._setAsyncValidators(jt)}_checkParentType(){Ur(this._parent)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(q,13),t.rXU(W,10),t.rXU(N,10))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formGroupName",""]],inputs:{name:[t.Mj6.None,"formGroupName","name"]},features:[t.Jv_([Xs]),t.Vt3]})}}return Ve})();const _o={provide:q,useExisting:(0,t.Rfq)(()=>Zn)};let Zn=(()=>{class Ve extends q{constructor(ve,it,jt){super(),this.name=null,this._parent=ve,this._setValidators(it),this._setAsyncValidators(jt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Kt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Ur(this._parent)}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(q,13),t.rXU(W,10),t.rXU(N,10))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formArrayName",""]],inputs:{name:[t.Mj6.None,"formArrayName","name"]},features:[t.Jv_([_o]),t.Vt3]})}}return Ve})();function Ur(Ve){return!(Ve instanceof gi||Ve instanceof Pi||Ve instanceof Zn)}const Ir={provide:Q,useExisting:(0,t.Rfq)(()=>Ar)};let Ar=(()=>{class Ve extends Q{set isDisabled(ve){}static{this._ngModelWarningSentOnce=!1}constructor(ve,it,jt,qn,Mi){super(),this._ngModelWarningConfig=Mi,this._added=!1,this.name=null,this.update=new t.bkB,this._ngModelWarningSent=!1,this._parent=ve,this._setValidators(it),this._setAsyncValidators(jt),this.valueAccessor=ht(0,qn)}ngOnChanges(ve){this._added||this._setUpControl(),It(ve,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(ve){this.viewModel=ve,this.update.emit(ve)}get path(){return Kt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(q,13),t.rXU(W,10),t.rXU(N,10),t.rXU(h,10),t.rXU(kr,8))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","formControlName",""]],inputs:{name:[t.Mj6.None,"formControlName","name"],isDisabled:[t.Mj6.None,"disabled","isDisabled"],model:[t.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[t.Jv_([Ir]),t.Vt3,t.OA$]})}}return Ve})();const Dr={provide:h,useExisting:(0,t.Rfq)(()=>or),multi:!0};function Nr(Ve,He){return null==Ve?`${He}`:(He&&"object"==typeof He&&(He="Object"),`${Ve}: ${He}`.slice(0,50))}let or=(()=>{class Ve extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ve){this._compareWith=ve}writeValue(ve){this.value=ve;const jt=Nr(this._getOptionId(ve),ve);this.setProperty("value",jt)}registerOnChange(ve){this.onChange=it=>{this.value=this._getOptionValue(it),ve(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(ve){for(const it of this._optionMap.keys())if(this._compareWith(this._optionMap.get(it),ve))return it;return null}_getOptionValue(ve){const it=function Vr(Ve){return Ve.split(":")[0]}(ve);return this._optionMap.has(it)?this._optionMap.get(it):ve}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(it,jt){1&it&&t.bIt("change",function(Mi){return jt.onChange(Mi.target.value)})("blur",function(){return jt.onTouched()})},inputs:{compareWith:"compareWith"},features:[t.Jv_([Dr]),t.Vt3]})}}return Ve})(),Li=(()=>{class Ve{constructor(ve,it,jt){this._element=ve,this._renderer=it,this._select=jt,this._select&&(this.id=this._select._registerOption())}set ngValue(ve){null!=this._select&&(this._select._optionMap.set(this.id,ve),this._setElementValue(Nr(this.id,ve)),this._select.writeValue(this._select.value))}set value(ve){this._setElementValue(ve),this._select&&this._select.writeValue(this._select.value)}_setElementValue(ve){this._renderer.setProperty(this._element.nativeElement,"value",ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(or,9))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ve})();const si={provide:h,useExisting:(0,t.Rfq)(()=>os),multi:!0};function jr(Ve,He){return null==Ve?`${He}`:("string"==typeof He&&(He=`'${He}'`),He&&"object"==typeof He&&(He="Object"),`${Ve}: ${He}`.slice(0,50))}let os=(()=>{class Ve extends g{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(ve){this._compareWith=ve}writeValue(ve){let it;if(this.value=ve,Array.isArray(ve)){const jt=ve.map(qn=>this._getOptionId(qn));it=(qn,Mi)=>{qn._setSelected(jt.indexOf(Mi.toString())>-1)}}else it=(jt,qn)=>{jt._setSelected(!1)};this._optionMap.forEach(it)}registerOnChange(ve){this.onChange=it=>{const jt=[],qn=it.selectedOptions;if(void 0!==qn){const Mi=qn;for(let ls=0;ls<Mi.length;ls++){const jn=this._getOptionValue(Mi[ls].value);jt.push(jn)}}else{const Mi=it.options;for(let ls=0;ls<Mi.length;ls++){const Hi=Mi[ls];if(Hi.selected){const jn=this._getOptionValue(Hi.value);jt.push(jn)}}}this.value=jt,ve(jt)}}_registerOption(ve){const it=(this._idCounter++).toString();return this._optionMap.set(it,ve),it}_getOptionId(ve){for(const it of this._optionMap.keys())if(this._compareWith(this._optionMap.get(it)._value,ve))return it;return null}_getOptionValue(ve){const it=function gr(Ve){return Ve.split(":")[0]}(ve);return this._optionMap.has(it)?this._optionMap.get(it)._value:ve}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(it,jt){1&it&&t.bIt("change",function(Mi){return jt.onChange(Mi.target)})("blur",function(){return jt.onTouched()})},inputs:{compareWith:"compareWith"},features:[t.Jv_([si]),t.Vt3]})}}return Ve})(),js=(()=>{class Ve{constructor(ve,it,jt){this._element=ve,this._renderer=it,this._select=jt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(ve){null!=this._select&&(this._value=ve,this._setElementValue(jr(this.id,ve)),this._select.writeValue(this._select.value))}set value(ve){this._select?(this._value=ve,this._setElementValue(jr(this.id,ve)),this._select.writeValue(this._select.value)):this._setElementValue(ve)}_setElementValue(ve){this._renderer.setProperty(this._element.nativeElement,"value",ve)}_setSelected(ve){this._renderer.setProperty(this._element.nativeElement,"selected",ve)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(it){return new(it||Ve)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(os,9))}}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return Ve})();function bo(Ve){return"number"==typeof Ve?Ve:parseInt(Ve,10)}let vr=(()=>{class Ve{constructor(){this._validator=K}ngOnChanges(ve){if(this.inputName in ve){const it=this.normalizeInput(ve[this.inputName].currentValue);this._enabled=this.enabled(it),this._validator=this._enabled?this.createValidator(it):K,this._onChange&&this._onChange()}}validate(ve){return this._validator(ve)}registerOnValidatorChange(ve){this._onChange=ve}enabled(ve){return null!=ve}static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275dir=t.FsC({type:Ve,features:[t.OA$]})}}return Ve})();const Wo={provide:W,useExisting:(0,t.Rfq)(()=>Qr),multi:!0};let Qr=(()=>{class Ve extends vr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=ve=>function bs(Ve){return"number"==typeof Ve?Ve:parseFloat(Ve)}(ve),this.createValidator=ve=>z(ve)}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(it,jt){2&it&&t.BMQ("min",jt._enabled?jt.min:null)},inputs:{min:"min"},features:[t.Jv_([Wo]),t.Vt3]})}}return Ve})();const Yr={provide:W,useExisting:(0,t.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class Ve extends vr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t.L39,this.createValidator=ve=>de}enabled(ve){return ve}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(it,jt){2&it&&t.BMQ("required",jt._enabled?"":null)},inputs:{required:"required"},features:[t.Jv_([Yr]),t.Vt3]})}}return Ve})();const $s={provide:W,useExisting:(0,t.Rfq)(()=>Js),multi:!0};let Js=(()=>{class Ve extends vr{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=ve=>bo(ve),this.createValidator=ve=>ne(ve)}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(it,jt){2&it&&t.BMQ("minlength",jt._enabled?jt.minlength:null)},inputs:{minlength:"minlength"},features:[t.Jv_([$s]),t.Vt3]})}}return Ve})();const Or={provide:W,useExisting:(0,t.Rfq)(()=>wr),multi:!0};let wr=(()=>{class Ve extends vr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=ve=>bo(ve),this.createValidator=ve=>I(ve)}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275dir=t.FsC({type:Ve,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(it,jt){2&it&&t.BMQ("maxlength",jt._enabled?jt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t.Jv_([Or]),t.Vt3]})}}return Ve})(),ws=(()=>{class Ve{static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275mod=t.$C({type:Ve})}static{this.\u0275inj=t.G2t({})}}return Ve})();class ui extends rn{constructor(He,ve,it){super(Mt(ve),Qt(it,ve)),this.controls=He,this._initObservables(),this._setUpdateStrategy(ve),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(He){return this.controls[this._adjustIndex(He)]}push(He,ve={}){this.controls.push(He),this._registerControl(He),this.updateValueAndValidity({emitEvent:ve.emitEvent}),this._onCollectionChange()}insert(He,ve,it={}){this.controls.splice(He,0,ve),this._registerControl(ve),this.updateValueAndValidity({emitEvent:it.emitEvent})}removeAt(He,ve={}){let it=this._adjustIndex(He);it<0&&(it=0),this.controls[it]&&this.controls[it]._registerOnCollectionChange(()=>{}),this.controls.splice(it,1),this.updateValueAndValidity({emitEvent:ve.emitEvent})}setControl(He,ve,it={}){let jt=this._adjustIndex(He);jt<0&&(jt=0),this.controls[jt]&&this.controls[jt]._registerOnCollectionChange(()=>{}),this.controls.splice(jt,1),ve&&(this.controls.splice(jt,0,ve),this._registerControl(ve)),this.updateValueAndValidity({emitEvent:it.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(He,ve={}){Ut(this,0,He),He.forEach((it,jt)=>{dt(this,!1,jt),this.at(jt).setValue(it,{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve)}patchValue(He,ve={}){null!=He&&(He.forEach((it,jt)=>{this.at(jt)&&this.at(jt).patchValue(it,{onlySelf:!0,emitEvent:ve.emitEvent})}),this.updateValueAndValidity(ve))}reset(He=[],ve={}){this._forEachChild((it,jt)=>{it.reset(He[jt],{onlySelf:!0,emitEvent:ve.emitEvent})}),this._updatePristine(ve),this._updateTouched(ve),this.updateValueAndValidity(ve)}getRawValue(){return this.controls.map(He=>He.getRawValue())}clear(He={}){this.controls.length<1||(this._forEachChild(ve=>ve._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:He.emitEvent}))}_adjustIndex(He){return He<0?He+this.length:He}_syncPendingControls(){let He=this.controls.reduce((ve,it)=>!!it._syncPendingControls()||ve,!1);return He&&this.updateValueAndValidity({onlySelf:!0}),He}_forEachChild(He){this.controls.forEach((ve,it)=>{He(ve,it)})}_updateValue(){this.value=this.controls.filter(He=>He.enabled||this.disabled).map(He=>He.value)}_anyControls(He){return this.controls.some(ve=>ve.enabled&&He(ve))}_setUpControls(){this._forEachChild(He=>this._registerControl(He))}_allControlsDisabled(){for(const He of this.controls)if(He.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(He){He.setParent(this),He._registerOnCollectionChange(this._onCollectionChange)}_find(He){return this.at(He)??null}}function Rr(Ve){return!!Ve&&(void 0!==Ve.asyncValidators||void 0!==Ve.validators||void 0!==Ve.updateOn)}let Hs=(()=>{class Ve{constructor(){this.useNonNullable=!1}get nonNullable(){const ve=new Ve;return ve.useNonNullable=!0,ve}group(ve,it=null){const jt=this._reduceControls(ve);let qn={};return Rr(it)?qn=it:null!==it&&(qn.validators=it.validator,qn.asyncValidators=it.asyncValidator),new Tn(jt,qn)}record(ve,it=null){const jt=this._reduceControls(ve);return new ii(jt,it)}control(ve,it,jt){let qn={};return this.useNonNullable?(Rr(it)?qn=it:(qn.validators=it,qn.asyncValidators=jt),new Vt(ve,{...qn,nonNullable:!0})):new Vt(ve,it,jt)}array(ve,it,jt){const qn=ve.map(Mi=>this._createControl(Mi));return new ui(qn,it,jt)}_reduceControls(ve){const it={};return Object.keys(ve).forEach(jt=>{it[jt]=this._createControl(ve[jt])}),it}_createControl(ve){return ve instanceof Vt||ve instanceof rn?ve:Array.isArray(ve)?this.control(ve[0],ve.length>1?ve[1]:null,ve.length>2?ve[2]:null):this.control(ve)}static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),Kr=(()=>{class Ve extends Hs{group(ve,it=null){return super.group(ve,it)}control(ve,it,jt){return super.control(ve,it,jt)}array(ve,it,jt){return super.array(ve,it,jt)}static{this.\u0275fac=(()=>{let ve;return function(jt){return(ve||(ve=t.xGo(Ve)))(jt||Ve)}})()}static{this.\u0275prov=t.jDH({token:Ve,factory:Ve.\u0275fac,providedIn:"root"})}}return Ve})(),ro=(()=>{class Ve{static withConfig(ve){return{ngModule:Ve,providers:[{provide:bt,useValue:ve.callSetDisabledState??Gt}]}}static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275mod=t.$C({type:Ve})}static{this.\u0275inj=t.G2t({imports:[ws]})}}return Ve})(),ps=(()=>{class Ve{static withConfig(ve){return{ngModule:Ve,providers:[{provide:kr,useValue:ve.warnOnNgModelWithFormControl??"always"},{provide:bt,useValue:ve.callSetDisabledState??Gt}]}}static{this.\u0275fac=function(it){return new(it||Ve)}}static{this.\u0275mod=t.$C({type:Ve})}static{this.\u0275inj=t.G2t({imports:[ws]})}}return Ve})()},345:(nt,ye,d)=>{"use strict";d.d(ye,{B7:()=>Z,Bb:()=>te,hE:()=>at,sG:()=>Rt,up:()=>tt});var t=d(4438),e=d(177);class p extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S extends p{static makeCurrent(){(0,e.ZD)(new S)}onAndCancel(St,dt,Ut){return St.addEventListener(dt,Ut),()=>{St.removeEventListener(dt,Ut)}}dispatchEvent(St,dt){St.dispatchEvent(dt)}remove(St){St.parentNode&&St.parentNode.removeChild(St)}createElement(St,dt){return(dt=dt||this.getDefaultDocument()).createElement(St)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(St){return St.nodeType===Node.ELEMENT_NODE}isShadowRoot(St){return St instanceof DocumentFragment}getGlobalEventTarget(St,dt){return"window"===dt?window:"document"===dt?St:"body"===dt?St.body:null}getBaseHref(St){const dt=function w(){return C=C||document.querySelector("base"),C?C.getAttribute("href"):null}();return null==dt?null:function g(mt){return new URL(mt,document.baseURI).pathname}(dt)}resetBaseElement(){C=null}getUserAgent(){return window.navigator.userAgent}getCookie(St){return(0,e._b)(document.cookie,St)}}let C=null,E=(()=>{class mt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Ut){return new(Ut||mt)}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const v=new t.nKC("");let B=(()=>{class mt{constructor(dt,Ut){this._zone=Ut,this._eventNameToPlugin=new Map,dt.forEach(rn=>{rn.manager=this}),this._plugins=dt.slice().reverse()}addEventListener(dt,Ut,rn){return this._findPluginFor(Ut).addEventListener(dt,Ut,rn)}getZone(){return this._zone}_findPluginFor(dt){let Ut=this._eventNameToPlugin.get(dt);if(Ut)return Ut;if(Ut=this._plugins.find(Tn=>Tn.supports(dt)),!Ut)throw new t.wOt(5101,!1);return this._eventNameToPlugin.set(dt,Ut),Ut}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(v),t.KVO(t.SKi))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();class U{constructor(St){this._doc=St}}const a="ng-app-id";let k=(()=>{class mt{constructor(dt,Ut,rn,Tn={}){this.doc=dt,this.appId=Ut,this.nonce=rn,this.platformId=Tn,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(Tn),this.resetHostNodes()}addStyles(dt){for(const Ut of dt)1===this.changeUsageCount(Ut,1)&&this.onStyleAdded(Ut)}removeStyles(dt){for(const Ut of dt)this.changeUsageCount(Ut,-1)<=0&&this.onStyleRemoved(Ut)}ngOnDestroy(){const dt=this.styleNodesInDOM;dt&&(dt.forEach(Ut=>Ut.remove()),dt.clear());for(const Ut of this.getAllStyles())this.onStyleRemoved(Ut);this.resetHostNodes()}addHost(dt){this.hostNodes.add(dt);for(const Ut of this.getAllStyles())this.addStyleToHost(dt,Ut)}removeHost(dt){this.hostNodes.delete(dt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(dt){for(const Ut of this.hostNodes)this.addStyleToHost(Ut,dt)}onStyleRemoved(dt){const Ut=this.styleRef;Ut.get(dt)?.elements?.forEach(rn=>rn.remove()),Ut.delete(dt)}collectServerRenderedStyles(){const dt=this.doc.head?.querySelectorAll(`style[${a}="${this.appId}"]`);if(dt?.length){const Ut=new Map;return dt.forEach(rn=>{null!=rn.textContent&&Ut.set(rn.textContent,rn)}),Ut}return null}changeUsageCount(dt,Ut){const rn=this.styleRef;if(rn.has(dt)){const Tn=rn.get(dt);return Tn.usage+=Ut,Tn.usage}return rn.set(dt,{usage:Ut,elements:[]}),Ut}getStyleElement(dt,Ut){const rn=this.styleNodesInDOM,Tn=rn?.get(Ut);if(Tn?.parentNode===dt)return rn.delete(Ut),Tn.removeAttribute(a),Tn;{const Jn=this.doc.createElement("style");return this.nonce&&Jn.setAttribute("nonce",this.nonce),Jn.textContent=Ut,this.platformIsServer&&Jn.setAttribute(a,this.appId),dt.appendChild(Jn),Jn}}addStyleToHost(dt,Ut){const rn=this.getStyleElement(dt,Ut),Tn=this.styleRef,Jn=Tn.get(Ut)?.elements;Jn?Jn.push(rn):Tn.set(Ut,{elements:[rn],usage:1})}resetHostNodes(){const dt=this.hostNodes;dt.clear(),dt.add(this.doc.head)}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(e.qQ),t.KVO(t.sZ2),t.KVO(t.BIS,8),t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const O={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},P=/%COMP%/g,W="%COMP%",N=`_nghost-${W}`,H=`_ngcontent-${W}`,z=new t.nKC("",{providedIn:"root",factory:()=>!0});function Y(mt,St){return St.map(dt=>dt.replace(P,mt))}let Z=(()=>{class mt{constructor(dt,Ut,rn,Tn,Jn,yn,yi,ii=null){this.eventManager=dt,this.sharedStylesHost=Ut,this.appId=rn,this.removeStylesOnCompDestroy=Tn,this.doc=Jn,this.platformId=yn,this.ngZone=yi,this.nonce=ii,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(yn),this.defaultRenderer=new ne(dt,Jn,yi,this.platformIsServer)}createRenderer(dt,Ut){if(!dt||!Ut)return this.defaultRenderer;this.platformIsServer&&Ut.encapsulation===t.gXe.ShadowDom&&(Ut={...Ut,encapsulation:t.gXe.Emulated});const rn=this.getOrCreateRenderer(dt,Ut);return rn instanceof Ae?rn.applyToHost(dt):rn instanceof Oe&&rn.applyStyles(),rn}getOrCreateRenderer(dt,Ut){const rn=this.rendererByCompId;let Tn=rn.get(Ut.id);if(!Tn){const Jn=this.doc,yn=this.ngZone,yi=this.eventManager,ii=this.sharedStylesHost,xt=this.removeStylesOnCompDestroy,bt=this.platformIsServer;switch(Ut.encapsulation){case t.gXe.Emulated:Tn=new Ae(yi,ii,Ut,this.appId,xt,Jn,yn,bt);break;case t.gXe.ShadowDom:return new he(yi,ii,dt,Ut,Jn,yn,this.nonce,bt);default:Tn=new Oe(yi,ii,Ut,xt,Jn,yn,bt)}rn.set(Ut.id,Tn)}return Tn}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(B),t.KVO(k),t.KVO(t.sZ2),t.KVO(z),t.KVO(e.qQ),t.KVO(t.Agw),t.KVO(t.SKi),t.KVO(t.BIS))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();class ne{constructor(St,dt,Ut,rn){this.eventManager=St,this.doc=dt,this.ngZone=Ut,this.platformIsServer=rn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(St,dt){return dt?this.doc.createElementNS(O[dt]||dt,St):this.doc.createElement(St)}createComment(St){return this.doc.createComment(St)}createText(St){return this.doc.createTextNode(St)}appendChild(St,dt){(K(St)?St.content:St).appendChild(dt)}insertBefore(St,dt,Ut){St&&(K(St)?St.content:St).insertBefore(dt,Ut)}removeChild(St,dt){St&&St.removeChild(dt)}selectRootElement(St,dt){let Ut="string"==typeof St?this.doc.querySelector(St):St;if(!Ut)throw new t.wOt(-5104,!1);return dt||(Ut.textContent=""),Ut}parentNode(St){return St.parentNode}nextSibling(St){return St.nextSibling}setAttribute(St,dt,Ut,rn){if(rn){dt=rn+":"+dt;const Tn=O[rn];Tn?St.setAttributeNS(Tn,dt,Ut):St.setAttribute(dt,Ut)}else St.setAttribute(dt,Ut)}removeAttribute(St,dt,Ut){if(Ut){const rn=O[Ut];rn?St.removeAttributeNS(rn,dt):St.removeAttribute(`${Ut}:${dt}`)}else St.removeAttribute(dt)}addClass(St,dt){St.classList.add(dt)}removeClass(St,dt){St.classList.remove(dt)}setStyle(St,dt,Ut,rn){rn&(t.czy.DashCase|t.czy.Important)?St.style.setProperty(dt,Ut,rn&t.czy.Important?"important":""):St.style[dt]=Ut}removeStyle(St,dt,Ut){Ut&t.czy.DashCase?St.style.removeProperty(dt):St.style[dt]=""}setProperty(St,dt,Ut){null!=St&&(St[dt]=Ut)}setValue(St,dt){St.nodeValue=dt}listen(St,dt,Ut){if("string"==typeof St&&!(St=(0,e.QT)().getGlobalEventTarget(this.doc,St)))throw new Error(`Unsupported event target ${St} for event ${dt}`);return this.eventManager.addEventListener(St,dt,this.decoratePreventDefault(Ut))}decoratePreventDefault(St){return dt=>{if("__ngUnwrap__"===dt)return St;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>St(dt)):St(dt))&&dt.preventDefault()}}}function K(mt){return"TEMPLATE"===mt.tagName&&void 0!==mt.content}class he extends ne{constructor(St,dt,Ut,rn,Tn,Jn,yn,yi){super(St,Tn,Jn,yi),this.sharedStylesHost=dt,this.hostEl=Ut,this.shadowRoot=Ut.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ii=Y(rn.id,rn.styles);for(const xt of ii){const bt=document.createElement("style");yn&&bt.setAttribute("nonce",yn),bt.textContent=xt,this.shadowRoot.appendChild(bt)}}nodeOrShadowRoot(St){return St===this.hostEl?this.shadowRoot:St}appendChild(St,dt){return super.appendChild(this.nodeOrShadowRoot(St),dt)}insertBefore(St,dt,Ut){return super.insertBefore(this.nodeOrShadowRoot(St),dt,Ut)}removeChild(St,dt){return super.removeChild(this.nodeOrShadowRoot(St),dt)}parentNode(St){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(St)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Oe extends ne{constructor(St,dt,Ut,rn,Tn,Jn,yn,yi){super(St,Tn,Jn,yn),this.sharedStylesHost=dt,this.removeStylesOnCompDestroy=rn,this.styles=yi?Y(yi,Ut.styles):Ut.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ae extends Oe{constructor(St,dt,Ut,rn,Tn,Jn,yn,yi){const ii=rn+"-"+Ut.id;super(St,dt,Ut,Tn,Jn,yn,yi,ii),this.contentAttr=function ce(mt){return H.replace(P,mt)}(ii),this.hostAttr=function de(mt){return N.replace(P,mt)}(ii)}applyToHost(St){this.applyStyles(),this.setAttribute(St,this.hostAttr,"")}createElement(St,dt){const Ut=super.createElement(St,dt);return super.setAttribute(Ut,this.contentAttr,""),Ut}}let Fe=(()=>{class mt extends U{constructor(dt){super(dt)}supports(dt){return!0}addEventListener(dt,Ut,rn){return dt.addEventListener(Ut,rn,!1),()=>this.removeEventListener(dt,Ut,rn)}removeEventListener(dt,Ut,rn){return dt.removeEventListener(Ut,rn)}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(e.qQ))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const qe=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Te={alt:mt=>mt.altKey,control:mt=>mt.ctrlKey,meta:mt=>mt.metaKey,shift:mt=>mt.shiftKey};let ge=(()=>{class mt extends U{constructor(dt){super(dt)}supports(dt){return null!=mt.parseEventName(dt)}addEventListener(dt,Ut,rn){const Tn=mt.parseEventName(Ut),Jn=mt.eventCallback(Tn.fullKey,rn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(dt,Tn.domEventName,Jn))}static parseEventName(dt){const Ut=dt.toLowerCase().split("."),rn=Ut.shift();if(0===Ut.length||"keydown"!==rn&&"keyup"!==rn)return null;const Tn=mt._normalizeKey(Ut.pop());let Jn="",yn=Ut.indexOf("code");if(yn>-1&&(Ut.splice(yn,1),Jn="code."),qe.forEach(ii=>{const xt=Ut.indexOf(ii);xt>-1&&(Ut.splice(xt,1),Jn+=ii+".")}),Jn+=Tn,0!=Ut.length||0===Tn.length)return null;const yi={};return yi.domEventName=rn,yi.fullKey=Jn,yi}static matchEventFullKeyCode(dt,Ut){let rn=Me[dt.key]||dt.key,Tn="";return Ut.indexOf("code.")>-1&&(rn=dt.code,Tn="code."),!(null==rn||!rn)&&(rn=rn.toLowerCase()," "===rn?rn="space":"."===rn&&(rn="dot"),qe.forEach(Jn=>{Jn!==rn&&(0,Te[Jn])(dt)&&(Tn+=Jn+".")}),Tn+=rn,Tn===Ut)}static eventCallback(dt,Ut,rn){return Tn=>{mt.matchEventFullKeyCode(Tn,dt)&&rn.runGuarded(()=>Ut(Tn))}}static _normalizeKey(dt){return"esc"===dt?"escape":dt}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(e.qQ))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac})}}return mt})();const Rt=(0,t.oH4)(t.fpN,"browser",[{provide:t.Agw,useValue:e.AJ},{provide:t.PLl,useValue:function Ct(){S.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function hn(){return(0,t.TL$)(document),document},deps:[]}]),Dt=new t.nKC(""),q=[{provide:t.e01,useClass:class h{addToWindow(St){t.JZv.getAngularTestability=(Ut,rn=!0)=>{const Tn=St.findTestabilityInTree(Ut,rn);if(null==Tn)throw new t.wOt(5103,!1);return Tn},t.JZv.getAllAngularTestabilities=()=>St.getAllTestabilities(),t.JZv.getAllAngularRootElements=()=>St.getAllRootElements(),t.JZv.frameworkStabilizers||(t.JZv.frameworkStabilizers=[]),t.JZv.frameworkStabilizers.push(Ut=>{const rn=t.JZv.getAllAngularTestabilities();let Tn=rn.length;const Jn=function(){Tn--,0==Tn&&Ut()};rn.forEach(yn=>{yn.whenStable(Jn)})})}findTestabilityInTree(St,dt,Ut){return null==dt?null:St.getTestability(dt)??(Ut?(0,e.QT)().isShadowRoot(dt)?this.findTestabilityInTree(St,dt.host,!0):this.findTestabilityInTree(St,dt.parentElement,!0):null)}},deps:[]},{provide:t.WHO,useClass:t.NYb,deps:[t.SKi,t.giA,t.e01]},{provide:t.NYb,useClass:t.NYb,deps:[t.SKi,t.giA,t.e01]}],Q=[{provide:t.H8p,useValue:"root"},{provide:t.zcH,useFactory:function ut(){return new t.zcH},deps:[]},{provide:v,useClass:Fe,multi:!0,deps:[e.qQ,t.SKi,t.Agw]},{provide:v,useClass:ge,multi:!0,deps:[e.qQ]},Z,k,B,{provide:t._9s,useExisting:Z},{provide:e.N0,useClass:E,deps:[]},[]];let te=(()=>{class mt{constructor(dt){}static withServerTransition(dt){return{ngModule:mt,providers:[{provide:t.sZ2,useValue:dt.appId}]}}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(Dt,12))}}static{this.\u0275mod=t.$C({type:mt})}static{this.\u0275inj=t.G2t({providers:[...Q,...q],imports:[e.MD,t.Hbi]})}}return mt})(),at=(()=>{class mt{constructor(dt){this._doc=dt}getTitle(){return this._doc.title}setTitle(dt){this._doc.title=dt||""}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(e.qQ))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}}return mt})(),tt=(()=>{class mt{static{this.\u0275fac=function(Ut){return new(Ut||mt)}}static{this.\u0275prov=t.jDH({token:mt,factory:function(Ut){let rn=null;return rn=Ut?new(Ut||mt):t.KVO(vt),rn},providedIn:"root"})}}return mt})(),vt=(()=>{class mt extends tt{constructor(dt){super(),this._doc=dt}sanitize(dt,Ut){if(null==Ut)return null;switch(dt){case t.WPN.NONE:return Ut;case t.WPN.HTML:return(0,t.ZF7)(Ut,"HTML")?(0,t.rcV)(Ut):(0,t.h9k)(this._doc,String(Ut)).toString();case t.WPN.STYLE:return(0,t.ZF7)(Ut,"Style")?(0,t.rcV)(Ut):Ut;case t.WPN.SCRIPT:if((0,t.ZF7)(Ut,"Script"))return(0,t.rcV)(Ut);throw new t.wOt(5200,!1);case t.WPN.URL:return(0,t.ZF7)(Ut,"URL")?(0,t.rcV)(Ut):(0,t.$MX)(String(Ut));case t.WPN.RESOURCE_URL:if((0,t.ZF7)(Ut,"ResourceURL"))return(0,t.rcV)(Ut);throw new t.wOt(5201,!1);default:throw new t.wOt(5202,!1)}}bypassSecurityTrustHtml(dt){return(0,t.Kcf)(dt)}bypassSecurityTrustStyle(dt){return(0,t.cWb)(dt)}bypassSecurityTrustScript(dt){return(0,t.UyX)(dt)}bypassSecurityTrustUrl(dt){return(0,t.osQ)(dt)}bypassSecurityTrustResourceUrl(dt){return(0,t.e5t)(dt)}static{this.\u0275fac=function(Ut){return new(Ut||mt)(t.KVO(e.qQ))}}static{this.\u0275prov=t.jDH({token:mt,factory:mt.\u0275fac,providedIn:"root"})}}return mt})()},1583:(nt,ye,d)=>{"use strict";d.d(ye,{nX:()=>Zn,j5:()=>bn,wF:()=>ot,Z:()=>Xe,bw:()=>hr,b:()=>Tt,Ix:()=>Ii,Wk:()=>me,wQ:()=>Pe,iI:()=>il,n3:()=>si});var t=d(4438),e=d(4402),p=d(6648),S=d(7673),C=d(4412),w=d(4572),g=d(9350),h=d(8793),E=d(9030),v=d(1203),B=d(8810),U=d(983),a=d(1985),k=d(8359),O=d(9974),P=d(4360);function W(){return(0,O.N)((A,$)=>{let V=null;A._refCount++;const ee=(0,P._)($,void 0,void 0,void 0,()=>{if(!A||A._refCount<=0||0<--A._refCount)return void(V=null);const R=A._connection,be=V;V=null,R&&(!be||R===be)&&R.unsubscribe(),$.unsubscribe()});A.subscribe(ee),ee.closed||(V=A.connect())})}class N extends a.c{constructor($,V){super(),this.source=$,this.subjectFactory=V,this._subject=null,this._refCount=0,this._connection=null,(0,O.S)($)&&(this.lift=$.lift)}_subscribe($){return this.getSubject().subscribe($)}getSubject(){const $=this._subject;return(!$||$.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:$}=this;this._subject=this._connection=null,$?.unsubscribe()}connect(){let $=this._connection;if(!$){$=this._connection=new k.yU;const V=this.getSubject();$.add(this.source.subscribe((0,P._)(V,void 0,()=>{this._teardown(),V.complete()},ee=>{this._teardown(),V.error(ee)},()=>this._teardown()))),$.closed&&(this._connection=null,$=k.yU.EMPTY)}return $}refCount(){return W()(this)}}var H=d(1413),G=d(177),z=d(6354),ce=d(5558),de=d(6697),Y=d(9172),Z=d(5964),ne=d(1397),I=d(1594),pe=d(274),K=d(8141),he=d(9437),Oe=d(6649),Fe=d(9901);function qe(A){return A<=0?()=>U.w:(0,O.N)(($,V)=>{let ee=[];$.subscribe((0,P._)(V,R=>{ee.push(R),A<ee.length&&ee.shift()},()=>{for(const R of ee)V.next(R);V.complete()},void 0,()=>{ee=null}))})}var Me=d(3774),Te=d(3669),$e=d(3703),xe=d(980),pt=d(6977),Le=d(6365),Ct=d(345);const ut="primary",hn=Symbol("RouteTitle");class mn{constructor($){this.params=$||{}}has($){return Object.prototype.hasOwnProperty.call(this.params,$)}get($){if(this.has($)){const V=this.params[$];return Array.isArray(V)?V[0]:V}return null}getAll($){if(this.has($)){const V=this.params[$];return Array.isArray(V)?V:[V]}return[]}get keys(){return Object.keys(this.params)}}function Rt(A){return new mn(A)}function Dt(A,$,V){const ee=V.path.split("/");if(ee.length>A.length||"full"===V.pathMatch&&($.hasChildren()||ee.length<A.length))return null;const R={};for(let be=0;be<ee.length;be++){const M=ee[be],se=A[be];if(M.startsWith(":"))R[M.substring(1)]=se;else if(M!==se.path)return null}return{consumed:A.slice(0,ee.length),posParams:R}}function Q(A,$){const V=A?te(A):void 0,ee=$?te($):void 0;if(!V||!ee||V.length!=ee.length)return!1;let R;for(let be=0;be<V.length;be++)if(R=V[be],!De(A[R],$[R]))return!1;return!0}function te(A){return[...Object.keys(A),...Object.getOwnPropertySymbols(A)]}function De(A,$){if(Array.isArray(A)&&Array.isArray($)){if(A.length!==$.length)return!1;const V=[...A].sort(),ee=[...$].sort();return V.every((R,be)=>ee[be]===R)}return A===$}function Re(A){return A.length>0?A[A.length-1]:null}function at(A){return(0,e.A)(A)?A:(0,t.jNT)(A)?(0,p.H)(Promise.resolve(A)):(0,S.of)(A)}const o={exact:function lt(A,$,V){if(!Ge(A.segments,$.segments)||!Lt(A.segments,$.segments,V)||A.numberOfChildren!==$.numberOfChildren)return!1;for(const ee in $.children)if(!A.children[ee]||!lt(A.children[ee],$.children[ee],V))return!1;return!0},subset:tn},ft={exact:function _t(A,$){return Q(A,$)},subset:function Pt(A,$){return Object.keys($).length<=Object.keys(A).length&&Object.keys($).every(V=>De(A[V],$[V]))},ignored:()=>!0};function Ft(A,$,V){return o[V.paths](A.root,$.root,V.matrixParams)&&ft[V.queryParams](A.queryParams,$.queryParams)&&!("exact"===V.fragment&&A.fragment!==$.fragment)}function tn(A,$,V){return ct(A,$,$.segments,V)}function ct(A,$,V,ee){if(A.segments.length>V.length){const R=A.segments.slice(0,V.length);return!(!Ge(R,V)||$.hasChildren()||!Lt(R,V,ee))}if(A.segments.length===V.length){if(!Ge(A.segments,V)||!Lt(A.segments,V,ee))return!1;for(const R in $.children)if(!A.children[R]||!tn(A.children[R],$.children[R],ee))return!1;return!0}{const R=V.slice(0,A.segments.length),be=V.slice(A.segments.length);return!!(Ge(A.segments,R)&&Lt(A.segments,R,ee)&&A.children[ut])&&ct(A.children[ut],$,be,ee)}}function Lt(A,$,V){return $.every((ee,R)=>ft[V](A[R].parameters,ee.parameters))}class Ce{constructor($=new le([],{}),V={},ee=null){this.root=$,this.queryParams=V,this.fragment=ee}get queryParamMap(){return this._queryParamMap??=Rt(this.queryParams),this._queryParamMap}toString(){return ln.serialize(this)}}class le{constructor($,V){this.segments=$,this.children=V,this.parent=null,Object.values(V).forEach(ee=>ee.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class j{constructor($,V){this.path=$,this.parameters=V}get parameterMap(){return this._parameterMap??=Rt(this.parameters),this._parameterMap}toString(){return St(this)}}function Ge(A,$){return A.length===$.length&&A.every((V,ee)=>V.path===$[ee].path)}let vt=(()=>{class A{static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:()=>new Bt,providedIn:"root"})}}return A})();class Bt{parse($){const V=new Gt($);return new Ce(V.parseRootSegment(),V.parseQueryParams(),V.parseFragment())}serialize($){const V=`/${Pn($.root,!0)}`,ee=function Ut(A){const $=Object.entries(A).map(([V,ee])=>Array.isArray(ee)?ee.map(R=>`${Vn(V)}=${Vn(R)}`).join("&"):`${Vn(V)}=${Vn(ee)}`).filter(V=>V);return $.length?`?${$.join("&")}`:""}($.queryParams);return`${V}${ee}${"string"==typeof $.fragment?`#${function Mt(A){return encodeURI(A)}($.fragment)}`:""}`}}const ln=new Bt;function sn(A){return A.segments.map($=>St($)).join("/")}function Pn(A,$){if(!A.hasChildren())return sn(A);if($){const V=A.children[ut]?Pn(A.children[ut],!1):"",ee=[];return Object.entries(A.children).forEach(([R,be])=>{R!==ut&&ee.push(`${R}:${Pn(be,!1)}`)}),ee.length>0?`${V}(${ee.join("//")})`:V}{const V=function tt(A,$){let V=[];return Object.entries(A.children).forEach(([ee,R])=>{ee===ut&&(V=V.concat($(R,ee)))}),Object.entries(A.children).forEach(([ee,R])=>{ee!==ut&&(V=V.concat($(R,ee)))}),V}(A,(ee,R)=>R===ut?[Pn(A.children[ut],!1)]:[`${R}:${Pn(ee,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[ut]?`${sn(A)}/${V[0]}`:`${sn(A)}/(${V.join("//")})`}}function $n(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(A){return $n(A).replace(/%3B/gi,";")}function On(A){return $n(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qt(A){return decodeURIComponent(A)}function mt(A){return Qt(A.replace(/\+/g,"%20"))}function St(A){return`${On(A.path)}${function dt(A){return Object.entries(A).map(([$,V])=>`;${On($)}=${On(V)}`).join("")}(A.parameters)}`}const rn=/^[^\/()?;#]+/;function Tn(A){const $=A.match(rn);return $?$[0]:""}const Jn=/^[^\/()?;=#]+/,yi=/^[^=?&#]+/,xt=/^[^&#]+/;class Gt{constructor($){this.url=$,this.remaining=$}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const $={};if(this.consumeOptional("?"))do{this.parseQueryParam($)}while(this.consumeOptional("&"));return $}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const $=[];for(this.peekStartsWith("(")||$.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),$.push(this.parseSegment());let V={};this.peekStartsWith("/(")&&(this.capture("/"),V=this.parseParens(!0));let ee={};return this.peekStartsWith("(")&&(ee=this.parseParens(!1)),($.length>0||Object.keys(V).length>0)&&(ee[ut]=new le($,V)),ee}parseSegment(){const $=Tn(this.remaining);if(""===$&&this.peekStartsWith(";"))throw new t.wOt(4009,!1);return this.capture($),new j(Qt($),this.parseMatrixParams())}parseMatrixParams(){const $={};for(;this.consumeOptional(";");)this.parseParam($);return $}parseParam($){const V=function yn(A){const $=A.match(Jn);return $?$[0]:""}(this.remaining);if(!V)return;this.capture(V);let ee="";if(this.consumeOptional("=")){const R=Tn(this.remaining);R&&(ee=R,this.capture(ee))}$[Qt(V)]=Qt(ee)}parseQueryParam($){const V=function ii(A){const $=A.match(yi);return $?$[0]:""}(this.remaining);if(!V)return;this.capture(V);let ee="";if(this.consumeOptional("=")){const M=function bt(A){const $=A.match(xt);return $?$[0]:""}(this.remaining);M&&(ee=M,this.capture(ee))}const R=mt(V),be=mt(ee);if($.hasOwnProperty(R)){let M=$[R];Array.isArray(M)||(M=[M],$[R]=M),M.push(be)}else $[R]=be}parseParens($){const V={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const ee=Tn(this.remaining),R=this.remaining[ee.length];if("/"!==R&&")"!==R&&";"!==R)throw new t.wOt(4010,!1);let be;ee.indexOf(":")>-1?(be=ee.slice(0,ee.indexOf(":")),this.capture(be),this.capture(":")):$&&(be=ut);const M=this.parseChildren();V[be]=1===Object.keys(M).length?M[ut]:new le([],M),this.consumeOptional("//")}return V}peekStartsWith($){return this.remaining.startsWith($)}consumeOptional($){return!!this.peekStartsWith($)&&(this.remaining=this.remaining.substring($.length),!0)}capture($){if(!this.consumeOptional($))throw new t.wOt(4011,!1)}}function Kt(A){return A.segments.length>0?new le([],{[ut]:A}):A}function en(A){const $={};for(const[ee,R]of Object.entries(A.children)){const be=en(R);if(ee===ut&&0===be.segments.length&&be.hasChildren())for(const[M,se]of Object.entries(be.children))$[M]=se;else(be.segments.length>0||be.hasChildren())&&($[ee]=be)}return function Rn(A){if(1===A.numberOfChildren&&A.children[ut]){const $=A.children[ut];return new le(A.segments.concat($.segments),$.children)}return A}(new le(A.segments,$))}function Sn(A){return A instanceof Ce}function kn(A){let $;const R=Kt(function V(be){const M={};for(const fe of be.children){const Ot=V(fe);M[fe.outlet]=Ot}const se=new le(be.url,M);return be===A&&($=se),se}(A.root));return $??R}function Cn(A,$,V,ee){let R=A;for(;R.parent;)R=R.parent;if(0===$.length)return ri(R,R,R,V,ee);const be=function Gn(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new ti(!0,0,A);let $=0,V=!1;const ee=A.reduce((R,be,M)=>{if("object"==typeof be&&null!=be){if(be.outlets){const se={};return Object.entries(be.outlets).forEach(([fe,Ot])=>{se[fe]="string"==typeof Ot?Ot.split("/"):Ot}),[...R,{outlets:se}]}if(be.segmentPath)return[...R,be.segmentPath]}return"string"!=typeof be?[...R,be]:0===M?(be.split("/").forEach((se,fe)=>{0==fe&&"."===se||(0==fe&&""===se?V=!0:".."===se?$++:""!=se&&R.push(se))}),R):[...R,be]},[]);return new ti(V,$,ee)}($);if(be.toRoot())return ri(R,R,new le([],{}),V,ee);const M=function Vi(A,$,V){if(A.isAbsolute)return new Ei($,!0,0);if(!V)return new Ei($,!1,NaN);if(null===V.parent)return new Ei(V,!0,0);const ee=wi(A.commands[0])?0:1;return function Yn(A,$,V){let ee=A,R=$,be=V;for(;be>R;){if(be-=R,ee=ee.parent,!ee)throw new t.wOt(4005,!1);R=ee.segments.length}return new Ei(ee,!1,R-be)}(V,V.segments.length-1+ee,A.numberOfDoubleDots)}(be,R,A),se=M.processChildren?It(M.segmentGroup,M.index,be.commands):rt(M.segmentGroup,M.index,be.commands);return ri(R,M.segmentGroup,se,V,ee)}function wi(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function Ri(A){return"object"==typeof A&&null!=A&&A.outlets}function ri(A,$,V,ee,R){let M,be={};ee&&Object.entries(ee).forEach(([fe,Ot])=>{be[fe]=Array.isArray(Ot)?Ot.map(Fn=>`${Fn}`):`${Ot}`}),M=A===$?V:zi(A,$,V);const se=Kt(en(M));return new Ce(se,be,R)}function zi(A,$,V){const ee={};return Object.entries(A.children).forEach(([R,be])=>{ee[R]=be===$?V:zi(be,$,V)}),new le(A.segments,ee)}class ti{constructor($,V,ee){if(this.isAbsolute=$,this.numberOfDoubleDots=V,this.commands=ee,$&&ee.length>0&&wi(ee[0]))throw new t.wOt(4003,!1);const R=ee.find(Ri);if(R&&R!==Re(ee))throw new t.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ei{constructor($,V,ee){this.segmentGroup=$,this.processChildren=V,this.index=ee}}function rt(A,$,V){if(A??=new le([],{}),0===A.segments.length&&A.hasChildren())return It(A,$,V);const ee=function Ye(A,$,V){let ee=0,R=$;const be={match:!1,pathIndex:0,commandIndex:0};for(;R<A.segments.length;){if(ee>=V.length)return be;const M=A.segments[R],se=V[ee];if(Ri(se))break;const fe=`${se}`,Ot=ee<V.length-1?V[ee+1]:null;if(R>0&&void 0===fe)break;if(fe&&Ot&&"object"==typeof Ot&&void 0===Ot.outlets){if(!$t(fe,Ot,M))return be;ee+=2}else{if(!$t(fe,{},M))return be;ee++}R++}return{match:!0,pathIndex:R,commandIndex:ee}}(A,$,V),R=V.slice(ee.commandIndex);if(ee.match&&ee.pathIndex<A.segments.length){const be=new le(A.segments.slice(0,ee.pathIndex),{});return be.children[ut]=new le(A.segments.slice(ee.pathIndex),A.children),It(be,0,R)}return ee.match&&0===R.length?new le(A.segments,{}):ee.match&&!A.hasChildren()?Zt(A,$,V):ee.match?It(A,0,R):Zt(A,$,V)}function It(A,$,V){if(0===V.length)return new le(A.segments,{});{const ee=function Ni(A){return Ri(A[0])?A[0].outlets:{[ut]:A}}(V),R={};if(Object.keys(ee).some(be=>be!==ut)&&A.children[ut]&&1===A.numberOfChildren&&0===A.children[ut].segments.length){const be=It(A.children[ut],$,V);return new le(A.segments,be.children)}return Object.entries(ee).forEach(([be,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(R[be]=rt(A.children[be],$,M))}),Object.entries(A.children).forEach(([be,M])=>{void 0===ee[be]&&(R[be]=M)}),new le(A.segments,R)}}function Zt(A,$,V){const ee=A.segments.slice(0,$);let R=0;for(;R<V.length;){const be=V[R];if(Ri(be)){const fe=ht(be.outlets);return new le(ee,fe)}if(0===R&&wi(V[0])){ee.push(new j(A.segments[$].path,Xt(V[0]))),R++;continue}const M=Ri(be)?be.outlets[ut]:`${be}`,se=R<V.length-1?V[R+1]:null;M&&se&&wi(se)?(ee.push(new j(M,Xt(se))),R+=2):(ee.push(new j(M,{})),R++)}return new le(ee,{})}function ht(A){const $={};return Object.entries(A).forEach(([V,ee])=>{"string"==typeof ee&&(ee=[ee]),null!==ee&&($[V]=Zt(new le([],{}),0,ee))}),$}function Xt(A){const $={};return Object.entries(A).forEach(([V,ee])=>$[V]=`${ee}`),$}function $t(A,$,V){return A==V.path&&Q($,V.parameters)}const an="imperative";var gn=function(A){return A[A.NavigationStart=0]="NavigationStart",A[A.NavigationEnd=1]="NavigationEnd",A[A.NavigationCancel=2]="NavigationCancel",A[A.NavigationError=3]="NavigationError",A[A.RoutesRecognized=4]="RoutesRecognized",A[A.ResolveStart=5]="ResolveStart",A[A.ResolveEnd=6]="ResolveEnd",A[A.GuardsCheckStart=7]="GuardsCheckStart",A[A.GuardsCheckEnd=8]="GuardsCheckEnd",A[A.RouteConfigLoadStart=9]="RouteConfigLoadStart",A[A.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",A[A.ChildActivationStart=11]="ChildActivationStart",A[A.ChildActivationEnd=12]="ChildActivationEnd",A[A.ActivationStart=13]="ActivationStart",A[A.ActivationEnd=14]="ActivationEnd",A[A.Scroll=15]="Scroll",A[A.NavigationSkipped=16]="NavigationSkipped",A}(gn||{});class Ue{constructor($,V){this.id=$,this.url=V}}class Xe extends Ue{constructor($,V,ee="imperative",R=null){super($,V),this.type=gn.NavigationStart,this.navigationTrigger=ee,this.restoredState=R}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ot extends Ue{constructor($,V,ee){super($,V),this.urlAfterRedirects=ee,this.type=gn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Vt=function(A){return A[A.Redirect=0]="Redirect",A[A.SupersededByNewNavigation=1]="SupersededByNewNavigation",A[A.NoDataFromResolver=2]="NoDataFromResolver",A[A.GuardRejected=3]="GuardRejected",A}(Vt||{}),_n=function(A){return A[A.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",A[A.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",A}(_n||{});class bn extends Ue{constructor($,V,ee,R){super($,V),this.reason=ee,this.code=R,this.type=gn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class In extends Ue{constructor($,V,ee,R){super($,V),this.reason=ee,this.code=R,this.type=gn.NavigationSkipped}}class Dn extends Ue{constructor($,V,ee,R){super($,V),this.error=ee,this.target=R,this.type=gn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _i extends Ue{constructor($,V,ee,R){super($,V),this.urlAfterRedirects=ee,this.state=R,this.type=gn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gi extends Ue{constructor($,V,ee,R){super($,V),this.urlAfterRedirects=ee,this.state=R,this.type=gn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends Ue{constructor($,V,ee,R,be){super($,V),this.urlAfterRedirects=ee,this.state=R,this.shouldActivate=be,this.type=gn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mi extends Ue{constructor($,V,ee,R){super($,V),this.urlAfterRedirects=ee,this.state=R,this.type=gn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rr extends Ue{constructor($,V,ee,R){super($,V),this.urlAfterRedirects=ee,this.state=R,this.type=gn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class br{constructor($){this.route=$,this.type=gn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ei{constructor($){this.route=$,this.type=gn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hi{constructor($){this.snapshot=$,this.type=gn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mr{constructor($){this.snapshot=$,this.type=gn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor($){this.snapshot=$,this.type=gn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor($){this.snapshot=$,this.type=gn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Br{constructor($,V,ee){this.routerEvent=$,this.position=V,this.anchor=ee,this.type=gn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ds{}class Vs{constructor($){this.url=$}}class Lr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ss,this.attachRef=null}}let ss=(()=>{class A{constructor(){this.contexts=new Map}onChildOutletCreated(V,ee){const R=this.getOrCreateContext(V);R.outlet=ee,this.contexts.set(V,R)}onChildOutletDestroyed(V){const ee=this.getContext(V);ee&&(ee.outlet=null,ee.attachRef=null)}onOutletDeactivated(){const V=this.contexts;return this.contexts=new Map,V}onOutletReAttached(V){this.contexts=V}getOrCreateContext(V){let ee=this.getContext(V);return ee||(ee=new Lr,this.contexts.set(V,ee)),ee}getContext(V){return this.contexts.get(V)||null}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();class kr{constructor($){this._root=$}get root(){return this._root.value}parent($){const V=this.pathFromRoot($);return V.length>1?V[V.length-2]:null}children($){const V=Ds($,this._root);return V?V.children.map(ee=>ee.value):[]}firstChild($){const V=Ds($,this._root);return V&&V.children.length>0?V.children[0].value:null}siblings($){const V=Er($,this._root);return V.length<2?[]:V[V.length-2].children.map(R=>R.value).filter(R=>R!==$)}pathFromRoot($){return Er($,this._root).map(V=>V.value)}}function Ds(A,$){if(A===$.value)return $;for(const V of $.children){const ee=Ds(A,V);if(ee)return ee}return null}function Er(A,$){if(A===$.value)return[$];for(const V of $.children){const ee=Er(A,V);if(ee.length)return ee.unshift($),ee}return[]}class Tr{constructor($,V){this.value=$,this.children=V}toString(){return`TreeNode(${this.value})`}}function Pi(A){const $={};return A&&A.children.forEach(V=>$[V.value.outlet]=V),$}class Xs extends kr{constructor($,V){super($),this.snapshot=V,Dr(this,$)}toString(){return this.snapshot.toString()}}function gi(A){const $=function _o(A){const be=new Ir([],{},{},"",{},ut,A,null,{});return new Ar("",new Tr(be,[]))}(A),V=new C.t([new j("",{})]),ee=new C.t({}),R=new C.t({}),be=new C.t({}),M=new C.t(""),se=new Zn(V,ee,be,M,R,ut,A,$.root);return se.snapshot=$.root,new Xs(new Tr(se,[]),$)}class Zn{constructor($,V,ee,R,be,M,se,fe){this.urlSubject=$,this.paramsSubject=V,this.queryParamsSubject=ee,this.fragmentSubject=R,this.dataSubject=be,this.outlet=M,this.component=se,this._futureSnapshot=fe,this.title=this.dataSubject?.pipe((0,z.T)(Ot=>Ot[hn]))??(0,S.of)(void 0),this.url=$,this.params=V,this.queryParams=ee,this.fragment=R,this.data=be}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,z.T)($=>Rt($))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,z.T)($=>Rt($))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ur(A,$,V="emptyOnly"){let ee;const{routeConfig:R}=A;return ee=null===$||"always"!==V&&""!==R?.path&&($.component||$.routeConfig?.loadComponent)?{params:{...A.params},data:{...A.data},resolve:{...A.data,...A._resolvedData??{}}}:{params:{...$.params,...A.params},data:{...$.data,...A.data},resolve:{...A.data,...$.data,...R?.data,...A._resolvedData}},R&&Li(R)&&(ee.resolve[hn]=R.title),ee}class Ir{get title(){return this.data?.[hn]}constructor($,V,ee,R,be,M,se,fe,Ot){this.url=$,this.params=V,this.queryParams=ee,this.fragment=R,this.data=be,this.outlet=M,this.component=se,this.routeConfig=fe,this._resolve=Ot}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Rt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Rt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(ee=>ee.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ar extends kr{constructor($,V){super(V),this.url=$,Dr(this,V)}toString(){return Nr(this._root)}}function Dr(A,$){$.value._routerState=A,$.children.forEach(V=>Dr(A,V))}function Nr(A){const $=A.children.length>0?` { ${A.children.map(Nr).join(", ")} } `:"";return`${A.value}${$}`}function Vr(A){if(A.snapshot){const $=A.snapshot,V=A._futureSnapshot;A.snapshot=V,Q($.queryParams,V.queryParams)||A.queryParamsSubject.next(V.queryParams),$.fragment!==V.fragment&&A.fragmentSubject.next(V.fragment),Q($.params,V.params)||A.paramsSubject.next(V.params),function q(A,$){if(A.length!==$.length)return!1;for(let V=0;V<A.length;++V)if(!Q(A[V],$[V]))return!1;return!0}($.url,V.url)||A.urlSubject.next(V.url),Q($.data,V.data)||A.dataSubject.next(V.data)}else A.snapshot=A._futureSnapshot,A.dataSubject.next(A._futureSnapshot.data)}function or(A,$){const V=Q(A.params,$.params)&&function ae(A,$){return Ge(A,$)&&A.every((V,ee)=>Q(V.parameters,$[ee].parameters))}(A.url,$.url);return V&&!(!A.parent!=!$.parent)&&(!A.parent||or(A.parent,$.parent))}function Li(A){return"string"==typeof A.title||null===A.title}let si=(()=>{class A{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new t.bkB,this.deactivateEvents=new t.bkB,this.attachEvents=new t.bkB,this.detachEvents=new t.bkB,this.parentContexts=(0,t.WQX)(ss),this.location=(0,t.WQX)(t.c1b),this.changeDetector=(0,t.WQX)(t.gRc),this.environmentInjector=(0,t.WQX)(t.uvJ),this.inputBinder=(0,t.WQX)(gr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(V){if(V.name){const{firstChange:ee,previousValue:R}=V.name;if(ee)return;this.isTrackedInParentContexts(R)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(R)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(V){return this.parentContexts.getContext(V)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const V=this.parentContexts.getContext(this.name);V?.route&&(V.attachRef?this.attach(V.attachRef,V.route):this.activateWith(V.route,V.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new t.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new t.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new t.wOt(4012,!1);this.location.detach();const V=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(V.instance),V}attach(V,ee){this.activated=V,this._activatedRoute=ee,this.location.insert(V.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(V.instance)}deactivate(){if(this.activated){const V=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(V)}}activateWith(V,ee){if(this.isActivated)throw new t.wOt(4013,!1);this._activatedRoute=V;const R=this.location,M=V.snapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,fe=new jr(V,se,R.injector);this.activated=R.createComponent(M,{index:R.length,injector:fe,environmentInjector:ee??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275dir=t.FsC({type:A,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[t.OA$]})}}return A})();class jr{constructor($,V,ee){this.route=$,this.childContexts=V,this.parent=ee,this.__ngOutletInjector=!0}get($,V){return $===Zn?this.route:$===ss?this.childContexts:this.parent.get($,V)}}const gr=new t.nKC("");let zr=(()=>{class A{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(V){this.unsubscribeFromRouteData(V),this.subscribeToRouteData(V)}unsubscribeFromRouteData(V){this.outletDataSubscriptions.get(V)?.unsubscribe(),this.outletDataSubscriptions.delete(V)}subscribeToRouteData(V){const{activatedRoute:ee}=V,R=(0,w.z)([ee.queryParams,ee.params,ee.data]).pipe((0,ce.n)(([be,M,se],fe)=>(se={...be,...M,...se},0===fe?(0,S.of)(se):Promise.resolve(se)))).subscribe(be=>{if(!V.isActivated||!V.activatedComponentRef||V.activatedRoute!==ee||null===ee.component)return void this.unsubscribeFromRouteData(V);const M=(0,t.HJs)(ee.component);if(M)for(const{templateName:se}of M.inputs)V.activatedComponentRef.setInput(se,be[se]);else this.unsubscribeFromRouteData(V)});this.outletDataSubscriptions.set(V,R)}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})();function js(A,$,V){if(V&&A.shouldReuseRoute($.value,V.value.snapshot)){const ee=V.value;ee._futureSnapshot=$.value;const R=function bo(A,$,V){return $.children.map(ee=>{for(const R of V.children)if(A.shouldReuseRoute(ee.value,R.value.snapshot))return js(A,ee,R);return js(A,ee)})}(A,$,V);return new Tr(ee,R)}{if(A.shouldAttach($.value)){const be=A.retrieve($.value);if(null!==be){const M=be.route;return M.value._futureSnapshot=$.value,M.children=$.children.map(se=>js(A,se)),M}}const ee=function bs(A){return new Zn(new C.t(A.url),new C.t(A.params),new C.t(A.queryParams),new C.t(A.fragment),new C.t(A.data),A.outlet,A.component,A)}($.value),R=$.children.map(be=>js(A,be));return new Tr(ee,R)}}const vr="ngNavigationCancelingError";function Cs(A,$){const{redirectTo:V,navigationBehaviorOptions:ee}=Sn($)?{redirectTo:$,navigationBehaviorOptions:void 0}:$,R=Jr(!1,Vt.Redirect);return R.url=V,R.navigationBehaviorOptions=ee,R}function Jr(A,$){const V=new Error(`NavigationCancelingError: ${A||""}`);return V[vr]=!0,V.cancellationCode=$,V}function Qr(A){return!!A&&A[vr]}let Yr=(()=>{class A{static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275cmp=t.VBU({type:A,selectors:[["ng-component"]],standalone:!0,features:[t.aNF],decls:1,vars:0,template:function(ee,R){1&ee&&t.nrm(0,"router-outlet")},dependencies:[si],encapsulation:2})}}return A})();function dr(A){const $=A.children&&A.children.map(dr),V=$?{...A,children:$}:{...A};return!V.component&&!V.loadComponent&&($||V.loadChildren)&&V.outlet&&V.outlet!==ut&&(V.component=Yr),V}function $r(A){return A.outlet||ut}function Qs(A){if(!A)return null;if(A.routeConfig?._injector)return A.routeConfig._injector;for(let $=A.parent;$;$=$.parent){const V=$.routeConfig;if(V?._loadedInjector)return V._loadedInjector;if(V?._injector)return V._injector}return null}class ui{constructor($,V,ee,R,be){this.routeReuseStrategy=$,this.futureState=V,this.currState=ee,this.forwardEvent=R,this.inputBindingEnabled=be}activate($){const V=this.futureState._root,ee=this.currState?this.currState._root:null;this.deactivateChildRoutes(V,ee,$),Vr(this.futureState.root),this.activateChildRoutes(V,ee,$)}deactivateChildRoutes($,V,ee){const R=Pi(V);$.children.forEach(be=>{const M=be.value.outlet;this.deactivateRoutes(be,R[M],ee),delete R[M]}),Object.values(R).forEach(be=>{this.deactivateRouteAndItsChildren(be,ee)})}deactivateRoutes($,V,ee){const R=$.value,be=V?V.value:null;if(R===be)if(R.component){const M=ee.getContext(R.outlet);M&&this.deactivateChildRoutes($,V,M.children)}else this.deactivateChildRoutes($,V,ee);else be&&this.deactivateRouteAndItsChildren(V,ee)}deactivateRouteAndItsChildren($,V){$.value.component&&this.routeReuseStrategy.shouldDetach($.value.snapshot)?this.detachAndStoreRouteSubtree($,V):this.deactivateRouteAndOutlet($,V)}detachAndStoreRouteSubtree($,V){const ee=V.getContext($.value.outlet),R=ee&&$.value.component?ee.children:V,be=Pi($);for(const M of Object.values(be))this.deactivateRouteAndItsChildren(M,R);if(ee&&ee.outlet){const M=ee.outlet.detach(),se=ee.children.onOutletDeactivated();this.routeReuseStrategy.store($.value.snapshot,{componentRef:M,route:$,contexts:se})}}deactivateRouteAndOutlet($,V){const ee=V.getContext($.value.outlet),R=ee&&$.value.component?ee.children:V,be=Pi($);for(const M of Object.values(be))this.deactivateRouteAndItsChildren(M,R);ee&&(ee.outlet&&(ee.outlet.deactivate(),ee.children.onOutletDeactivated()),ee.attachRef=null,ee.route=null)}activateChildRoutes($,V,ee){const R=Pi(V);$.children.forEach(be=>{this.activateRoutes(be,R[be.value.outlet],ee),this.forwardEvent(new Pr(be.value.snapshot))}),$.children.length&&this.forwardEvent(new mr($.value.snapshot))}activateRoutes($,V,ee){const R=$.value,be=V?V.value:null;if(Vr(R),R===be)if(R.component){const M=ee.getOrCreateContext(R.outlet);this.activateChildRoutes($,V,M.children)}else this.activateChildRoutes($,V,ee);else if(R.component){const M=ee.getOrCreateContext(R.outlet);if(this.routeReuseStrategy.shouldAttach(R.snapshot)){const se=this.routeReuseStrategy.retrieve(R.snapshot);this.routeReuseStrategy.store(R.snapshot,null),M.children.onOutletReAttached(se.contexts),M.attachRef=se.componentRef,M.route=se.route.value,M.outlet&&M.outlet.attach(se.componentRef,se.route.value),Vr(se.route.value),this.activateChildRoutes($,null,M.children)}else{const se=Qs(R.snapshot);M.attachRef=null,M.route=R,M.injector=se,M.outlet&&M.outlet.activateWith(R,M.injector),this.activateChildRoutes($,null,M.children)}}else this.activateChildRoutes($,null,ee)}}class as{constructor($){this.path=$,this.route=this.path[this.path.length-1]}}class Gs{constructor($,V){this.component=$,this.route=V}}function Rr(A,$,V){const ee=A._root;return Kr(ee,$?$._root:null,V,[ee.value])}function Gr(A,$){const V=Symbol(),ee=$.get(A,V);return ee===V?"function"!=typeof A||(0,t.LfX)(A)?$.get(A):A:ee}function Kr(A,$,V,ee,R={canDeactivateChecks:[],canActivateChecks:[]}){const be=Pi($);return A.children.forEach(M=>{(function Bn(A,$,V,ee,R={canDeactivateChecks:[],canActivateChecks:[]}){const be=A.value,M=$?$.value:null,se=V?V.getContext(A.value.outlet):null;if(M&&be.routeConfig===M.routeConfig){const fe=function ro(A,$,V){if("function"==typeof V)return V(A,$);switch(V){case"pathParamsChange":return!Ge(A.url,$.url);case"pathParamsOrQueryParamsChange":return!Ge(A.url,$.url)||!Q(A.queryParams,$.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!or(A,$)||!Q(A.queryParams,$.queryParams);default:return!or(A,$)}}(M,be,be.routeConfig.runGuardsAndResolvers);fe?R.canActivateChecks.push(new as(ee)):(be.data=M.data,be._resolvedData=M._resolvedData),Kr(A,$,be.component?se?se.children:null:V,ee,R),fe&&se&&se.outlet&&se.outlet.isActivated&&R.canDeactivateChecks.push(new Gs(se.outlet.component,M))}else M&&ps($,se,R),R.canActivateChecks.push(new as(ee)),Kr(A,null,be.component?se?se.children:null:V,ee,R)})(M,be[M.value.outlet],V,ee.concat([M.value]),R),delete be[M.value.outlet]}),Object.entries(be).forEach(([M,se])=>ps(se,V.getContext(M),R)),R}function ps(A,$,V){const ee=Pi(A),R=A.value;Object.entries(ee).forEach(([be,M])=>{ps(M,R.component?$?$.children.getContext(be):null:$,V)}),V.canDeactivateChecks.push(new Gs(R.component&&$&&$.outlet&&$.outlet.isActivated?$.outlet.component:null,R))}function Ve(A){return"function"==typeof A}function ls(A){return A instanceof g.G||"EmptyError"===A?.name}const Hi=Symbol("INITIAL_VALUE");function jn(){return(0,ce.n)(A=>(0,w.z)(A.map($=>$.pipe((0,de.s)(1),(0,Y.Z)(Hi)))).pipe((0,z.T)($=>{for(const V of $)if(!0!==V){if(V===Hi)return Hi;if(!1===V||V instanceof Ce)return V}return!0}),(0,Z.p)($=>$!==Hi),(0,de.s)(1)))}function nn(A){return(0,v.F)((0,K.M)($=>{if(Sn($))throw Cs(0,$)}),(0,z.T)($=>!0===$))}class cs{constructor($){this.segmentGroup=$||null}}class vi extends Error{constructor($){super(),this.urlTree=$}}function Ln(A){return(0,B.$)(new cs(A))}class Fi{constructor($,V){this.urlSerializer=$,this.urlTree=V}lineralizeSegments($,V){let ee=[],R=V.root;for(;;){if(ee=ee.concat(R.segments),0===R.numberOfChildren)return(0,S.of)(ee);if(R.numberOfChildren>1||!R.children[ut])return(0,B.$)(new t.wOt(4e3,!1));R=R.children[ut]}}applyRedirectCommands($,V,ee){const R=this.applyRedirectCreateUrlTree(V,this.urlSerializer.parse(V),$,ee);if(V.startsWith("/"))throw new vi(R);return R}applyRedirectCreateUrlTree($,V,ee,R){const be=this.createSegmentGroup($,V.root,ee,R);return new Ce(be,this.createQueryParams(V.queryParams,this.urlTree.queryParams),V.fragment)}createQueryParams($,V){const ee={};return Object.entries($).forEach(([R,be])=>{if("string"==typeof be&&be.startsWith(":")){const se=be.substring(1);ee[R]=V[se]}else ee[R]=be}),ee}createSegmentGroup($,V,ee,R){const be=this.createSegments($,V.segments,ee,R);let M={};return Object.entries(V.children).forEach(([se,fe])=>{M[se]=this.createSegmentGroup($,fe,ee,R)}),new le(be,M)}createSegments($,V,ee,R){return V.map(be=>be.path.startsWith(":")?this.findPosParam($,be,R):this.findOrReturn(be,ee))}findPosParam($,V,ee){const R=ee[V.path.substring(1)];if(!R)throw new t.wOt(4001,!1);return R}findOrReturn($,V){let ee=0;for(const R of V){if(R.path===$.path)return V.splice(ee),R;ee++}return $}}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qr(A,$,V,ee,R){const be=Ss(A,$,V);return be.matched?(ee=function Cr(A,$){return A.providers&&!A._injector&&(A._injector=(0,t.Ol2)(A.providers,$,`Route: ${A.path}`)),A._injector??$}($,ee),function cr(A,$,V,ee){const R=$.canMatch;if(!R||0===R.length)return(0,S.of)(!0);const be=R.map(M=>{const se=Gr(M,A);return at(function Mi(A){return A&&Ve(A.canMatch)}(se)?se.canMatch($,V):(0,t.N4e)(A,()=>se($,V)))});return(0,S.of)(be).pipe(jn(),nn())}(ee,$,V).pipe((0,z.T)(M=>!0===M?be:{...Zi}))):(0,S.of)(be)}function Ss(A,$,V){if("**"===$.path)return function nr(A){return{matched:!0,parameters:A.length>0?Re(A).parameters:{},consumedSegments:A,remainingSegments:[],positionalParamSegments:{}}}(V);if(""===$.path)return"full"===$.pathMatch&&(A.hasChildren()||V.length>0)?{...Zi}:{matched:!0,consumedSegments:[],remainingSegments:V,parameters:{},positionalParamSegments:{}};const R=($.matcher||Dt)(V,A,$);if(!R)return{...Zi};const be={};Object.entries(R.posParams??{}).forEach(([se,fe])=>{be[se]=fe.path});const M=R.consumed.length>0?{...be,...R.consumed[R.consumed.length-1].parameters}:be;return{matched:!0,consumedSegments:R.consumed,remainingSegments:V.slice(R.consumed.length),parameters:M,positionalParamSegments:R.posParams??{}}}function Mo(A,$,V,ee){return V.length>0&&function po(A,$,V){return V.some(ee=>Fr(A,$,ee)&&$r(ee)!==ut)}(A,V,ee)?{segmentGroup:new le($,so(ee,new le(V,A.children))),slicedSegments:[]}:0===V.length&&function xo(A,$,V){return V.some(ee=>Fr(A,$,ee))}(A,V,ee)?{segmentGroup:new le(A.segments,$i(A,V,ee,A.children)),slicedSegments:V}:{segmentGroup:new le(A.segments,A.children),slicedSegments:V}}function $i(A,$,V,ee){const R={};for(const be of V)if(Fr(A,$,be)&&!ee[$r(be)]){const M=new le([],{});R[$r(be)]=M}return{...ee,...R}}function so(A,$){const V={};V[ut]=$;for(const ee of A)if(""===ee.path&&$r(ee)!==ut){const R=new le([],{});V[$r(ee)]=R}return V}function Fr(A,$,V){return(!(A.hasChildren()||$.length>0)||"full"!==V.pathMatch)&&""===V.path}class na{}class ko{constructor($,V,ee,R,be,M,se){this.injector=$,this.configLoader=V,this.rootComponentType=ee,this.config=R,this.urlTree=be,this.paramsInheritanceStrategy=M,this.urlSerializer=se,this.applyRedirects=new Fi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError($){return new t.wOt(4002,`'${$.segmentGroup}'`)}recognize(){const $=Mo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match($).pipe((0,z.T)(V=>{const ee=new Ir([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,{}),R=new Tr(ee,V),be=new Ar("",R),M=function li(A,$,V=null,ee=null){return Cn(kn(A),$,V,ee)}(ee,[],this.urlTree.queryParams,this.urlTree.fragment);return M.queryParams=this.urlTree.queryParams,be.url=this.urlSerializer.serialize(M),this.inheritParamsAndData(be._root,null),{state:be,tree:M}}))}match($){return this.processSegmentGroup(this.injector,this.config,$,ut).pipe((0,he.W)(ee=>{if(ee instanceof vi)return this.urlTree=ee.urlTree,this.match(ee.urlTree.root);throw ee instanceof cs?this.noMatchError(ee):ee}))}inheritParamsAndData($,V){const ee=$.value,R=Ur(ee,V,this.paramsInheritanceStrategy);ee.params=Object.freeze(R.params),ee.data=Object.freeze(R.data),$.children.forEach(be=>this.inheritParamsAndData(be,ee))}processSegmentGroup($,V,ee,R){return 0===ee.segments.length&&ee.hasChildren()?this.processChildren($,V,ee):this.processSegment($,V,ee,ee.segments,R,!0).pipe((0,z.T)(be=>be instanceof Tr?[be]:[]))}processChildren($,V,ee){const R=[];for(const be of Object.keys(ee.children))"primary"===be?R.unshift(be):R.push(be);return(0,p.H)(R).pipe((0,pe.H)(be=>{const M=ee.children[be],se=function Zr(A,$){const V=A.filter(ee=>$r(ee)===$);return V.push(...A.filter(ee=>$r(ee)!==$)),V}(V,be);return this.processSegmentGroup($,se,M,be)}),function Ae(A,$){return(0,O.N)((0,Oe.S)(A,$,arguments.length>=2,!0))}((be,M)=>(be.push(...M),be)),(0,Fe.U)(null),function ge(A,$){const V=arguments.length>=2;return ee=>ee.pipe(A?(0,Z.p)((R,be)=>A(R,be,ee)):Te.D,qe(1),V?(0,Fe.U)($):(0,Me.v)(()=>new g.G))}(),(0,ne.Z)(be=>{if(null===be)return Ln(ee);const M=ir(be);return function Uo(A){A.sort(($,V)=>$.value.outlet===ut?-1:V.value.outlet===ut?1:$.value.outlet.localeCompare(V.value.outlet))}(M),(0,S.of)(M)}))}processSegment($,V,ee,R,be,M){return(0,p.H)(V).pipe((0,pe.H)(se=>this.processSegmentAgainstRoute(se._injector??$,V,se,ee,R,be,M).pipe((0,he.W)(fe=>{if(fe instanceof cs)return(0,S.of)(null);throw fe}))),(0,I.$)(se=>!!se),(0,he.W)(se=>{if(ls(se))return function Ms(A,$,V){return 0===$.length&&!A.children[V]}(ee,R,be)?(0,S.of)(new na):Ln(ee);throw se}))}processSegmentAgainstRoute($,V,ee,R,be,M,se){return function As(A,$,V,ee){return!!($r(A)===ee||ee!==ut&&Fr($,V,A))&&Ss($,A,V).matched}(ee,R,be,M)?void 0===ee.redirectTo?this.matchSegmentAgainstRoute($,R,ee,be,M):this.allowRedirects&&se?this.expandSegmentAgainstRouteUsingRedirect($,R,V,ee,be,M):Ln(R):Ln(R)}expandSegmentAgainstRouteUsingRedirect($,V,ee,R,be,M){const{matched:se,consumedSegments:fe,positionalParamSegments:Ot,remainingSegments:Fn}=Ss(V,R,be);if(!se)return Ln(V);R.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Xn=this.applyRedirects.applyRedirectCommands(fe,R.redirectTo,Ot);return this.applyRedirects.lineralizeSegments(R,Xn).pipe((0,ne.Z)(bi=>this.processSegment($,ee,V,bi.concat(Fn),M,!1)))}matchSegmentAgainstRoute($,V,ee,R,be){const M=qr(V,ee,R,$);return"**"===ee.path&&(V.children={}),M.pipe((0,ce.n)(se=>se.matched?this.getChildConfig($=ee._injector??$,ee,R).pipe((0,ce.n)(({routes:fe})=>{const Ot=ee._loadedInjector??$,{consumedSegments:Fn,remainingSegments:Xn,parameters:bi}=se,ns=new Ir(Fn,bi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function So(A){return A.data||{}}(ee),$r(ee),ee.component??ee._loadedComponent??null,ee,function No(A){return A.resolve||{}}(ee)),{segmentGroup:hs,slicedSegments:Yo}=Mo(V,Fn,Xn,fe);if(0===Yo.length&&hs.hasChildren())return this.processChildren(Ot,fe,hs).pipe((0,z.T)(vo=>null===vo?null:new Tr(ns,vo)));if(0===fe.length&&0===Yo.length)return(0,S.of)(new Tr(ns,[]));const dl=$r(ee)===be;return this.processSegment(Ot,fe,hs,Yo,dl?ut:be,!0).pipe((0,z.T)(vo=>new Tr(ns,vo instanceof Tr?[vo]:[])))})):Ln(V)))}getChildConfig($,V,ee){return V.children?(0,S.of)({routes:V.children,injector:$}):V.loadChildren?void 0!==V._loadedRoutes?(0,S.of)({routes:V._loadedRoutes,injector:V._loadedInjector}):function xi(A,$,V,ee){const R=$.canLoad;if(void 0===R||0===R.length)return(0,S.of)(!0);const be=R.map(M=>{const se=Gr(M,A);return at(function ve(A){return A&&Ve(A.canLoad)}(se)?se.canLoad($,V):(0,t.N4e)(A,()=>se($,V)))});return(0,S.of)(be).pipe(jn(),nn())}($,V,ee).pipe((0,ne.Z)(R=>R?this.configLoader.loadChildren($,V).pipe((0,K.M)(be=>{V._loadedRoutes=be.routes,V._loadedInjector=be.injector})):function zs(A){return(0,B.$)(Jr(!1,Vt.GuardRejected))}())):(0,S.of)({routes:[],injector:$})}}function yr(A){const $=A.value.routeConfig;return $&&""===$.path}function ir(A){const $=[],V=new Set;for(const ee of A){if(!yr(ee)){$.push(ee);continue}const R=$.find(be=>ee.value.routeConfig===be.value.routeConfig);void 0!==R?(R.children.push(...ee.children),V.add(R)):$.push(ee)}for(const ee of V){const R=ir(ee.children);$.push(new Tr(ee.value,R))}return $.filter(ee=>!V.has(ee))}function jo(A){const $=A.children.map(V=>jo(V)).flat();return[A,...$]}function Ks(A){return(0,ce.n)($=>{const V=A($);return V?(0,p.H)(V).pipe((0,z.T)(()=>$)):(0,S.of)($)})}let Es=(()=>{class A{buildTitle(V){let ee,R=V.root;for(;void 0!==R;)ee=this.getResolvedTitleForRoute(R)??ee,R=R.children.find(be=>be.outlet===ut);return ee}getResolvedTitleForRoute(V){return V.data[hn]}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:()=>(0,t.WQX)(Ys),providedIn:"root"})}}return A})(),Ys=(()=>{class A extends Es{constructor(V){super(),this.title=V}updateTitle(V){const ee=this.buildTitle(V);void 0!==ee&&this.title.setTitle(ee)}static{this.\u0275fac=function(ee){return new(ee||A)(t.KVO(Ct.hE))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const mo=new t.nKC("",{providedIn:"root",factory:()=>({})}),hr=new t.nKC("");let Hr=(()=>{class A{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,t.WQX)(t.Ql9)}loadComponent(V){if(this.componentLoaders.get(V))return this.componentLoaders.get(V);if(V._loadedComponent)return(0,S.of)(V._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(V);const ee=at(V.loadComponent()).pipe((0,z.T)(eo),(0,K.M)(be=>{this.onLoadEndListener&&this.onLoadEndListener(V),V._loadedComponent=be}),(0,xe.j)(()=>{this.componentLoaders.delete(V)})),R=new N(ee,()=>new H.B).pipe(W());return this.componentLoaders.set(V,R),R}loadChildren(V,ee){if(this.childrenLoaders.get(ee))return this.childrenLoaders.get(ee);if(ee._loadedRoutes)return(0,S.of)({routes:ee._loadedRoutes,injector:ee._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(ee);const be=function es(A,$,V,ee){return at(A.loadChildren()).pipe((0,z.T)(eo),(0,ne.Z)(R=>R instanceof t.Co$||Array.isArray(R)?(0,S.of)(R):(0,p.H)($.compileModuleAsync(R))),(0,z.T)(R=>{ee&&ee(A);let be,M,se=!1;return Array.isArray(R)?(M=R,!0):(be=R.create(V).injector,M=be.get(hr,[],{optional:!0,self:!0}).flat()),{routes:M.map(dr),injector:be}}))}(ee,this.compiler,V,this.onLoadEndListener).pipe((0,xe.j)(()=>{this.childrenLoaders.delete(ee)})),M=new N(be,()=>new H.B).pipe(W());return this.childrenLoaders.set(ee,M),M}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function eo(A){return function Oo(A){return A&&"object"==typeof A&&"default"in A}(A)?A.default:A}let ks=(()=>{class A{static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:()=>(0,t.WQX)(Ts),providedIn:"root"})}}return A})(),Ts=(()=>{class A{shouldProcessUrl(V){return!0}extract(V){return V}merge(V,ee){return V}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const Fo=new t.nKC(""),Ns=new t.nKC("");function re(A,$,V){const ee=A.get(Ns),R=A.get(G.qQ);return A.get(t.SKi).runOutsideAngular(()=>{if(!R.startViewTransition||ee.skipNextTransition)return ee.skipNextTransition=!1,Promise.resolve();let be;const M=new Promise(Ot=>{be=Ot}),se=R.startViewTransition(()=>(be(),function Qe(A){return new Promise($=>{(0,t.mal)($,{injector:A})})}(A))),{onViewTransitionCreated:fe}=ee;return fe&&(0,t.N4e)(A,()=>fe({transition:se,from:$,to:V})),M})}let Se=(()=>{class A{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H.B,this.transitionAbortSubject=new H.B,this.configLoader=(0,t.WQX)(Hr),this.environmentInjector=(0,t.WQX)(t.uvJ),this.urlSerializer=(0,t.WQX)(vt),this.rootContexts=(0,t.WQX)(ss),this.location=(0,t.WQX)(G.aZ),this.inputBindingEnabled=null!==(0,t.WQX)(gr,{optional:!0}),this.titleStrategy=(0,t.WQX)(Es),this.options=(0,t.WQX)(mo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,t.WQX)(ks),this.createViewTransition=(0,t.WQX)(Fo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,S.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=R=>this.events.next(new ei(R)),this.configLoader.onLoadStartListener=R=>this.events.next(new br(R))}complete(){this.transitions?.complete()}handleNavigationRequest(V){const ee=++this.navigationId;this.transitions?.next({...this.transitions.value,...V,id:ee})}setupNavigations(V,ee,R){return this.transitions=new C.t({id:0,currentUrlTree:ee,currentRawUrl:ee,extractedUrl:this.urlHandlingStrategy.extract(ee),urlAfterRedirects:this.urlHandlingStrategy.extract(ee),rawUrl:ee,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:R.snapshot,targetSnapshot:null,currentRouterState:R,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Z.p)(be=>0!==be.id),(0,z.T)(be=>({...be,extractedUrl:this.urlHandlingStrategy.extract(be.rawUrl)})),(0,ce.n)(be=>{let M=!1,se=!1;return(0,S.of)(be).pipe((0,ce.n)(fe=>{if(this.navigationId>be.id)return this.cancelNavigationTransition(be,"",Vt.SupersededByNewNavigation),U.w;this.currentTransition=be,this.currentNavigation={id:fe.id,initialUrl:fe.rawUrl,extractedUrl:fe.extractedUrl,trigger:fe.source,extras:fe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ot=!V.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ot&&"reload"!==(fe.extras.onSameUrlNavigation??V.onSameUrlNavigation)){const Xn="";return this.events.next(new In(fe.id,this.urlSerializer.serialize(fe.rawUrl),Xn,_n.IgnoredSameUrlNavigation)),fe.resolve(null),U.w}if(this.urlHandlingStrategy.shouldProcessUrl(fe.rawUrl))return(0,S.of)(fe).pipe((0,ce.n)(Xn=>{const bi=this.transitions?.getValue();return this.events.next(new Xe(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),Xn.source,Xn.restoredState)),bi!==this.transitions?.getValue()?U.w:Promise.resolve(Xn)}),function zo(A,$,V,ee,R,be){return(0,ne.Z)(M=>function Lo(A,$,V,ee,R,be,M="emptyOnly"){return new ko(A,$,V,ee,R,M,be).recognize()}(A,$,V,ee,M.extractedUrl,R,be).pipe((0,z.T)(({state:se,tree:fe})=>({...M,targetSnapshot:se,urlAfterRedirects:fe}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,V.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.M)(Xn=>{be.targetSnapshot=Xn.targetSnapshot,be.urlAfterRedirects=Xn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Xn.urlAfterRedirects};const bi=new _i(Xn.id,this.urlSerializer.serialize(Xn.extractedUrl),this.urlSerializer.serialize(Xn.urlAfterRedirects),Xn.targetSnapshot);this.events.next(bi)}));if(Ot&&this.urlHandlingStrategy.shouldProcessUrl(fe.currentRawUrl)){const{id:Xn,extractedUrl:bi,source:ns,restoredState:hs,extras:Yo}=fe,dl=new Xe(Xn,this.urlSerializer.serialize(bi),ns,hs);this.events.next(dl);const vo=gi(this.rootComponentType).snapshot;return this.currentTransition=be={...fe,targetSnapshot:vo,urlAfterRedirects:bi,extras:{...Yo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=bi,(0,S.of)(be)}{const Xn="";return this.events.next(new In(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Xn,_n.IgnoredByUrlHandlingStrategy)),fe.resolve(null),U.w}}),(0,K.M)(fe=>{const Ot=new Gi(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot);this.events.next(Ot)}),(0,z.T)(fe=>(this.currentTransition=be={...fe,guards:Rr(fe.targetSnapshot,fe.currentSnapshot,this.rootContexts)},be)),function Be(A,$){return(0,ne.Z)(V=>{const{targetSnapshot:ee,currentSnapshot:R,guards:{canActivateChecks:be,canDeactivateChecks:M}}=V;return 0===M.length&&0===be.length?(0,S.of)({...V,guardsResult:!0}):function Ze(A,$,V,ee){return(0,p.H)(A).pipe((0,ne.Z)(R=>function Hn(A,$,V,ee,R){const be=$&&$.routeConfig?$.routeConfig.canDeactivate:null;if(!be||0===be.length)return(0,S.of)(!0);const M=be.map(se=>{const fe=Qs($)??R,Ot=Gr(se,fe);return at(function qn(A){return A&&Ve(A.canDeactivate)}(Ot)?Ot.canDeactivate(A,$,V,ee):(0,t.N4e)(fe,()=>Ot(A,$,V,ee))).pipe((0,I.$)())});return(0,S.of)(M).pipe(jn())}(R.component,R.route,V,$,ee)),(0,I.$)(R=>!0!==R,!0))}(M,ee,R,A).pipe((0,ne.Z)(se=>se&&function He(A){return"boolean"==typeof A}(se)?function Et(A,$,V,ee){return(0,p.H)($).pipe((0,pe.H)(R=>(0,h.x)(function zt(A,$){return null!==A&&$&&$(new hi(A)),(0,S.of)(!0)}(R.route.parent,ee),function kt(A,$){return null!==A&&$&&$(new Oi(A)),(0,S.of)(!0)}(R.route,ee),function vn(A,$,V){const ee=$[$.length-1],be=$.slice(0,$.length-1).reverse().map(M=>function Hs(A){const $=A.routeConfig?A.routeConfig.canActivateChild:null;return $&&0!==$.length?{node:A,guards:$}:null}(M)).filter(M=>null!==M).map(M=>(0,E.v)(()=>{const se=M.guards.map(fe=>{const Ot=Qs(M.node)??V,Fn=Gr(fe,Ot);return at(function jt(A){return A&&Ve(A.canActivateChild)}(Fn)?Fn.canActivateChild(ee,A):(0,t.N4e)(Ot,()=>Fn(ee,A))).pipe((0,I.$)())});return(0,S.of)(se).pipe(jn())}));return(0,S.of)(be).pipe(jn())}(A,R.path,V),function Wt(A,$,V){const ee=$.routeConfig?$.routeConfig.canActivate:null;if(!ee||0===ee.length)return(0,S.of)(!0);const R=ee.map(be=>(0,E.v)(()=>{const M=Qs($)??V,se=Gr(be,M);return at(function it(A){return A&&Ve(A.canActivate)}(se)?se.canActivate($,A):(0,t.N4e)(M,()=>se($,A))).pipe((0,I.$)())}));return(0,S.of)(R).pipe(jn())}(A,R.route,V))),(0,I.$)(R=>!0!==R,!0))}(ee,be,A,$):(0,S.of)(se)),(0,z.T)(se=>({...V,guardsResult:se})))})}(this.environmentInjector,fe=>this.events.next(fe)),(0,K.M)(fe=>{if(be.guardsResult=fe.guardsResult,Sn(fe.guardsResult))throw Cs(0,fe.guardsResult);const Ot=new Ti(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects),fe.targetSnapshot,!!fe.guardsResult);this.events.next(Ot)}),(0,Z.p)(fe=>!!fe.guardsResult||(this.cancelNavigationTransition(fe,"",Vt.GuardRejected),!1)),Ks(fe=>{if(fe.guards.canActivateChecks.length)return(0,S.of)(fe).pipe((0,K.M)(Ot=>{const Fn=new mi(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(Fn)}),(0,ce.n)(Ot=>{let Fn=!1;return(0,S.of)(Ot).pipe(function Vo(A,$){return(0,ne.Z)(V=>{const{targetSnapshot:ee,guards:{canActivateChecks:R}}=V;if(!R.length)return(0,S.of)(V);const be=new Set(R.map(fe=>fe.route)),M=new Set;for(const fe of be)if(!M.has(fe))for(const Ot of jo(fe))M.add(Ot);let se=0;return(0,p.H)(M).pipe((0,pe.H)(fe=>be.has(fe)?function ia(A,$,V,ee){const R=A.routeConfig,be=A._resolve;return void 0!==R?.title&&!Li(R)&&(be[hn]=R.title),function ms(A,$,V,ee){const R=te(A);if(0===R.length)return(0,S.of)({});const be={};return(0,p.H)(R).pipe((0,ne.Z)(M=>function Mr(A,$,V,ee){const R=Qs($)??ee,be=Gr(A,R);return at(be.resolve?be.resolve($,V):(0,t.N4e)(R,()=>be($,V)))}(A[M],$,V,ee).pipe((0,I.$)(),(0,K.M)(se=>{be[M]=se}))),qe(1),(0,$e.u)(be),(0,he.W)(M=>ls(M)?U.w:(0,B.$)(M)))}(be,A,$,ee).pipe((0,z.T)(M=>(A._resolvedData=M,A.data=Ur(A,A.parent,V).resolve,null)))}(fe,ee,A,$):(fe.data=Ur(fe,fe.parent,A).resolve,(0,S.of)(void 0))),(0,K.M)(()=>se++),qe(1),(0,ne.Z)(fe=>se===M.size?(0,S.of)(V):U.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,K.M)({next:()=>Fn=!0,complete:()=>{Fn||this.cancelNavigationTransition(Ot,"",Vt.NoDataFromResolver)}}))}),(0,K.M)(Ot=>{const Fn=new rr(Ot.id,this.urlSerializer.serialize(Ot.extractedUrl),this.urlSerializer.serialize(Ot.urlAfterRedirects),Ot.targetSnapshot);this.events.next(Fn)}))}),Ks(fe=>{const Ot=Fn=>{const Xn=[];Fn.routeConfig?.loadComponent&&!Fn.routeConfig._loadedComponent&&Xn.push(this.configLoader.loadComponent(Fn.routeConfig).pipe((0,K.M)(bi=>{Fn.component=bi}),(0,z.T)(()=>{})));for(const bi of Fn.children)Xn.push(...Ot(bi));return Xn};return(0,w.z)(Ot(fe.targetSnapshot.root)).pipe((0,Fe.U)(null),(0,de.s)(1))}),Ks(()=>this.afterPreactivation()),(0,ce.n)(()=>{const{currentSnapshot:fe,targetSnapshot:Ot}=be,Fn=this.createViewTransition?.(this.environmentInjector,fe.root,Ot.root);return Fn?(0,p.H)(Fn).pipe((0,z.T)(()=>be)):(0,S.of)(be)}),(0,z.T)(fe=>{const Ot=function os(A,$,V){const ee=js(A,$._root,V?V._root:void 0);return new Xs(ee,$)}(V.routeReuseStrategy,fe.targetSnapshot,fe.currentRouterState);return this.currentTransition=be={...fe,targetRouterState:Ot},this.currentNavigation.targetRouterState=Ot,be}),(0,K.M)(()=>{this.events.next(new ds)}),((A,$,V,ee)=>(0,z.T)(R=>(new ui($,R.targetRouterState,R.currentRouterState,V,ee).activate(A),R)))(this.rootContexts,V.routeReuseStrategy,fe=>this.events.next(fe),this.inputBindingEnabled),(0,de.s)(1),(0,K.M)({next:fe=>{M=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ot(fe.id,this.urlSerializer.serialize(fe.extractedUrl),this.urlSerializer.serialize(fe.urlAfterRedirects))),this.titleStrategy?.updateTitle(fe.targetRouterState.snapshot),fe.resolve(!0)},complete:()=>{M=!0}}),(0,pt.Q)(this.transitionAbortSubject.pipe((0,K.M)(fe=>{throw fe}))),(0,xe.j)(()=>{!M&&!se&&this.cancelNavigationTransition(be,"",Vt.SupersededByNewNavigation),this.currentTransition?.id===be.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,he.W)(fe=>{if(se=!0,Qr(fe))this.events.next(new bn(be.id,this.urlSerializer.serialize(be.extractedUrl),fe.message,fe.cancellationCode)),function Wo(A){return Qr(A)&&Sn(A.url)}(fe)?this.events.next(new Vs(fe.url)):be.resolve(!1);else{this.events.next(new Dn(be.id,this.urlSerializer.serialize(be.extractedUrl),fe,be.targetSnapshot??void 0));try{be.resolve(V.errorHandler(fe))}catch(Ot){this.options.resolveNavigationPromiseOnError?be.resolve(!1):be.reject(Ot)}}return U.w}))}))}cancelNavigationTransition(V,ee,R){const be=new bn(V.id,this.urlSerializer.serialize(V.extractedUrl),ee,R);this.events.next(be),V.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();function je(A){return A!==an}let Tt=(()=>{class A{static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:()=>(0,t.WQX)(wn),providedIn:"root"})}}return A})();class cn{shouldDetach($){return!1}store($,V){}shouldAttach($){return!1}retrieve($){return null}shouldReuseRoute($,V){return $.routeConfig===V.routeConfig}}let wn=(()=>{class A extends cn{static{this.\u0275fac=(()=>{let V;return function(R){return(V||(V=t.xGo(A)))(R||A)}})()}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),oi=(()=>{class A{static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:()=>(0,t.WQX)(sr),providedIn:"root"})}}return A})(),sr=(()=>{class A extends oi{constructor(){super(...arguments),this.location=(0,t.WQX)(G.aZ),this.urlSerializer=(0,t.WQX)(vt),this.options=(0,t.WQX)(mo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,t.WQX)(ks),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ce,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gi(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(V){return this.location.subscribe(ee=>{"popstate"===ee.type&&V(ee.url,ee.state)})}handleRouterEvent(V,ee){if(V instanceof Xe)this.stateMemento=this.createStateMemento();else if(V instanceof In)this.rawUrlTree=ee.initialUrl;else if(V instanceof _i){if("eager"===this.urlUpdateStrategy&&!ee.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(ee.finalUrl,ee.initialUrl);this.setBrowserUrl(R,ee)}}else V instanceof ds?(this.currentUrlTree=ee.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(ee.finalUrl,ee.initialUrl),this.routerState=ee.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ee.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ee))):V instanceof bn&&(V.code===Vt.GuardRejected||V.code===Vt.NoDataFromResolver)?this.restoreHistory(ee):V instanceof Dn?this.restoreHistory(ee,!0):V instanceof ot&&(this.lastSuccessfulId=V.id,this.currentPageId=this.browserPageId)}setBrowserUrl(V,ee){const R=this.urlSerializer.serialize(V);if(this.location.isCurrentPathEqualTo(R)||ee.extras.replaceUrl){const M={...ee.extras.state,...this.generateNgRouterState(ee.id,this.browserPageId)};this.location.replaceState(R,"",M)}else{const be={...ee.extras.state,...this.generateNgRouterState(ee.id,this.browserPageId+1)};this.location.go(R,"",be)}}restoreHistory(V,ee=!1){if("computed"===this.canceledNavigationResolution){const be=this.currentPageId-this.browserPageId;0!==be?this.location.historyGo(be):this.currentUrlTree===V.finalUrl&&0===be&&(this.resetState(V),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(ee&&this.resetState(V),this.resetUrlToCurrentUrlTree())}resetState(V){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,V.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(V,ee){return"computed"===this.canceledNavigationResolution?{navigationId:V,\u0275routerPageId:ee}:{navigationId:V}}static{this.\u0275fac=(()=>{let V;return function(R){return(V||(V=t.xGo(A)))(R||A)}})()}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();var qi=function(A){return A[A.COMPLETE=0]="COMPLETE",A[A.FAILED=1]="FAILED",A[A.REDIRECTING=2]="REDIRECTING",A}(qi||{});function Ki(A,$){A.events.pipe((0,Z.p)(V=>V instanceof ot||V instanceof bn||V instanceof Dn||V instanceof In),(0,z.T)(V=>V instanceof ot||V instanceof In?qi.COMPLETE:V instanceof bn&&(V.code===Vt.Redirect||V.code===Vt.SupersededByNewNavigation)?qi.REDIRECTING:qi.FAILED),(0,Z.p)(V=>V!==qi.REDIRECTING),(0,de.s)(1)).subscribe(()=>{$()})}function Wi(A){throw A}const di={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{class A{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,t.WQX)(t.H3F),this.stateManager=(0,t.WQX)(oi),this.options=(0,t.WQX)(mo,{optional:!0})||{},this.pendingTasks=(0,t.WQX)(t.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,t.WQX)(Se),this.urlSerializer=(0,t.WQX)(vt),this.location=(0,t.WQX)(G.aZ),this.urlHandlingStrategy=(0,t.WQX)(ks),this._events=new H.B,this.errorHandler=this.options.errorHandler||Wi,this.navigated=!1,this.routeReuseStrategy=(0,t.WQX)(Tt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,t.WQX)(hr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,t.WQX)(gr,{optional:!0}),this.eventsSubscription=new k.yU,this.isNgZoneEnabled=(0,t.WQX)(t.SKi)instanceof t.SKi&&t.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:V=>{this.console.warn(V)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const V=this.navigationTransitions.events.subscribe(ee=>{try{const R=this.navigationTransitions.currentTransition,be=this.navigationTransitions.currentNavigation;if(null!==R&&null!==be)if(this.stateManager.handleRouterEvent(ee,be),ee instanceof bn&&ee.code!==Vt.Redirect&&ee.code!==Vt.SupersededByNewNavigation)this.navigated=!0;else if(ee instanceof ot)this.navigated=!0;else if(ee instanceof Vs){const M=this.urlHandlingStrategy.merge(ee.url,R.currentRawUrl),se={info:R.extras.info,skipLocationChange:R.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||je(R.source)};this.scheduleNavigation(M,an,null,se,{resolve:R.resolve,reject:R.reject,promise:R.promise})}(function L(A){return!(A instanceof ds||A instanceof Vs)})(ee)&&this._events.next(ee)}catch(R){this.navigationTransitions.transitionAbortSubject.next(R)}});this.eventsSubscription.add(V)}resetRootComponentType(V){this.routerState.root.component=V,this.navigationTransitions.rootComponentType=V}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((V,ee)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(V,"popstate",ee)},0)})}navigateToSyncWithBrowser(V,ee,R){const be={replaceUrl:!0},M=R?.navigationId?R:null;if(R){const fe={...R};delete fe.navigationId,delete fe.\u0275routerPageId,0!==Object.keys(fe).length&&(be.state=fe)}const se=this.parseUrl(V);this.scheduleNavigation(se,ee,M,be)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(V){this.config=V.map(dr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(V,ee={}){const{relativeTo:R,queryParams:be,fragment:M,queryParamsHandling:se,preserveFragment:fe}=ee,Ot=fe?this.currentUrlTree.fragment:M;let Xn,Fn=null;switch(se){case"merge":Fn={...this.currentUrlTree.queryParams,...be};break;case"preserve":Fn=this.currentUrlTree.queryParams;break;default:Fn=be||null}null!==Fn&&(Fn=this.removeEmptyProps(Fn));try{Xn=kn(R?R.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof V[0]||!V[0].startsWith("/"))&&(V=[]),Xn=this.currentUrlTree.root}return Cn(Xn,V,Fn,Ot??null)}navigateByUrl(V,ee={skipLocationChange:!1}){const R=Sn(V)?V:this.parseUrl(V),be=this.urlHandlingStrategy.merge(R,this.rawUrlTree);return this.scheduleNavigation(be,an,null,ee)}navigate(V,ee={skipLocationChange:!1}){return function we(A){for(let $=0;$<A.length;$++)if(null==A[$])throw new t.wOt(4008,!1)}(V),this.navigateByUrl(this.createUrlTree(V,ee),ee)}serializeUrl(V){return this.urlSerializer.serialize(V)}parseUrl(V){try{return this.urlSerializer.parse(V)}catch{return this.urlSerializer.parse("/")}}isActive(V,ee){let R;if(R=!0===ee?{...di}:!1===ee?{...Yi}:ee,Sn(V))return Ft(this.currentUrlTree,V,R);const be=this.parseUrl(V);return Ft(this.currentUrlTree,be,R)}removeEmptyProps(V){return Object.entries(V).reduce((ee,[R,be])=>(null!=be&&(ee[R]=be),ee),{})}scheduleNavigation(V,ee,R,be,M){if(this.disposed)return Promise.resolve(!1);let se,fe,Ot;M?(se=M.resolve,fe=M.reject,Ot=M.promise):Ot=new Promise((Xn,bi)=>{se=Xn,fe=bi});const Fn=this.pendingTasks.add();return Ki(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Fn))}),this.navigationTransitions.handleNavigationRequest({source:ee,restoredState:R,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:V,extras:be,resolve:se,reject:fe,promise:Ot,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ot.catch(Xn=>Promise.reject(Xn))}static{this.\u0275fac=function(ee){return new(ee||A)}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})(),me=(()=>{class A{constructor(V,ee,R,be,M,se){this.router=V,this.route=ee,this.tabIndexAttribute=R,this.renderer=be,this.el=M,this.locationStrategy=se,this.href=null,this.commands=null,this.onChanges=new H.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const fe=M.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===fe||"area"===fe,this.isAnchorElement?this.subscription=V.events.subscribe(Ot=>{Ot instanceof ot&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(V){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",V)}ngOnChanges(V){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(V){null!=V?(this.commands=Array.isArray(V)?V:[V],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(V,ee,R,be,M){const se=this.urlTree;return!!(null===se||this.isAnchorElement&&(0!==V||ee||R||be||M||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(se,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const V=this.urlTree;this.href=null!==V&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(V)):null;const ee=null===this.href?null:(0,t.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ee)}applyAttributeValue(V,ee){const R=this.renderer,be=this.el.nativeElement;null!==ee?R.setAttribute(be,V,ee):R.removeAttribute(be,V)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(ee){return new(ee||A)(t.rXU(Ii),t.rXU(Zn),t.kS0("tabindex"),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(G.hb))}}static{this.\u0275dir=t.FsC({type:A,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(ee,R){1&ee&&t.bIt("click",function(M){return R.onClick(M.button,M.ctrlKey,M.shiftKey,M.altKey,M.metaKey)}),2&ee&&t.BMQ("target",R.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[t.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",t.L39],skipLocationChange:[t.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",t.L39],replaceUrl:[t.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",t.L39],routerLink:"routerLink"},standalone:!0,features:[t.GFd,t.OA$]})}}return A})(),Pe=(()=>{class A{get isActive(){return this._isActive}constructor(V,ee,R,be,M){this.router=V,this.element=ee,this.renderer=R,this.cdr=be,this.link=M,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new t.bkB,this.routerEventsSubscription=V.events.subscribe(se=>{se instanceof ot&&this.update()})}ngAfterContentInit(){(0,S.of)(this.links.changes,(0,S.of)(null)).pipe((0,Le.U)()).subscribe(V=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const V=[...this.links.toArray(),this.link].filter(ee=>!!ee).map(ee=>ee.onChanges);this.linkInputChangesSubscription=(0,p.H)(V).pipe((0,Le.U)()).subscribe(ee=>{this._isActive!==this.isLinkActive(this.router)(ee)&&this.update()})}set routerLinkActive(V){const ee=Array.isArray(V)?V:V.split(" ");this.classes=ee.filter(R=>!!R)}ngOnChanges(V){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const V=this.hasActiveLinks();this.classes.forEach(ee=>{V?this.renderer.addClass(this.element.nativeElement,ee):this.renderer.removeClass(this.element.nativeElement,ee)}),V&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==V&&(this._isActive=V,this.cdr.markForCheck(),this.isActiveChange.emit(V))})}isLinkActive(V){const ee=function st(A){return!!A.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return R=>{const be=R.urlTree;return!!be&&V.isActive(be,ee)}}hasActiveLinks(){const V=this.isLinkActive(this.router);return this.link&&V(this.link)||this.links.some(V)}static{this.\u0275fac=function(ee){return new(ee||A)(t.rXU(Ii),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(t.gRc),t.rXU(me,8))}}static{this.\u0275dir=t.FsC({type:A,selectors:[["","routerLinkActive",""]],contentQueries:function(ee,R,be){if(1&ee&&t.wni(be,me,5),2&ee){let M;t.mGM(M=t.lsd())&&(R.links=M)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[t.OA$]})}}return A})();class At{}let un=(()=>{class A{constructor(V,ee,R,be,M){this.router=V,this.injector=R,this.preloadingStrategy=be,this.loader=M}setUpPreloading(){this.subscription=this.router.events.pipe((0,Z.p)(V=>V instanceof ot),(0,pe.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(V,ee){const R=[];for(const be of ee){be.providers&&!be._injector&&(be._injector=(0,t.Ol2)(be.providers,V,`Route: ${be.path}`));const M=be._injector??V,se=be._loadedInjector??M;(be.loadChildren&&!be._loadedRoutes&&void 0===be.canLoad||be.loadComponent&&!be._loadedComponent)&&R.push(this.preloadConfig(M,be)),(be.children||be._loadedRoutes)&&R.push(this.processRoutes(se,be.children??be._loadedRoutes))}return(0,p.H)(R).pipe((0,Le.U)())}preloadConfig(V,ee){return this.preloadingStrategy.preload(ee,()=>{let R;R=ee.loadChildren&&void 0===ee.canLoad?this.loader.loadChildren(V,ee):(0,S.of)(null);const be=R.pipe((0,ne.Z)(M=>null===M?(0,S.of)(void 0):(ee._loadedRoutes=M.routes,ee._loadedInjector=M.injector,this.processRoutes(M.injector??V,M.routes))));if(ee.loadComponent&&!ee._loadedComponent){const M=this.loader.loadComponent(ee);return(0,p.H)([be,M]).pipe((0,Le.U)())}return be})}static{this.\u0275fac=function(ee){return new(ee||A)(t.KVO(Ii),t.KVO(t.Ql9),t.KVO(t.uvJ),t.KVO(At),t.KVO(Hr))}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}}return A})();const An=new t.nKC("");let ci=(()=>{class A{constructor(V,ee,R,be,M={}){this.urlSerializer=V,this.transitions=ee,this.viewportScroller=R,this.zone=be,this.options=M,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},M.scrollPositionRestoration||="disabled",M.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(V=>{V instanceof Xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=V.navigationTrigger,this.restoredId=V.restoredState?V.restoredState.navigationId:0):V instanceof ot?(this.lastId=V.id,this.scheduleScrollEvent(V,this.urlSerializer.parse(V.urlAfterRedirects).fragment)):V instanceof In&&V.code===_n.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(V,this.urlSerializer.parse(V.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(V=>{V instanceof Br&&(V.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(V.position):V.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(V.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(V,ee){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Br(V,"popstate"===this.lastSource?this.store[this.restoredId]:null,ee))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(ee){t.QTQ()}}static{this.\u0275prov=t.jDH({token:A,factory:A.\u0275fac})}}return A})();function Ie(A,$){return{\u0275kind:A,\u0275providers:$}}function pn(){const A=(0,t.WQX)(t.zZn);return $=>{const V=A.get(t.o8S);if($!==V.components[0])return;const ee=A.get(Ii),R=A.get(ni);1===A.get(Di)&&ee.initialNavigation(),A.get(ki,null,t.$GK.Optional)?.setUpPreloading(),A.get(An,null,t.$GK.Optional)?.init(),ee.resetRootComponentType(V.componentTypes[0]),R.closed||(R.next(),R.complete(),R.unsubscribe())}}const ni=new t.nKC("",{factory:()=>new H.B}),Di=new t.nKC("",{providedIn:"root",factory:()=>1}),ki=new t.nKC("");function Eo(A){return Ie(0,[{provide:ki,useExisting:un},{provide:At,useExisting:A}])}function us(A){return Ie(9,[{provide:Fo,useValue:re},{provide:Ns,useValue:{skipNextTransition:!!A?.skipInitialTransition,...A}}])}const ts=new t.nKC("ROUTER_FORROOT_GUARD"),Os=[G.aZ,{provide:vt,useClass:Bt},Ii,ss,{provide:Zn,useFactory:function Xi(A){return A.routerState.root},deps:[Ii]},Hr,[]];let il=(()=>{class A{constructor(V){}static forRoot(V,ee){return{ngModule:A,providers:[Os,[],{provide:hr,multi:!0,useValue:V},{provide:ts,useFactory:xa,deps:[[Ii,new t.Xx1,new t.kdw]]},{provide:mo,useValue:ee||{}},ee?.useHash?{provide:G.hb,useClass:G.fw}:{provide:G.hb,useClass:G.Sm},{provide:An,useFactory:()=>{const A=(0,t.WQX)(G.Xr),$=(0,t.WQX)(t.SKi),V=(0,t.WQX)(mo),ee=(0,t.WQX)(Se),R=(0,t.WQX)(vt);return V.scrollOffset&&A.setOffset(V.scrollOffset),new ci(R,ee,A,$,V)}},ee?.preloadingStrategy?Eo(ee.preloadingStrategy).\u0275providers:[],ee?.initialNavigation?xl(ee):[],ee?.bindToComponentInputs?Ie(8,[zr,{provide:gr,useExisting:zr}]).\u0275providers:[],ee?.enableViewTransitions?us().\u0275providers:[],[{provide:We,useFactory:pn},{provide:t.iLQ,multi:!0,useExisting:We}]]}}static forChild(V){return{ngModule:A,providers:[{provide:hr,multi:!0,useValue:V}]}}static{this.\u0275fac=function(ee){return new(ee||A)(t.KVO(ts,8))}}static{this.\u0275mod=t.$C({type:A})}static{this.\u0275inj=t.G2t({})}}return A})();function xa(A){return"guarded"}function xl(A){return["disabled"===A.initialNavigation?Ie(3,[{provide:t.hnV,multi:!0,useFactory:()=>{const $=(0,t.WQX)(Ii);return()=>{$.setUpLocationChangeListener()}}},{provide:Di,useValue:2}]).\u0275providers:[],"enabledBlocking"===A.initialNavigation?Ie(2,[{provide:Di,useValue:0},{provide:t.hnV,multi:!0,deps:[t.zZn],useFactory:$=>{const V=$.get(G.hj,Promise.resolve());return()=>V.then(()=>new Promise(ee=>{const R=$.get(Ii),be=$.get(ni);Ki(R,()=>{ee(!0)}),$.get(Se).afterPreactivation=()=>(ee(!0),be.closed?(0,S.of)(void 0):be),R.initialNavigation()}))}}]).\u0275providers:[]]}const We=new t.nKC("")},7005:(nt,ye,d)=>{"use strict";d.d(ye,{xq:()=>Te,XE:()=>De,tl:()=>mn,QG:()=>ut,wY:()=>qe});var t=d(4438),e=d(1583),p=d(9350),S=d(7707),w=d(1985),g=d(1413),h=d(2771),E=d(7673),v=d(6648),B=d(4402),U=d(5964),a=d(9974),k=d(4360),P=d(1397),W=d(6354),N=d(1780),H=d(177),G=d(1626);const z=new t.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),ce=new t.nKC("RAW_ROUTES");var de=function(ft){return ft.LocalStorage="LocalStorage",ft.SessionStorage="SessionStorage",ft.Cookie="Cookie",ft}(de||{});const Y=new t.nKC("USE_CACHED_LANG"),Z=new t.nKC("CACHE_MECHANISM"),ne=new t.nKC("CACHE_NAME"),I=new t.nKC("COOKIE_FORMAT"),pe=new t.nKC("INITIAL_NAVIGATION"),K=new t.nKC("DEFAULT_LANG_FUNCTION"),he=new t.nKC("ALWAYS_SET_PREFIX");let qe=(()=>{class ft{constructor(_t=!0,lt=!0,Pt=de.LocalStorage,tn="LOCALIZE_DEFAULT_LANGUAGE",ct=void 0,Lt="{{value}};{{expires}}",Ce=!1){this.useCachedLang=_t,this.alwaysSetPrefix=lt,this.cacheName=tn,this.cookieFormat=Lt,this.initialNavigation=Ce,this.cacheMechanism=Pt,this.defaultLangFunction=ct}}return ft.\u0275fac=function(_t){return new(_t||ft)(t.KVO(Y),t.KVO(he),t.KVO(Z),t.KVO(ne),t.KVO(K),t.KVO(I),t.KVO(pe))},ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac}),ft})(),Te=(()=>{class ft{constructor(_t,lt,Pt){this.translate=_t,this.location=lt,this.settings=Pt}init(_t){let lt;if(this.routes=_t,!this.locales||!this.locales.length)return Promise.resolve();const Pt=this.getLocationLang(),tn=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,tn):this._cachedLang||tn||this.locales[0],lt=Pt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let ct=[];if(this.settings.alwaysSetPrefix){const Lt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},Ce=_t.findIndex(le=>"**"===le.path);-1!==Ce&&(this._wildcardRoute=_t.splice(Ce,1)[0]),ct=this.routes.splice(0,this.routes.length,Lt)}else ct=[...this.routes];for(let Lt=ct.length-1;Lt>=0;Lt--)ct[Lt].data&&ct[Lt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(ct[Lt]),(void 0===ct[Lt].redirectTo||!ct[Lt].data.skipRouteLocalization.localizeRedirectTo)&&ct.splice(Lt,1));return ct&&ct.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:ct},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function C(ft,Ft){const _t="object"==typeof Ft;return new Promise((lt,Pt)=>{const tn=new S.Ms({next:ct=>{lt(ct),tn.unsubscribe()},error:Pt,complete:()=>{_t?lt(Ft.defaultValue):Pt(new p.G)}});ft.subscribe(tn)})}(this.translateRoutes(lt))}initChildRoutes(_t){return this._translateRouteTree(_t),_t}translateRoutes(_t){return new w.c(lt=>{this._cachedLang=_t,this._languageRoute&&(this._languageRoute.path=_t),this.translate.use(_t).subscribe(Pt=>{this._translationObject=Pt,this.currentLang=_t,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),lt.next(void 0),lt.complete()})})}_translateRouteTree(_t,lt){_t.forEach(Pt=>{const tn=Pt.data&&Pt.data.skipRouteLocalization;if(Pt.redirectTo&&(!tn||tn.localizeRedirectTo)){const Lt=0===Pt.redirectTo.indexOf("/")||lt;this._translateProperty(Pt,"redirectTo",Lt)}tn||(null!=Pt.path&&this._translateProperty(Pt,"path"),Pt.children&&this._translateRouteTree(Pt.children),Pt.loadChildren&&Pt._loadedRoutes?.length&&this._translateRouteTree(Pt._loadedRoutes))})}_translateProperty(_t,lt,Pt){const tn=_t.data=_t.data||{};tn.localizeRouter||(tn.localizeRouter={}),tn.localizeRouter[lt]||(tn.localizeRouter={...tn.localizeRouter,[lt]:_t[lt]});const ct=this.translateRoute(tn.localizeRouter[lt]);_t[lt]=Pt?this.addPrefixToUrl(ct):ct}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(_t){const lt=_t.split("?"),Pt=1===lt[0].length&&"/"===lt[0];lt[0]=lt[0].replace(/\/$/,"");const tn=lt.join("?");return""===this.urlPrefix?tn:tn.startsWith("/")||Pt?`/${this.urlPrefix}${tn}`:`${this.urlPrefix}/${tn}`}translateRoute(_t){const lt=_t.split("?");if(lt.length>2)throw Error("There should be only one query parameter block in the URL");return lt[0].split("/").map(tn=>tn.length?this.translateText(tn):tn).join("/")+(lt.length>1?`?${lt[1]}`:"")}getLocationLang(_t){const lt=(_t||this.location.path()).split(/[\?;]/);let Pt=[];return lt.length>0&&(Pt=lt[0].split("/")),Pt.length>1&&-1!==this.locales.indexOf(Pt[1])?Pt[1]:Pt.length&&-1!==this.locales.indexOf(Pt[0])?Pt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===de.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===de.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===de.Cookie)return this._cacheWithCookies()}}set _cachedLang(_t){this.settings.useCachedLang&&(this.settings.cacheMechanism===de.LocalStorage&&this._cacheWithLocalStorage(_t),this.settings.cacheMechanism===de.SessionStorage&&this._cacheWithSessionStorage(_t),this.settings.cacheMechanism===de.Cookie&&this._cacheWithCookies(_t))}_cacheWithLocalStorage(_t){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return _t?void window.localStorage.setItem(this.settings.cacheName,_t):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(_t){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return _t?void window.sessionStorage.setItem(this.settings.cacheName,_t):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(_t){try{if(typeof document>"u"||typeof document.cookie>"u")return;const lt=encodeURIComponent(this.settings.cacheName);if(_t){let ct=`${this.settings.cookieFormat}`;return ct=ct.replace("{{value}}",`${lt}=${encodeURIComponent(_t)}`).replace(/{{expires:?(\d+)?}}/g,(Lt,Ce)=>{const le=void 0===Ce?30:parseInt(Ce,10),j=new Date;return j.setTime(j.getTime()+864e5*le),`expires=${j.toUTCString()}`}),void(document.cookie=ct)}const tn=new RegExp("(?:^"+lt+"|;\\s*"+lt+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(tn[1])}catch{return}}_returnIfInLocales(_t){return _t&&-1!==this.locales.indexOf(_t)?_t:null}translateText(_t){if(this.escapePrefix&&_t.startsWith(this.escapePrefix))return _t.replace(this.escapePrefix,"");{if(!this._translationObject)return _t;const lt=this.prefix+_t,Pt=this.translate.getParsedResult(this._translationObject,lt);return Pt!==lt?Pt:_t}}chooseQueryParams(_t,lt){let Pt;return _t&&_t.queryParams?Pt=_t.queryParams:lt&&(Pt=lt),Pt}formatQueryParams(_t){return new G.Nl({fromObject:_t}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return ft.\u0275fac=function(_t){return new(_t||ft)(t.KVO(N.c$),t.KVO(H.aZ),t.KVO(qe))},ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac}),ft})(),$e=(()=>{class ft extends Te{load(_t){return new Promise(lt=>{this.init(_t).then(lt)})}}return ft.\u0275fac=(()=>{let Ft;return function(lt){return(Ft||(Ft=t.xGo(ft)))(lt||ft)}})(),ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac}),ft})();function xe(ft,Ft){if(ft===Ft)return!0;if(null===ft||null===Ft)return!1;if(ft!=ft&&Ft!=Ft)return!0;const _t=typeof ft;let Pt,tn,ct;if(_t===typeof Ft&&"object"===_t){if(!Array.isArray(ft)){if(Array.isArray(Ft))return!1;for(tn in ct=Object.create(null),ft)if(ft.hasOwnProperty(tn)){if(!xe(ft[tn],Ft[tn]))return!1;ct[tn]=!0}for(tn in Ft)if(Ft.hasOwnProperty(tn)&&!(tn in ct)&&typeof Ft[tn]<"u")return!1;return!0}if(!Array.isArray(Ft))return!1;if((Pt=ft.length)===Ft.length){for(tn=0;tn<Pt;tn++)if(!xe(ft[tn],Ft[tn]))return!1;return!0}}return!1}function Le(ft){const Ft=Array.isArray(ft)?[]:{};for(const _t in ft)if(_t){const lt=ft[_t];Ft[_t]="object"==typeof lt?Le(lt):lt}return Ft}let ut=(()=>{class ft{constructor(_t,lt,Pt,tn){this.parser=_t,this.settings=lt,this.router=Pt,this.route=tn,this.routerEvents=new g.B;const ct=new h.m(1);this.hooks={_initializedSubject:ct,initialized:ct.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,U.p)(_t=>_t instanceof e.Z),function O(){return(0,a.N)((ft,Ft)=>{let _t,lt=!1;ft.subscribe((0,k._)(Ft,Pt=>{const tn=_t;_t=Pt,lt&&Ft.next([tn,Pt]),lt=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(_t,lt,Pt){if(_t!==this.parser.currentLang){const tn=this.router.routerState.snapshot.root;this.parser.translateRoutes(_t).subscribe(()=>{let ct=this.traverseRouteSnapshot(tn);if(ct=this.translateRoute(ct),!this.settings.alwaysSetPrefix){let le=ct.split("/");const j=le.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===j||1===j&&""===le[0])&&(le=le.slice(0,j).concat(le.slice(j+1)));else if(-1===j){const ae=""===le[0]?1:0;le=le.slice(0,ae).concat(this.parser.currentLang,le.slice(ae))}ct=le.join("/")}ct=ct.replace(/\/+/g,"/");const Lt=ct.lastIndexOf("/");Lt>0&&Lt===ct.length-1&&(ct=ct.slice(0,-1));const Ce=this.parser.chooseQueryParams(lt,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=lt,Pt){const le=lt?{...lt}:{};Ce&&(le.queryParams=Ce),this.router.navigate([ct],le)}else{let le=this.parser.formatQueryParams(Ce);le=le?`?${le}`:"",this.router.navigateByUrl(`${ct}${le}`,lt)}})}}traverseRouteSnapshot(_t){return _t.firstChild&&_t.routeConfig?`${this.parseSegmentValue(_t)}/${this.traverseRouteSnapshot(_t.firstChild)}`:_t.firstChild?this.traverseRouteSnapshot(_t.firstChild):this.parseSegmentValue(_t)}buildUrlFromSegments(_t,lt){return lt.map((Pt,tn)=>0===Pt.indexOf(":")?_t.url[tn].path:Pt).join("/")}parseSegmentValue(_t){if(_t.routeConfig&&_t.routeConfig.matcher){const lt=this.parseSegmentValueMatcher(_t);return this.buildUrlFromSegments(_t,lt)}if(_t.data.localizeRouter){const Pt=_t.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(_t,Pt)}if(_t.parent&&_t.parent.parent){const Pt=_t.routeConfig.path.split("/");return this.buildUrlFromSegments(_t,Pt)}return""}parseSegmentValueMatcher(_t){const lt=_t.data&&_t.data.localizeMatcher&&_t.data.localizeMatcher.params||{};return _t.url.map(tn=>{const ct=tn.path,Lt=tn.localizedParamName;return(Lt&&lt[Lt]?lt[Lt](ct):null)||`${this.parser.getEscapePrefix()}${ct}`})}translateRoute(_t){if("string"==typeof _t){const Pt=this.parser.translateRoute(_t);return _t.indexOf("/")?Pt:this.parser.addPrefixToUrl(Pt)}const lt=[];return _t.forEach((Pt,tn)=>{if("string"==typeof Pt){const ct=this.parser.translateRoute(Pt);tn||Pt.indexOf("/")?lt.push(ct):lt.push(this.parser.addPrefixToUrl(ct))}else lt.push(Pt)}),lt}_routeChanged(){return([_t,lt])=>{const Pt=this.parser.getLocationLang(_t.url)||this.parser.defaultLang,tn=this.parser.getLocationLang(lt.url)||this.parser.defaultLang,ct=this.lastExtras;tn!==Pt&&this.latestUrl!==lt.url&&(this.latestUrl=lt.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(tn).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(lt.url,ct),this.routerEvents.next(tn)})),this.latestUrl=lt.url}}cancelCurrentNavigation(){const _t=this.router.getCurrentNavigation(),lt=this.router.serializeUrl(_t.extractedUrl);this.router.events.next(new e.j5(_t.id,lt,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(_t){this.router.resetConfig(Le(_t))}}return ft.\u0275fac=function(_t){return new(_t||ft)(t.KVO(Te),t.KVO(qe),t.KVO(e.Ix),t.KVO(e.nX))},ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac}),ft})(),mn=(()=>{class ft{constructor(_t,lt){this.localize=_t,this._ref=lt,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(_t){if(!_t||0===_t.length||!this.localize.parser.currentLang)return _t;if(xe(_t,this.lastKey)&&xe(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=_t,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(_t),this.lastKey=_t;const lt=this._ref._view;return lt&&128&lt.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return ft.\u0275fac=function(_t){return new(_t||ft)(t.rXU(ut,16),t.rXU(t.gRc,16))},ft.\u0275pipe=t.EJ8({name:"localize",type:ft,pure:!1}),ft})();class Rt{constructor(){}shouldDetach(Ft){return!1}store(Ft,_t){}shouldAttach(Ft){return!1}retrieve(Ft){return null}shouldReuseRoute(Ft,_t){return!(!Ft||!_t)&&this.getKey(Ft)===this.getKey(_t)}getKey(Ft){if(Ft.firstChild&&Ft.firstChild.routeConfig&&Ft.firstChild.routeConfig.path&&-1!==Ft.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ft.data.localizeRouter||Ft.parent&&Ft.parent.parent||Ft.data.skipRouteLocalization))return"LANG";if(Ft.routeConfig.matcher){let _t=`${this.getKey(Ft.parent)}/${Ft.routeConfig.matcher.name}`;return Ft.data.discriminantPathKey&&(_t=`${_t}-${Ft.data.discriminantPathKey}`),_t}if(Ft.data.localizeRouter){let _t=`${this.getKey(Ft.parent)}/${Ft.data.localizeRouter.path}`;return Ft.data.discriminantPathKey&&(_t=`${_t}-${Ft.data.discriminantPathKey}`),_t}{let _t=Ft.routeConfig.path;return Ft.parent&&(_t=`${this.getKey(Ft.parent)}/${Ft.routeConfig.path}`),Ft.data.discriminantPathKey&&(_t=`${_t}-${Ft.data.discriminantPathKey}`),_t}}}let Dt=(()=>{class ft extends e.Ix{constructor(){super(),this.platformId=(0,t.WQX)(t.Agw),this.compiler=(0,t.WQX)(t.Ql9),this.localize=(0,t.WQX)(Te),((0,H.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=Pt=>function q(ft){return(0,B.A)(ft)?ft:function pt(ft){return!!ft&&"function"==typeof ft.then}(ft)?(0,v.H)(Promise.resolve(ft)):(0,E.of)(ft)}(Pt()).pipe((0,P.Z)(tn=>{let ct;return ct=tn instanceof t.Co$||Array.isArray(tn)?(0,E.of)(tn):(0,v.H)(this.compiler.compileModuleAsync(tn)),ct.pipe((0,W.T)(Lt=>Array.isArray(Lt)?Lt:{moduleType:Lt.moduleType,create:Ce=>{const le=Lt.create(Ce),j=le.injector.get.bind(le.injector);return le.injector.get=(ae,Ge,tt)=>{const vt=j(ae,Ge,tt);return ae===e.bw?this.localize.initChildRoutes([].concat(...vt)):vt},le}}))}))}}return ft.\u0275fac=function(_t){return new(_t||ft)},ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac,providedIn:"root"}),ft})(),Q=(()=>{class ft{constructor(_t){this.injector=_t}appInitializer(){return this.parser.load(this.routes).then(()=>{const lt=this.injector.get(ut),Pt=this.injector.get(e.Ix),tn=this.injector.get(qe);if(lt.init(),tn.initialNavigation)return new Promise(ct=>{const Lt=Pt.navigationTransitions.afterPreactivation;let Ce=!0;Pt.navigationTransitions.afterPreactivation=()=>(Ce&&(ct(),Ce=!1,lt.hooks._initializedSubject.next(!0),lt.hooks._initializedSubject.complete()),Lt())});lt.hooks._initializedSubject.next(!0),lt.hooks._initializedSubject.complete()})}generateInitializer(_t,lt){return this.parser=_t,this.routes=lt.reduce((Pt,tn)=>Pt.concat(tn)),this.appInitializer}}return ft.\u0275fac=function(_t){return new(_t||ft)(t.KVO(t.zZn))},ft.\u0275prov=t.jDH({token:ft,factory:ft.\u0275fac}),ft})();function te(ft,Ft,_t){const lt=Le(_t);return ft.generateInitializer(Ft,lt).bind(ft)}let De=(()=>{class ft{static forRoot(_t,lt={}){return{ngModule:ft,providers:[{provide:e.Ix,useClass:Dt},{provide:z,useFactory:Re,deps:[[ft,new t.Xx1,new t.kdw]]},{provide:Y,useValue:lt.useCachedLang},{provide:he,useValue:lt.alwaysSetPrefix},{provide:ne,useValue:lt.cacheName},{provide:Z,useValue:lt.cacheMechanism},{provide:K,useValue:lt.defaultLangFunction},{provide:I,useValue:lt.cookieFormat},{provide:pe,useValue:lt.initialNavigation},qe,lt.parser||{provide:Te,useClass:$e},{provide:ce,multi:!0,useValue:_t},ut,Q,{provide:t.hnV,multi:!0,useFactory:te,deps:[Q,Te,ce]},{provide:e.b,useClass:Rt}]}}static forChild(_t){return{ngModule:ft,providers:[{provide:ce,multi:!0,useValue:_t}]}}}return ft.\u0275fac=function(_t){return new(_t||ft)},ft.\u0275mod=t.$C({type:ft}),ft.\u0275inj=t.G2t({imports:[H.MD,e.iI,N.h]}),ft})();function Re(ft){if(ft)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(nt,ye,d)=>{"use strict";d.d(ye,{D9:()=>Oe,Wr:()=>U,c$:()=>K,h:()=>Ae});var t=d(4438),e=d(7673),p=d(4402),S=d(7468),C=d(8793),w=d(9030),g=d(6697),h=d(9568),E=d(6354),v=d(274),B=d(5558);class U{}let a=(()=>{class Fe extends U{getTranslation(Me){return(0,e.of)({})}}return Fe.\u0275fac=(()=>{let qe;return function(Te){return(qe||(qe=t.xGo(Fe)))(Te||Fe)}})(),Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})();class k{}let O=(()=>{class Fe{handle(Me){return Me.key}}return Fe.\u0275fac=function(Me){return new(Me||Fe)},Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})();function P(Fe,qe){if(Fe===qe)return!0;if(null===Fe||null===qe)return!1;if(Fe!=Fe&&qe!=qe)return!0;let ge,$e,xe,Me=typeof Fe;if(Me==typeof qe&&"object"==Me){if(!Array.isArray(Fe)){if(Array.isArray(qe))return!1;for($e in xe=Object.create(null),Fe){if(!P(Fe[$e],qe[$e]))return!1;xe[$e]=!0}for($e in qe)if(!($e in xe)&&typeof qe[$e]<"u")return!1;return!0}if(!Array.isArray(qe))return!1;if((ge=Fe.length)==qe.length){for($e=0;$e<ge;$e++)if(!P(Fe[$e],qe[$e]))return!1;return!0}}return!1}function W(Fe){return typeof Fe<"u"&&null!==Fe}function N(Fe){return Fe&&"object"==typeof Fe&&!Array.isArray(Fe)}function H(Fe,qe){let Me=Object.assign({},Fe);return N(Fe)&&N(qe)&&Object.keys(qe).forEach(Te=>{N(qe[Te])?Te in Fe?Me[Te]=H(Fe[Te],qe[Te]):Object.assign(Me,{[Te]:qe[Te]}):Object.assign(Me,{[Te]:qe[Te]})}),Me}class G{}let z=(()=>{class Fe extends G{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Me,Te){let ge;return ge="string"==typeof Me?this.interpolateString(Me,Te):"function"==typeof Me?this.interpolateFunction(Me,Te):Me,ge}getValue(Me,Te){let ge="string"==typeof Te?Te.split("."):[Te];Te="";do{Te+=ge.shift(),!W(Me)||!W(Me[Te])||"object"!=typeof Me[Te]&&ge.length?ge.length?Te+=".":Me=void 0:(Me=Me[Te],Te="")}while(ge.length);return Me}interpolateFunction(Me,Te){return Me(Te)}interpolateString(Me,Te){return Te?Me.replace(this.templateMatcher,(ge,$e)=>{let xe=this.getValue(Te,$e);return W(xe)?xe:ge}):Me}}return Fe.\u0275fac=(()=>{let qe;return function(Te){return(qe||(qe=t.xGo(Fe)))(Te||Fe)}})(),Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})();class ce{}let de=(()=>{class Fe extends ce{compile(Me,Te){return Me}compileTranslations(Me,Te){return Me}}return Fe.\u0275fac=(()=>{let qe;return function(Te){return(qe||(qe=t.xGo(Fe)))(Te||Fe)}})(),Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})();class Y{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.bkB,this.onLangChange=new t.bkB,this.onDefaultLangChange=new t.bkB}}const Z=new t.nKC("USE_STORE"),ne=new t.nKC("USE_DEFAULT_LANG"),I=new t.nKC("DEFAULT_LANGUAGE"),pe=new t.nKC("USE_EXTEND");let K=(()=>{class Fe{constructor(Me,Te,ge,$e,xe,pt=!0,Le=!1,Ct=!1,ut){this.store=Me,this.currentLoader=Te,this.compiler=ge,this.parser=$e,this.missingTranslationHandler=xe,this.useDefaultLang=pt,this.isolate=Le,this.extend=Ct,this.pending=!1,this._onTranslationChange=new t.bkB,this._onLangChange=new t.bkB,this._onDefaultLangChange=new t.bkB,this._langs=[],this._translations={},this._translationRequests={},ut&&this.setDefaultLang(ut)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Me){this.isolate?this._defaultLang=Me:this.store.defaultLang=Me}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Me){this.isolate?this._currentLang=Me:this.store.currentLang=Me}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Me){this.isolate?this._langs=Me:this.store.langs=Me}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Me){this.isolate?this._translations=Me:this.store.translations=Me}setDefaultLang(Me){if(Me===this.defaultLang)return;let Te=this.retrieveTranslations(Me);typeof Te<"u"?(null==this.defaultLang&&(this.defaultLang=Me),Te.pipe((0,g.s)(1)).subscribe(ge=>{this.changeDefaultLang(Me)})):this.changeDefaultLang(Me)}getDefaultLang(){return this.defaultLang}use(Me){if(Me===this.currentLang)return(0,e.of)(this.translations[Me]);let Te=this.retrieveTranslations(Me);return typeof Te<"u"?(this.currentLang||(this.currentLang=Me),Te.pipe((0,g.s)(1)).subscribe(ge=>{this.changeLang(Me)}),Te):(this.changeLang(Me),(0,e.of)(this.translations[Me]))}retrieveTranslations(Me){let Te;return(typeof this.translations[Me]>"u"||this.extend)&&(this._translationRequests[Me]=this._translationRequests[Me]||this.getTranslation(Me),Te=this._translationRequests[Me]),Te}getTranslation(Me){this.pending=!0;const Te=this.currentLoader.getTranslation(Me).pipe((0,h.t)(1),(0,g.s)(1));return this.loadingTranslations=Te.pipe((0,E.T)(ge=>this.compiler.compileTranslations(ge,Me)),(0,h.t)(1),(0,g.s)(1)),this.loadingTranslations.subscribe({next:ge=>{this.translations[Me]=this.extend&&this.translations[Me]?{...ge,...this.translations[Me]}:ge,this.updateLangs(),this.pending=!1},error:ge=>{this.pending=!1}}),Te}setTranslation(Me,Te,ge=!1){Te=this.compiler.compileTranslations(Te,Me),this.translations[Me]=(ge||this.extend)&&this.translations[Me]?H(this.translations[Me],Te):Te,this.updateLangs(),this.onTranslationChange.emit({lang:Me,translations:this.translations[Me]})}getLangs(){return this.langs}addLangs(Me){Me.forEach(Te=>{-1===this.langs.indexOf(Te)&&this.langs.push(Te)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Me,Te,ge){let $e;if(Te instanceof Array){let xe={},pt=!1;for(let Le of Te)xe[Le]=this.getParsedResult(Me,Le,ge),(0,p.A)(xe[Le])&&(pt=!0);if(pt){const Le=Te.map(Ct=>(0,p.A)(xe[Ct])?xe[Ct]:(0,e.of)(xe[Ct]));return(0,S.p)(Le).pipe((0,E.T)(Ct=>{let ut={};return Ct.forEach((hn,mn)=>{ut[Te[mn]]=hn}),ut}))}return xe}if(Me&&($e=this.parser.interpolate(this.parser.getValue(Me,Te),ge)),typeof $e>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&($e=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],Te),ge)),typeof $e>"u"){let xe={key:Te,translateService:this};typeof ge<"u"&&(xe.interpolateParams=ge),$e=this.missingTranslationHandler.handle(xe)}return typeof $e<"u"?$e:Te}get(Me,Te){if(!W(Me)||!Me.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,v.H)(ge=>(ge=this.getParsedResult(ge,Me,Te),(0,p.A)(ge)?ge:(0,e.of)(ge))));{let ge=this.getParsedResult(this.translations[this.currentLang],Me,Te);return(0,p.A)(ge)?ge:(0,e.of)(ge)}}getStreamOnTranslationChange(Me,Te){if(!W(Me)||!Me.length)throw new Error('Parameter "key" required');return(0,C.x)((0,w.v)(()=>this.get(Me,Te)),this.onTranslationChange.pipe((0,B.n)(ge=>{const $e=this.getParsedResult(ge.translations,Me,Te);return"function"==typeof $e.subscribe?$e:(0,e.of)($e)})))}stream(Me,Te){if(!W(Me)||!Me.length)throw new Error('Parameter "key" required');return(0,C.x)((0,w.v)(()=>this.get(Me,Te)),this.onLangChange.pipe((0,B.n)(ge=>{const $e=this.getParsedResult(ge.translations,Me,Te);return(0,p.A)($e)?$e:(0,e.of)($e)})))}instant(Me,Te){if(!W(Me)||!Me.length)throw new Error('Parameter "key" required');let ge=this.getParsedResult(this.translations[this.currentLang],Me,Te);if((0,p.A)(ge)){if(Me instanceof Array){let $e={};return Me.forEach((xe,pt)=>{$e[Me[pt]]=Me[pt]}),$e}return Me}return ge}set(Me,Te,ge=this.currentLang){this.translations[ge][Me]=this.compiler.compile(Te,ge),this.updateLangs(),this.onTranslationChange.emit({lang:ge,translations:this.translations[ge]})}changeLang(Me){this.currentLang=Me,this.onLangChange.emit({lang:Me,translations:this.translations[Me]}),null==this.defaultLang&&this.changeDefaultLang(Me)}changeDefaultLang(Me){this.defaultLang=Me,this.onDefaultLangChange.emit({lang:Me,translations:this.translations[Me]})}reloadLang(Me){return this.resetLang(Me),this.getTranslation(Me)}resetLang(Me){this._translationRequests[Me]=void 0,this.translations[Me]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Me=window.navigator.languages?window.navigator.languages[0]:null;return Me=Me||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Me>"u"?void 0:(-1!==Me.indexOf("-")&&(Me=Me.split("-")[0]),-1!==Me.indexOf("_")&&(Me=Me.split("_")[0]),Me)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Me=window.navigator.languages?window.navigator.languages[0]:null;return Me=Me||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Me}}return Fe.\u0275fac=function(Me){return new(Me||Fe)(t.KVO(Y),t.KVO(U),t.KVO(ce),t.KVO(G),t.KVO(k),t.KVO(ne),t.KVO(Z),t.KVO(pe),t.KVO(I))},Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})(),Oe=(()=>{class Fe{constructor(Me,Te){this.translate=Me,this._ref=Te,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Me,Te,ge){let $e=xe=>{this.value=void 0!==xe?xe:Me,this.lastKey=Me,this._ref.markForCheck()};if(ge){let xe=this.translate.getParsedResult(ge,Me,Te);(0,p.A)(xe.subscribe)?xe.subscribe($e):$e(xe)}this.translate.get(Me,Te).subscribe($e)}transform(Me,...Te){if(!Me||!Me.length)return Me;if(P(Me,this.lastKey)&&P(Te,this.lastParams))return this.value;let ge;if(W(Te[0])&&Te.length)if("string"==typeof Te[0]&&Te[0].length){let $e=Te[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{ge=JSON.parse($e)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${Te[0]}`)}}else"object"==typeof Te[0]&&!Array.isArray(Te[0])&&(ge=Te[0]);return this.lastKey=Me,this.lastParams=Te,this.updateValue(Me,ge),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe($e=>{this.lastKey&&$e.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Me,ge,$e.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe($e=>{this.lastKey&&(this.lastKey=null,this.updateValue(Me,ge,$e.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Me,ge))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return Fe.\u0275fac=function(Me){return new(Me||Fe)(t.rXU(K,16),t.rXU(t.gRc,16))},Fe.\u0275pipe=t.EJ8({name:"translate",type:Fe,pure:!1}),Fe.\u0275prov=t.jDH({token:Fe,factory:Fe.\u0275fac}),Fe})(),Ae=(()=>{class Fe{static forRoot(Me={}){return{ngModule:Fe,providers:[Me.loader||{provide:U,useClass:a},Me.compiler||{provide:ce,useClass:de},Me.parser||{provide:G,useClass:z},Me.missingTranslationHandler||{provide:k,useClass:O},Y,{provide:Z,useValue:Me.isolate},{provide:ne,useValue:Me.useDefaultLang},{provide:pe,useValue:Me.extend},{provide:I,useValue:Me.defaultLanguage},K]}}static forChild(Me={}){return{ngModule:Fe,providers:[Me.loader||{provide:U,useClass:a},Me.compiler||{provide:ce,useClass:de},Me.parser||{provide:G,useClass:z},Me.missingTranslationHandler||{provide:k,useClass:O},{provide:Z,useValue:Me.isolate},{provide:ne,useValue:Me.useDefaultLang},{provide:pe,useValue:Me.extend},{provide:I,useValue:Me.defaultLanguage},K]}}}return Fe.\u0275fac=function(Me){return new(Me||Fe)},Fe.\u0275mod=t.$C({type:Fe}),Fe.\u0275inj=t.G2t({}),Fe})()},4549:(nt,ye,d)=>{"use strict";d.d(ye,{c9:()=>di,wB:()=>mt});class t extends Error{}class e extends t{constructor(L){super(`Invalid DateTime: ${L.toMessage()}`)}}class p extends t{constructor(L){super(`Invalid Interval: ${L.toMessage()}`)}}class S extends t{constructor(L){super(`Invalid Duration: ${L.toMessage()}`)}}class C extends t{}class w extends t{constructor(L){super(`Invalid unit ${L}`)}}class g extends t{}class h extends t{constructor(){super("Zone is an abstract class")}}const E="numeric",v="short",B="long",U={year:E,month:E,day:E},a={year:E,month:v,day:E},k={year:E,month:v,day:E,weekday:v},O={year:E,month:B,day:E},P={year:E,month:B,day:E,weekday:B},W={hour:E,minute:E},N={hour:E,minute:E,second:E},H={hour:E,minute:E,second:E,timeZoneName:v},G={hour:E,minute:E,second:E,timeZoneName:B},z={hour:E,minute:E,hourCycle:"h23"},ce={hour:E,minute:E,second:E,hourCycle:"h23"},de={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:v},Y={hour:E,minute:E,second:E,hourCycle:"h23",timeZoneName:B},Z={year:E,month:E,day:E,hour:E,minute:E},ne={year:E,month:E,day:E,hour:E,minute:E,second:E},I={year:E,month:v,day:E,hour:E,minute:E},pe={year:E,month:v,day:E,hour:E,minute:E,second:E},K={year:E,month:v,day:E,weekday:v,hour:E,minute:E},he={year:E,month:B,day:E,hour:E,minute:E,timeZoneName:v},Oe={year:E,month:B,day:E,hour:E,minute:E,second:E,timeZoneName:v},Ae={year:E,month:B,day:E,weekday:B,hour:E,minute:E,timeZoneName:B},Fe={year:E,month:B,day:E,weekday:B,hour:E,minute:E,second:E,timeZoneName:B};class qe{get type(){throw new h}get name(){throw new h}get ianaName(){return this.name}get isUniversal(){throw new h}offsetName(L,me){throw new h}formatOffset(L,me){throw new h}offset(L){throw new h}equals(L){throw new h}get isValid(){throw new h}}let Me=null;class Te extends qe{static get instance(){return null===Me&&(Me=new Te),Me}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(L,{format:me,locale:Pe}){return bn(L,me,Pe)}formatOffset(L,me){return Gi(this.offset(L),me)}offset(L){return-new Date(L).getTimezoneOffset()}equals(L){return"system"===L.type}get isValid(){return!0}}let ge={};const xe={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let Ct={};class ut extends qe{static create(L){return Ct[L]||(Ct[L]=new ut(L)),Ct[L]}static resetCache(){Ct={},ge={}}static isValidSpecifier(L){return this.isValidZone(L)}static isValidZone(L){if(!L)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:L}).format(),!0}catch{return!1}}constructor(L){super(),this.zoneName=L,this.valid=ut.isValidZone(L)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(L,{format:me,locale:Pe}){return bn(L,me,Pe,this.name)}formatOffset(L,me){return Gi(this.offset(L),me)}offset(L){const me=new Date(L);if(isNaN(me))return NaN;const Pe=function $e(we){return ge[we]||(ge[we]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:we,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ge[we]}(this.name);let[st,At,Ht,on,un,An,ci]=Pe.formatToParts?function Le(we,L){const me=we.formatToParts(L),Pe=[];for(let st=0;st<me.length;st++){const{type:At,value:Ht}=me[st],on=xe[At];"era"===At?Pe[on]=Ht:kn(on)||(Pe[on]=parseInt(Ht,10))}return Pe}(Pe,me):function pt(we,L){const me=we.format(L).replace(/\u200E/g,""),Pe=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(me),[,st,At,Ht,on,un,An,ci]=Pe;return[Ht,st,At,on,un,An,ci]}(Pe,me);"BC"===on&&(st=1-Math.abs(st));let Ie=+me;const Nt=Ie%1e3;return Ie-=Nt>=0?Nt:1e3+Nt,(Xe({year:st,month:At,day:Ht,hour:24===un?0:un,minute:An,second:ci,millisecond:0})-Ie)/6e4}equals(L){return"iana"===L.type&&L.name===this.name}get isValid(){return this.valid}}let hn={},Rt={};function Dt(we,L={}){const me=JSON.stringify([we,L]);let Pe=Rt[me];return Pe||(Pe=new Intl.DateTimeFormat(we,L),Rt[me]=Pe),Pe}let q={},te={},Re=null,o={};function tn(we,L,me,Pe){const st=we.listingMode();return"error"===st?null:"en"===st?me(L):Pe(L)}class Lt{constructor(L,me,Pe){this.padTo=Pe.padTo||0,this.floor=Pe.floor||!1;const{padTo:st,floor:At,...Ht}=Pe;if(!me||Object.keys(Ht).length>0){const on={useGrouping:!1,...Pe};Pe.padTo>0&&(on.minimumIntegerDigits=Pe.padTo),this.inf=function Q(we,L={}){const me=JSON.stringify([we,L]);let Pe=q[me];return Pe||(Pe=new Intl.NumberFormat(we,L),q[me]=Pe),Pe}(L,on)}}format(L){if(this.inf){const me=this.floor?Math.floor(L):L;return this.inf.format(me)}return Ye(this.floor?Math.floor(L):$t(L,3),this.padTo)}}class Ce{constructor(L,me,Pe){let st;if(this.opts=Pe,this.originalZone=void 0,this.opts.timeZone)this.dt=L;else if("fixed"===L.zone.type){const Ht=L.offset/60*-1,on=Ht>=0?`Etc/GMT+${Ht}`:`Etc/GMT${Ht}`;0!==L.offset&&ut.create(on).valid?(st=on,this.dt=L):(st="UTC",this.dt=0===L.offset?L:L.setZone("UTC").plus({minutes:L.offset}),this.originalZone=L.zone)}else"system"===L.zone.type?this.dt=L:"iana"===L.zone.type?(this.dt=L,st=L.zone.name):(st="UTC",this.dt=L.setZone("UTC").plus({minutes:L.offset}),this.originalZone=L.zone);const At={...this.opts};At.timeZone=At.timeZone||st,this.dtf=Dt(me,At)}format(){return this.originalZone?this.formatToParts().map(({value:L})=>L).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const L=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?L.map(me=>{if("timeZoneName"===me.type){const Pe=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...me,value:Pe}}return me}):L}resolvedOptions(){return this.dtf.resolvedOptions()}}class le{constructor(L,me,Pe){this.opts={style:"long",...Pe},!me&&zi()&&(this.rtf=function De(we,L={}){const{base:me,...Pe}=L,st=JSON.stringify([we,Pe]);let At=te[st];return At||(At=new Intl.RelativeTimeFormat(we,L),te[st]=At),At}(L,Pe))}format(L,me){return this.rtf?this.rtf.format(L,me):function Pi(we,L,me="always",Pe=!1){const st={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},At=-1===["hours","minutes","seconds"].indexOf(we);if("auto"===me&&At){const Qn="days"===we;switch(L){case 1:return Qn?"tomorrow":`next ${st[we][0]}`;case-1:return Qn?"yesterday":`last ${st[we][0]}`;case 0:return Qn?"today":`this ${st[we][0]}`}}const Ht=Object.is(L,-0)||L<0,on=Math.abs(L),un=1===on,An=st[we],ci=Pe?un?An[1]:An[2]||An[1]:un?st[we][0]:we;return Ht?`${on} ${ci} ago`:`in ${on} ${ci}`}(me,L,this.opts.numeric,"long"!==this.opts.style)}formatToParts(L,me){return this.rtf?this.rtf.formatToParts(L,me):[]}}const j={firstDay:1,minimalDays:4,weekend:[6,7]};class ae{static fromOpts(L){return ae.create(L.locale,L.numberingSystem,L.outputCalendar,L.weekSettings,L.defaultToEN)}static create(L,me,Pe,st,At=!1){const Ht=L||mt.defaultLocale,on=Ht||(At?"en-US":function at(){return Re||(Re=(new Intl.DateTimeFormat).resolvedOptions().locale,Re)}()),un=me||mt.defaultNumberingSystem,An=Pe||mt.defaultOutputCalendar,ci=Ni(st)||mt.defaultWeekSettings;return new ae(on,un,An,ci,Ht)}static resetCache(){Re=null,Rt={},q={},te={}}static fromObject({locale:L,numberingSystem:me,outputCalendar:Pe,weekSettings:st}={}){return ae.create(L,me,Pe,st)}constructor(L,me,Pe,st,At){const[Ht,on,un]=function Ft(we){const L=we.indexOf("-x-");-1!==L&&(we=we.substring(0,L));const me=we.indexOf("-u-");if(-1===me)return[we];{let Pe,st;try{Pe=Dt(we).resolvedOptions(),st=we}catch{const un=we.substring(0,me);Pe=Dt(un).resolvedOptions(),st=un}const{numberingSystem:At,calendar:Ht}=Pe;return[st,At,Ht]}}(L);this.locale=Ht,this.numberingSystem=me||on||null,this.outputCalendar=Pe||un||null,this.weekSettings=st,this.intl=function _t(we,L,me){return(me||L)&&(we.includes("-u-")||(we+="-u"),me&&(we+=`-ca-${me}`),L&&(we+=`-nu-${L}`)),we}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=At,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function ct(we){return(!we.numberingSystem||"latn"===we.numberingSystem)&&("latn"===we.numberingSystem||!we.locale||we.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(we.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(L){return L&&0!==Object.getOwnPropertyNames(L).length?ae.create(L.locale||this.specifiedLocale,L.numberingSystem||this.numberingSystem,L.outputCalendar||this.outputCalendar,Ni(L.weekSettings)||this.weekSettings,L.defaultToEN||!1):this}redefaultToEN(L={}){return this.clone({...L,defaultToEN:!0})}redefaultToSystem(L={}){return this.clone({...L,defaultToEN:!1})}months(L,me=!1){return tn(this,L,hi,()=>{const Pe=me?{month:L,day:"numeric"}:{month:L},st=me?"format":"standalone";return this.monthsCache[st][L]||(this.monthsCache[st][L]=function lt(we){const L=[];for(let me=1;me<=12;me++){const Pe=di.utc(2009,me,1);L.push(we(Pe))}return L}(At=>this.extract(At,Pe,"month"))),this.monthsCache[st][L]})}weekdays(L,me=!1){return tn(this,L,Br,()=>{const Pe=me?{weekday:L,year:"numeric",month:"long",day:"numeric"}:{weekday:L},st=me?"format":"standalone";return this.weekdaysCache[st][L]||(this.weekdaysCache[st][L]=function Pt(we){const L=[];for(let me=1;me<=7;me++){const Pe=di.utc(2016,11,13+me);L.push(we(Pe))}return L}(At=>this.extract(At,Pe,"weekday"))),this.weekdaysCache[st][L]})}meridiems(){return tn(this,void 0,()=>ds,()=>{if(!this.meridiemCache){const L={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[di.utc(2016,11,13,9),di.utc(2016,11,13,19)].map(me=>this.extract(me,L,"dayperiod"))}return this.meridiemCache})}eras(L){return tn(this,L,ss,()=>{const me={era:L};return this.eraCache[L]||(this.eraCache[L]=[di.utc(-40,1,1),di.utc(2017,1,1)].map(Pe=>this.extract(Pe,me,"era"))),this.eraCache[L]})}extract(L,me,Pe){const Ht=this.dtFormatter(L,me).formatToParts().find(on=>on.type.toLowerCase()===Pe);return Ht?Ht.value:null}numberFormatter(L={}){return new Lt(this.intl,L.forceSimple||this.fastNumbers,L)}dtFormatter(L,me={}){return new Ce(L,this.intl,me)}relFormatter(L={}){return new le(this.intl,this.isEnglish(),L)}listFormatter(L={}){return function mn(we,L={}){const me=JSON.stringify([we,L]);let Pe=hn[me];return Pe||(Pe=new Intl.ListFormat(we,L),hn[me]=Pe),Pe}(this.intl,L)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ti()?function ft(we){let L=o[we];if(!L){const me=new Intl.Locale(we);L="getWeekInfo"in me?me.getWeekInfo():me.weekInfo,o[we]=L}return L}(this.locale):j}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(L){return this.locale===L.locale&&this.numberingSystem===L.numberingSystem&&this.outputCalendar===L.outputCalendar}}let Ge=null;class tt extends qe{static get utcInstance(){return null===Ge&&(Ge=new tt(0)),Ge}static instance(L){return 0===L?tt.utcInstance:new tt(L)}static parseSpecifier(L){if(L){const me=L.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(me)return new tt(In(me[1],me[2]))}return null}constructor(L){super(),this.fixed=L}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${Gi(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${Gi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(L,me){return Gi(this.fixed,me)}get isUniversal(){return!0}offset(){return this.fixed}equals(L){return"fixed"===L.type&&L.fixed===this.fixed}get isValid(){return!0}}class vt extends qe{constructor(L){super(),this.zoneName=L}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bt(we,L){if(kn(we)||null===we)return L;if(we instanceof qe)return we;if(function Ri(we){return"string"==typeof we}(we)){const Pe=we.toLowerCase();return"default"===Pe?L:"local"===Pe||"system"===Pe?Te.instance:"utc"===Pe||"gmt"===Pe?tt.utcInstance:tt.parseSpecifier(Pe)||ut.create(we)}return Cn(we)?tt.instance(we):"object"==typeof we&&"offset"in we&&"function"==typeof we.offset?we:new vt(we)}let On,ln=()=>Date.now(),sn="system",Pn=null,$n=null,Vn=null,Mt=60,Qt=null;class mt{static get now(){return ln}static set now(L){ln=L}static set defaultZone(L){sn=L}static get defaultZone(){return Bt(sn,Te.instance)}static get defaultLocale(){return Pn}static set defaultLocale(L){Pn=L}static get defaultNumberingSystem(){return $n}static set defaultNumberingSystem(L){$n=L}static get defaultOutputCalendar(){return Vn}static set defaultOutputCalendar(L){Vn=L}static get defaultWeekSettings(){return Qt}static set defaultWeekSettings(L){Qt=Ni(L)}static get twoDigitCutoffYear(){return Mt}static set twoDigitCutoffYear(L){Mt=L%100}static get throwOnInvalid(){return On}static set throwOnInvalid(L){On=L}static resetCaches(){ae.resetCache(),ut.resetCache()}}class St{constructor(L,me){this.reason=L,this.explanation=me}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const dt=[0,31,59,90,120,151,181,212,243,273,304,334],Ut=[0,31,60,91,121,152,182,213,244,274,305,335];function rn(we,L){return new St("unit out of range",`you specified ${L} (of type ${typeof L}) as a ${we}, which is invalid`)}function Tn(we,L,me){const Pe=new Date(Date.UTC(we,L-1,me));we<100&&we>=0&&Pe.setUTCFullYear(Pe.getUTCFullYear()-1900);const st=Pe.getUTCDay();return 0===st?7:st}function Jn(we,L,me){return me+(an(we)?Ut:dt)[L-1]}function yn(we,L){const me=an(we)?Ut:dt,Pe=me.findIndex(At=>At<L);return{month:Pe+1,day:L-me[Pe]}}function yi(we,L){return(we-L+7)%7+1}function ii(we,L=4,me=1){const{year:Pe,month:st,day:At}=we,Ht=Jn(Pe,st,At),on=yi(Tn(Pe,st,At),me);let An,un=Math.floor((Ht-on+14-L)/7);return un<1?(An=Pe-1,un=Vt(An,L,me)):un>Vt(Pe,L,me)?(An=Pe+1,un=1):An=Pe,{weekYear:An,weekNumber:un,weekday:on,...Ti(we)}}function xt(we,L=4,me=1){const{weekYear:Pe,weekNumber:st,weekday:At}=we,Ht=yi(Tn(Pe,1,L),me),on=gn(Pe);let An,un=7*st+At-Ht-7+L;un<1?(An=Pe-1,un+=gn(An)):un>on?(An=Pe+1,un-=gn(Pe)):An=Pe;const{month:ci,day:Qn}=yn(An,un);return{year:An,month:ci,day:Qn,...Ti(we)}}function bt(we){const{year:L,month:me,day:Pe}=we;return{year:L,ordinal:Jn(L,me,Pe),...Ti(we)}}function Gt(we){const{year:L,ordinal:me}=we,{month:Pe,day:st}=yn(L,me);return{year:L,month:Pe,day:st,...Ti(we)}}function Kt(we,L){if(kn(we.localWeekday)&&kn(we.localWeekNumber)&&kn(we.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!kn(we.weekday)||!kn(we.weekNumber)||!kn(we.weekYear))throw new C("Cannot mix locale-based week fields with ISO-based week fields");return kn(we.localWeekday)||(we.weekday=we.localWeekday),kn(we.localWeekNumber)||(we.weekNumber=we.localWeekNumber),kn(we.localWeekYear)||(we.weekYear=we.localWeekYear),delete we.localWeekday,delete we.localWeekNumber,delete we.localWeekYear,{minDaysInFirstWeek:L.getMinDaysInFirstWeek(),startOfWeek:L.getStartOfWeek()}}function Sn(we){const L=wi(we.year),me=rt(we.month,1,12),Pe=rt(we.day,1,Ue(we.year,we.month));return L?me?!Pe&&rn("day",we.day):rn("month",we.month):rn("year",we.year)}function li(we){const{hour:L,minute:me,second:Pe,millisecond:st}=we,At=rt(L,0,23)||24===L&&0===me&&0===Pe&&0===st,Ht=rt(me,0,59),on=rt(Pe,0,59),un=rt(st,0,999);return At?Ht?on?!un&&rn("millisecond",st):rn("second",Pe):rn("minute",me):rn("hour",L)}function kn(we){return typeof we>"u"}function Cn(we){return"number"==typeof we}function wi(we){return"number"==typeof we&&we%1==0}function zi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ti(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Ei(we,L,me){if(0!==we.length)return we.reduce((Pe,st)=>{const At=[L(st),st];return Pe&&me(Pe[0],At[0])===Pe[0]?Pe:At},null)[1]}function Yn(we,L){return Object.prototype.hasOwnProperty.call(we,L)}function Ni(we){if(null==we)return null;if("object"!=typeof we)throw new g("Week settings must be an object");if(!rt(we.firstDay,1,7)||!rt(we.minimalDays,1,7)||!Array.isArray(we.weekend)||we.weekend.some(L=>!rt(L,1,7)))throw new g("Invalid week settings");return{firstDay:we.firstDay,minimalDays:we.minimalDays,weekend:Array.from(we.weekend)}}function rt(we,L,me){return wi(we)&&we>=L&&we<=me}function Ye(we,L=2){let Pe;return Pe=we<0?"-"+(""+-we).padStart(L,"0"):(""+we).padStart(L,"0"),Pe}function Zt(we){if(!kn(we)&&null!==we&&""!==we)return parseInt(we,10)}function ht(we){if(!kn(we)&&null!==we&&""!==we)return parseFloat(we)}function Xt(we){if(!kn(we)&&null!==we&&""!==we){const L=1e3*parseFloat("0."+we);return Math.floor(L)}}function $t(we,L,me=!1){const Pe=10**L;return(me?Math.trunc:Math.round)(we*Pe)/Pe}function an(we){return we%4==0&&(we%100!=0||we%400==0)}function gn(we){return an(we)?366:365}function Ue(we,L){const me=function It(we,L){return we-L*Math.floor(we/L)}(L-1,12)+1;return 2===me?an(we+(L-me)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][me-1]}function Xe(we){let L=Date.UTC(we.year,we.month-1,we.day,we.hour,we.minute,we.second,we.millisecond);return we.year<100&&we.year>=0&&(L=new Date(L),L.setUTCFullYear(we.year,we.month-1,we.day)),+L}function ot(we,L,me){return-yi(Tn(we,1,L),me)+L-1}function Vt(we,L=4,me=1){const Pe=ot(we,L,me),st=ot(we+1,L,me);return(gn(we)-Pe+st)/7}function _n(we){return we>99?we:we>mt.twoDigitCutoffYear?1900+we:2e3+we}function bn(we,L,me,Pe=null){const st=new Date(we),At={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Pe&&(At.timeZone=Pe);const Ht={timeZoneName:L,...At},on=new Intl.DateTimeFormat(me,Ht).formatToParts(st).find(un=>"timezonename"===un.type.toLowerCase());return on?on.value:null}function In(we,L){let me=parseInt(we,10);Number.isNaN(me)&&(me=0);const Pe=parseInt(L,10)||0;return 60*me+(me<0||Object.is(me,-0)?-Pe:Pe)}function Dn(we){const L=Number(we);if("boolean"==typeof we||""===we||Number.isNaN(L))throw new g(`Invalid unit value ${we}`);return L}function _i(we,L){const me={};for(const Pe in we)if(Yn(we,Pe)){const st=we[Pe];if(null==st)continue;me[L(Pe)]=Dn(st)}return me}function Gi(we,L){const me=Math.trunc(Math.abs(we/60)),Pe=Math.trunc(Math.abs(we%60)),st=we>=0?"+":"-";switch(L){case"short":return`${st}${Ye(me,2)}:${Ye(Pe,2)}`;case"narrow":return`${st}${me}${Pe>0?`:${Pe}`:""}`;case"techie":return`${st}${Ye(me,2)}${Ye(Pe,2)}`;default:throw new RangeError(`Value format ${L} is out of range for property format`)}}function Ti(we){return function Vi(we,L){return L.reduce((me,Pe)=>(me[Pe]=we[Pe],me),{})}(we,["hour","minute","second","millisecond"])}const rr=["January","February","March","April","May","June","July","August","September","October","November","December"],br=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ei=["J","F","M","A","M","J","J","A","S","O","N","D"];function hi(we){switch(we){case"narrow":return[...ei];case"short":return[...br];case"long":return[...rr];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Oi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Pr=["M","T","W","T","F","S","S"];function Br(we){switch(we){case"narrow":return[...Pr];case"short":return[...Oi];case"long":return[...mr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ds=["AM","PM"],Vs=["Before Christ","Anno Domini"],Ai=["BC","AD"],Lr=["B","A"];function ss(we){switch(we){case"narrow":return[...Lr];case"short":return[...Ai];case"long":return[...Vs];default:return null}}function gi(we,L){let me="";for(const Pe of we)me+=Pe.literal?Pe.val:L(Pe.val);return me}const _o={D:U,DD:a,DDD:O,DDDD:P,t:W,tt:N,ttt:H,tttt:G,T:z,TT:ce,TTT:de,TTTT:Y,f:Z,ff:I,fff:he,ffff:Ae,F:ne,FF:pe,FFF:Oe,FFFF:Fe};class Zn{static create(L,me={}){return new Zn(L,me)}static parseFormat(L){let me=null,Pe="",st=!1;const At=[];for(let Ht=0;Ht<L.length;Ht++){const on=L.charAt(Ht);"'"===on?(Pe.length>0&&At.push({literal:st||/^\s+$/.test(Pe),val:Pe}),me=null,Pe="",st=!st):st||on===me?Pe+=on:(Pe.length>0&&At.push({literal:/^\s+$/.test(Pe),val:Pe}),Pe=on,me=on)}return Pe.length>0&&At.push({literal:st||/^\s+$/.test(Pe),val:Pe}),At}static macroTokenToFormatOpts(L){return _o[L]}constructor(L,me){this.opts=me,this.loc=L,this.systemLoc=null}formatWithSystemDefault(L,me){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(L,{...this.opts,...me}).format()}dtFormatter(L,me={}){return this.loc.dtFormatter(L,{...this.opts,...me})}formatDateTime(L,me){return this.dtFormatter(L,me).format()}formatDateTimeParts(L,me){return this.dtFormatter(L,me).formatToParts()}formatInterval(L,me){return this.dtFormatter(L.start,me).dtf.formatRange(L.start.toJSDate(),L.end.toJSDate())}resolvedOptions(L,me){return this.dtFormatter(L,me).resolvedOptions()}num(L,me=0){if(this.opts.forceSimple)return Ye(L,me);const Pe={...this.opts};return me>0&&(Pe.padTo=me),this.loc.numberFormatter(Pe).format(L)}formatDateTimeFromString(L,me){const Pe="en"===this.loc.listingMode(),st=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,At=(Ie,Nt)=>this.loc.extract(L,Ie,Nt),Ht=Ie=>L.isOffsetFixed&&0===L.offset&&Ie.allowZ?"Z":L.isValid?L.zone.formatOffset(L.ts,Ie.format):"",un=(Ie,Nt)=>Pe?function Er(we,L){return hi(L)[we.month-1]}(L,Ie):At(Nt?{month:Ie}:{month:Ie,day:"numeric"},"month"),An=(Ie,Nt)=>Pe?function Ds(we,L){return Br(L)[we.weekday-1]}(L,Ie):At(Nt?{weekday:Ie}:{weekday:Ie,month:"long",day:"numeric"},"weekday"),ci=Ie=>{const Nt=Zn.macroTokenToFormatOpts(Ie);return Nt?this.formatWithSystemDefault(L,Nt):Ie},Qn=Ie=>Pe?function Tr(we,L){return ss(L)[we.year<0?0:1]}(L,Ie):At({era:Ie},"era");return gi(Zn.parseFormat(me),Ie=>{switch(Ie){case"S":return this.num(L.millisecond);case"u":case"SSS":return this.num(L.millisecond,3);case"s":return this.num(L.second);case"ss":return this.num(L.second,2);case"uu":return this.num(Math.floor(L.millisecond/10),2);case"uuu":return this.num(Math.floor(L.millisecond/100));case"m":return this.num(L.minute);case"mm":return this.num(L.minute,2);case"h":return this.num(L.hour%12==0?12:L.hour%12);case"hh":return this.num(L.hour%12==0?12:L.hour%12,2);case"H":return this.num(L.hour);case"HH":return this.num(L.hour,2);case"Z":return Ht({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Ht({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Ht({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return L.zone.offsetName(L.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return L.zone.offsetName(L.ts,{format:"long",locale:this.loc.locale});case"z":return L.zoneName;case"a":return Pe?function kr(we){return ds[we.hour<12?0:1]}(L):At({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return st?At({day:"numeric"},"day"):this.num(L.day);case"dd":return st?At({day:"2-digit"},"day"):this.num(L.day,2);case"c":case"E":return this.num(L.weekday);case"ccc":return An("short",!0);case"cccc":return An("long",!0);case"ccccc":return An("narrow",!0);case"EEE":return An("short",!1);case"EEEE":return An("long",!1);case"EEEEE":return An("narrow",!1);case"L":return st?At({month:"numeric",day:"numeric"},"month"):this.num(L.month);case"LL":return st?At({month:"2-digit",day:"numeric"},"month"):this.num(L.month,2);case"LLL":return un("short",!0);case"LLLL":return un("long",!0);case"LLLLL":return un("narrow",!0);case"M":return st?At({month:"numeric"},"month"):this.num(L.month);case"MM":return st?At({month:"2-digit"},"month"):this.num(L.month,2);case"MMM":return un("short",!1);case"MMMM":return un("long",!1);case"MMMMM":return un("narrow",!1);case"y":return st?At({year:"numeric"},"year"):this.num(L.year);case"yy":return st?At({year:"2-digit"},"year"):this.num(L.year.toString().slice(-2),2);case"yyyy":return st?At({year:"numeric"},"year"):this.num(L.year,4);case"yyyyyy":return st?At({year:"numeric"},"year"):this.num(L.year,6);case"G":return Qn("short");case"GG":return Qn("long");case"GGGGG":return Qn("narrow");case"kk":return this.num(L.weekYear.toString().slice(-2),2);case"kkkk":return this.num(L.weekYear,4);case"W":return this.num(L.weekNumber);case"WW":return this.num(L.weekNumber,2);case"n":return this.num(L.localWeekNumber);case"nn":return this.num(L.localWeekNumber,2);case"ii":return this.num(L.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(L.localWeekYear,4);case"o":return this.num(L.ordinal);case"ooo":return this.num(L.ordinal,3);case"q":return this.num(L.quarter);case"qq":return this.num(L.quarter,2);case"X":return this.num(Math.floor(L.ts/1e3));case"x":return this.num(L.ts);default:return ci(Ie)}})}formatDurationFromString(L,me){const Pe=un=>{switch(un[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},At=Zn.parseFormat(me),Ht=At.reduce((un,{literal:An,val:ci})=>An?un:un.concat(ci),[]);return gi(At,(un=>An=>{const ci=Pe(An);return ci?this.num(un.get(ci),An.length):An})(L.shiftTo(...Ht.map(Pe).filter(un=>un))))}}const Ur=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ir(...we){const L=we.reduce((me,Pe)=>me+Pe.source,"");return RegExp(`^${L}$`)}function Ar(...we){return L=>we.reduce(([me,Pe,st],At)=>{const[Ht,on,un]=At(L,st);return[{...me,...Ht},on||Pe,un]},[{},null,1]).slice(0,2)}function Dr(we,...L){if(null==we)return[null,null];for(const[me,Pe]of L){const st=me.exec(we);if(st)return Pe(st)}return[null,null]}function Nr(...we){return(L,me)=>{const Pe={};let st;for(st=0;st<we.length;st++)Pe[we[st]]=Zt(L[me+st]);return[Pe,null,me+st]}}const Vr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Li=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,si=RegExp(`${Li.source}(?:${Vr.source}?(?:\\[(${Ur.source})\\])?)?`),jr=RegExp(`(?:T${si.source})?`),js=Nr("weekYear","weekNumber","weekDay"),bo=Nr("year","ordinal"),vr=RegExp(`${Li.source} ?(?:${Vr.source}|(${Ur.source}))?`),Cs=RegExp(`(?: ${vr.source})?`);function Jr(we,L,me){const Pe=we[L];return kn(Pe)?me:Zt(Pe)}function Qr(we,L){return[{hours:Jr(we,L,0),minutes:Jr(we,L+1,0),seconds:Jr(we,L+2,0),milliseconds:Xt(we[L+3])},null,L+4]}function Yr(we,L){const me=!we[L]&&!we[L+1],Pe=In(we[L+1],we[L+2]);return[{},me?null:tt.instance(Pe),L+3]}function Cr(we,L){return[{},we[L]?ut.create(we[L]):null,L+1]}const Rs=RegExp(`^T?${Li.source}$`),Ws=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Co(we){const[L,me,Pe,st,At,Ht,on,un,An]=we,ci="-"===L[0],Qn=un&&"-"===un[0],Xi=(Ie,Nt=!1)=>void 0!==Ie&&(Nt||Ie&&ci)?-Ie:Ie;return[{years:Xi(ht(me)),months:Xi(ht(Pe)),weeks:Xi(ht(st)),days:Xi(ht(At)),hours:Xi(ht(Ht)),minutes:Xi(ht(on)),seconds:Xi(ht(un),"-0"===un),milliseconds:Xi(Xt(An),Qn)}]}const qs={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function $s(we,L,me,Pe,st,At,Ht){const on={year:2===L.length?_n(Zt(L)):Zt(L),month:br.indexOf(me)+1,day:Zt(Pe),hour:Zt(st),minute:Zt(At)};return Ht&&(on.second=Zt(Ht)),we&&(on.weekday=we.length>3?mr.indexOf(we)+1:Oi.indexOf(we)+1),on}const Js=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Or(we){const[,L,me,Pe,st,At,Ht,on,un,An,ci,Qn]=we,Xi=$s(L,st,Pe,me,At,Ht,on);let Ie;return Ie=un?qs[un]:An?0:In(ci,Qn),[Xi,new tt(Ie)]}const dr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,$r=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Zr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Qs(we){const[,L,me,Pe,st,At,Ht,on]=we;return[$s(L,st,Pe,me,At,Ht,on),tt.utcInstance]}function ua(we){const[,L,me,Pe,st,At,Ht,on]=we;return[$s(L,on,me,Pe,st,At,Ht),tt.utcInstance]}const ws=Ir(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,jr),ui=Ir(/(\d{4})-?W(\d\d)(?:-?(\d))?/,jr),as=Ir(/(\d{4})-?(\d{3})/,jr),Gs=Ir(si),Rr=Ar(function Wo(we,L){return[{year:Jr(we,L),month:Jr(we,L+1,1),day:Jr(we,L+2,1)},null,L+3]},Qr,Yr,Cr),Hs=Ar(js,Qr,Yr,Cr),Gr=Ar(bo,Qr,Yr,Cr),Kr=Ar(Qr,Yr,Cr),He=Ar(Qr),it=Ir(/(\d{4})-(\d\d)-(\d\d)/,Cs),jt=Ir(vr),qn=Ar(Qr,Yr,Cr),ls="Invalid Duration",Hi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},jn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Hi},Be=365.2425,Ze=30.436875,Et={years:{quarters:4,months:12,weeks:Be/7,days:Be,hours:24*Be,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Be/28,days:Be/4,hours:24*Be/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Ze/7,days:Ze,hours:24*Ze,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Hi},kt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],zt=kt.slice(0).reverse();function Wt(we,L,me=!1){const Pe={values:me?L.values:{...we.values,...L.values||{}},loc:we.loc.clone(L.loc),conversionAccuracy:L.conversionAccuracy||we.conversionAccuracy,matrix:L.matrix||we.matrix};return new nn(Pe)}function vn(we,L){let me=L.milliseconds??0;for(const Pe of zt.slice(1))L[Pe]&&(me+=L[Pe]*we[Pe].milliseconds);return me}function Hn(we,L){const me=vn(we,L)<0?-1:1;kt.reduceRight((Pe,st)=>{if(kn(L[st]))return Pe;if(Pe){const Ht=we[st][Pe],on=Math.floor(L[Pe]*me/Ht);L[st]+=on*me,L[Pe]-=on*Ht*me}return st},null),kt.reduce((Pe,st)=>{if(kn(L[st]))return Pe;if(Pe){const At=L[Pe]%1;L[Pe]-=At,L[st]+=At*we[Pe][st]}return st},null)}class nn{constructor(L){const me="longterm"===L.conversionAccuracy||!1;let Pe=me?Et:jn;L.matrix&&(Pe=L.matrix),this.values=L.values,this.loc=L.loc||ae.create(),this.conversionAccuracy=me?"longterm":"casual",this.invalid=L.invalid||null,this.matrix=Pe,this.isLuxonDuration=!0}static fromMillis(L,me){return nn.fromObject({milliseconds:L},me)}static fromObject(L,me={}){if(null==L||"object"!=typeof L)throw new g("Duration.fromObject: argument expected to be an object, got "+(null===L?"null":typeof L));return new nn({values:_i(L,nn.normalizeUnit),loc:ae.fromObject(me),conversionAccuracy:me.conversionAccuracy,matrix:me.matrix})}static fromDurationLike(L){if(Cn(L))return nn.fromMillis(L);if(nn.isDuration(L))return L;if("object"==typeof L)return nn.fromObject(L);throw new g(`Unknown duration argument ${L} of type ${typeof L}`)}static fromISO(L,me){const[Pe]=function Ve(we){return Dr(we,[Ws,Co])}(L);return Pe?nn.fromObject(Pe,me):nn.invalid("unparsable",`the input "${L}" can't be parsed as ISO 8601`)}static fromISOTime(L,me){const[Pe]=function ve(we){return Dr(we,[Rs,He])}(L);return Pe?nn.fromObject(Pe,me):nn.invalid("unparsable",`the input "${L}" can't be parsed as ISO 8601`)}static invalid(L,me=null){if(!L)throw new g("need to specify a reason the Duration is invalid");const Pe=L instanceof St?L:new St(L,me);if(mt.throwOnInvalid)throw new S(Pe);return new nn({invalid:Pe})}static normalizeUnit(L){const me={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[L&&L.toLowerCase()];if(!me)throw new w(L);return me}static isDuration(L){return L&&L.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(L,me={}){const Pe={...me,floor:!1!==me.round&&!1!==me.floor};return this.isValid?Zn.create(this.loc,Pe).formatDurationFromString(this,L):ls}toHuman(L={}){if(!this.isValid)return ls;const me=kt.map(Pe=>{const st=this.values[Pe];return kn(st)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...L,unit:Pe.slice(0,-1)}).format(st)}).filter(Pe=>Pe);return this.loc.listFormatter({type:"conjunction",style:L.listStyle||"narrow",...L}).format(me)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let L="P";return 0!==this.years&&(L+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(L+=this.months+3*this.quarters+"M"),0!==this.weeks&&(L+=this.weeks+"W"),0!==this.days&&(L+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(L+="T"),0!==this.hours&&(L+=this.hours+"H"),0!==this.minutes&&(L+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(L+=$t(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===L&&(L+="T0S"),L}toISOTime(L={}){if(!this.isValid)return null;const me=this.toMillis();return me<0||me>=864e5?null:(L={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...L,includeOffset:!1},di.fromMillis(me,{zone:"UTC"}).toISOTime(L))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?vn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(L){if(!this.isValid)return this;const me=nn.fromDurationLike(L),Pe={};for(const st of kt)(Yn(me.values,st)||Yn(this.values,st))&&(Pe[st]=me.get(st)+this.get(st));return Wt(this,{values:Pe},!0)}minus(L){if(!this.isValid)return this;const me=nn.fromDurationLike(L);return this.plus(me.negate())}mapUnits(L){if(!this.isValid)return this;const me={};for(const Pe of Object.keys(this.values))me[Pe]=Dn(L(this.values[Pe],Pe));return Wt(this,{values:me},!0)}get(L){return this[nn.normalizeUnit(L)]}set(L){return this.isValid?Wt(this,{values:{...this.values,..._i(L,nn.normalizeUnit)}}):this}reconfigure({locale:L,numberingSystem:me,conversionAccuracy:Pe,matrix:st}={}){return Wt(this,{loc:this.loc.clone({locale:L,numberingSystem:me}),matrix:st,conversionAccuracy:Pe})}as(L){return this.isValid?this.shiftTo(L).get(L):NaN}normalize(){if(!this.isValid)return this;const L=this.toObject();return Hn(this.matrix,L),Wt(this,{values:L},!0)}rescale(){return this.isValid?Wt(this,{values:function xi(we){const L={};for(const[me,Pe]of Object.entries(we))0!==Pe&&(L[me]=Pe);return L}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...L){if(!this.isValid)return this;if(0===L.length)return this;L=L.map(Ht=>nn.normalizeUnit(Ht));const me={},Pe={},st=this.toObject();let At;for(const Ht of kt)if(L.indexOf(Ht)>=0){At=Ht;let on=0;for(const An in Pe)on+=this.matrix[An][Ht]*Pe[An],Pe[An]=0;Cn(st[Ht])&&(on+=st[Ht]);const un=Math.trunc(on);me[Ht]=un,Pe[Ht]=(1e3*on-1e3*un)/1e3}else Cn(st[Ht])&&(Pe[Ht]=st[Ht]);for(const Ht in Pe)0!==Pe[Ht]&&(me[At]+=Ht===At?Pe[Ht]:Pe[Ht]/this.matrix[At][Ht]);return Hn(this.matrix,me),Wt(this,{values:me},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const L={};for(const me of Object.keys(this.values))L[me]=0===this.values[me]?0:-this.values[me];return Wt(this,{values:L},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(L){if(!this.isValid||!L.isValid||!this.loc.equals(L.loc))return!1;function me(Pe,st){return void 0===Pe||0===Pe?void 0===st||0===st:Pe===st}for(const Pe of kt)if(!me(this.values[Pe],L.values[Pe]))return!1;return!0}}const cr="Invalid Interval";class vi{constructor(L){this.s=L.start,this.e=L.end,this.invalid=L.invalid||null,this.isLuxonInterval=!0}static invalid(L,me=null){if(!L)throw new g("need to specify a reason the Interval is invalid");const Pe=L instanceof St?L:new St(L,me);if(mt.throwOnInvalid)throw new p(Pe);return new vi({invalid:Pe})}static fromDateTimes(L,me){const Pe=Yi(L),st=Yi(me),At=function cs(we,L){return we&&we.isValid?L&&L.isValid?L<we?vi.invalid("end before start",`The end of an interval must be after its start, but you had start=${we.toISO()} and end=${L.toISO()}`):null:vi.invalid("missing or invalid end"):vi.invalid("missing or invalid start")}(Pe,st);return At??new vi({start:Pe,end:st})}static after(L,me){const Pe=nn.fromDurationLike(me),st=Yi(L);return vi.fromDateTimes(st,st.plus(Pe))}static before(L,me){const Pe=nn.fromDurationLike(me),st=Yi(L);return vi.fromDateTimes(st.minus(Pe),st)}static fromISO(L,me){const[Pe,st]=(L||"").split("/",2);if(Pe&&st){let At,Ht,on,un;try{At=di.fromISO(Pe,me),Ht=At.isValid}catch{Ht=!1}try{on=di.fromISO(st,me),un=on.isValid}catch{un=!1}if(Ht&&un)return vi.fromDateTimes(At,on);if(Ht){const An=nn.fromISO(st,me);if(An.isValid)return vi.after(At,An)}else if(un){const An=nn.fromISO(Pe,me);if(An.isValid)return vi.before(on,An)}}return vi.invalid("unparsable",`the input "${L}" can't be parsed as ISO 8601`)}static isInterval(L){return L&&L.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(L="milliseconds"){return this.isValid?this.toDuration(L).get(L):NaN}count(L="milliseconds",me){if(!this.isValid)return NaN;const Pe=this.start.startOf(L,me);let st;return st=me?.useLocaleWeeks?this.end.reconfigure({locale:Pe.locale}):this.end,st=st.startOf(L,me),Math.floor(st.diff(Pe,L).get(L))+(st.valueOf()!==this.end.valueOf())}hasSame(L){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,L))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(L){return!!this.isValid&&this.s>L}isBefore(L){return!!this.isValid&&this.e<=L}contains(L){return!!this.isValid&&this.s<=L&&this.e>L}set({start:L,end:me}={}){return this.isValid?vi.fromDateTimes(L||this.s,me||this.e):this}splitAt(...L){if(!this.isValid)return[];const me=L.map(Yi).filter(Ht=>this.contains(Ht)).sort((Ht,on)=>Ht.toMillis()-on.toMillis()),Pe=[];let{s:st}=this,At=0;for(;st<this.e;){const Ht=me[At]||this.e,on=+Ht>+this.e?this.e:Ht;Pe.push(vi.fromDateTimes(st,on)),st=on,At+=1}return Pe}splitBy(L){const me=nn.fromDurationLike(L);if(!this.isValid||!me.isValid||0===me.as("milliseconds"))return[];let At,{s:Pe}=this,st=1;const Ht=[];for(;Pe<this.e;){const on=this.start.plus(me.mapUnits(un=>un*st));At=+on>+this.e?this.e:on,Ht.push(vi.fromDateTimes(Pe,At)),Pe=At,st+=1}return Ht}divideEqually(L){return this.isValid?this.splitBy(this.length()/L).slice(0,L):[]}overlaps(L){return this.e>L.s&&this.s<L.e}abutsStart(L){return!!this.isValid&&+this.e==+L.s}abutsEnd(L){return!!this.isValid&&+L.e==+this.s}engulfs(L){return!!this.isValid&&this.s<=L.s&&this.e>=L.e}equals(L){return!(!this.isValid||!L.isValid)&&this.s.equals(L.s)&&this.e.equals(L.e)}intersection(L){if(!this.isValid)return this;const me=this.s>L.s?this.s:L.s,Pe=this.e<L.e?this.e:L.e;return me>=Pe?null:vi.fromDateTimes(me,Pe)}union(L){return this.isValid?vi.fromDateTimes(this.s<L.s?this.s:L.s,this.e>L.e?this.e:L.e):this}static merge(L){const[me,Pe]=L.sort((st,At)=>st.s-At.s).reduce(([st,At],Ht)=>At?At.overlaps(Ht)||At.abutsStart(Ht)?[st,At.union(Ht)]:[st.concat([At]),Ht]:[st,Ht],[[],null]);return Pe&&me.push(Pe),me}static xor(L){let me=null,Pe=0;const st=[],At=L.map(un=>[{time:un.s,type:"s"},{time:un.e,type:"e"}]),on=Array.prototype.concat(...At).sort((un,An)=>un.time-An.time);for(const un of on)Pe+="s"===un.type?1:-1,1===Pe?me=un.time:(me&&+me!=+un.time&&st.push(vi.fromDateTimes(me,un.time)),me=null);return vi.merge(st)}difference(...L){return vi.xor([this].concat(L)).map(me=>this.intersection(me)).filter(me=>me&&!me.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:cr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(L=U,me={}){return this.isValid?Zn.create(this.s.loc.clone(me),L).formatInterval(this):cr}toISO(L){return this.isValid?`${this.s.toISO(L)}/${this.e.toISO(L)}`:cr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cr}toISOTime(L){return this.isValid?`${this.s.toISOTime(L)}/${this.e.toISOTime(L)}`:cr}toFormat(L,{separator:me=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(L)}${me}${this.e.toFormat(L)}`:cr}toDuration(L,me){return this.isValid?this.e.diff(this.s,L,me):nn.invalid(this.invalidReason)}mapEndpoints(L){return vi.fromDateTimes(L(this.s),L(this.e))}}class Ln{static hasDST(L=mt.defaultZone){const me=di.now().setZone(L).set({month:12});return!L.isUniversal&&me.offset!==me.set({month:6}).offset}static isValidIANAZone(L){return ut.isValidZone(L)}static normalizeZone(L){return Bt(L,mt.defaultZone)}static getStartOfWeek({locale:L=null,locObj:me=null}={}){return(me||ae.create(L)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:L=null,locObj:me=null}={}){return(me||ae.create(L)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:L=null,locObj:me=null}={}){return(me||ae.create(L)).getWeekendDays().slice()}static months(L="long",{locale:me=null,numberingSystem:Pe=null,locObj:st=null,outputCalendar:At="gregory"}={}){return(st||ae.create(me,Pe,At)).months(L)}static monthsFormat(L="long",{locale:me=null,numberingSystem:Pe=null,locObj:st=null,outputCalendar:At="gregory"}={}){return(st||ae.create(me,Pe,At)).months(L,!0)}static weekdays(L="long",{locale:me=null,numberingSystem:Pe=null,locObj:st=null}={}){return(st||ae.create(me,Pe,null)).weekdays(L)}static weekdaysFormat(L="long",{locale:me=null,numberingSystem:Pe=null,locObj:st=null}={}){return(st||ae.create(me,Pe,null)).weekdays(L,!0)}static meridiems({locale:L=null}={}){return ae.create(L).meridiems()}static eras(L="short",{locale:me=null}={}){return ae.create(me,null,"gregory").eras(L)}static features(){return{relative:zi(),localeWeek:ti()}}}function ar(we,L){const me=st=>st.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Pe=me(L)-me(we);return Math.floor(nn.fromMillis(Pe).as("days"))}const Fi={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},Zi={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},qr=Fi.hanidec.replace(/[\[|\]]/g,"").split("");function nr({numberingSystem:we},L=""){return new RegExp(`${Fi[we||"latn"]}${L}`)}function $i(we,L=(me=>me)){return{regex:we,deser:([me])=>L(function Ss(we){let L=parseInt(we,10);if(isNaN(L)){L="";for(let me=0;me<we.length;me++){const Pe=we.charCodeAt(me);if(-1!==we[me].search(Fi.hanidec))L+=qr.indexOf(we[me]);else for(const st in Zi){const[At,Ht]=Zi[st];Pe>=At&&Pe<=Ht&&(L+=Pe-At)}}return parseInt(L,10)}return L}(me))}}const po="[ \xa0]",xo=new RegExp(po,"g");function Fr(we){return we.replace(/\./g,"\\.?").replace(xo,po)}function As(we){return we.replace(/\./g,"").replace(xo," ").toLowerCase()}function Ms(we,L){return null===we?null:{regex:RegExp(we.map(Fr).join("|")),deser:([me])=>we.findIndex(Pe=>As(me)===As(Pe))+L}}function na(we,L){return{regex:we,deser:([,me,Pe])=>In(me,Pe),groups:L}}function Lo(we){return{regex:we,deser:([L])=>L}}function Aa(we){return we.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const Uo={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let No=null;function jo(we,L){return Array.prototype.concat(...we.map(me=>function Vo(we,L){if(we.literal)return we;const Pe=Mr(Zn.macroTokenToFormatOpts(we.val),L);return null==Pe||Pe.includes(void 0)?we:Pe}(me,L)))}function ia(we,L,me){const Pe=jo(Zn.parseFormat(me),we),st=Pe.map(Ht=>function ko(we,L){const me=nr(L),Pe=nr(L,"{2}"),st=nr(L,"{3}"),At=nr(L,"{4}"),Ht=nr(L,"{6}"),on=nr(L,"{1,2}"),un=nr(L,"{1,3}"),An=nr(L,"{1,6}"),ci=nr(L,"{1,9}"),Qn=nr(L,"{2,4}"),Xi=nr(L,"{4,6}"),Ie=Je=>({regex:RegExp(Aa(Je.val)),deser:([gt])=>gt,literal:!0}),_e=(Je=>{if(we.literal)return Ie(Je);switch(Je.val){case"G":return Ms(L.eras("short"),0);case"GG":return Ms(L.eras("long"),0);case"y":return $i(An);case"yy":case"kk":return $i(Qn,_n);case"yyyy":case"kkkk":return $i(At);case"yyyyy":return $i(Xi);case"yyyyyy":return $i(Ht);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return $i(on);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return $i(Pe);case"MMM":return Ms(L.months("short",!0),1);case"MMMM":return Ms(L.months("long",!0),1);case"LLL":return Ms(L.months("short",!1),1);case"LLLL":return Ms(L.months("long",!1),1);case"o":case"S":return $i(un);case"ooo":case"SSS":return $i(st);case"u":return Lo(ci);case"uu":return Lo(on);case"uuu":case"E":case"c":return $i(me);case"a":return Ms(L.meridiems(),0);case"EEE":return Ms(L.weekdays("short",!1),1);case"EEEE":return Ms(L.weekdays("long",!1),1);case"ccc":return Ms(L.weekdays("short",!0),1);case"cccc":return Ms(L.weekdays("long",!0),1);case"Z":case"ZZ":return na(new RegExp(`([+-]${on.source})(?::(${Pe.source}))?`),2);case"ZZZ":return na(new RegExp(`([+-]${on.source})(${Pe.source})?`),2);case"z":return Lo(/[a-z_+-/]{1,256}?/i);case" ":return Lo(/[^\S\n\r]/);default:return Ie(Je)}})(we)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return _e.token=we,_e}(Ht,we)),At=st.find(Ht=>Ht.invalidReason);if(At)return{input:L,tokens:Pe,invalidReason:At.invalidReason};{const[Ht,on]=function ir(we){return[`^${we.map(me=>me.regex).reduce((me,Pe)=>`${me}(${Pe.source})`,"")}$`,we]}(st),un=RegExp(Ht,"i"),[An,ci]=function xs(we,L,me){const Pe=we.match(L);if(Pe){const st={};let At=1;for(const Ht in me)if(Yn(me,Ht)){const on=me[Ht],un=on.groups?on.groups+1:1;!on.literal&&on.token&&(st[on.token.val[0]]=on.deser(Pe.slice(At,At+un))),At+=un}return[Pe,st]}return[Pe,{}]}(L,un,on),[Qn,Xi,Ie]=ci?function So(we){let Pe,me=null;return kn(we.z)||(me=ut.create(we.z)),kn(we.Z)||(me||(me=new tt(we.Z)),Pe=we.Z),kn(we.q)||(we.M=3*(we.q-1)+1),kn(we.h)||(we.h<12&&1===we.a?we.h+=12:12===we.h&&0===we.a&&(we.h=0)),0===we.G&&we.y&&(we.y=-we.y),kn(we.u)||(we.S=Xt(we.u)),[Object.keys(we).reduce((At,Ht)=>{const on=(At=>{switch(At){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Ht);return on&&(At[on]=we[Ht]),At},{}),me,Pe]}(ci):[null,null,void 0];if(Yn(ci,"a")&&Yn(ci,"H"))throw new C("Can't include meridiem when specifying 24-hour format");return{input:L,tokens:Pe,regex:un,rawMatches:An,matches:ci,result:Qn,zone:Xi,specificOffset:Ie}}}function Mr(we,L){if(!we)return null;const Pe=Zn.create(L,we).dtFormatter(function zo(){return No||(No=di.fromMillis(1555555555555)),No}()),st=Pe.formatToParts(),At=Pe.resolvedOptions();return st.map(Ht=>function yr(we,L,me){const{type:Pe,value:st}=we;if("literal"===Pe){const un=/^\s+$/.test(st);return{literal:!un,val:un?" ":st}}let Ht=Pe;"hour"===Pe&&(Ht=null!=L.hour12?L.hour12?"hour12":"hour24":null!=L.hourCycle?"h11"===L.hourCycle||"h12"===L.hourCycle?"hour12":"hour24":me.hour12?"hour12":"hour24");let on=Uo[Ht];if("object"==typeof on&&(on=on[L[Pe]]),on)return{literal:!1,val:on}}(Ht,we,At))}const Ks="Invalid DateTime",Es=864e13;function Ys(we){return new St("unsupported zone",`the zone "${we.name}" is not supported`)}function mo(we){return null===we.weekData&&(we.weekData=ii(we.c)),we.weekData}function hr(we){return null===we.localWeekData&&(we.localWeekData=ii(we.c,we.loc.getMinDaysInFirstWeek(),we.loc.getStartOfWeek())),we.localWeekData}function Hr(we,L){const me={ts:we.ts,zone:we.zone,c:we.c,o:we.o,loc:we.loc,invalid:we.invalid};return new di({...me,...L,old:me})}function es(we,L,me){let Pe=we-60*L*1e3;const st=me.offset(Pe);if(L===st)return[Pe,L];Pe-=60*(st-L)*1e3;const At=me.offset(Pe);return st===At?[Pe,st]:[we-60*Math.min(st,At)*1e3,Math.max(st,At)]}function Oo(we,L){const me=new Date(we+=60*L*1e3);return{year:me.getUTCFullYear(),month:me.getUTCMonth()+1,day:me.getUTCDate(),hour:me.getUTCHours(),minute:me.getUTCMinutes(),second:me.getUTCSeconds(),millisecond:me.getUTCMilliseconds()}}function eo(we,L,me){return es(Xe(we),L,me)}function ks(we,L){const me=we.o,Pe=we.c.year+Math.trunc(L.years),st=we.c.month+Math.trunc(L.months)+3*Math.trunc(L.quarters),At={...we.c,year:Pe,month:st,day:Math.min(we.c.day,Ue(Pe,st))+Math.trunc(L.days)+7*Math.trunc(L.weeks)},Ht=nn.fromObject({years:L.years-Math.trunc(L.years),quarters:L.quarters-Math.trunc(L.quarters),months:L.months-Math.trunc(L.months),weeks:L.weeks-Math.trunc(L.weeks),days:L.days-Math.trunc(L.days),hours:L.hours,minutes:L.minutes,seconds:L.seconds,milliseconds:L.milliseconds}).as("milliseconds"),on=Xe(At);let[un,An]=es(on,me,we.zone);return 0!==Ht&&(un+=Ht,An=we.zone.offset(un)),{ts:un,o:An}}function Ts(we,L,me,Pe,st,At){const{setZone:Ht,zone:on}=me;if(we&&0!==Object.keys(we).length||L){const un=L||on,An=di.fromObject(we,{...me,zone:un,specificOffset:At});return Ht?An:An.setZone(on)}return di.invalid(new St("unparsable",`the input "${st}" can't be parsed as ${Pe}`))}function Fo(we,L,me=!0){return we.isValid?Zn.create(ae.create("en-US"),{allowZ:me,forceSimple:!0}).formatDateTimeFromString(we,L):null}function Ns(we,L){const me=we.c.year>9999||we.c.year<0;let Pe="";return me&&we.c.year>=0&&(Pe+="+"),Pe+=Ye(we.c.year,me?6:4),L?(Pe+="-",Pe+=Ye(we.c.month),Pe+="-",Pe+=Ye(we.c.day)):(Pe+=Ye(we.c.month),Pe+=Ye(we.c.day)),Pe}function re(we,L,me,Pe,st,At){let Ht=Ye(we.c.hour);return L?(Ht+=":",Ht+=Ye(we.c.minute),(0!==we.c.millisecond||0!==we.c.second||!me)&&(Ht+=":")):Ht+=Ye(we.c.minute),(0!==we.c.millisecond||0!==we.c.second||!me)&&(Ht+=Ye(we.c.second),(0!==we.c.millisecond||!Pe)&&(Ht+=".",Ht+=Ye(we.c.millisecond,3))),st&&(we.isOffsetFixed&&0===we.offset&&!At?Ht+="Z":we.o<0?(Ht+="-",Ht+=Ye(Math.trunc(-we.o/60)),Ht+=":",Ht+=Ye(Math.trunc(-we.o%60))):(Ht+="+",Ht+=Ye(Math.trunc(we.o/60)),Ht+=":",Ht+=Ye(Math.trunc(we.o%60)))),At&&(Ht+="["+we.zone.ianaName+"]"),Ht}const Qe={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Se={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},je={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Tt=["year","month","day","hour","minute","second","millisecond"],cn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wn=["year","ordinal","hour","minute","second","millisecond"];function sr(we){switch(we.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function oi(we){const L={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[we.toLowerCase()];if(!L)throw new w(we);return L}(we)}}function qi(we,L){const me=Bt(L.zone,mt.defaultZone),Pe=ae.fromObject(L),st=mt.now();let At,Ht;if(kn(we.year))At=st;else{for(const An of Tt)kn(we[An])&&(we[An]=Qe[An]);const on=Sn(we)||li(we);if(on)return di.invalid(on);const un=me.offset(st);[At,Ht]=eo(we,un,me)}return new di({ts:At,zone:me,loc:Pe,o:Ht})}function Ki(we,L,me){const Pe=!!kn(me.round)||me.round,st=(Ht,on)=>(Ht=$t(Ht,Pe||me.calendary?0:2,!0),L.loc.clone(me).relFormatter(me).format(Ht,on)),At=Ht=>me.calendary?L.hasSame(we,Ht)?0:L.startOf(Ht).diff(we.startOf(Ht),Ht).get(Ht):L.diff(we,Ht).get(Ht);if(me.unit)return st(At(me.unit),me.unit);for(const Ht of me.units){const on=At(Ht);if(Math.abs(on)>=1)return st(on,Ht)}return st(we>L?-0:0,me.units[me.units.length-1])}function Wi(we){let me,L={};return we.length>0&&"object"==typeof we[we.length-1]?(L=we[we.length-1],me=Array.from(we).slice(0,we.length-1)):me=Array.from(we),[L,me]}class di{constructor(L){const me=L.zone||mt.defaultZone;let Pe=L.invalid||(Number.isNaN(L.ts)?new St("invalid input"):null)||(me.isValid?null:Ys(me));this.ts=kn(L.ts)?mt.now():L.ts;let st=null,At=null;if(!Pe)if(L.old&&L.old.ts===this.ts&&L.old.zone.equals(me))[st,At]=[L.old.c,L.old.o];else{const on=me.offset(this.ts);st=Oo(this.ts,on),Pe=Number.isNaN(st.year)?new St("invalid input"):null,st=Pe?null:st,At=Pe?null:on}this._zone=me,this.loc=L.loc||ae.create(),this.invalid=Pe,this.weekData=null,this.localWeekData=null,this.c=st,this.o=At,this.isLuxonDateTime=!0}static now(){return new di({})}static local(){const[L,me]=Wi(arguments),[Pe,st,At,Ht,on,un,An]=me;return qi({year:Pe,month:st,day:At,hour:Ht,minute:on,second:un,millisecond:An},L)}static utc(){const[L,me]=Wi(arguments),[Pe,st,At,Ht,on,un,An]=me;return L.zone=tt.utcInstance,qi({year:Pe,month:st,day:At,hour:Ht,minute:on,second:un,millisecond:An},L)}static fromJSDate(L,me={}){const Pe=function ri(we){return"[object Date]"===Object.prototype.toString.call(we)}(L)?L.valueOf():NaN;if(Number.isNaN(Pe))return di.invalid("invalid input");const st=Bt(me.zone,mt.defaultZone);return st.isValid?new di({ts:Pe,zone:st,loc:ae.fromObject(me)}):di.invalid(Ys(st))}static fromMillis(L,me={}){if(Cn(L))return L<-Es||L>Es?di.invalid("Timestamp out of range"):new di({ts:L,zone:Bt(me.zone,mt.defaultZone),loc:ae.fromObject(me)});throw new g(`fromMillis requires a numerical input, but received a ${typeof L} with value ${L}`)}static fromSeconds(L,me={}){if(Cn(L))return new di({ts:1e3*L,zone:Bt(me.zone,mt.defaultZone),loc:ae.fromObject(me)});throw new g("fromSeconds requires a numerical input")}static fromObject(L,me={}){L=L||{};const Pe=Bt(me.zone,mt.defaultZone);if(!Pe.isValid)return di.invalid(Ys(Pe));const st=ae.fromObject(me),At=_i(L,sr),{minDaysInFirstWeek:Ht,startOfWeek:on}=Kt(At,st),un=mt.now(),An=kn(me.specificOffset)?Pe.offset(un):me.specificOffset,ci=!kn(At.ordinal),Qn=!kn(At.year),Xi=!kn(At.month)||!kn(At.day),Ie=Qn||Xi,Nt=At.weekYear||At.weekNumber;if((Ie||ci)&&Nt)throw new C("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(Xi&&ci)throw new C("Can't mix ordinal dates with month/day");const _e=Nt||At.weekday&&!Ie;let Je,gt,pn=Oo(un,An);_e?(Je=cn,gt=Se,pn=ii(pn,Ht,on)):ci?(Je=wn,gt=je,pn=bt(pn)):(Je=Tt,gt=Qe);let ni=!1;for(const vs of Je)kn(At[vs])?At[vs]=ni?gt[vs]:pn[vs]:ni=!0;const Di=_e?function en(we,L=4,me=1){const Pe=wi(we.weekYear),st=rt(we.weekNumber,1,Vt(we.weekYear,L,me)),At=rt(we.weekday,1,7);return Pe?st?!At&&rn("weekday",we.weekday):rn("week",we.weekNumber):rn("weekYear",we.weekYear)}(At,Ht,on):ci?function Rn(we){const L=wi(we.year),me=rt(we.ordinal,1,gn(we.year));return L?!me&&rn("ordinal",we.ordinal):rn("year",we.year)}(At):Sn(At),gs=Di||li(At);if(gs)return di.invalid(gs);const Sr=_e?xt(At,Ht,on):ci?Gt(At):At,[to,ki]=eo(Sr,An,Pe),Eo=new di({ts:to,zone:Pe,o:ki,loc:st});return At.weekday&&Ie&&L.weekday!==Eo.weekday?di.invalid("mismatched weekday",`you can't specify both a weekday of ${At.weekday} and a date of ${Eo.toISO()}`):Eo}static fromISO(L,me={}){const[Pe,st]=function Bn(we){return Dr(we,[ws,Rr],[ui,Hs],[as,Gr],[Gs,Kr])}(L);return Ts(Pe,st,me,"ISO 8601",L)}static fromRFC2822(L,me={}){const[Pe,st]=function ro(we){return Dr(function wr(we){return we.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(we),[Js,Or])}(L);return Ts(Pe,st,me,"RFC 2822",L)}static fromHTTP(L,me={}){const[Pe,st]=function ps(we){return Dr(we,[dr,Qs],[$r,Qs],[Zr,ua])}(L);return Ts(Pe,st,me,"HTTP",me)}static fromFormat(L,me,Pe={}){if(kn(L)||kn(me))throw new g("fromFormat requires an input string and a format");const{locale:st=null,numberingSystem:At=null}=Pe,Ht=ae.fromOpts({locale:st,numberingSystem:At,defaultToEN:!0}),[on,un,An,ci]=function ms(we,L,me){const{result:Pe,zone:st,specificOffset:At,invalidReason:Ht}=ia(we,L,me);return[Pe,st,At,Ht]}(Ht,L,me);return ci?di.invalid(ci):Ts(on,un,Pe,`format ${me}`,L,An)}static fromString(L,me,Pe={}){return di.fromFormat(L,me,Pe)}static fromSQL(L,me={}){const[Pe,st]=function Mi(we){return Dr(we,[it,Rr],[jt,qn])}(L);return Ts(Pe,st,me,"SQL",L)}static invalid(L,me=null){if(!L)throw new g("need to specify a reason the DateTime is invalid");const Pe=L instanceof St?L:new St(L,me);if(mt.throwOnInvalid)throw new e(Pe);return new di({invalid:Pe})}static isDateTime(L){return L&&L.isLuxonDateTime||!1}static parseFormatForOpts(L,me={}){const Pe=Mr(L,ae.fromObject(me));return Pe?Pe.map(st=>st?st.val:null).join(""):null}static expandFormat(L,me={}){return jo(Zn.parseFormat(L),ae.fromObject(me)).map(st=>st.val).join("")}get(L){return this[L]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?mo(this).weekYear:NaN}get weekNumber(){return this.isValid?mo(this).weekNumber:NaN}get weekday(){return this.isValid?mo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?hr(this).weekday:NaN}get localWeekNumber(){return this.isValid?hr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?hr(this).weekYear:NaN}get ordinal(){return this.isValid?bt(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ln.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ln.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ln.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ln.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const L=864e5,me=6e4,Pe=Xe(this.c),st=this.zone.offset(Pe-L),At=this.zone.offset(Pe+L),Ht=this.zone.offset(Pe-st*me),on=this.zone.offset(Pe-At*me);if(Ht===on)return[this];const un=Pe-Ht*me,An=Pe-on*me,ci=Oo(un,Ht),Qn=Oo(An,on);return ci.hour===Qn.hour&&ci.minute===Qn.minute&&ci.second===Qn.second&&ci.millisecond===Qn.millisecond?[Hr(this,{ts:un}),Hr(this,{ts:An})]:[this]}get isInLeapYear(){return an(this.year)}get daysInMonth(){return Ue(this.year,this.month)}get daysInYear(){return this.isValid?gn(this.year):NaN}get weeksInWeekYear(){return this.isValid?Vt(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Vt(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(L={}){const{locale:me,numberingSystem:Pe,calendar:st}=Zn.create(this.loc.clone(L),L).resolvedOptions(this);return{locale:me,numberingSystem:Pe,outputCalendar:st}}toUTC(L=0,me={}){return this.setZone(tt.instance(L),me)}toLocal(){return this.setZone(mt.defaultZone)}setZone(L,{keepLocalTime:me=!1,keepCalendarTime:Pe=!1}={}){if((L=Bt(L,mt.defaultZone)).equals(this.zone))return this;if(L.isValid){let st=this.ts;if(me||Pe){const At=L.offset(this.ts),Ht=this.toObject();[st]=eo(Ht,At,L)}return Hr(this,{ts:st,zone:L})}return di.invalid(Ys(L))}reconfigure({locale:L,numberingSystem:me,outputCalendar:Pe}={}){return Hr(this,{loc:this.loc.clone({locale:L,numberingSystem:me,outputCalendar:Pe})})}setLocale(L){return this.reconfigure({locale:L})}set(L){if(!this.isValid)return this;const me=_i(L,sr),{minDaysInFirstWeek:Pe,startOfWeek:st}=Kt(me,this.loc),At=!kn(me.weekYear)||!kn(me.weekNumber)||!kn(me.weekday),Ht=!kn(me.ordinal),on=!kn(me.year),un=!kn(me.month)||!kn(me.day);if((on||un||Ht)&&(me.weekYear||me.weekNumber))throw new C("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(un&&Ht)throw new C("Can't mix ordinal dates with month/day");let Qn;At?Qn=xt({...ii(this.c,Pe,st),...me},Pe,st):kn(me.ordinal)?(Qn={...this.toObject(),...me},kn(me.day)&&(Qn.day=Math.min(Ue(Qn.year,Qn.month),Qn.day))):Qn=Gt({...bt(this.c),...me});const[Xi,Ie]=eo(Qn,this.o,this.zone);return Hr(this,{ts:Xi,o:Ie})}plus(L){return this.isValid?Hr(this,ks(this,nn.fromDurationLike(L))):this}minus(L){return this.isValid?Hr(this,ks(this,nn.fromDurationLike(L).negate())):this}startOf(L,{useLocaleWeeks:me=!1}={}){if(!this.isValid)return this;const Pe={},st=nn.normalizeUnit(L);switch(st){case"years":Pe.month=1;case"quarters":case"months":Pe.day=1;case"weeks":case"days":Pe.hour=0;case"hours":Pe.minute=0;case"minutes":Pe.second=0;case"seconds":Pe.millisecond=0}if("weeks"===st)if(me){const At=this.loc.getStartOfWeek(),{weekday:Ht}=this;Ht<At&&(Pe.weekNumber=this.weekNumber-1),Pe.weekday=At}else Pe.weekday=1;if("quarters"===st){const At=Math.ceil(this.month/3);Pe.month=3*(At-1)+1}return this.set(Pe)}endOf(L,me){return this.isValid?this.plus({[L]:1}).startOf(L,me).minus(1):this}toFormat(L,me={}){return this.isValid?Zn.create(this.loc.redefaultToEN(me)).formatDateTimeFromString(this,L):Ks}toLocaleString(L=U,me={}){return this.isValid?Zn.create(this.loc.clone(me),L).formatDateTime(this):Ks}toLocaleParts(L={}){return this.isValid?Zn.create(this.loc.clone(L),L).formatDateTimeParts(this):[]}toISO({format:L="extended",suppressSeconds:me=!1,suppressMilliseconds:Pe=!1,includeOffset:st=!0,extendedZone:At=!1}={}){if(!this.isValid)return null;const Ht="extended"===L;let on=Ns(this,Ht);return on+="T",on+=re(this,Ht,me,Pe,st,At),on}toISODate({format:L="extended"}={}){return this.isValid?Ns(this,"extended"===L):null}toISOWeekDate(){return Fo(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:L=!1,suppressSeconds:me=!1,includeOffset:Pe=!0,includePrefix:st=!1,extendedZone:At=!1,format:Ht="extended"}={}){return this.isValid?(st?"T":"")+re(this,"extended"===Ht,me,L,Pe,At):null}toRFC2822(){return Fo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Fo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ns(this,!0):null}toSQLTime({includeOffset:L=!0,includeZone:me=!1,includeOffsetSpace:Pe=!0}={}){let st="HH:mm:ss.SSS";return(me||L)&&(Pe&&(st+=" "),me?st+="z":L&&(st+="ZZ")),Fo(this,st,!0)}toSQL(L={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(L)}`:null}toString(){return this.isValid?this.toISO():Ks}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(L={}){if(!this.isValid)return{};const me={...this.c};return L.includeConfig&&(me.outputCalendar=this.outputCalendar,me.numberingSystem=this.loc.numberingSystem,me.locale=this.loc.locale),me}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(L,me="milliseconds",Pe={}){if(!this.isValid||!L.isValid)return nn.invalid("created by diffing an invalid DateTime");const st={locale:this.locale,numberingSystem:this.numberingSystem,...Pe},At=function Gn(we){return Array.isArray(we)?we:[we]}(me).map(nn.normalizeUnit),Ht=L.valueOf()>this.valueOf(),An=function zs(we,L,me,Pe){let[st,At,Ht,on]=function wo(we,L,me){const Pe=[["years",(un,An)=>An.year-un.year],["quarters",(un,An)=>An.quarter-un.quarter+4*(An.year-un.year)],["months",(un,An)=>An.month-un.month+12*(An.year-un.year)],["weeks",(un,An)=>{const ci=ar(un,An);return(ci-ci%7)/7}],["days",ar]],st={},At=we;let Ht,on;for(const[un,An]of Pe)me.indexOf(un)>=0&&(Ht=un,st[un]=An(we,L),on=At.plus(st),on>L?(st[un]--,(we=At.plus(st))>L&&(on=we,st[un]--,we=At.plus(st))):we=on);return[we,st,on,Ht]}(we,L,me);const un=L-st,An=me.filter(Qn=>["hours","minutes","seconds","milliseconds"].indexOf(Qn)>=0);0===An.length&&(Ht<L&&(Ht=st.plus({[on]:1})),Ht!==st&&(At[on]=(At[on]||0)+un/(Ht-st)));const ci=nn.fromObject(At,Pe);return An.length>0?nn.fromMillis(un,Pe).shiftTo(...An).plus(ci):ci}(Ht?this:L,Ht?L:this,At,st);return Ht?An.negate():An}diffNow(L="milliseconds",me={}){return this.diff(di.now(),L,me)}until(L){return this.isValid?vi.fromDateTimes(this,L):this}hasSame(L,me,Pe){if(!this.isValid)return!1;const st=L.valueOf(),At=this.setZone(L.zone,{keepLocalTime:!0});return At.startOf(me,Pe)<=st&&st<=At.endOf(me,Pe)}equals(L){return this.isValid&&L.isValid&&this.valueOf()===L.valueOf()&&this.zone.equals(L.zone)&&this.loc.equals(L.loc)}toRelative(L={}){if(!this.isValid)return null;const me=L.base||di.fromObject({},{zone:this.zone}),Pe=L.padding?this<me?-L.padding:L.padding:0;let st=["years","months","days","hours","minutes","seconds"],At=L.unit;return Array.isArray(L.unit)&&(st=L.unit,At=void 0),Ki(me,this.plus(Pe),{...L,numeric:"always",units:st,unit:At})}toRelativeCalendar(L={}){return this.isValid?Ki(L.base||di.fromObject({},{zone:this.zone}),this,{...L,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...L){if(!L.every(di.isDateTime))throw new g("min requires all arguments be DateTimes");return Ei(L,me=>me.valueOf(),Math.min)}static max(...L){if(!L.every(di.isDateTime))throw new g("max requires all arguments be DateTimes");return Ei(L,me=>me.valueOf(),Math.max)}static fromFormatExplain(L,me,Pe={}){const{locale:st=null,numberingSystem:At=null}=Pe;return ia(ae.fromOpts({locale:st,numberingSystem:At,defaultToEN:!0}),L,me)}static fromStringExplain(L,me,Pe={}){return di.fromFormatExplain(L,me,Pe)}static get DATE_SHORT(){return U}static get DATE_MED(){return a}static get DATE_MED_WITH_WEEKDAY(){return k}static get DATE_FULL(){return O}static get DATE_HUGE(){return P}static get TIME_SIMPLE(){return W}static get TIME_WITH_SECONDS(){return N}static get TIME_WITH_SHORT_OFFSET(){return H}static get TIME_WITH_LONG_OFFSET(){return G}static get TIME_24_SIMPLE(){return z}static get TIME_24_WITH_SECONDS(){return ce}static get TIME_24_WITH_SHORT_OFFSET(){return de}static get TIME_24_WITH_LONG_OFFSET(){return Y}static get DATETIME_SHORT(){return Z}static get DATETIME_SHORT_WITH_SECONDS(){return ne}static get DATETIME_MED(){return I}static get DATETIME_MED_WITH_SECONDS(){return pe}static get DATETIME_MED_WITH_WEEKDAY(){return K}static get DATETIME_FULL(){return he}static get DATETIME_FULL_WITH_SECONDS(){return Oe}static get DATETIME_HUGE(){return Ae}static get DATETIME_HUGE_WITH_SECONDS(){return Fe}}function Yi(we){if(di.isDateTime(we))return we;if(we&&we.valueOf&&Cn(we.valueOf()))return di.fromJSDate(we);if(we&&"object"==typeof we)return di.fromObject(we);throw new g(`Unknown datetime argument: ${we}, of type ${typeof we}`)}},4304:(nt,ye,d)=>{"use strict";d.d(ye,{Mj:()=>O,P0:()=>k,h6:()=>W,kt:()=>P});var t=d(4438),e=d(177),p=d(9969);const S="400ms cubic-bezier(0.4,0.0,0.2,1)",C=[(0,p.iF)({height:0,visibility:"hidden"}),(0,p.i0)(S,(0,p.iF)({height:"*",visibility:"visible"}))],w=[(0,p.iF)({height:"*",visibility:"visible"}),(0,p.i0)(S,(0,p.iF)({height:0,visibility:"hidden"}))];let g=(()=>{class N{set display(G){this._display=G,"none"!==G?this.isAnimated?this.toggle():this.show():this.hide()}set collapse(G){this.collapseNewValue=G,(!this._player||this._isAnimationDone)&&(this.isExpanded=G,this.toggle())}get collapse(){return this.isExpanded}constructor(G,z,ce){this._el=G,this._renderer=z,this.collapsed=new t.bkB,this.collapses=new t.bkB,this.expanded=new t.bkB,this.expands=new t.bkB,this.isExpanded=!0,this.collapseNewValue=!0,this.isCollapsed=!1,this.isCollapse=!0,this.isCollapsing=!1,this.isAnimated=!1,this._display="block",this._stylesLoaded=!1,this._COLLAPSE_ACTION_NAME="collapse",this._EXPAND_ACTION_NAME="expand",this._factoryCollapseAnimation=ce.build(w),this._factoryExpandAnimation=ce.build(C)}ngAfterViewChecked(){this._stylesLoaded=!0,this._player&&this._isAnimationDone&&(this._player.reset(),this._renderer.setStyle(this._el.nativeElement,"height","*"))}toggle(){this.isExpanded?this.hide():this.show()}hide(){this.isCollapsing=!0,this.isExpanded=!1,this.isCollapsed=!0,this.isCollapsing=!1,this.collapses.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._COLLAPSE_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.show():(this.collapsed.emit(this),this._renderer.setStyle(this._el.nativeElement,"display","none"))})}show(){this._renderer.setStyle(this._el.nativeElement,"display",this._display),this.isCollapsing=!0,this.isExpanded=!0,this.isCollapsed=!1,this.isCollapsing=!1,this.expands.emit(this),this._isAnimationDone=!1,this.animationRun(this.isAnimated,this._EXPAND_ACTION_NAME)(()=>{this._isAnimationDone=!0,this.collapseNewValue!==this.isCollapsed&&this.isAnimated?this.hide():(this.expanded.emit(this),this._renderer.removeStyle(this._el.nativeElement,"overflow"))})}animationRun(G,z){if(!G||!this._stylesLoaded)return de=>de();this._renderer.setStyle(this._el.nativeElement,"overflow","hidden"),this._renderer.addClass(this._el.nativeElement,"collapse");const ce=z===this._EXPAND_ACTION_NAME?this._factoryExpandAnimation:this._factoryCollapseAnimation;return this._player&&this._player.reset(),this._player=ce.create(this._el.nativeElement),this._player.play(),de=>this._player?.onDone(de)}static{this.\u0275fac=function(z){return new(z||N)(t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(p.S6))}}static{this.\u0275dir=t.FsC({type:N,selectors:[["","collapse",""]],hostVars:9,hostBindings:function(z,ce){2&z&&(t.BMQ("aria-hidden",ce.isCollapsed),t.AVh("collapse",ce.isCollapse)("in",ce.isExpanded)("show",ce.isExpanded)("collapsing",ce.isCollapsing))},inputs:{display:"display",isAnimated:"isAnimated",collapse:"collapse"},outputs:{collapsed:"collapsed",collapses:"collapses",expanded:"expanded",expands:"expands"},exportAs:["bs-collapse"]})}}return N})(),h=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(z){return new(z||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({})}}return N})();const E=["*"],v=[[["","accordion-heading",""]],"*"],B=["[accordion-heading]","*"],U=N=>({"text-muted":N});function a(N,H){if(1&N&&(t.j41(0,"button",7),t.EFF(1),t.k0s()),2&N){const G=t.XpG();t.Y8G("ngClass",t.eq3(2,U,G.isDisabled)),t.R7$(),t.SpI(" ",G.heading," ")}}let k=(()=>{class N{constructor(){this.closeOthers=!1,this.isAnimated=!1}static{this.\u0275fac=function(z){return new(z||N)}}static{this.\u0275prov=t.jDH({token:N,factory:N.\u0275fac,providedIn:"root"})}}return N})(),O=(()=>{class N{constructor(G){this.isAnimated=!1,this.closeOthers=!1,this.groups=[],Object.assign(this,G)}closeOtherPanels(G){this.closeOthers&&this.groups.forEach(z=>{z!==G&&(z.isOpen=!1)})}addGroup(G){G.isAnimated=this.isAnimated,this.groups.push(G)}removeGroup(G){const z=this.groups.indexOf(G);-1!==z&&this.groups.splice(z,1)}static{this.\u0275fac=function(z){return new(z||N)(t.rXU(k))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion"]],hostAttrs:["role","tablist",1,"panel-group",2,"display","block"],hostVars:1,hostBindings:function(z,ce){2&z&&t.BMQ("aria-multiselectable",ce.closeOthers)},inputs:{isAnimated:"isAnimated",closeOthers:"closeOthers"},ngContentSelectors:E,decls:1,vars:0,template:function(z,ce){1&z&&(t.NAR(),t.SdG(0))},encapsulation:2})}}return N})(),P=(()=>{class N{get isOpen(){return this._isOpen}set isOpen(G){G!==this.isOpen&&(G&&this.accordion.closeOtherPanels(this),this._isOpen=G,Promise.resolve(null).then(()=>{this.isOpenChange.emit(G)}))}constructor(G){this.isAnimated=!1,this.panelClass="panel-default",this.isDisabled=!1,this.isOpenChange=new t.bkB,this._isOpen=!1,this.accordion=G}ngOnInit(){this.accordion.addGroup(this)}ngOnDestroy(){this.accordion.removeGroup(this)}toggleOpen(){this.isDisabled||(this.isOpen=!this.isOpen)}static{this.\u0275fac=function(z){return new(z||N)(t.rXU(O))}}static{this.\u0275cmp=t.VBU({type:N,selectors:[["accordion-group"],["accordion-panel"]],hostAttrs:[1,"panel",2,"display","block"],hostVars:2,hostBindings:function(z,ce){2&z&&t.AVh("panel-open",ce.isOpen)},inputs:{heading:"heading",panelClass:"panelClass",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange"},ngContentSelectors:B,decls:9,vars:6,consts:[[1,"panel","card",3,"ngClass"],["role","tab",1,"panel-heading","card-header",3,"click","ngClass"],[1,"panel-title"],["role","button",1,"accordion-toggle"],["class","btn btn-link","type","button",3,"ngClass",4,"ngIf"],["role","tabpanel",1,"panel-collapse","collapse",3,"collapse","isAnimated"],[1,"panel-body","card-block","card-body"],["type","button",1,"btn","btn-link",3,"ngClass"]],template:function(z,ce){1&z&&(t.NAR(v),t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return ce.toggleOpen()}),t.j41(2,"div",2)(3,"div",3),t.DNE(4,a,2,4,"button",4),t.SdG(5),t.k0s()()(),t.j41(6,"div",5)(7,"div",6),t.SdG(8,1),t.k0s()()()),2&z&&(t.Y8G("ngClass",ce.panelClass),t.R7$(),t.Y8G("ngClass",ce.isDisabled?"panel-disabled":"panel-enabled"),t.R7$(2),t.BMQ("aria-expanded",ce.isOpen),t.R7$(),t.Y8G("ngIf",ce.heading),t.R7$(2),t.Y8G("collapse",!ce.isOpen)("isAnimated",ce.isAnimated))},dependencies:[e.YU,e.bT,g],styles:["[_nghost-%COMP%]   .card-header.panel-enabled[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .card-header.panel-disabled[_ngcontent-%COMP%]   .btn.btn-link[_ngcontent-%COMP%]{cursor:default;text-decoration:none}"]})}}return N})(),W=(()=>{class N{static forRoot(){return{ngModule:N,providers:[]}}static{this.\u0275fac=function(z){return new(z||N)}}static{this.\u0275mod=t.$C({type:N})}static{this.\u0275inj=t.G2t({imports:[e.MD,h]})}}return N})()},6932:(nt,ye,d)=>{"use strict";d.d(ye,{Li:()=>h});var t=d(4438),e=d(2806),p=d(2865),S=d(177);class w{constructor(v,B,U){this.nodes=v,this.viewRef=B,this.componentRef=U}}class g{constructor(v,B,U,a,k,O,P,W,N){this._viewContainerRef=v,this._renderer=B,this._elementRef=U,this._injector=a,this._componentFactoryResolver=k,this._ngZone=O,this._applicationRef=P,this._posService=W,this._document=N,this.onBeforeShow=new t.bkB,this.onShown=new t.bkB,this.onBeforeHide=new t.bkB,this.onHidden=new t.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(v){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(v),this}to(v){return this.container=v||this.container,this}position(v){return v?(this.attachment=v.attachment||this.attachment,this._elementRef=v.target||this._elementRef,this):this}provide(v){return this._providers.push(v),this}show(v={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(v.content,v.context,v.initialState);const B=t.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(B,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,v),this.container instanceof t.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const U=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!U)return;U.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(v.id?{id:v.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(v){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const B=this._componentRef.location.nativeElement;return B.parentNode?.removeChild(B),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(v?{id:v}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(v){this.triggers=v.triggers||this.triggers,this._listenOpts.outsideClick=v.outsideClick,this._listenOpts.outsideEsc=v.outsideEsc,v.target=v.target||this._elementRef?.nativeElement;const B=this._listenOpts.hide=()=>v.hide?v.hide():void this.hide(),U=this._listenOpts.show=k=>{v.show?v.show(k):this.show(k),k()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:v.target,triggers:v.triggers,show:U,hide:B,toggle:k=>{this.isShown?B():U(k)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(v,B){return v&&B&&(this._inlineViewRef=v.createEmbeddedView(B)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const v=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[v,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(v,B,U){if(!v)return new w([]);if(v instanceof t.C4Q){if(this._viewContainerRef){const O=this._viewContainerRef.createEmbeddedView(v,B);return O.markForCheck(),new w([O.rootNodes],O)}const k=v.createEmbeddedView({});return this._applicationRef.attachView(k),new w([k.rootNodes],k)}if("function"==typeof v){const k=this._componentFactoryResolver.resolveComponentFactory(v),O=t.zZn.create({providers:this._providers,parent:this._injector}),P=k.create(O);return Object.assign(P.instance,U),this._applicationRef.attachView(P.hostView),new w([[P.location.nativeElement]],P.hostView,P)}const a=this._renderer?[this._renderer.createText(`${v}`)]:[];return new w([a])}}let h=(()=>{class E{constructor(B,U,a,k,O,P){this._componentFactoryResolver=B,this._ngZone=U,this._injector=a,this._posService=k,this._applicationRef=O,this._document=P}createLoader(B,U,a){return new g(U,a,B,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(U){return new(U||E)(t.KVO(t.OM3),t.KVO(t.SKi),t.KVO(t.zZn),t.KVO(p.DF),t.KVO(t.o8S),t.KVO(S.qQ))}}static{this.\u0275prov=t.jDH({token:E,factory:E.\u0275fac,providedIn:"root"})}}return E})()},779:(nt,ye,d)=>{"use strict";d.d(ye,{I8:()=>mn,hZ:()=>ut,Q_:()=>Dt});var t=d(4438),e=d(2806),p=d(177),S=d(6697);let w,C=(()=>{class q{constructor(){this._focusTrapStack=[]}register(te){this._focusTrapStack=this._focusTrapStack.filter(Re=>Re!==te);let De=this._focusTrapStack;De.length&&De[De.length-1]._disable(),De.push(te),te._enable()}deregister(te){te._disable();const De=this._focusTrapStack,Re=De.indexOf(te);-1!==Re&&(De.splice(Re,1),De.length&&De[De.length-1]._enable())}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})();try{w=typeof Intl<"u"&&Intl.v8BreakIterator}catch{w=!1}let g=(()=>{class q{constructor(te){this._platformId=te,this.isBrowser=this._platformId?(0,p.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!w)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(De){return new(De||q)(t.KVO(t.Agw))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),E=(()=>{class q{constructor(te){this._platform=te}isDisabled(te){return te.hasAttribute("disabled")}isVisible(te){return function B(q){return!!(q.offsetWidth||q.offsetHeight||"function"==typeof q.getClientRects&&q.getClientRects().length)}(te)&&"visible"===getComputedStyle(te).visibility}isTabbable(te){if(!this._platform.isBrowser)return!1;const De=function v(q){try{return q.frameElement}catch{return null}}(function z(q){return q.ownerDocument&&q.ownerDocument.defaultView||window}(te));if(De&&(-1===N(De)||!this.isVisible(De)))return!1;let Re=te.nodeName.toLowerCase(),at=N(te);return te.hasAttribute("contenteditable")?-1!==at:!("iframe"===Re||"object"===Re||this._platform.WEBKIT&&this._platform.IOS&&!function H(q){let Q=q.nodeName.toLowerCase(),te="input"===Q&&q.type;return"text"===te||"password"===te||"select"===Q||"textarea"===Q}(te))&&("audio"===Re?!!te.hasAttribute("controls")&&-1!==at:"video"===Re?-1!==at&&(null!==at||this._platform.FIREFOX||te.hasAttribute("controls")):te.tabIndex>=0)}isFocusable(te,De){return function G(q){return!function a(q){return function O(q){return"input"==q.nodeName.toLowerCase()}(q)&&"hidden"==q.type}(q)&&(function U(q){let Q=q.nodeName.toLowerCase();return"input"===Q||"select"===Q||"button"===Q||"textarea"===Q}(q)||function k(q){return function P(q){return"a"==q.nodeName.toLowerCase()}(q)&&q.hasAttribute("href")}(q)||q.hasAttribute("contenteditable")||W(q))}(te)&&!this.isDisabled(te)&&(De?.ignoreVisibility||this.isVisible(te))}static{this.\u0275fac=function(De){return new(De||q)(t.KVO(g))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})();function W(q){if(!q.hasAttribute("tabindex")||void 0===q.tabIndex)return!1;let Q=q.getAttribute("tabindex");return"-32768"!=Q&&!(!Q||isNaN(parseInt(Q,10)))}function N(q){if(!W(q))return null;const Q=parseInt(q.getAttribute("tabindex")||"",10);return isNaN(Q)?-1:Q}function ce(q){return null!=q&&"false"!=`${q}`}class de{get enabled(){return this._enabled}set enabled(Q){this._enabled=Q,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Q,this._startAnchor),this._toggleAnchorTabIndex(Q,this._endAnchor))}constructor(Q,te,De,Re,at=!1){this._element=Q,this._checker=te,this._ngZone=De,this._document=Re,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,at||this.attachAnchors()}destroy(){const Q=this._startAnchor,te=this._endAnchor;Q&&(Q.removeEventListener("focus",this.startAnchorListener),Q.parentNode&&Q.parentNode.removeChild(Q)),te&&(te.removeEventListener("focus",this.endAnchorListener),te.parentNode&&te.parentNode.removeChild(te)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(Q=>{this._executeOnStable(()=>Q(this.focusLastTabbableElement()))})}_getRegionBoundary(Q){let te=this._element.querySelectorAll(`[cdk-focus-region-${Q}], [cdkFocusRegion${Q}], [cdk-focus-${Q}]`);for(let De=0;De<te.length;De++)te[De].hasAttribute(`cdk-focus-${Q}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${Q}', use 'cdkFocusRegion${Q}' instead. The deprecated attribute will be removed in 8.0.0.`,te[De]):te[De].hasAttribute(`cdk-focus-region-${Q}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${Q}', use 'cdkFocusRegion${Q}' instead. The deprecated attribute will be removed in 8.0.0.`,te[De]);return"start"==Q?te.length?te[0]:this._getFirstTabbableElement(this._element):te.length?te[te.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const Q=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Q){if(Q.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Q),!this._checker.isFocusable(Q)){const te=this._getFirstTabbableElement(Q);return te?.focus(),!!te}return Q.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const Q=this._getRegionBoundary("start");return Q&&Q.focus(),!!Q}focusLastTabbableElement(){const Q=this._getRegionBoundary("end");return Q&&Q.focus(),!!Q}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Q){if(this._checker.isFocusable(Q)&&this._checker.isTabbable(Q))return Q;let te=Q.children||Q.childNodes;for(let De=0;De<te.length;De++){let Re=te[De].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(te[De]):null;if(Re)return Re}return null}_getLastTabbableElement(Q){if(this._checker.isFocusable(Q)&&this._checker.isTabbable(Q))return Q;let te=Q.children||Q.childNodes;for(let De=te.length-1;De>=0;De--){let Re=te[De].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(te[De]):null;if(Re)return Re}return null}_createAnchor(){const Q=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Q),Q.classList.add("cdk-visually-hidden"),Q.classList.add("cdk-focus-trap-anchor"),Q.setAttribute("aria-hidden","true"),Q}_toggleAnchorTabIndex(Q,te){Q?te.setAttribute("tabindex","0"):te.removeAttribute("tabindex")}toggleAnchors(Q){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Q,this._startAnchor),this._toggleAnchorTabIndex(Q,this._endAnchor))}_executeOnStable(Q){this._ngZone.isStable?Q():this._ngZone.onStable.pipe((0,S.s)(1)).subscribe(Q)}}let Y=(()=>{class q{constructor(te,De,Re){this._checker=te,this._ngZone=De,this._document=Re}create(te,De=!1){return new de(te,this._checker,this._ngZone,this._document,De)}static{this.\u0275fac=function(De){return new(De||q)(t.KVO(E),t.KVO(t.SKi),t.KVO(p.qQ))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),Z=(()=>{class q{get enabled(){return this.focusTrap.enabled}set enabled(te){this.focusTrap.enabled=ce(te)}get autoCapture(){return this._autoCapture}set autoCapture(te){this._autoCapture=ce(te)}constructor(te,De,Re){this._elementRef=te,this._focusTrapFactory=De,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=Re,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(te){const De=te.autoCapture;De&&!De.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(t.aKT),t.rXU(Y),t.rXU(p.qQ))}}static{this.\u0275dir=t.FsC({type:q,selectors:[["","focusTrap",""]],inputs:{enabled:[t.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[t.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[t.OA$]})}}return q})(),ne=(()=>{class q{static forRoot(){return{ngModule:q,providers:[C,g,E]}}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275mod=t.$C({type:q})}static{this.\u0275inj=t.G2t({imports:[p.MD]})}}return q})();var I=d(6932),pe=d(2865);const K=["*"];let he=(()=>{class q{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"platform"})}}return q})(),Ae=(()=>{class q{static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"platform"})}}return q})();const Fe={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},qe=new t.nKC("override-default-config"),Me_OPEN="modal-open";let xe=(()=>{class q{constructor(te,De,Re){this._element=De,this._renderer=Re,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},te)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Me_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(te){this.clickStartedInContent=te.target!==this._element.nativeElement}onClickStop(te){this.config.ignoreBackdropClick||"static"===this.config.backdrop||te.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(te){this.isShown&&((27===te.keyCode||"Escape"===te.key)&&te.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Me_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(Ae),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(De,Re){1&De&&t.bIt("mousedown",function(o){return Re.onClickStarted(o)})("click",function(o){return Re.onClickStop(o)})("popstate",function(){return Re.onPopState()},!1,t.tSv)("keydown.esc",function(o){return Re.onEsc(o)},!1,t.tSv),2&De&&t.BMQ("aria-modal",!0)("aria-labelledby",Re.config.ariaLabelledBy)("aria-describedby",Re.config.ariaDescribedby)},ngContentSelectors:K,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(De,Re){1&De&&(t.NAR(),t.j41(0,"div",0)(1,"div",1),t.SdG(2),t.k0s()()),2&De&&t.HbH("modal-dialog"+(Re.config.class?" "+Re.config.class:""))},dependencies:[Z],encapsulation:2})}}return q})(),pt=(()=>{class q{get isAnimated(){return this._isAnimated}set isAnimated(te){this._isAnimated=te}get isShown(){return this._isShown}set isShown(te){this._isShown=te,te?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(te,De){this._isAnimated=!1,this._isShown=!1,this.element=te,this.renderer=De}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(De,Re){},encapsulation:2})}}return q})(),ut=(()=>{class q{set config(te){this._config=this.getConfig(te)}get config(){return this._config}get isShown(){return this._isShown}constructor(te,De,Re,at,o){this._element=te,this._renderer=Re,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=at.createLoader(te,De,Re),this._config=o||Fe}onClickStarted(te){this.clickStartedInContent=te.target!==this._element.nativeElement}onClickStop(te){this.config.ignoreBackdropClick||"static"===this.config.backdrop||te.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(te))}onEsc(te){this._isShown&&((27===te.keyCode||"Escape"===te.key)&&te.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Me_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Me_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(te){if(this._isShown){if(te&&te.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(te){return Object.assign({},this._config,te)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const te=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(te,300):te()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Me_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(te){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const De=()=>{this.removeBackdrop(),te&&te()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(De,150):De()}else te&&te();else{if(this.removeBackdrop(),this._backdrop.attach(pt).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!te)return;if(!this._config.animated)return void te();setTimeout(te,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const te=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");te.length&&te[te.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const te=this._renderer.createElement("div");this._renderer.addClass(te,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,te);const De=te.offsetWidth-te.clientWidth;return this._renderer.removeChild(e.Al.body,te),De}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.sFG),t.rXU(I.Li),t.rXU(qe,8))}}static{this.\u0275dir=t.FsC({type:q,selectors:[["","bsModal",""]],hostBindings:function(De,Re){1&De&&t.bIt("mousedown",function(o){return Re.onClickStarted(o)})("mouseup",function(o){return Re.onClickStop(o)})("keydown.esc",function(o){return Re.onEsc(o)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return q})(),hn=1,mn=(()=>{class q{constructor(te,De,Re){this.clf=De,this.modalDefaultOption=Re,this.onShow=new t.bkB,this.onShown=new t.bkB,this.onHide=new t.bkB,this.onHidden=new t.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=te.createRenderer(null,null),this.config=Re?Object.assign({},Fe,Re):Fe}show(te,De){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const Re=De?.id||hn++;return this.config=this.modalDefaultOption?Object.assign({},Fe,this.modalDefaultOption,De):Object.assign({},Fe,De),this.config.id=Re,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(te)}hide(te){(1===this.modalsCount||null==te)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=te?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(te),this.removeLoaders(te)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const te=!0===this.config.backdrop||"static"===this.config.backdrop,De=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),te&&De&&(this._backdropLoader.attach(pt).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(te){const De=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)De.provide(o);const Re=new he,at=De.provide({provide:Ae,useValue:this.config}).provide({provide:he,useValue:Re}).attach(xe).to("body");return Re.hide=()=>this.hide(Re.id),Re.setClass=o=>{at.instance&&(at.instance.config.class=o)},Re.onHidden=new t.bkB,Re.onHide=new t.bkB,this.copyEvent(De.onBeforeHide,Re.onHide),this.copyEvent(De.onHidden,Re.onHidden),at.show({content:te,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),at.instance&&(at.instance.level=this.getModalsCount(),Re.content=De.getInnerComponent(),Re.id=at.instance.config?.id),Re}_hideModal(te){if(null!=te){const De=this.loaders.findIndex(at=>at.instance?.config.id===te),Re=this.loaders[De];Re&&Re.hide(te)}else this.loaders.forEach(De=>{De.instance&&De.hide(De.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(te){this.lastDismissReason=te}removeBackdrop(){this._renderer.removeClass(e.Al.body,Me_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const te=this._renderer.createElement("div");this._renderer.addClass(te,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,te);const De=te.offsetWidth-te.clientWidth;return this._renderer.removeChild(e.Al.body,te),De}_createLoaders(){const te=this.clf.createLoader();this.copyEvent(te.onBeforeShow,this.onShow),this.copyEvent(te.onShown,this.onShown),this.copyEvent(te.onBeforeHide,this.onHide),this.copyEvent(te.onHidden,this.onHidden),this.loaders.push(te)}removeLoaders(te){if(null!=te){const De=this.loaders.findIndex(Re=>Re.instance?.config.id===te);De>=0&&(this.loaders.splice(De,1),this.loaders.forEach((Re,at)=>{Re.instance&&(Re.instance.level=at+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(te,De){te.subscribe(Re=>{De.emit(this.lastDismissReason||Re)})}static{this.\u0275fac=function(De){return new(De||q)(t.KVO(t._9s),t.KVO(I.Li),t.KVO(qe,8))}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"platform"})}}return q})();ne.forRoot();let Dt=(()=>{class q{static forRoot(){return{ngModule:q,providers:[mn,I.Li,pe.DF]}}static forChild(){return{ngModule:q,providers:[mn,I.Li,pe.DF]}}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275mod=t.$C({type:q})}static{this.\u0275inj=t.G2t({imports:[ne]})}}return q})()},2865:(nt,ye,d)=>{"use strict";d.d(ye,{Rz:()=>W,DF:()=>ct});var t=d(2806),e=d(4438),p=d(177),S=d(1413),C=d(7786),w=d(3726),g=d(7673),h=d(6780),E=d(8359);const v={schedule(Ce){let le=requestAnimationFrame,j=cancelAnimationFrame;const{delegate:ae}=v;ae&&(le=ae.requestAnimationFrame,j=ae.cancelAnimationFrame);const Ge=le(tt=>{j=void 0,Ce(tt)});return new E.yU(()=>j?.(Ge))},requestAnimationFrame(...Ce){const{delegate:le}=v;return(le?.requestAnimationFrame||requestAnimationFrame)(...Ce)},cancelAnimationFrame(...Ce){const{delegate:le}=v;return(le?.cancelAnimationFrame||cancelAnimationFrame)(...Ce)},delegate:void 0};var U=d(9687);const k=new class a extends U.q{flush(le){this._active=!0;const j=this._scheduled;this._scheduled=void 0;const{actions:ae}=this;let Ge;le=le||ae.shift();do{if(Ge=le.execute(le.state,le.delay))break}while((le=ae[0])&&le.id===j&&ae.shift());if(this._active=!1,Ge){for(;(le=ae[0])&&le.id===j&&ae.shift();)le.unsubscribe();throw Ge}}}(class B extends h.R{constructor(le,j){super(le,j),this.scheduler=le,this.work=j}requestAsyncId(le,j,ae=0){return null!==ae&&ae>0?super.requestAsyncId(le,j,ae):(le.actions.push(this),le._scheduled||(le._scheduled=v.requestAnimationFrame(()=>le.flush(void 0))))}recycleAsyncId(le,j,ae=0){var Ge;if(null!=ae?ae>0:this.delay>0)return super.recycleAsyncId(le,j,ae);const{actions:tt}=le;null!=j&&(null===(Ge=tt[tt.length-1])||void 0===Ge?void 0:Ge.id)!==j&&(v.cancelAnimationFrame(j),le._scheduled=void 0)}});var P=function(Ce){return Ce.top="top",Ce.bottom="bottom",Ce.left="left",Ce.right="right",Ce.auto="auto",Ce.end="right",Ce.start="left",Ce["top left"]="top left",Ce["top right"]="top right",Ce["right top"]="right top",Ce["right bottom"]="right bottom",Ce["bottom right"]="bottom right",Ce["bottom left"]="bottom left",Ce["left bottom"]="left bottom",Ce["left top"]="left top",Ce["top start"]="top left",Ce["top end"]="top right",Ce["end top"]="right top",Ce["end bottom"]="right bottom",Ce["bottom end"]="bottom right",Ce["bottom start"]="bottom left",Ce["start bottom"]="start bottom",Ce["start top"]="left top",Ce}(P||{}),W=function(Ce){return Ce.top="top",Ce.bottom="bottom",Ce.left="start",Ce.right="end",Ce.auto="auto",Ce.end="end",Ce.start="start",Ce["top left"]="top start",Ce["top right"]="top end",Ce["right top"]="end top",Ce["right bottom"]="end bottom",Ce["bottom right"]="bottom end",Ce["bottom left"]="bottom start",Ce["left bottom"]="start bottom",Ce["left top"]="start top",Ce["top start"]="top start",Ce["top end"]="top end",Ce["end top"]="end top",Ce["end bottom"]="end bottom",Ce["bottom end"]="bottom end",Ce["bottom start"]="bottom start",Ce["start bottom"]="start bottom",Ce["start top"]="start top",Ce}(W||{});function N(Ce,le){if(1!==Ce.nodeType)return[];const ae=Ce.ownerDocument.defaultView?.getComputedStyle(Ce,null);return le?ae&&ae[le]:ae}function H(Ce){if(!Ce)return document.documentElement;let ae,j=Ce?.offsetParent;for(;null===j&&Ce.nextElementSibling&&ae!==Ce.nextElementSibling;)ae=Ce.nextElementSibling,j=ae.offsetParent;const Ge=j&&j.nodeName;return Ge&&"BODY"!==Ge&&"HTML"!==Ge?j&&-1!==["TH","TD","TABLE"].indexOf(j.nodeName)&&"static"===N(j,"position")?H(j):j:ae?ae.ownerDocument.documentElement:document.documentElement}function z(Ce){return null!==Ce.parentNode?z(Ce.parentNode):Ce}function ce(Ce,le){if(!(Ce&&Ce.nodeType&&le&&le.nodeType))return document.documentElement;const j=Ce.compareDocumentPosition(le)&Node.DOCUMENT_POSITION_FOLLOWING,ae=j?Ce:le,Ge=j?le:Ce,tt=document.createRange();tt.setStart(ae,0),tt.setEnd(Ge,0);const vt=tt.commonAncestorContainer;if(Ce!==vt&&le!==vt||ae.contains(Ge))return function G(Ce){const{nodeName:le}=Ce;return"BODY"!==le&&("HTML"===le||H(Ce.firstElementChild)===Ce)}(vt)?vt:H(vt);const Bt=z(Ce);return Bt.host?ce(Bt.host,le):ce(Ce,z(le).host)}function de(Ce){if(!Ce||!Ce.parentElement)return document.documentElement;let le=Ce.parentElement;for(;le?.parentElement&&"none"===N(le,"transform");)le=le.parentElement;return le||document.documentElement}function Y(Ce,le){const j="x"===le?"Left":"Top",ae="Left"===j?"Right":"Bottom";return parseFloat(Ce[`border${j}Width`])+parseFloat(Ce[`border${ae}Width`])}function Z(Ce,le,j){return Math.max(le[`offset${Ce}`],le[`scroll${Ce}`],j[`client${Ce}`],j[`offset${Ce}`],j[`scroll${Ce}`],0)}function ne(Ce){const le=Ce.body,j=Ce.documentElement;return{height:Z("Height",le,j),width:Z("Width",le,j)}}function I(Ce){return{...Ce,right:(Ce.left||0)+Ce.width,bottom:(Ce.top||0)+Ce.height}}function K(Ce){return"number"==typeof Ce||"[object Number]"===Object.prototype.toString.call(Ce)}function he(Ce){const le=Ce.getBoundingClientRect();if(!(le&&K(le.top)&&K(le.left)&&K(le.bottom)&&K(le.right)))return le;const j={left:le.left,top:le.top,width:le.right-le.left,height:le.bottom-le.top},ae="HTML"===Ce.nodeName?ne(Ce.ownerDocument):void 0,Ge=ae?.width||Ce.clientWidth||K(le.right)&&K(j.left)&&le.right-j.left||0,tt=ae?.height||Ce.clientHeight||K(le.bottom)&&K(j.top)&&le.bottom-j.top||0;let vt=Ce.offsetWidth-Ge,Bt=Ce.offsetHeight-tt;if(vt||Bt){const ln=N(Ce);vt-=Y(ln,"x"),Bt-=Y(ln,"y"),j.width-=vt,j.height-=Bt}return I(j)}function Oe(Ce,le,j=!1){const ae="HTML"===le.nodeName,Ge=he(Ce),tt=he(le),vt=N(le),Bt=parseFloat(vt.borderTopWidth),ln=parseFloat(vt.borderLeftWidth);j&&ae&&(tt.top=Math.max(tt.top??0,0),tt.left=Math.max(tt.left??0,0));const sn=I({top:(Ge.top??0)-(tt.top??0)-Bt,left:(Ge.left??0)-(tt.left??0)-ln,width:Ge.width,height:Ge.height});if(sn.marginTop=0,sn.marginLeft=0,ae){const Pn=parseFloat(vt.marginTop),$n=parseFloat(vt.marginLeft);K(sn.top)&&(sn.top-=Bt-Pn),K(sn.bottom)&&(sn.bottom-=Bt-Pn),K(sn.left)&&(sn.left-=ln-$n),K(sn.right)&&(sn.right-=ln-$n),sn.marginTop=Pn,sn.marginLeft=$n}return sn}function Ae(Ce){return"HTML"===Ce.nodeName?Ce:Ce.parentNode||Ce.host}function Fe(Ce){if(!Ce)return document.body;switch(Ce.nodeName){case"HTML":case"BODY":return Ce.ownerDocument.body;case"#document":return Ce.body}const{overflow:le,overflowX:j,overflowY:ae}=N(Ce);return/(auto|scroll|overlay)/.test(String(le)+String(ae)+String(j))?Ce:Fe(Ae(Ce))}function qe(Ce,le="top"){const j="top"===le?"scrollTop":"scrollLeft",ae=Ce.nodeName;return"BODY"===ae||"HTML"===ae?(Ce.ownerDocument.scrollingElement||Ce.ownerDocument.documentElement)[j]:Ce[j]}function Te(Ce){const le=Ce.nodeName;return"BODY"!==le&&"HTML"!==le&&("fixed"===N(Ce,"position")||Te(Ae(Ce)))}function ge(Ce,le,j=0,ae,Ge=!1){let tt={top:0,left:0};const vt=Ge?de(Ce):ce(Ce,le);if("viewport"===ae)tt=function Me(Ce,le=!1){const j=Ce.ownerDocument.documentElement,ae=Oe(Ce,j),Ge=Math.max(j.clientWidth,window.innerWidth||0),tt=Math.max(j.clientHeight,window.innerHeight||0),vt=le?0:qe(j),Bt=le?0:qe(j,"left");return I({top:vt-Number(ae?.top)+Number(ae?.marginTop),left:Bt-Number(ae?.left)+Number(ae?.marginLeft),width:Ge,height:tt})}(vt,Ge);else{let Bt;"scrollParent"===ae?(Bt=Fe(Ae(le)),"BODY"===Bt.nodeName&&(Bt=Ce.ownerDocument.documentElement)):Bt="window"===ae?Ce.ownerDocument.documentElement:ae;const ln=Oe(Bt,vt,Ge);if(ln&&"HTML"===Bt.nodeName&&!Te(vt)){const{height:sn,width:Pn}=ne(Ce.ownerDocument);K(tt.top)&&K(ln.top)&&K(ln.marginTop)&&(tt.top+=ln.top-ln.marginTop),K(tt.top)&&(tt.bottom=Number(sn)+Number(ln.top)),K(tt.left)&&K(ln.left)&&K(ln.marginLeft)&&(tt.left+=ln.left-ln.marginLeft),K(tt.top)&&(tt.right=Number(Pn)+Number(ln.left))}else ln&&(tt=ln)}return K(tt.left)&&(tt.left+=j),K(tt.top)&&(tt.top+=j),K(tt.right)&&(tt.right-=j),K(tt.bottom)&&(tt.bottom-=j),tt}function $e({width:Ce,height:le}){return Ce*le}function xe(Ce,le,j,ae,Ge=["top","bottom","right","left"],tt="viewport",vt=0){if(-1===Ce.indexOf("auto"))return Ce;const Bt=ge(j,ae,vt,tt),ln={top:{width:Bt?.width??0,height:(le?.top??0)-(Bt?.top??0)},right:{width:(Bt?.right??0)-(le?.right??0),height:Bt?.height??0},bottom:{width:Bt?.width??0,height:(Bt?.bottom??0)-(le?.bottom??0)},left:{width:(le.left??0)-(Bt?.left??0),height:Bt?.height??0}},sn=Object.keys(ln).map(Mt=>({position:Mt,...ln[Mt],area:$e(ln[Mt])})).sort((Mt,On)=>On.area-Mt.area);let Pn=sn.filter(({width:Mt,height:On})=>Mt>=j.clientWidth&&On>=j.clientHeight);Pn=Pn.filter(({position:Mt})=>Ge.some(On=>On===Mt));const $n=Pn.length>0?Pn[0].position:sn[0].position,Vn=Ce.split(" ")[1];return j.className=j.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,t.Bu)().isBs5?W[$n]:$n}`),$n+(Vn?`-${Vn}`:"")}const ut=(Ce,le=0)=>Ce?parseFloat(Ce):le;function hn(Ce){const j=Ce.ownerDocument.defaultView?.getComputedStyle(Ce),ae=ut(j?.marginTop)+ut(j?.marginBottom),Ge=ut(j?.marginLeft)+ut(j?.marginRight);return{width:Number(Ce.offsetWidth)+Ge,height:Number(Ce.offsetHeight)+ae}}function mn(Ce,le,j){return Oe(le,j?de(Ce):ce(Ce,le),j)}function Rt(Ce,le,j){const ae=j.split(" ")[0],Ge=hn(Ce),tt={width:Ge.width,height:Ge.height},vt=-1!==["right","left"].indexOf(ae),Bt=vt?"top":"left",ln=vt?"left":"top",sn=vt?"height":"width",Pn=vt?"width":"height";return tt[Bt]=(le[Bt]??0)+le[sn]/2-Ge[sn]/2,tt[ln]=ae===ln?(le[ln]??0)-Ge[Pn]:le[function Le(Ce){const le={left:"right",right:"left",bottom:"top",top:"bottom"};return Ce.replace(/left|right|bottom|top/g,j=>le[j])}(ln)]??0,tt}function Dt(Ce,le){return!!Ce.modifiers[le]?.enabled}const q={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Q(Ce,le){return!!(0,t.Bu)().isBs5&&q[le].includes(Ce)}function Re(Ce,le,j){!Ce||!le||Object.keys(le).forEach(ae=>{let Ge="";-1!==["width","height","top","right","bottom","left"].indexOf(ae)&&function pe(Ce){return""!==Ce&&!isNaN(parseFloat(Ce))&&isFinite(Number(Ce))}(le[ae])&&(Ge="px"),j?j.setStyle(Ce,ae,`${String(le[ae])}${Ge}`):Ce.style[ae]=String(le[ae])+Ge})}function at(Ce){let le=Ce.offsets.target;const j=Ce.instance.target.querySelector(".arrow");if(!j)return Ce;const ae=-1!==["left","right"].indexOf(Ce.placement.split(" ")[0]),Ge=ae?"height":"width",tt=ae?"Top":"Left",vt=tt.toLowerCase(),Bt=ae?"left":"top",ln=ae?"bottom":"right",sn=hn(j)[Ge],Pn=Ce.placement.split(" ")[1];(Ce.offsets.host[ln]??0)-sn<(le[vt]??0)&&(le[vt]-=(le[vt]??0)-((Ce.offsets.host[ln]??0)-sn)),Number(Ce.offsets.host[vt])+Number(sn)>(le[ln]??0)&&(le[vt]+=Number(Ce.offsets.host[vt])+Number(sn)-Number(le[ln])),le=I(le);const $n=N(Ce.instance.target),Vn=parseFloat($n[`margin${tt}`])||0,Mt=parseFloat($n[`border${tt}Width`])||0;let On;if(Pn){const mt=parseFloat($n.borderRadius)||0,St=Number(Vn+Mt+mt);On=vt===Pn?Number(Ce.offsets.host[vt])+St:Number(Ce.offsets.host[vt])+Number(Ce.offsets.host[Ge]-St)}else On=Number(Ce.offsets.host[vt])+Number(Ce.offsets.host[Ge]/2-sn/2);let Qt=On-(le[vt]??0)-Vn-Mt;return Qt=Math.max(Math.min(le[Ge]-(sn+5),Qt),0),Ce.offsets.arrow={[vt]:Math.round(Qt),[Bt]:""},Ce.instance.arrow=j,Ce}function o(Ce){if(Ce.offsets.target=I(Ce.offsets.target),!Dt(Ce.options,"flip"))return Ce.offsets.target={...Ce.offsets.target,...Rt(Ce.instance.target,Ce.offsets.host,Ce.placement)},Ce;const le=ge(Ce.instance.target,Ce.instance.host,0,"viewport",!1);let j=Ce.placement.split(" ")[0],ae=Ce.placement.split(" ")[1]||"";const Bt=xe("auto",Ce.offsets.host,Ce.instance.target,Ce.instance.host,Ce.options.allowedPositions),ln=[j,Bt];return ln.forEach((sn,Pn)=>{if(j!==sn||ln.length===Pn+1)return;j=Ce.placement.split(" ")[0];const $n="left"===j&&Math.floor(Ce.offsets.target.right??0)>Math.floor(Ce.offsets.host.left??0)||"right"===j&&Math.floor(Ce.offsets.target.left??0)<Math.floor(Ce.offsets.host.right??0)||"top"===j&&Math.floor(Ce.offsets.target.bottom??0)>Math.floor(Ce.offsets.host.top??0)||"bottom"===j&&Math.floor(Ce.offsets.target.top??0)<Math.floor(Ce.offsets.host.bottom??0),Vn=Math.floor(Ce.offsets.target.left??0)<Math.floor(le.left??0),Mt=Math.floor(Ce.offsets.target.right??0)>Math.floor(le.right??0),On=Math.floor(Ce.offsets.target.top??0)<Math.floor(le.top??0),Qt=Math.floor(Ce.offsets.target.bottom??0)>Math.floor(le.bottom??0),mt="left"===j&&Vn||"right"===j&&Mt||"top"===j&&On||"bottom"===j&&Qt,St=-1!==["top","bottom"].indexOf(j),dt=St&&"left"===ae&&Vn||St&&"right"===ae&&Mt||!St&&"left"===ae&&On||!St&&"right"===ae&&Qt;($n||mt||dt)&&(($n||mt)&&(j=ln[Pn+1]),dt&&(ae=function Ct(Ce){return"right"===Ce?"left":"left"===Ce?"right":Ce}(ae)),Ce.placement=j+(ae?` ${ae}`:""),Ce.offsets.target={...Ce.offsets.target,...Rt(Ce.instance.target,Ce.offsets.host,Ce.placement)})}),Ce}function Ft(Ce){if(!Dt(Ce.options,"preventOverflow"))return Ce;const le="transform",j=Ce.instance.target.style,{top:ae,left:Ge,[le]:tt}=j;j.top="",j.left="",j[le]="";const vt=ge(Ce.instance.target,Ce.instance.host,0,Ce.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);j.top=ae,j.left=Ge,j[le]=tt;const ln={primary(sn){let Pn=Ce.offsets.target[sn];return(Ce.offsets.target[sn]??0)<(vt[sn]??0)&&(Pn=Math.max(Ce.offsets.target[sn]??0,vt[sn]??0)),{[sn]:Pn}},secondary(sn){const Pn="right"===sn,$n=Pn?"left":"top";let Mt=Ce.offsets.target[$n];return(Ce.offsets.target[sn]??0)>(vt[sn]??0)&&(Mt=Math.min(Ce.offsets.target[$n]??0,(vt[sn]??0)-Ce.offsets.target[Pn?"width":"height"])),{[$n]:Mt}}};return["left","right","top","bottom"].forEach(sn=>{const Pn=-1!==["left","top","start"].indexOf(sn)?ln.primary:ln.secondary;Ce.offsets.target={...Ce.offsets.target,...Pn(sn)}}),Ce}function _t(Ce){const le=Ce.placement,j=le.split(" ")[0],ae=le.split(" ")[1];if(ae){const{host:Ge,target:tt}=Ce.offsets,vt=-1!==["bottom","top"].indexOf(j),Bt=vt?"left":"top",ln=vt?"width":"height",sn={start:{[Bt]:Ge[Bt]},end:{[Bt]:(Ge[Bt]??0)+Ge[ln]-tt[ln]}};Ce.offsets.target={...tt,[Bt]:Bt===ae?sn.start[Bt]:sn.end[Bt]}}return Ce}const Pt=new class lt{position(le,j){return this.offset(le,j)}offset(le,j){return mn(j,le)}positionElements(le,j,ae,Ge,tt){const vt=[o,_t,Ft,at],ln=function ft(Ce,le,j,ae){if(!Ce||!le)return;const Ge=mn(Ce,le);!j.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!j.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(j="auto");const tt=!!j.match(/auto/g);let vt=j.match(/auto\s(left|right|top|bottom|start|end)/)?j.split(" ")[1]||"auto":j;const Bt=vt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Bt&&(vt=Bt[1]+(Bt[2]?` ${Bt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(vt)&&(vt="auto"),vt=xe(vt,Ge,Ce,le,ae?ae.allowedPositions:void 0),{options:ae||{modifiers:{}},instance:{target:Ce,host:le,arrow:void 0},offsets:{target:Rt(Ce,Ge,vt),host:Ge,arrow:void 0},positionFixed:!1,placement:vt,placementAuto:tt}}(j,le,P[ae],tt);if(ln)return vt.reduce((sn,Pn)=>Pn(sn),ln)}};function tn(Ce,le,j,ae,Ge,tt){const vt=Pt.positionElements(Ce,le,j,ae,Ge);if(!vt)return;const Bt=function pt(Ce){return{width:Ce.offsets.target.width,height:Ce.offsets.target.height,left:Math.floor(Ce.offsets.target.left??0),top:Math.round(Ce.offsets.target.top??0),bottom:Math.round(Ce.offsets.target.bottom??0),right:Math.floor(Ce.offsets.target.right??0)}}(vt);Re(le,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Bt.left}px, ${Bt.top}px, 0px)`},tt),vt.instance.arrow&&Re(vt.instance.arrow,vt.offsets.arrow,tt),function De(Ce,le){const j=Ce.instance.target;let ae=j.className;const Ge=(0,t.Bu)().isBs5?W[Ce.placement]:Ce.placement;Ce.placementAuto&&(ae=ae.replace(/bs-popover-auto/g,`bs-popover-${Ge}`),ae=ae.replace(/ms-2|me-2|mb-2|mt-2/g,""),ae=ae.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ge}`),ae=ae.replace(/\sauto/g,` ${Ge}`),-1!==ae.indexOf("popover")&&(ae=ae+" "+function te(Ce){return(0,t.Bu)().isBs5?Q(Ce,"end")?"ms-2":Q(Ce,"start")?"me-2":Q(Ce,"top")?"mb-2":Q(Ce,"bottom")?"mt-2":"":""}(Ge)),-1!==ae.indexOf("popover")&&-1===ae.indexOf("popover-auto")&&(ae+=" popover-auto"),-1!==ae.indexOf("tooltip")&&-1===ae.indexOf("tooltip-auto")&&(ae+=" tooltip-auto")),ae=ae.replace(/left|right|top|bottom|end|start/g,`${Ge.split(" ")[0]}`),le?le.setAttribute(j,"class",ae):j.className=ae}(vt,tt)}let ct=(()=>{class Ce{constructor(j,ae,Ge){this.update$$=new S.B,this.positionElements=new Map,this.isDisabled=!1,(0,p.UE)(Ge)&&j.runOutsideAngular(()=>{this.triggerEvent$=(0,C.h)((0,w.R)(window,"scroll",{passive:!0}),(0,w.R)(window,"resize",{passive:!0}),(0,g.of)(0,k),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(tt=>{tn(Lt(tt.target),Lt(tt.element),tt.attachment,tt.appendToBody,this.options,ae.createRenderer(null,null))})})})}position(j){this.addPositionElement(j)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(j){this.positionElements.set(Lt(j.element),j)}calcPosition(){this.update$$.next(null)}deletePositionElement(j){this.positionElements.delete(Lt(j))}setOptions(j){this.options=j}static{this.\u0275fac=function(ae){return new(ae||Ce)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:Ce,factory:Ce.\u0275fac,providedIn:"root"})}}return Ce})();function Lt(Ce){return"string"==typeof Ce?document.querySelector(Ce):Ce instanceof e.aKT?Ce.nativeElement:Ce??null}},3816:(nt,ye,d)=>{"use strict";d.d(ye,{V6:()=>v,fw:()=>E,jr:()=>U});var t=d(4438),e=d(177);const p=["*"],S=a=>["nav-item",a];function C(a,k){if(1&a){const O=t.RV6();t.j41(0,"span",7),t.bIt("click",function(W){t.eBV(O);const N=t.XpG().$implicit,H=t.XpG();return W.preventDefault(),t.Njj(H.removeTab(N))}),t.EFF(1," \u274c"),t.k0s()}}function w(a,k){if(1&a){const O=t.RV6();t.j41(0,"li",3),t.bIt("keydown",function(W){const N=t.eBV(O).index,H=t.XpG();return t.Njj(H.keyNavActions(W,N))}),t.j41(1,"a",4),t.bIt("click",function(){const W=t.eBV(O).$implicit;return t.Njj(W.active=!0)}),t.j41(2,"span",5),t.EFF(3),t.k0s(),t.DNE(4,C,2,0,"span",6),t.k0s()()}if(2&a){const O=k.$implicit;t.AVh("active",O.active)("disabled",O.disabled),t.Y8G("ngClass",t.eq3(15,S,O.customClass||"")),t.R7$(),t.AVh("active",O.active)("disabled",O.disabled),t.BMQ("aria-controls",O.id?O.id:"")("aria-selected",!!O.active)("id",O.id?O.id+"-link":""),t.R7$(),t.Y8G("ngTransclude",O.headingRef),t.R7$(),t.JRh(O.heading),t.R7$(),t.Y8G("ngIf",O.removable)}}let g=(()=>{class a{set ngTransclude(O){this._ngTransclude=O,O&&this.viewRef.createEmbeddedView(O)}get ngTransclude(){return this._ngTransclude}constructor(O){this.viewRef=O}static{this.\u0275fac=function(P){return new(P||a)(t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:a,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}})}}return a})(),h=(()=>{class a{constructor(){this.type="tabs",this.isKeysAllowed=!0,this.ariaLabel="Tabs"}static{this.\u0275fac=function(P){return new(P||a)}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})(),E=(()=>{class a{get vertical(){return this._vertical}set vertical(O){this._vertical=O,this.setClassMap()}get justified(){return this._justified}set justified(O){this._justified=O,this.setClassMap()}get type(){return this._type}set type(O){this._type=O,this.setClassMap()}get isKeysAllowed(){return this._isKeysAllowed}set isKeysAllowed(O){this._isKeysAllowed=O}constructor(O,P,W){this.renderer=P,this.elementRef=W,this.clazz=!0,this.tabs=[],this.classMap={},this.ariaLabel="Tabs",this.isDestroyed=!1,this._vertical=!1,this._justified=!1,this._type="tabs",this._isKeysAllowed=!0,Object.assign(this,O)}ngOnDestroy(){this.isDestroyed=!0}addTab(O){this.tabs.push(O),O.active=1===this.tabs.length&&!O.active}removeTab(O,P={reselect:!0,emit:!0}){const W=this.tabs.indexOf(O);if(-1!==W&&!this.isDestroyed){if(P.reselect&&O.active&&this.hasAvailableTabs(W)){const N=this.getClosestTabIndex(W);this.tabs[N].active=!0}P.emit&&O.removed.emit(O),this.tabs.splice(W,1),O.elementRef.nativeElement.parentNode&&this.renderer.removeChild(O.elementRef.nativeElement.parentNode,O.elementRef.nativeElement)}}keyNavActions(O,P){if(!this.isKeysAllowed)return;const W=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===O.keyCode||"Enter"===O.key||32===O.keyCode||"Space"===O.key)return O.preventDefault(),void W[P%W.length].click();if(39!==O.keyCode&&"RightArrow"!==O.key)if(37!==O.keyCode&&"LeftArrow"!==O.key)if(36!==O.keyCode&&"Home"!==O.key)if(35!==O.keyCode&&"End"!==O.key){if((46===O.keyCode||"Delete"===O.key)&&this.tabs[P].removable){if(this.removeTab(this.tabs[P]),W[P+1])return void W[(P+1)%W.length].focus();W[W.length-1]&&W[0].focus()}}else{O.preventDefault();let N,H=1,G=P;do{G-H<0?(G=W.length-1,N=W[G],H=0):N=W[G-H],H++}while(N.classList.contains("disabled"));N.focus()}else{O.preventDefault();let N,H=0;do{N=W[H%W.length],H++}while(N.classList.contains("disabled"));N.focus()}else{let N,H=1,G=P;do{G-H<0?(G=W.length-1,N=W[G],H=0):N=W[G-H],H++}while(N.classList.contains("disabled"));N.focus()}else{let N,H=1;do{N=W[(P+H)%W.length],H++}while(N.classList.contains("disabled"));N.focus()}}getClosestTabIndex(O){const P=this.tabs.length;if(!P)return-1;for(let W=1;W<=P;W+=1){const N=O-W,H=O+W;if(this.tabs[N]&&!this.tabs[N].disabled)return N;if(this.tabs[H]&&!this.tabs[H].disabled)return H}return-1}hasAvailableTabs(O){const P=this.tabs.length;if(!P)return!1;for(let W=0;W<P;W+=1)if(!this.tabs[W].disabled&&W!==O)return!0;return!1}setClassMap(){this.classMap={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified,[`nav-${this.type}`]:!0}}static{this.\u0275fac=function(P){return new(P||a)(t.rXU(h),t.rXU(t.sFG),t.rXU(t.aKT))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["tabset"]],hostVars:2,hostBindings:function(P,W){2&P&&t.AVh("tab-container",W.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:p,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"click","ngClass"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"keydown","ngClass"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(P,W){1&P&&(t.NAR(),t.j41(0,"ul",0),t.bIt("click",function(H){return H.preventDefault()}),t.DNE(1,w,5,17,"li",1),t.k0s(),t.j41(2,"div",2),t.SdG(3),t.k0s()),2&P&&(t.Y8G("ngClass",W.classMap),t.BMQ("aria-label",W.ariaLabel),t.R7$(),t.Y8G("ngForOf",W.tabs))},dependencies:[e.YU,e.Sq,e.bT,g],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]})}}return a})(),v=(()=>{class a{get customClass(){return this._customClass}set customClass(O){this.customClass&&this.customClass.split(" ").forEach(P=>{this.renderer.removeClass(this.elementRef.nativeElement,P)}),this._customClass=O?O.trim():"",this.customClass&&this.customClass.split(" ").forEach(P=>{this.renderer.addClass(this.elementRef.nativeElement,P)})}get active(){return this._active}set active(O){if(this._active!==O){if(this.disabled&&O||!O)return void(this._active&&!O&&(this.deselect.emit(this),this._active=O));this._active=O,this.selectTab.emit(this),this.tabset.tabs.forEach(P=>{P!==this&&(P.active=!1)})}}get ariaLabelledby(){return this.id?`${this.id}-link`:""}constructor(O,P,W){this.elementRef=P,this.renderer=W,this.disabled=!1,this.removable=!1,this.selectTab=new t.bkB,this.deselect=new t.bkB,this.removed=new t.bkB,this.addClass=!0,this.role="tabpanel",this._active=!1,this._customClass="",this.tabset=O,this.tabset.addTab(this)}ngOnInit(){this.removable=!!this.removable}ngOnDestroy(){this.tabset.removeTab(this,{reselect:!1,emit:!1})}static{this.\u0275fac=function(P){return new(P||a)(t.rXU(E),t.rXU(t.aKT),t.rXU(t.sFG))}}static{this.\u0275dir=t.FsC({type:a,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(P,W){2&P&&(t.BMQ("id",W.id)("role",W.role)("aria-labelledby",W.ariaLabelledby),t.AVh("active",W.active)("tab-pane",W.addClass))},inputs:{heading:"heading",id:"id",disabled:"disabled",removable:"removable",customClass:"customClass",active:"active"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"},exportAs:["tab"]})}}return a})(),U=(()=>{class a{static forRoot(){return{ngModule:a,providers:[]}}static{this.\u0275fac=function(P){return new(P||a)}}static{this.\u0275mod=t.$C({type:a})}static{this.\u0275inj=t.G2t({imports:[e.MD]})}}return a})()},534:(nt,ye,d)=>{"use strict";d.d(ye,{Ss:()=>a,dg:()=>U});var t=d(4438),e=d(2806),p=d(2865),S=d(1635),C=d(6932),w=d(1584),g=d(177);const h=["*"];let E=(()=>{class k{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(W){return new(W||k)}}static{this.\u0275prov=t.jDH({token:k,factory:k.\u0275fac,providedIn:"root"})}}return k})(),v=(()=>{class k{get _bsVersions(){return(0,e.Bu)()}constructor(P){Object.assign(this,P)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=p.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(W){return new(W||k)(t.rXU(E))}}static{this.\u0275cmp=t.VBU({type:k,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(W,N){2&W&&(t.BMQ("id",N.id),t.HbH("show tooltip in tooltip-"+N.placement+" bs-tooltip-"+N.placement+" "+N.placement+" "+N.containerClass))},ngContentSelectors:h,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(W,N){1&W&&(t.NAR(),t.nrm(0,"div",0),t.j41(1,"div",1),t.SdG(2),t.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return k})(),B=0,U=(()=>{class k{get isOpen(){return this._tooltip.isShown}set isOpen(P){P?this.show():this.hide()}set htmlContent(P){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=P}set _placement(P){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=P}set _isOpen(P){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=P}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(P){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!P}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(P){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=P?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(P){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(P){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(P){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=P}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(P){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(P||"").toString()}constructor(P,W,N,H,G,z){this._elementRef=H,this._renderer=G,this._positionService=z,this.tooltipId=B++,this.adaptivePosition=!0,this.tooltipChange=new t.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new t.bkB,this._tooltip=W.createLoader(this._elementRef,P,this._renderer).provide({provide:E,useValue:N}),Object.assign(this,N),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(P=>{P||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const P=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(v).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},W=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,w.O)(this.delay).subscribe(()=>{P(),W()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(N=>{N.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,N.close,()=>{this._delaySubscription?.unsubscribe(),W()}))})):P()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(W){return new(W||k)(t.rXU(t.c1b),t.rXU(C.Li),t.rXU(E),t.rXU(t.aKT),t.rXU(t.sFG),t.rXU(p.DF))}}static{this.\u0275dir=t.FsC({type:k,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[t.Mj6.None,"tooltipHtml","htmlContent"],_placement:[t.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[t.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[t.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[t.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[t.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[t.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[t.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[t.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,S.Cg)([(0,e.Yr)(),(0,S.Sn)("design:type",Object)],k.prototype,"tooltip",void 0),k})(),a=(()=>{class k{static forRoot(){return{ngModule:k,providers:[C.Li,p.DF]}}static{this.\u0275fac=function(W){return new(W||k)}}static{this.\u0275mod=t.$C({type:k})}static{this.\u0275inj=t.G2t({imports:[g.MD]})}}return k})()},8400:(nt,ye,d)=>{"use strict";d.d(ye,{Xi:()=>Rt,qP:()=>Dt});var t=d(4438),e=d(2806),p=d(2865),S=d(8359),C=d(4402),w=d(983),g=d(6648),h=d(9969),E=d(177),v=d(9417),B=d(6932),U=d(152),a=d(8141),k=d(5558),O=d(1397),P=d(5964),W=d(6649),N=d(9974);const G=(q,Q)=>(q.push(Q),q);const ce=["ulElement"],de=["liElements"],Y=(q,Q,te,De)=>({matches:q,itemTemplate:Q,query:te,$implicit:De}),Z=(q,Q,te,De)=>({item:q,index:Q,match:te,query:De});function ne(q,Q){}function I(q,Q){if(1&q&&t.nrm(0,"span",4),2&q){const te=Q.match,De=Q.query,Re=t.XpG();t.Y8G("innerHtml",Re.highlight(te,De),t.npT)}}function pe(q,Q){if(1&q&&(t.j41(0,"h6",8),t.EFF(1),t.k0s()),2&q){const te=t.XpG().$implicit;t.R7$(),t.JRh(te)}}function K(q,Q){}function he(q,Q){if(1&q){const te=t.RV6();t.j41(0,"button",9,2),t.bIt("click",function(Re){t.eBV(te);const at=t.XpG().$implicit,o=t.XpG(2);return t.Njj(o.selectMatch(at,Re))})("mouseenter",function(){t.eBV(te);const Re=t.XpG().$implicit,at=t.XpG(2);return t.Njj(at.selectActive(Re))}),t.DNE(2,K,0,0,"ng-template",3),t.k0s()}if(2&q){const te=t.XpG(),De=te.$implicit,Re=te.index,at=t.XpG(2),o=t.sdS(2);t.AVh("active",at.isActive(De)),t.Y8G("id",at.popupId+"-"+Re)("@typeaheadAnimation",at.animationState),t.R7$(2),t.Y8G("ngTemplateOutlet",at.itemTemplate||o)("ngTemplateOutletContext",t.ziG(6,Z,De.item,Re,De,at.query))}}function Oe(q,Q){if(1&q&&t.DNE(0,pe,2,1,"h6",6)(1,he,3,11,"ng-template",7),2&q){const te=Q.$implicit;t.Y8G("ngIf",te.isHeader()),t.R7$(),t.Y8G("ngIf",!te.isHeader())}}function Ae(q,Q){if(1&q&&t.DNE(0,Oe,2,2,"ng-template",5),2&q){const te=t.XpG();t.Y8G("ngForOf",te.matches)}}const Fe={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Me{constructor(Q,te=Q,De=!1){this.item=Q,this.value=te,this.header=De}isHeader(){return this.header}toString(){return this.value}}function Te(q){return q?q.replace(/[^A-Za-z0-9[\] ]/g,function(Q){return Fe[Q]||Q}):""}function $e(q,Q=" ",te="",De){let Re=[];if(De){const o=q.split(new RegExp(`([${De}]+)`,"g")),ft=o[o.length-1];ft>""&&(Q&&te?Re=xe(ft,Q,te):Re.push(ft))}else Re=xe(q,Q,te);return Re}function xe(q,Q,te){const De=[],at=q.split(new RegExp(`(?:[${te}])([^${te}]+)(?:[${te}])|([^${Q}]+)`,"g")),o=at.length;let ft;const Ft=new RegExp(`[${te}]+`,"g");for(let _t=0;_t<o;_t+=1)ft=at[_t],ft&&ft.length&&ft!==Q&&De.push(ft.replace(Ft,""));return De}function pt(q,Q){if(!Q||"object"!=typeof q)return q.toString();if(Q.endsWith("()"))return q[Q.slice(0,Q.length-2)]().toString();const De=Q.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const Re of De)Re in q&&(q=q[Re]);return q?q.toString():""}const Le="220ms cubic-bezier(0, 0, 0.2, 1)",Ct=(0,h.hZ)("typeaheadAnimation",[(0,h.wk)("animated-down",(0,h.iF)({height:"*",overflow:"hidden"})),(0,h.kY)("* => animated-down",[(0,h.iF)({height:0,overflow:"hidden"}),(0,h.i0)(Le)]),(0,h.wk)("animated-up",(0,h.iF)({height:"*",overflow:"hidden"})),(0,h.kY)("* => animated-up",[(0,h.iF)({height:"*",overflow:"hidden"}),(0,h.i0)(Le)]),(0,h.kY)("* => unanimated",(0,h.i0)("0s"))]);let ut=0,hn=(()=>{class q{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(te,De,Re,at){this.positionService=te,this.renderer=De,this.element=Re,this.changeDetectorRef=at,this.activeChangeEvent=new t.bkB,this.isFocused=!1,this.positionServiceSubscription=new S.yU,this.height=0,this.popupId="ngb-typeahead-"+ut++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(te){this._active=te,this.activeChanged()}get matches(){return this._matches}set matches(te){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=te,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const De=this._matches.find(Re=>Re.value===this._active?.value);if(De)return void this.selectActive(De);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(te){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&te&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const te=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${te}`)}prevActiveMatch(){if(!this._active)return;const te=this.matches.indexOf(this._active);this.setActive(this.matches[te-1<0?this.matches.length-1:te-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(te)}nextActiveMatch(){const te=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[te+1>this.matches.length-1?0:te+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(te)}selectActive(te){this.isFocused=!0,this.setActive(te)}highlight(te,De){let o,ft,Re=te.value,at=(this.parent&&this.parent.typeaheadLatinize?Te(Re):Re).toLowerCase();if("object"==typeof De){const Ft=De.length;for(let _t=0;_t<Ft;_t+=1)o=at.indexOf(De[_t]),ft=De[_t].length,o>=0&&ft>0&&(Re=`${Re.substring(0,o)}<strong>${Re.substring(o,o+ft)}</strong>${Re.substring(o+ft)}`,at=`${at.substring(0,o)}        ${" ".repeat(ft)}         ${at.substring(o+ft)}`)}else De&&(o=at.indexOf(De),ft=De.length,o>=0&&ft>0&&(Re=`${Re.substring(0,o)}<strong>${Re.substring(o,o+ft)}</strong>${Re.substring(o+ft)}`));return Re}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(te){return this.active===te}selectMatch(te,De){return De&&(De.stopPropagation(),De.preventDefault()),this.parent?.changeModel(te),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(te),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const te=e.Aq.getStyles(this.ulElement.nativeElement),De=e.Aq.getStyles(this.liElements.first.nativeElement),Re=parseFloat((te["padding-bottom"]?te["padding-bottom"]:"").replace("px","")),at=parseFloat((te["padding-top"]?te["padding-top"]:"0").replace("px","")),o=parseFloat((De.height?De.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*o+at+Re}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(te){if(0!==te){if(this.liElements&&this.ulElement){const De=this.liElements.toArray()[te-1];De&&!this.isScrolledIntoView(De.nativeElement)&&(this.ulElement.nativeElement.scrollTop=De.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(te){if(te+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const De=this.liElements.toArray()[te+1];De&&!this.isScrolledIntoView(De.nativeElement)&&(this.ulElement.nativeElement.scrollTop=De.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(De.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(te){let De;this._active=te,null==this._active||this._active.isHeader()||(De=te),this.parent?.typeaheadOnPreview.emit(De)}isScrolledIntoView(te){if(!this.ulElement)return!1;const De=this.ulElement.nativeElement.scrollTop,Re=De+Number(this.ulElement.nativeElement.offsetHeight),at=te.offsetTop;return at+te.offsetHeight<=Re&&at>=De}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(p.DF),t.rXU(t.sFG),t.rXU(t.aKT),t.rXU(t.gRc))}}static{this.\u0275cmp=t.VBU({type:q,selectors:[["typeahead-container"]],viewQuery:function(De,Re){if(1&De&&(t.GBs(ce,5),t.GBs(de,5)),2&De){let at;t.mGM(at=t.lsd())&&(Re.ulElement=at.first),t.mGM(at=t.lsd())&&(Re.liElements=at)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(De,Re){1&De&&t.bIt("mouseleave",function(){return Re.focusLost()})("blur",function(){return Re.focusLost()}),2&De&&(t.BMQ("role","listbox"),t.xc7("height",Re.needScrollbar?Re.guiHeight:"auto")("visibility","inherit"),t.AVh("dropup",Re.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(De,Re){if(1&De&&t.DNE(0,ne,0,0,"ng-template",3)(1,I,1,1,"ng-template",null,0,t.C5r)(3,Ae,1,1,"ng-template",null,1,t.C5r),2&De){const at=t.sdS(2),o=t.sdS(4);t.Y8G("ngTemplateOutlet",Re.optionsListTemplate||o)("ngTemplateOutletContext",t.ziG(2,Y,Re.matches,Re.itemTemplate||at,Re.query,Re.typeaheadTemplateMethods))}},dependencies:[E.Sq,E.bT,E.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[Ct]}})}}return q})(),mn=(()=>{class q{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275prov=t.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}}return q})(),Rt=(()=>{class q{constructor(te,De,Re,at,o,ft,Ft){this.changeDetection=Re,this.element=at,this.ngControl=o,this.renderer=ft,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new t.bkB,this.typeaheadNoResults=new t.bkB,this.typeaheadOnSelect=new t.bkB,this.typeaheadOnPreview=new t.bkB,this.typeaheadOnBlur=new t.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new t.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=te.createLoader(at,Ft,ft).provide({provide:mn,useValue:De}),Object.assign(this,{typeaheadHideResultsOnBlur:De.hideResultsOnBlur,cancelRequestOnFocusLost:De.cancelRequestOnFocusLost,typeaheadSelectFirstItem:De.selectFirstItem,typeaheadIsFirstItemActive:De.isFirstItemActive,typeaheadMinLength:De.minLength,adaptivePosition:De.adaptivePosition,isAnimated:De.isAnimated,selectItemOnBlur:De.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,C.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,C.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(te){const De=void 0!==te.target.value?te.target.value:void 0!==te.target.textContent?te.target.textContent:te.target.innerText;null!=De&&De.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(te.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(te){if(this._container){if(27===te.keyCode||"Escape"===te.key)return void this.hide();if(38===te.keyCode||"ArrowUp"===te.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===te.keyCode||"ArrowDown"===te.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===te.keyCode||"Enter"===te.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Me(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(te){if(this._container&&((9===te.keyCode||"Tab"===te.key)&&this.onBlur(),9===te.keyCode||"Tab"===te.key||13===te.keyCode||"Enter"===te.key)){if(te.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(te){if(!te)return;let De;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const Re=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=Re.slice(0,Re.length-1).concat(te.value).join(""),De=this._allEnteredValue}else De=te.value;this.ngControl.viewToModelUpdate(De),this.ngControl.control?.setValue(De),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(hn).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",De=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(De.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(De.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const te=(this.typeaheadLatinize?Te(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(te),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(De=>{this.activeDescendant=De,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const te of this._subscriptions)te.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,U.B)(this.typeaheadWaitMs),(0,a.M)(te=>this._allEnteredValue=te),(0,k.n)(()=>this.typeahead?this.typeahead:w.w)).subscribe(te=>{this.finalizeAsyncCall(te)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,U.B)(this.typeaheadWaitMs),(0,O.Z)(te=>{this._allEnteredValue=te;const De=this.normalizeQuery(te);return this.typeahead?((0,C.A)(this.typeahead)?this.typeahead:(0,g.H)(this.typeahead)).pipe((0,P.p)(at=>!!at&&this.testMatch(this.normalizeOption(at),De)),function z(){return(0,N.N)((q,Q)=>{(function H(q,Q){return(0,N.N)((0,W.S)(q,Q,arguments.length>=2,!1,!0))})(G,[])(q).subscribe(Q)})}()):w.w})).subscribe(te=>{this.finalizeAsyncCall(te)}))}normalizeOption(te){const De=pt(te,this.typeaheadOptionField);return(this.typeaheadLatinize?Te(De):De).toLowerCase()}tokenizeQuery(te){let De=te;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(De=$e(De,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):De=this.typeaheadSingleWords?$e(De,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):$e(De,void 0,void 0,this.typeaheadMultipleSearchDelimiters),De}normalizeQuery(te){let De=(this.typeaheadLatinize?Te(te):te).toString().toLowerCase();return De=this.tokenizeQuery(De),De}testMatch(te,De){let Re;if("object"==typeof De){Re=De.length;for(let at=0;at<Re;at+=1)if(De[at].length>0&&te.indexOf(De[at])<0)return!1;return!0}return te.indexOf(De)>=0}finalizeAsyncCall(te){if(this.prepareMatches(te||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const Re=((this.typeaheadLatinize?Te(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(Re),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(te){const De=te.slice(0,this.typeaheadOptionsLimit),Re=this.typeaheadOrderBy?this.orderMatches(De):De;if(this.typeaheadGroupField){let at=[];Re.map(ft=>pt(ft,this.typeaheadGroupField)).filter((ft,Ft,_t)=>_t.indexOf(ft)===Ft).forEach(ft=>{at.push(new Me(ft,ft,!0)),at=at.concat(Re.filter(Ft=>pt(Ft,this.typeaheadGroupField)===ft).map(Ft=>new Me(Ft,pt(Ft,this.typeaheadOptionField))))}),this._matches=at}else this._matches=Re.map(at=>new Me(at,pt(at,this.typeaheadOptionField)))}orderMatches(te){if(!te.length)return te;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),te;const{field:De,direction:Re}=this.typeaheadOrderBy||{};return!Re||"asc"!==Re&&"desc"!==Re?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),te):"string"==typeof te[0]?"asc"===Re?te.sort():te.sort().reverse():De&&"string"==typeof De?te.sort((at,o)=>{const ft=pt(at,De),Ft=pt(o,De);return ft<Ft?"asc"===Re?-1:1:ft>Ft?"asc"===Re?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),te)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(te,De){for(let Re=0;Re<te.length;Re++)if(te.charAt(Re).indexOf(De)>-1)return!0;return!1}static{this.\u0275fac=function(De){return new(De||q)(t.rXU(B.Li),t.rXU(mn),t.rXU(t.gRc),t.rXU(t.aKT),t.rXU(v.vO),t.rXU(t.sFG),t.rXU(t.c1b))}}static{this.\u0275dir=t.FsC({type:q,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(De,Re){1&De&&t.bIt("input",function(o){return Re.onInput(o)})("keyup",function(o){return Re.onChange(o)})("click",function(){return Re.onFocus()})("focus",function(){return Re.onFocus()})("blur",function(){return Re.onBlur()})("keydown",function(o){return Re.onKeydown(o)}),2&De&&t.BMQ("aria-activedescendant",Re.activeDescendant)("aria-owns",Re.isOpen?Re._container.popupId:null)("aria-expanded",Re.isOpen)("aria-autocomplete",Re.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return q})(),Dt=(()=>{class q{static forRoot(){return{ngModule:q,providers:[B.Li,p.DF]}}static{this.\u0275fac=function(De){return new(De||q)}}static{this.\u0275mod=t.$C({type:q})}static{this.\u0275inj=t.G2t({imports:[E.MD]})}}return q})()},2806:(nt,ye,d)=>{"use strict";d.d(ye,{Al:()=>v,Aq:()=>Oe,Bu:()=>I,Fv:()=>h,GL:()=>w,Xt:()=>g,Yr:()=>he,Zu:()=>S,mc:()=>qe,x:()=>E});var t=d(4438);class e{constructor(Te,ge){this.open=Te,this.close=ge||Te}isManual(){return"manual"===this.open||"manual"===this.close}}const p={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function S(Me,Te=p){const ge=(Me||"").trim();if(0===ge.length)return[];const $e=ge.split(/\s+/).map(pt=>pt.split(":")).map(pt=>{const Le=Te[pt[0]]||pt;return new e(Le[0],Le[1])}),xe=$e.filter(pt=>pt.isManual());if(xe.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===xe.length&&$e.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return $e}function w(Me,Te){const ge=S(Te.triggers),$e=Te.target;if(1===ge.length&&ge[0].isManual())return Function.prototype;const xe=[],pt=[],Le=()=>{pt.forEach(Ct=>xe.push(Ct())),pt.length=0};return ge.forEach(Ct=>{const ut=Ct.open===Ct.close,hn=ut?Te.toggle:Te.show;if(!ut&&Ct.close&&Te.hide){const mn=Ct.close,Rt=Te.hide;pt.push(()=>Me.listen($e,mn,Rt))}hn&&xe.push(Me.listen($e,Ct.open,()=>hn(Le)))}),()=>{xe.forEach(Ct=>Ct())}}function g(Me,Te){return Te.outsideClick?Me.listen("document","click",ge=>{Te.target&&Te.target.contains(ge.target)||Te.targets&&Te.targets.some($e=>$e.contains(ge.target))||Te.hide&&Te.hide()}):Function.prototype}function h(Me,Te){return Te.outsideEsc?Me.listen("document","keyup.esc",ge=>{Te.target&&Te.target.contains(ge.target)||Te.targets&&Te.targets.some($e=>$e.contains(ge.target))||Te.hide&&Te.hide()}):Function.prototype}const E=typeof window<"u"&&window||{},v=E.document;var z=function(Me){return Me.isBs4="bs4",Me.isBs5="bs5",Me}(z||{});let ce;function de(){const Me=E.document.createElement("span");Me.innerText="testing bs version",Me.classList.add("d-none"),Me.classList.add("pl-1"),E.document.head.appendChild(Me);const Te=E.getComputedStyle(Me).paddingLeft;return Te&&parseFloat(Te)?(E.document.head.removeChild(Me),"bs4"):(E.document.head.removeChild(Me),"bs5")}function I(){return{isBs4:(ce||(ce=de()),"bs4"===ce),isBs5:(ce||(ce=de()),"bs5"===ce)}}function he(){return function(ge,$e){const xe=` __${$e}Value`;Object.defineProperty(ge,$e,{get(){return this[xe]},set(pt){const Le=this[xe];this[xe]=pt,Le!==pt&&this[$e+"Change"]&&this[$e+"Change"].emit(pt)}})}}class Oe{static reflow(Te){}static getStyles(Te){let ge=Te.ownerDocument.defaultView;return(!ge||!ge.opener)&&(ge=E),ge.getComputedStyle(Te)}static stackOverflowConfig(){const Te=function pe(){const Me=I(),Te=Object.keys(Me).find(ge=>Me[ge]);return z[Te]}();return{crossorigin:"anonymous",integrity:"bs5"===Te?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===Te?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Ae={},Fe=typeof console>"u"||!("warn"in console);function qe(Me){!(0,t.naY)()||Fe||Me in Ae||(Ae[Me]=!0,console.warn(Me))}},5794:(nt,ye,d)=>{"use strict";d.d(ye,{_B:()=>qe,tw:()=>he});var t=d(4438),e=d(9969),p=d(177),S=d(1413),C=d(345);const w=["toast-component",""];function g(xe,pt){if(1&xe){const Le=t.RV6();t.j41(0,"button",5),t.bIt("click",function(){t.eBV(Le);const ut=t.XpG();return t.Njj(ut.remove())}),t.j41(1,"span",6),t.EFF(2,"\xd7"),t.k0s()()}}function h(xe,pt){if(1&xe&&(t.qex(0),t.EFF(1),t.bVm()),2&xe){const Le=t.XpG(2);t.R7$(),t.SpI("[",Le.duplicatesCount+1,"]")}}function E(xe,pt){if(1&xe&&(t.j41(0,"div"),t.EFF(1),t.DNE(2,h,2,1,"ng-container",4),t.k0s()),2&xe){const Le=t.XpG();t.HbH(Le.options.titleClass),t.BMQ("aria-label",Le.title),t.R7$(),t.SpI(" ",Le.title," "),t.R7$(),t.Y8G("ngIf",Le.duplicatesCount)}}function v(xe,pt){if(1&xe&&t.nrm(0,"div",7),2&xe){const Le=t.XpG();t.HbH(Le.options.messageClass),t.Y8G("innerHTML",Le.message,t.npT)}}function B(xe,pt){if(1&xe&&(t.j41(0,"div",8),t.EFF(1),t.k0s()),2&xe){const Le=t.XpG();t.HbH(Le.options.messageClass),t.BMQ("aria-label",Le.message),t.R7$(),t.SpI(" ",Le.message," ")}}function U(xe,pt){if(1&xe&&(t.j41(0,"div"),t.nrm(1,"div",9),t.k0s()),2&xe){const Le=t.XpG();t.R7$(),t.xc7("width",Le.width+"%")}}class G{_attachedHost;component;viewContainerRef;injector;constructor(pt,Le){this.component=pt,this.injector=Le}attach(pt,Le){return this._attachedHost=pt,pt.attach(this,Le)}detach(){const pt=this._attachedHost;if(pt)return this._attachedHost=void 0,pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pt){this._attachedHost=pt}}class z{_attachedPortal;_disposeFn;attach(pt,Le){return this._attachedPortal=pt,this.attachComponentPortal(pt,Le)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pt){this._disposeFn=pt}}class ce{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new S.B;_activate=new S.B;_manualClose=new S.B;_resetTimeout=new S.B;_countDuplicate=new S.B;constructor(pt){this._overlayRef=pt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pt,Le){pt&&this._resetTimeout.next(),Le&&this._countDuplicate.next(++this.duplicatesCount)}}class de{toastId;config;message;title;toastType;toastRef;_onTap=new S.B;_onAction=new S.B;constructor(pt,Le,Ct,ut,hn,mn){this.toastId=pt,this.config=Le,this.message=Ct,this.title=ut,this.toastType=hn,this.toastRef=mn,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pt){this._onAction.next(pt)}onAction(){return this._onAction.asObservable()}}const Z=new t.nKC("ToastConfig");class ne extends z{_hostDomElement;_componentFactoryResolver;_appRef;constructor(pt,Le,Ct){super(),this._hostDomElement=pt,this._componentFactoryResolver=Le,this._appRef=Ct}attachComponentPortal(pt,Le){const Ct=this._componentFactoryResolver.resolveComponentFactory(pt.component);let ut;return ut=Ct.create(pt.injector),this._appRef.attachView(ut.hostView),this.setDisposeFn(()=>{this._appRef.detachView(ut.hostView),ut.destroy()}),Le?this._hostDomElement.insertBefore(this._getComponentRootNode(ut),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(ut)),ut}_getComponentRootNode(pt){return pt.hostView.rootNodes[0]}}let I=(()=>{class xe{_document=(0,t.WQX)(p.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Le=this._document.createElement("div");Le.classList.add("overlay-container"),Le.setAttribute("aria-live","polite"),this._document.body.appendChild(Le),this._containerElement=Le}static \u0275fac=function(Ct){return new(Ct||xe)};static \u0275prov=t.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();class pe{_portalHost;constructor(pt){this._portalHost=pt}attach(pt,Le=!0){return this._portalHost.attach(pt,Le)}detach(){return this._portalHost.detach()}}let K=(()=>{class xe{_overlayContainer=(0,t.WQX)(I);_componentFactoryResolver=(0,t.WQX)(t.OM3);_appRef=(0,t.WQX)(t.o8S);_document=(0,t.WQX)(p.qQ);_paneElements=new Map;create(Le,Ct){return this._createOverlayRef(this.getPaneElement(Le,Ct))}getPaneElement(Le="",Ct){return this._paneElements.get(Ct)||this._paneElements.set(Ct,{}),this._paneElements.get(Ct)[Le]||(this._paneElements.get(Ct)[Le]=this._createPaneElement(Le,Ct)),this._paneElements.get(Ct)[Le]}_createPaneElement(Le,Ct){const ut=this._document.createElement("div");return ut.id="toast-container",ut.classList.add(Le),ut.classList.add("toast-container"),Ct?Ct.getContainerElement().appendChild(ut):this._overlayContainer.getContainerElement().appendChild(ut),ut}_createPortalHost(Le){return new ne(Le,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Le){return new pe(this._createPortalHost(Le))}static \u0275fac=function(Ct){return new(Ct||xe)};static \u0275prov=t.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})(),he=(()=>{class xe{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Le,Ct,ut,hn,mn){this.overlay=Ct,this._injector=ut,this.sanitizer=hn,this.ngZone=mn,this.toastrConfig={...Le.default,...Le.config},Le.config.iconClasses&&(this.toastrConfig.iconClasses={...Le.default.iconClasses,...Le.config.iconClasses})}show(Le,Ct,ut={},hn=""){return this._preBuildNotification(hn,Le,Ct,this.applyConfig(ut))}success(Le,Ct,ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Le,Ct,this.applyConfig(ut))}error(Le,Ct,ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Le,Ct,this.applyConfig(ut))}info(Le,Ct,ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Le,Ct,this.applyConfig(ut))}warning(Le,Ct,ut={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Le,Ct,this.applyConfig(ut))}clear(Le){for(const Ct of this.toasts)if(void 0!==Le){if(Ct.toastId===Le)return void Ct.toastRef.manualClose()}else Ct.toastRef.manualClose()}remove(Le){const Ct=this._findToast(Le);if(!Ct||(Ct.activeToast.toastRef.close(),this.toasts.splice(Ct.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const ut=this.toasts[this.currentlyActive].toastRef;ut.isInactive()||(this.currentlyActive=this.currentlyActive+1,ut.activate())}return!0}findDuplicate(Le="",Ct="",ut,hn){const{includeTitleDuplicates:mn}=this.toastrConfig;for(const Rt of this.toasts)if((!mn||mn&&Rt.title===Le)&&Rt.message===Ct)return Rt.toastRef.onDuplicate(ut,hn),Rt;return null}applyConfig(Le={}){return{...this.toastrConfig,...Le}}_findToast(Le){for(let Ct=0;Ct<this.toasts.length;Ct++)if(this.toasts[Ct].toastId===Le)return{index:Ct,activeToast:this.toasts[Ct]};return null}_preBuildNotification(Le,Ct,ut,hn){return hn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Le,Ct,ut,hn)):this._buildNotification(Le,Ct,ut,hn)}_buildNotification(Le,Ct,ut,hn){if(!hn.toastComponent)throw new Error("toastComponent required");const mn=this.findDuplicate(ut,Ct,this.toastrConfig.resetTimeoutOnDuplicate&&hn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&ut||Ct)&&this.toastrConfig.preventDuplicates&&null!==mn)return mn;this.previousToastMessage=Ct;let Rt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Rt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const Dt=this.overlay.create(hn.positionClass,this.overlayContainer);this.index=this.index+1;let q=Ct;Ct&&hn.enableHtml&&(q=this.sanitizer.sanitize(t.WPN.HTML,Ct));const Q=new ce(Dt),te=new de(this.index,hn,q,ut,Le,Q),Re=t.zZn.create({providers:[{provide:de,useValue:te}],parent:this._injector}),at=new G(hn.toastComponent,Re),o=Dt.attach(at,hn.newestOnTop);Q.componentInstance=o.instance;const ft={toastId:this.index,title:ut||"",message:Ct||"",toastRef:Q,onShown:Q.afterActivate(),onHidden:Q.afterClosed(),onTap:te.onTap(),onAction:te.onAction(),portal:o};return Rt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ft.toastRef.activate()})),this.toasts.push(ft),ft}static \u0275fac=function(Ct){return new(Ct||xe)(t.KVO(Z),t.KVO(K),t.KVO(t.zZn),t.KVO(C.up),t.KVO(t.SKi))};static \u0275prov=t.jDH({token:xe,factory:xe.\u0275fac,providedIn:"root"})}return xe})();const Ae={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class xe{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Le,Ct,ut){this.toastrService=Le,this.toastPackage=Ct,this.ngZone=ut,this.message=Ct.message,this.title=Ct.title,this.options=Ct.config,this.originalTimeout=Ct.config.timeOut,this.toastClasses=`${Ct.toastType} ${Ct.config.toastClass}`,this.sub=Ct.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ct.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ct.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ct.toastRef.countDuplicate().subscribe(hn=>{this.duplicatesCount=hn}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Le=(new Date).getTime();this.width=(this.hideTime-Le)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Le,Ct){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Le),Ct)):this.timeout=setTimeout(()=>Le(),Ct)}outsideInterval(Le,Ct){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Le),Ct)):this.intervalId=setInterval(()=>Le(),Ct)}runInsideAngular(Le){this.ngZone?this.ngZone.run(()=>Le()):Le()}static \u0275fac=function(Ct){return new(Ct||xe)(t.rXU(he),t.rXU(de),t.rXU(t.SKi))};static \u0275cmp=t.VBU({type:xe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ct,ut){1&Ct&&t.bIt("click",function(){return ut.tapToast()})("mouseenter",function(){return ut.stickAround()})("mouseleave",function(){return ut.delayedHideToast()}),2&Ct&&(t.zvX("@flyInOut",ut.state),t.HbH(ut.toastClasses),t.xc7("display",ut.displayStyle))},standalone:!0,features:[t.aNF],attrs:w,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ct,ut){1&Ct&&t.DNE(0,g,3,0,"button",0)(1,E,3,5,"div",1)(2,v,1,3,"div",2)(3,B,2,4,"div",3)(4,U,2,2,"div",4),2&Ct&&(t.Y8G("ngIf",ut.options.closeButton),t.R7$(),t.Y8G("ngIf",ut.title),t.R7$(),t.Y8G("ngIf",ut.message&&ut.options.enableHtml),t.R7$(),t.Y8G("ngIf",ut.message&&!ut.options.enableHtml),t.R7$(),t.Y8G("ngIf",ut.options.progressBar))},dependencies:[p.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return xe})()},Fe=(xe={})=>(0,t.EmA)([{provide:Z,useValue:{default:Ae,config:xe}}]);let qe=(()=>{class xe{static forRoot(Le={}){return{ngModule:xe,providers:[Fe(Le)]}}static \u0275fac=function(Ct){return new(Ct||xe)};static \u0275mod=t.$C({type:xe});static \u0275inj=t.G2t({})}return xe})()},1068:(nt,ye,d)=>{"use strict";d.d(ye,{gR:()=>vr,R9:()=>Gr,I6:()=>Vr,SL:()=>Zn,kH:()=>si,zN:()=>bs,sb:()=>Bn,Am:()=>Bn,FF:()=>Kr});var t={};d.r(t),d.d(t,{VERSION:()=>e,after:()=>Tr,all:()=>bo,allKeys:()=>ln,any:()=>bs,assign:()=>bt,before:()=>Pi,bind:()=>mr,bindAll:()=>Br,chain:()=>rr,chunk:()=>jt,clone:()=>Sn,collect:()=>si,compact:()=>Rr,compose:()=>Er,constant:()=>De,contains:()=>vr,countBy:()=>wr,create:()=>Rn,debounce:()=>ss,default:()=>ls,defaults:()=>Gt,defer:()=>Ai,delay:()=>Vs,detect:()=>Vr,difference:()=>Gr,drop:()=>as,each:()=>Li,escape:()=>gn,every:()=>bo,extend:()=>xt,extendOwn:()=>bt,filter:()=>os,find:()=>Vr,findIndex:()=>Zn,findKey:()=>gi,findLastIndex:()=>Ur,findWhere:()=>or,first:()=>ui,flatten:()=>Hs,foldl:()=>gr,foldr:()=>zr,forEach:()=>Li,functions:()=>yi,get:()=>Ri,groupBy:()=>Js,has:()=>ri,head:()=>ui,identity:()=>zi,include:()=>vr,includes:()=>vr,indexBy:()=>Or,indexOf:()=>Dr,initial:()=>ws,inject:()=>gr,intersection:()=>ps,invert:()=>yn,invoke:()=>Cs,isArguments:()=>q,isArray:()=>mn,isArrayBuffer:()=>Me,isBoolean:()=>ne,isDataView:()=>hn,isDate:()=>Oe,isElement:()=>I,isEmpty:()=>Ce,isEqual:()=>Bt,isError:()=>Fe,isFinite:()=>Q,isFunction:()=>$e,isMap:()=>St,isMatch:()=>le,isNaN:()=>te,isNull:()=>Y,isNumber:()=>he,isObject:()=>de,isRegExp:()=>Ae,isSet:()=>Ut,isString:()=>K,isSymbol:()=>qe,isTypedArray:()=>lt,isUndefined:()=>Z,isWeakMap:()=>dt,isWeakSet:()=>rn,iteratee:()=>Yn,keys:()=>Lt,last:()=>Gs,lastIndexOf:()=>Nr,map:()=>si,mapObject:()=>rt,matcher:()=>ti,matches:()=>ti,max:()=>Qr,memoize:()=>ds,methods:()=>yi,min:()=>Yr,mixin:()=>Mi,negate:()=>Ds,noop:()=>It,now:()=>Xt,object:()=>ve,omit:()=>ua,once:()=>Xs,pairs:()=>Jn,partial:()=>hi,partition:()=>dr,pick:()=>Qs,pluck:()=>Jr,property:()=>Gn,propertyOf:()=>Ye,random:()=>ht,range:()=>it,reduce:()=>gr,reduceRight:()=>zr,reject:()=>js,rest:()=>as,restArguments:()=>ce,result:()=>Gi,sample:()=>Ws,select:()=>os,shuffle:()=>Co,size:()=>$r,some:()=>bs,sortBy:()=>qs,sortedIndex:()=>Ir,tail:()=>as,take:()=>ui,tap:()=>li,template:()=>_i,templateSettings:()=>ot,throttle:()=>Lr,times:()=>Zt,toArray:()=>Rs,toPath:()=>kn,transpose:()=>Ve,unescape:()=>Xe,union:()=>ro,uniq:()=>Bn,unique:()=>Bn,uniqueId:()=>mi,unzip:()=>Ve,values:()=>Tn,where:()=>Wo,without:()=>Kr,wrap:()=>kr,zip:()=>He});var e="1.13.6",p="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},S=Array.prototype,C=Object.prototype,w=typeof Symbol<"u"?Symbol.prototype:null,g=S.push,h=S.slice,E=C.toString,v=C.hasOwnProperty,B=typeof ArrayBuffer<"u",U=typeof DataView<"u",a=Array.isArray,k=Object.keys,O=Object.create,P=B&&ArrayBuffer.isView,W=isNaN,N=isFinite,H=!{toString:null}.propertyIsEnumerable("toString"),G=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=Math.pow(2,53)-1;function ce(Be,Ze){return Ze=null==Ze?Be.length-1:+Ze,function(){for(var Et=Math.max(arguments.length-Ze,0),kt=Array(Et),zt=0;zt<Et;zt++)kt[zt]=arguments[zt+Ze];switch(Ze){case 0:return Be.call(this,kt);case 1:return Be.call(this,arguments[0],kt);case 2:return Be.call(this,arguments[0],arguments[1],kt)}var Wt=Array(Ze+1);for(zt=0;zt<Ze;zt++)Wt[zt]=arguments[zt];return Wt[Ze]=kt,Be.apply(this,Wt)}}function de(Be){var Ze=typeof Be;return"function"===Ze||"object"===Ze&&!!Be}function Y(Be){return null===Be}function Z(Be){return void 0===Be}function ne(Be){return!0===Be||!1===Be||"[object Boolean]"===E.call(Be)}function I(Be){return!(!Be||1!==Be.nodeType)}function pe(Be){var Ze="[object "+Be+"]";return function(Et){return E.call(Et)===Ze}}const K=pe("String"),he=pe("Number"),Oe=pe("Date"),Ae=pe("RegExp"),Fe=pe("Error"),qe=pe("Symbol"),Me=pe("ArrayBuffer");var Te=pe("Function");"object"!=typeof Int8Array&&"function"!=typeof(p.document&&p.document.childNodes)&&(Te=function(Be){return"function"==typeof Be||!1});const $e=Te,xe=pe("Object");var pt=U&&xe(new DataView(new ArrayBuffer(8))),Le=typeof Map<"u"&&xe(new Map),Ct=pe("DataView");const hn=pt?function ut(Be){return null!=Be&&$e(Be.getInt8)&&Me(Be.buffer)}:Ct,mn=a||pe("Array");function Rt(Be,Ze){return null!=Be&&v.call(Be,Ze)}var Dt=pe("Arguments");!function(){Dt(arguments)||(Dt=function(Be){return Rt(Be,"callee")})}();const q=Dt;function Q(Be){return!qe(Be)&&N(Be)&&!isNaN(parseFloat(Be))}function te(Be){return he(Be)&&W(Be)}function De(Be){return function(){return Be}}function Re(Be){return function(Ze){var Et=Be(Ze);return"number"==typeof Et&&Et>=0&&Et<=z}}function at(Be){return function(Ze){return Ze?.[Be]}}const o=at("byteLength"),ft=Re(o);var Ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const lt=B?function _t(Be){return P?P(Be)&&!hn(Be):ft(Be)&&Ft.test(E.call(Be))}:De(!1),Pt=at("length");function ct(Be,Ze){Ze=function tn(Be){for(var Ze={},Et=Be.length,kt=0;kt<Et;++kt)Ze[Be[kt]]=!0;return{contains:function(zt){return!0===Ze[zt]},push:function(zt){return Ze[zt]=!0,Be.push(zt)}}}(Ze);var Et=G.length,kt=Be.constructor,zt=$e(kt)&&kt.prototype||C,Wt="constructor";for(Rt(Be,Wt)&&!Ze.contains(Wt)&&Ze.push(Wt);Et--;)(Wt=G[Et])in Be&&Be[Wt]!==zt[Wt]&&!Ze.contains(Wt)&&Ze.push(Wt)}function Lt(Be){if(!de(Be))return[];if(k)return k(Be);var Ze=[];for(var Et in Be)Rt(Be,Et)&&Ze.push(Et);return H&&ct(Be,Ze),Ze}function Ce(Be){if(null==Be)return!0;var Ze=Pt(Be);return"number"==typeof Ze&&(mn(Be)||K(Be)||q(Be))?0===Ze:0===Pt(Lt(Be))}function le(Be,Ze){var Et=Lt(Ze),kt=Et.length;if(null==Be)return!kt;for(var zt=Object(Be),Wt=0;Wt<kt;Wt++){var vn=Et[Wt];if(Ze[vn]!==zt[vn]||!(vn in zt))return!1}return!0}function j(Be){return Be instanceof j?Be:this instanceof j?void(this._wrapped=Be):new j(Be)}function ae(Be){return new Uint8Array(Be.buffer||Be,Be.byteOffset||0,o(Be))}j.VERSION=e,j.prototype.valueOf=j.prototype.toJSON=j.prototype.value=function(){return this._wrapped},j.prototype.toString=function(){return String(this._wrapped)};var Ge="[object DataView]";function tt(Be,Ze,Et,kt){if(Be===Ze)return 0!==Be||1/Be==1/Ze;if(null==Be||null==Ze)return!1;if(Be!=Be)return Ze!=Ze;var zt=typeof Be;return("function"===zt||"object"===zt||"object"==typeof Ze)&&vt(Be,Ze,Et,kt)}function vt(Be,Ze,Et,kt){Be instanceof j&&(Be=Be._wrapped),Ze instanceof j&&(Ze=Ze._wrapped);var zt=E.call(Be);if(zt!==E.call(Ze))return!1;if(pt&&"[object Object]"==zt&&hn(Be)){if(!hn(Ze))return!1;zt=Ge}switch(zt){case"[object RegExp]":case"[object String]":return""+Be==""+Ze;case"[object Number]":return+Be!=+Be?+Ze!=+Ze:0==+Be?1/+Be==1/Ze:+Be==+Ze;case"[object Date]":case"[object Boolean]":return+Be==+Ze;case"[object Symbol]":return w.valueOf.call(Be)===w.valueOf.call(Ze);case"[object ArrayBuffer]":case Ge:return vt(ae(Be),ae(Ze),Et,kt)}var Wt="[object Array]"===zt;if(!Wt&&lt(Be)){if(o(Be)!==o(Ze))return!1;if(Be.buffer===Ze.buffer&&Be.byteOffset===Ze.byteOffset)return!0;Wt=!0}if(!Wt){if("object"!=typeof Be||"object"!=typeof Ze)return!1;var Hn=Be.constructor,xi=Ze.constructor;if(Hn!==xi&&!($e(Hn)&&Hn instanceof Hn&&$e(xi)&&xi instanceof xi)&&"constructor"in Be&&"constructor"in Ze)return!1}kt=kt||[];for(var nn=(Et=Et||[]).length;nn--;)if(Et[nn]===Be)return kt[nn]===Ze;if(Et.push(Be),kt.push(Ze),Wt){if((nn=Be.length)!==Ze.length)return!1;for(;nn--;)if(!tt(Be[nn],Ze[nn],Et,kt))return!1}else{var cs,cr=Lt(Be);if(nn=cr.length,Lt(Ze).length!==nn)return!1;for(;nn--;)if(!Rt(Ze,cs=cr[nn])||!tt(Be[cs],Ze[cs],Et,kt))return!1}return Et.pop(),kt.pop(),!0}function Bt(Be,Ze){return tt(Be,Ze)}function ln(Be){if(!de(Be))return[];var Ze=[];for(var Et in Be)Ze.push(Et);return H&&ct(Be,Ze),Ze}function sn(Be){var Ze=Pt(Be);return function(Et){if(null==Et)return!1;var kt=ln(Et);if(Pt(kt))return!1;for(var zt=0;zt<Ze;zt++)if(!$e(Et[Be[zt]]))return!1;return Be!==Qt||!$e(Et[Pn])}}var Pn="forEach",Vn=["clear","delete"],Mt=["get","has","set"],On=Vn.concat(Pn,Mt),Qt=Vn.concat(Mt),mt=["add"].concat(Vn,Pn,"has");const St=Le?sn(On):pe("Map"),dt=Le?sn(Qt):pe("WeakMap"),Ut=Le?sn(mt):pe("Set"),rn=pe("WeakSet");function Tn(Be){for(var Ze=Lt(Be),Et=Ze.length,kt=Array(Et),zt=0;zt<Et;zt++)kt[zt]=Be[Ze[zt]];return kt}function Jn(Be){for(var Ze=Lt(Be),Et=Ze.length,kt=Array(Et),zt=0;zt<Et;zt++)kt[zt]=[Ze[zt],Be[Ze[zt]]];return kt}function yn(Be){for(var Ze={},Et=Lt(Be),kt=0,zt=Et.length;kt<zt;kt++)Ze[Be[Et[kt]]]=Et[kt];return Ze}function yi(Be){var Ze=[];for(var Et in Be)$e(Be[Et])&&Ze.push(Et);return Ze.sort()}function ii(Be,Ze){return function(Et){var kt=arguments.length;if(Ze&&(Et=Object(Et)),kt<2||null==Et)return Et;for(var zt=1;zt<kt;zt++)for(var Wt=arguments[zt],vn=Be(Wt),Hn=vn.length,xi=0;xi<Hn;xi++){var nn=vn[xi];(!Ze||void 0===Et[nn])&&(Et[nn]=Wt[nn])}return Et}}const xt=ii(ln),bt=ii(Lt),Gt=ii(ln,!0);function en(Be){if(!de(Be))return{};if(O)return O(Be);var Ze=function(){};Ze.prototype=Be;var Et=new Ze;return Ze.prototype=null,Et}function Rn(Be,Ze){var Et=en(Be);return Ze&&bt(Et,Ze),Et}function Sn(Be){return de(Be)?mn(Be)?Be.slice():xt({},Be):Be}function li(Be,Ze){return Ze(Be),Be}function kn(Be){return mn(Be)?Be:[Be]}function Cn(Be){return j.toPath(Be)}function wi(Be,Ze){for(var Et=Ze.length,kt=0;kt<Et;kt++){if(null==Be)return;Be=Be[Ze[kt]]}return Et?Be:void 0}function Ri(Be,Ze,Et){var kt=wi(Be,Cn(Ze));return Z(kt)?Et:kt}function ri(Be,Ze){for(var Et=(Ze=Cn(Ze)).length,kt=0;kt<Et;kt++){var zt=Ze[kt];if(!Rt(Be,zt))return!1;Be=Be[zt]}return!!Et}function zi(Be){return Be}function ti(Be){return Be=bt({},Be),function(Ze){return le(Ze,Be)}}function Gn(Be){return Be=Cn(Be),function(Ze){return wi(Ze,Be)}}function Ei(Be,Ze,Et){if(void 0===Ze)return Be;switch(Et??3){case 1:return function(kt){return Be.call(Ze,kt)};case 3:return function(kt,zt,Wt){return Be.call(Ze,kt,zt,Wt)};case 4:return function(kt,zt,Wt,vn){return Be.call(Ze,kt,zt,Wt,vn)}}return function(){return Be.apply(Ze,arguments)}}function Vi(Be,Ze,Et){return null==Be?zi:$e(Be)?Ei(Be,Ze,Et):de(Be)&&!mn(Be)?ti(Be):Gn(Be)}function Yn(Be,Ze){return Vi(Be,Ze,1/0)}function Ni(Be,Ze,Et){return j.iteratee!==Yn?j.iteratee(Be,Ze):Vi(Be,Ze,Et)}function rt(Be,Ze,Et){Ze=Ni(Ze,Et);for(var kt=Lt(Be),zt=kt.length,Wt={},vn=0;vn<zt;vn++){var Hn=kt[vn];Wt[Hn]=Ze(Be[Hn],Hn,Be)}return Wt}function It(){}function Ye(Be){return null==Be?It:function(Ze){return Ri(Be,Ze)}}function Zt(Be,Ze,Et){var kt=Array(Math.max(0,Be));Ze=Ei(Ze,Et,1);for(var zt=0;zt<Be;zt++)kt[zt]=Ze(zt);return kt}function ht(Be,Ze){return null==Ze&&(Ze=Be,Be=0),Be+Math.floor(Math.random()*(Ze-Be+1))}j.toPath=kn,j.iteratee=Yn;const Xt=Date.now||function(){return(new Date).getTime()};function $t(Be){var Ze=function(Wt){return Be[Wt]},Et="(?:"+Lt(Be).join("|")+")",kt=RegExp(Et),zt=RegExp(Et,"g");return function(Wt){return kt.test(Wt=null==Wt?"":""+Wt)?Wt.replace(zt,Ze):Wt}}const an={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},gn=$t(an),Xe=$t(yn(an)),ot=j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Vt=/(.)^/,_n={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},bn=/\\|'|\r|\n|\u2028|\u2029/g;function In(Be){return"\\"+_n[Be]}var Dn=/^\s*(\w|\$)+\s*$/;function _i(Be,Ze,Et){!Ze&&Et&&(Ze=Et),Ze=Gt({},Ze,j.templateSettings);var kt=RegExp([(Ze.escape||Vt).source,(Ze.interpolate||Vt).source,(Ze.evaluate||Vt).source].join("|")+"|$","g"),zt=0,Wt="__p+='";Be.replace(kt,function(nn,cr,cs,vi,Ln){return Wt+=Be.slice(zt,Ln).replace(bn,In),zt=Ln+nn.length,cr?Wt+="'+\n((__t=("+cr+"))==null?'':_.escape(__t))+\n'":cs?Wt+="'+\n((__t=("+cs+"))==null?'':__t)+\n'":vi&&(Wt+="';\n"+vi+"\n__p+='"),nn}),Wt+="';\n";var Hn,vn=Ze.variable;if(vn){if(!Dn.test(vn))throw new Error("variable is not a bare identifier: "+vn)}else Wt="with(obj||{}){\n"+Wt+"}\n",vn="obj";Wt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Wt+"return __p;\n";try{Hn=new Function(vn,"_",Wt)}catch(nn){throw nn.source=Wt,nn}var xi=function(nn){return Hn.call(this,nn,j)};return xi.source="function("+vn+"){\n"+Wt+"}",xi}function Gi(Be,Ze,Et){var kt=(Ze=Cn(Ze)).length;if(!kt)return $e(Et)?Et.call(Be):Et;for(var zt=0;zt<kt;zt++){var Wt=Be?.[Ze[zt]];void 0===Wt&&(Wt=Et,zt=kt),Be=$e(Wt)?Wt.call(Be):Wt}return Be}var Ti=0;function mi(Be){var Ze=++Ti+"";return Be?Be+Ze:Ze}function rr(Be){var Ze=j(Be);return Ze._chain=!0,Ze}function br(Be,Ze,Et,kt,zt){if(!(kt instanceof Ze))return Be.apply(Et,zt);var Wt=en(Be.prototype),vn=Be.apply(Wt,zt);return de(vn)?vn:Wt}var ei=ce(function(Be,Ze){var Et=ei.placeholder,kt=function(){for(var zt=0,Wt=Ze.length,vn=Array(Wt),Hn=0;Hn<Wt;Hn++)vn[Hn]=Ze[Hn]===Et?arguments[zt++]:Ze[Hn];for(;zt<arguments.length;)vn.push(arguments[zt++]);return br(Be,kt,this,this,vn)};return kt});ei.placeholder=j;const hi=ei,mr=ce(function(Be,Ze,Et){if(!$e(Be))throw new TypeError("Bind must be called on a function");var kt=ce(function(zt){return br(Be,kt,Ze,this,Et.concat(zt))});return kt}),Oi=Re(Pt);function Pr(Be,Ze,Et,kt){if(kt=kt||[],Ze||0===Ze){if(Ze<=0)return kt.concat(Be)}else Ze=1/0;for(var zt=kt.length,Wt=0,vn=Pt(Be);Wt<vn;Wt++){var Hn=Be[Wt];if(Oi(Hn)&&(mn(Hn)||q(Hn)))if(Ze>1)Pr(Hn,Ze-1,Et,kt),zt=kt.length;else for(var xi=0,nn=Hn.length;xi<nn;)kt[zt++]=Hn[xi++];else Et||(kt[zt++]=Hn)}return kt}const Br=ce(function(Be,Ze){var Et=(Ze=Pr(Ze,!1,!1)).length;if(Et<1)throw new Error("bindAll must be passed function names");for(;Et--;){var kt=Ze[Et];Be[kt]=mr(Be[kt],Be)}return Be});function ds(Be,Ze){var Et=function(kt){var zt=Et.cache,Wt=""+(Ze?Ze.apply(this,arguments):kt);return Rt(zt,Wt)||(zt[Wt]=Be.apply(this,arguments)),zt[Wt]};return Et.cache={},Et}const Vs=ce(function(Be,Ze,Et){return setTimeout(function(){return Be.apply(null,Et)},Ze)}),Ai=hi(Vs,j,1);function Lr(Be,Ze,Et){var kt,zt,Wt,vn,Hn=0;Et||(Et={});var xi=function(){Hn=!1===Et.leading?0:Xt(),kt=null,vn=Be.apply(zt,Wt),kt||(zt=Wt=null)},nn=function(){var cr=Xt();!Hn&&!1===Et.leading&&(Hn=cr);var cs=Ze-(cr-Hn);return zt=this,Wt=arguments,cs<=0||cs>Ze?(kt&&(clearTimeout(kt),kt=null),Hn=cr,vn=Be.apply(zt,Wt),kt||(zt=Wt=null)):!kt&&!1!==Et.trailing&&(kt=setTimeout(xi,cs)),vn};return nn.cancel=function(){clearTimeout(kt),Hn=0,kt=zt=Wt=null},nn}function ss(Be,Ze,Et){var kt,zt,Wt,vn,Hn,xi=function(){var cr=Xt()-zt;Ze>cr?kt=setTimeout(xi,Ze-cr):(kt=null,Et||(vn=Be.apply(Hn,Wt)),kt||(Wt=Hn=null))},nn=ce(function(cr){return Hn=this,Wt=cr,zt=Xt(),kt||(kt=setTimeout(xi,Ze),Et&&(vn=Be.apply(Hn,Wt))),vn});return nn.cancel=function(){clearTimeout(kt),kt=Wt=Hn=null},nn}function kr(Be,Ze){return hi(Ze,Be)}function Ds(Be){return function(){return!Be.apply(this,arguments)}}function Er(){var Be=arguments,Ze=Be.length-1;return function(){for(var Et=Ze,kt=Be[Ze].apply(this,arguments);Et--;)kt=Be[Et].call(this,kt);return kt}}function Tr(Be,Ze){return function(){if(--Be<1)return Ze.apply(this,arguments)}}function Pi(Be,Ze){var Et;return function(){return--Be>0&&(Et=Ze.apply(this,arguments)),Be<=1&&(Ze=null),Et}}const Xs=hi(Pi,2);function gi(Be,Ze,Et){Ze=Ni(Ze,Et);for(var zt,kt=Lt(Be),Wt=0,vn=kt.length;Wt<vn;Wt++)if(Ze(Be[zt=kt[Wt]],zt,Be))return zt}function _o(Be){return function(Ze,Et,kt){Et=Ni(Et,kt);for(var zt=Pt(Ze),Wt=Be>0?0:zt-1;Wt>=0&&Wt<zt;Wt+=Be)if(Et(Ze[Wt],Wt,Ze))return Wt;return-1}}const Zn=_o(1),Ur=_o(-1);function Ir(Be,Ze,Et,kt){for(var zt=(Et=Ni(Et,kt,1))(Ze),Wt=0,vn=Pt(Be);Wt<vn;){var Hn=Math.floor((Wt+vn)/2);Et(Be[Hn])<zt?Wt=Hn+1:vn=Hn}return Wt}function Ar(Be,Ze,Et){return function(kt,zt,Wt){var vn=0,Hn=Pt(kt);if("number"==typeof Wt)Be>0?vn=Wt>=0?Wt:Math.max(Wt+Hn,vn):Hn=Wt>=0?Math.min(Wt+1,Hn):Wt+Hn+1;else if(Et&&Wt&&Hn)return kt[Wt=Et(kt,zt)]===zt?Wt:-1;if(zt!=zt)return(Wt=Ze(h.call(kt,vn,Hn),te))>=0?Wt+vn:-1;for(Wt=Be>0?vn:Hn-1;Wt>=0&&Wt<Hn;Wt+=Be)if(kt[Wt]===zt)return Wt;return-1}}const Dr=Ar(1,Zn,Ir),Nr=Ar(-1,Ur);function Vr(Be,Ze,Et){var zt=(Oi(Be)?Zn:gi)(Be,Ze,Et);if(void 0!==zt&&-1!==zt)return Be[zt]}function or(Be,Ze){return Vr(Be,ti(Ze))}function Li(Be,Ze,Et){var kt,zt;if(Ze=Ei(Ze,Et),Oi(Be))for(kt=0,zt=Be.length;kt<zt;kt++)Ze(Be[kt],kt,Be);else{var Wt=Lt(Be);for(kt=0,zt=Wt.length;kt<zt;kt++)Ze(Be[Wt[kt]],Wt[kt],Be)}return Be}function si(Be,Ze,Et){Ze=Ni(Ze,Et);for(var kt=!Oi(Be)&&Lt(Be),zt=(kt||Be).length,Wt=Array(zt),vn=0;vn<zt;vn++){var Hn=kt?kt[vn]:vn;Wt[vn]=Ze(Be[Hn],Hn,Be)}return Wt}function jr(Be){return function(Et,kt,zt,Wt){var vn=arguments.length>=3;return function(Et,kt,zt,Wt){var vn=!Oi(Et)&&Lt(Et),Hn=(vn||Et).length,xi=Be>0?0:Hn-1;for(Wt||(zt=Et[vn?vn[xi]:xi],xi+=Be);xi>=0&&xi<Hn;xi+=Be){var nn=vn?vn[xi]:xi;zt=kt(zt,Et[nn],nn,Et)}return zt}(Et,Ei(kt,Wt,4),zt,vn)}}const gr=jr(1),zr=jr(-1);function os(Be,Ze,Et){var kt=[];return Ze=Ni(Ze,Et),Li(Be,function(zt,Wt,vn){Ze(zt,Wt,vn)&&kt.push(zt)}),kt}function js(Be,Ze,Et){return os(Be,Ds(Ni(Ze)),Et)}function bo(Be,Ze,Et){Ze=Ni(Ze,Et);for(var kt=!Oi(Be)&&Lt(Be),zt=(kt||Be).length,Wt=0;Wt<zt;Wt++){var vn=kt?kt[Wt]:Wt;if(!Ze(Be[vn],vn,Be))return!1}return!0}function bs(Be,Ze,Et){Ze=Ni(Ze,Et);for(var kt=!Oi(Be)&&Lt(Be),zt=(kt||Be).length,Wt=0;Wt<zt;Wt++){var vn=kt?kt[Wt]:Wt;if(Ze(Be[vn],vn,Be))return!0}return!1}function vr(Be,Ze,Et,kt){return Oi(Be)||(Be=Tn(Be)),("number"!=typeof Et||kt)&&(Et=0),Dr(Be,Ze,Et)>=0}const Cs=ce(function(Be,Ze,Et){var kt,zt;return $e(Ze)?zt=Ze:(Ze=Cn(Ze),kt=Ze.slice(0,-1),Ze=Ze[Ze.length-1]),si(Be,function(Wt){var vn=zt;if(!vn){if(kt&&kt.length&&(Wt=wi(Wt,kt)),null==Wt)return;vn=Wt[Ze]}return null==vn?vn:vn.apply(Wt,Et)})});function Jr(Be,Ze){return si(Be,Gn(Ze))}function Wo(Be,Ze){return os(Be,ti(Ze))}function Qr(Be,Ze,Et){var Wt,vn,kt=-1/0,zt=-1/0;if(null==Ze||"number"==typeof Ze&&"object"!=typeof Be[0]&&null!=Be)for(var Hn=0,xi=(Be=Oi(Be)?Be:Tn(Be)).length;Hn<xi;Hn++)null!=(Wt=Be[Hn])&&Wt>kt&&(kt=Wt);else Ze=Ni(Ze,Et),Li(Be,function(nn,cr,cs){((vn=Ze(nn,cr,cs))>zt||vn===-1/0&&kt===-1/0)&&(kt=nn,zt=vn)});return kt}function Yr(Be,Ze,Et){var Wt,vn,kt=1/0,zt=1/0;if(null==Ze||"number"==typeof Ze&&"object"!=typeof Be[0]&&null!=Be)for(var Hn=0,xi=(Be=Oi(Be)?Be:Tn(Be)).length;Hn<xi;Hn++)null!=(Wt=Be[Hn])&&Wt<kt&&(kt=Wt);else Ze=Ni(Ze,Et),Li(Be,function(nn,cr,cs){((vn=Ze(nn,cr,cs))<zt||vn===1/0&&kt===1/0)&&(kt=nn,zt=vn)});return kt}var Cr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Rs(Be){return Be?mn(Be)?h.call(Be):K(Be)?Be.match(Cr):Oi(Be)?si(Be,zi):Tn(Be):[]}function Ws(Be,Ze,Et){if(null==Ze||Et)return Oi(Be)||(Be=Tn(Be)),Be[ht(Be.length-1)];var kt=Rs(Be),zt=Pt(kt);Ze=Math.max(Math.min(Ze,zt),0);for(var Wt=zt-1,vn=0;vn<Ze;vn++){var Hn=ht(vn,Wt),xi=kt[vn];kt[vn]=kt[Hn],kt[Hn]=xi}return kt.slice(0,Ze)}function Co(Be){return Ws(Be,1/0)}function qs(Be,Ze,Et){var kt=0;return Ze=Ni(Ze,Et),Jr(si(Be,function(zt,Wt,vn){return{value:zt,index:kt++,criteria:Ze(zt,Wt,vn)}}).sort(function(zt,Wt){var vn=zt.criteria,Hn=Wt.criteria;if(vn!==Hn){if(vn>Hn||void 0===vn)return 1;if(vn<Hn||void 0===Hn)return-1}return zt.index-Wt.index}),"value")}function $s(Be,Ze){return function(Et,kt,zt){var Wt=Ze?[[],[]]:{};return kt=Ni(kt,zt),Li(Et,function(vn,Hn){var xi=kt(vn,Hn,Et);Be(Wt,vn,xi)}),Wt}}const Js=$s(function(Be,Ze,Et){Rt(Be,Et)?Be[Et].push(Ze):Be[Et]=[Ze]}),Or=$s(function(Be,Ze,Et){Be[Et]=Ze}),wr=$s(function(Be,Ze,Et){Rt(Be,Et)?Be[Et]++:Be[Et]=1}),dr=$s(function(Be,Ze,Et){Be[Et?0:1].push(Ze)},!0);function $r(Be){return null==Be?0:Oi(Be)?Be.length:Lt(Be).length}function Zr(Be,Ze,Et){return Ze in Et}const Qs=ce(function(Be,Ze){var Et={},kt=Ze[0];if(null==Be)return Et;$e(kt)?(Ze.length>1&&(kt=Ei(kt,Ze[1])),Ze=ln(Be)):(kt=Zr,Ze=Pr(Ze,!1,!1),Be=Object(Be));for(var zt=0,Wt=Ze.length;zt<Wt;zt++){var vn=Ze[zt],Hn=Be[vn];kt(Hn,vn,Be)&&(Et[vn]=Hn)}return Et}),ua=ce(function(Be,Ze){var kt,Et=Ze[0];return $e(Et)?(Et=Ds(Et),Ze.length>1&&(kt=Ze[1])):(Ze=si(Pr(Ze,!1,!1),String),Et=function(zt,Wt){return!vr(Ze,Wt)}),Qs(Be,Et,kt)});function ws(Be,Ze,Et){return h.call(Be,0,Math.max(0,Be.length-(null==Ze||Et?1:Ze)))}function ui(Be,Ze,Et){return null==Be||Be.length<1?null==Ze||Et?void 0:[]:null==Ze||Et?Be[0]:ws(Be,Be.length-Ze)}function as(Be,Ze,Et){return h.call(Be,null==Ze||Et?1:Ze)}function Gs(Be,Ze,Et){return null==Be||Be.length<1?null==Ze||Et?void 0:[]:null==Ze||Et?Be[Be.length-1]:as(Be,Math.max(0,Be.length-Ze))}function Rr(Be){return os(Be,Boolean)}function Hs(Be,Ze){return Pr(Be,Ze,!1)}const Gr=ce(function(Be,Ze){return Ze=Pr(Ze,!0,!0),os(Be,function(Et){return!vr(Ze,Et)})}),Kr=ce(function(Be,Ze){return Gr(Be,Ze)});function Bn(Be,Ze,Et,kt){ne(Ze)||(kt=Et,Et=Ze,Ze=!1),null!=Et&&(Et=Ni(Et,kt));for(var zt=[],Wt=[],vn=0,Hn=Pt(Be);vn<Hn;vn++){var xi=Be[vn],nn=Et?Et(xi,vn,Be):xi;Ze&&!Et?((!vn||Wt!==nn)&&zt.push(xi),Wt=nn):Et?vr(Wt,nn)||(Wt.push(nn),zt.push(xi)):vr(zt,xi)||zt.push(xi)}return zt}const ro=ce(function(Be){return Bn(Pr(Be,!0,!0))});function ps(Be){for(var Ze=[],Et=arguments.length,kt=0,zt=Pt(Be);kt<zt;kt++){var Wt=Be[kt];if(!vr(Ze,Wt)){var vn;for(vn=1;vn<Et&&vr(arguments[vn],Wt);vn++);vn===Et&&Ze.push(Wt)}}return Ze}function Ve(Be){for(var Ze=Be&&Qr(Be,Pt).length||0,Et=Array(Ze),kt=0;kt<Ze;kt++)Et[kt]=Jr(Be,kt);return Et}const He=ce(Ve);function ve(Be,Ze){for(var Et={},kt=0,zt=Pt(Be);kt<zt;kt++)Ze?Et[Be[kt]]=Ze[kt]:Et[Be[kt][0]]=Be[kt][1];return Et}function it(Be,Ze,Et){null==Ze&&(Ze=Be||0,Be=0),Et||(Et=Ze<Be?-1:1);for(var kt=Math.max(Math.ceil((Ze-Be)/Et),0),zt=Array(kt),Wt=0;Wt<kt;Wt++,Be+=Et)zt[Wt]=Be;return zt}function jt(Be,Ze){if(null==Ze||Ze<1)return[];for(var Et=[],kt=0,zt=Be.length;kt<zt;)Et.push(h.call(Be,kt,kt+=Ze));return Et}function qn(Be,Ze){return Be._chain?j(Ze).chain():Ze}function Mi(Be){return Li(yi(Be),function(Ze){var Et=j[Ze]=Be[Ze];j.prototype[Ze]=function(){var kt=[this._wrapped];return g.apply(kt,arguments),qn(this,Et.apply(j,kt))}}),j}Li(["pop","push","reverse","shift","sort","splice","unshift"],function(Be){var Ze=S[Be];j.prototype[Be]=function(){var Et=this._wrapped;return null!=Et&&(Ze.apply(Et,arguments),("shift"===Be||"splice"===Be)&&0===Et.length&&delete Et[0]),qn(this,Et)}}),Li(["concat","join","slice"],function(Be){var Ze=S[Be];j.prototype[Be]=function(){var Et=this._wrapped;return null!=Et&&(Et=Ze.apply(Et,arguments)),qn(this,Et)}});const ls=j;var Hi=Mi(t);Hi._=Hi},467:(nt,ye,d)=>{"use strict";function t(p,S,C,w,g,h,E){try{var v=p[h](E),B=v.value}catch(U){return void C(U)}v.done?S(B):Promise.resolve(B).then(w,g)}function e(p){return function(){var S=this,C=arguments;return new Promise(function(w,g){var h=p.apply(S,C);function E(B){t(h,w,g,E,v,"next",B)}function v(B){t(h,w,g,E,v,"throw",B)}E(void 0)})}}d.d(ye,{A:()=>e})},1635:(nt,ye,d)=>{"use strict";function C(Te,ge,$e,xe){var Ct,pt=arguments.length,Le=pt<3?ge:null===xe?xe=Object.getOwnPropertyDescriptor(ge,$e):xe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(Te,ge,$e,xe);else for(var ut=Te.length-1;ut>=0;ut--)(Ct=Te[ut])&&(Le=(pt<3?Ct(Le):pt>3?Ct(ge,$e,Le):Ct(ge,$e))||Le);return pt>3&&Le&&Object.defineProperty(ge,$e,Le),Le}function B(Te,ge){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(Te,ge)}function U(Te,ge,$e,xe){return new($e||($e=Promise))(function(Le,Ct){function ut(Rt){try{mn(xe.next(Rt))}catch(Dt){Ct(Dt)}}function hn(Rt){try{mn(xe.throw(Rt))}catch(Dt){Ct(Dt)}}function mn(Rt){Rt.done?Le(Rt.value):function pt(Le){return Le instanceof $e?Le:new $e(function(Ct){Ct(Le)})}(Rt.value).then(ut,hn)}mn((xe=xe.apply(Te,ge||[])).next())})}function z(Te){return this instanceof z?(this.v=Te,this):new z(Te)}function ce(Te,ge,$e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pt,xe=$e.apply(Te,ge||[]),Le=[];return pt={},Ct("next"),Ct("throw"),Ct("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function Ct(q){xe[q]&&(pt[q]=function(Q){return new Promise(function(te,De){Le.push([q,Q,te,De])>1||ut(q,Q)})})}function ut(q,Q){try{!function hn(q){q.value instanceof z?Promise.resolve(q.value.v).then(mn,Rt):Dt(Le[0][2],q)}(xe[q](Q))}catch(te){Dt(Le[0][3],te)}}function mn(q){ut("next",q)}function Rt(q){ut("throw",q)}function Dt(q,Q){q(Q),Le.shift(),Le.length&&ut(Le[0][0],Le[0][1])}}function Y(Te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,ge=Te[Symbol.asyncIterator];return ge?ge.call(Te):(Te=function P(Te){var ge="function"==typeof Symbol&&Symbol.iterator,$e=ge&&Te[ge],xe=0;if($e)return $e.call(Te);if(Te&&"number"==typeof Te.length)return{next:function(){return Te&&xe>=Te.length&&(Te=void 0),{value:Te&&Te[xe++],done:!Te}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(Te),$e={},xe("next"),xe("throw"),xe("return"),$e[Symbol.asyncIterator]=function(){return this},$e);function xe(Le){$e[Le]=Te[Le]&&function(Ct){return new Promise(function(ut,hn){!function pt(Le,Ct,ut,hn){Promise.resolve(hn).then(function(mn){Le({value:mn,done:ut})},Ct)}(ut,hn,(Ct=Te[Le](Ct)).done,Ct.value)})}}}d.d(ye,{AQ:()=>ce,Cg:()=>C,N3:()=>z,Sn:()=>B,sH:()=>U,xN:()=>Y}),"function"==typeof SuppressedError&&SuppressedError}},nt=>{nt(nt.s=3065)}]);