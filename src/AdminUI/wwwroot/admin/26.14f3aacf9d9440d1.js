"use strict";(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[26],{9026:(de,v,i)=>{i.r(v),i.d(v,{ViewProtectedResourceModule:()=>le});var p=i(177),G=i(1583),$=i(7005),n=i(1780),m=i(4304),I=i(1683),Y=i(2571),g=i(8389),O=i(5731),P=i(3843),w=i(6843),F=i(4179),V=i(7175),j=i(367),U=i(9838),e=i(4438),N=i(345),d=i(5893),S=i(6520);let X=(()=>{class s{constructor(t,o,r){this.titleService=t,this.protectedResourceService=o,this.translate=r,this.properties=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.properties=this.protectedResource.properties||[],this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.protectedResource.displayName+" "+this.translate.instant("Nav.Details")+` - ${U.$9.SITE_TITLE}`)})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(N.hE),e.rXU(d.x),e.rXU(n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-protected-resource-properties"]],decls:1,vars:3,consts:[[3,"modalId","isReadOnly","properties"]],template:function(o,r){1&o&&e.nrm(0,"app-properties-editor",0),2&o&&e.Y8G("modalId",r.protectedResource.id)("isReadOnly",!0)("properties",r.protectedResource.properties)},dependencies:[S.C],encapsulation:2})}}return s})();var C=i(1746),R=i(6303),y=i(8698),h=i(8762);const E=["ClaimsPicker"];function M(s,l){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const t=e.XpG();e.Y8G("label","Resources.AssignedClaims"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}let A=(()=>{class s{get ReadOnlyFieldType(){return R.t}constructor(t){this.protectedResourceService=t,this.displayClaims=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.displayClaims=this.protectedResource.allowedClaims.sort().map(o=>new C.w(o))})}ngOnDestroy(){this.protectedResourceSubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(d.x))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-protectedresource-claims"]],viewQuery:function(o,r){if(1&o&&e.GBs(E,7),2&o){let c;e.mGM(c=e.lsd())&&(r.claimsPicker=c.first)}},decls:5,vars:4,consts:[[1,"cms"],[3,"label",4,"ngIf"],[3,"label"],[3,"fieldType","values"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,M,2,3,"app-form-row",1)),2&o&&(e.R7$(2),e.JRh(e.bMT(3,2,"ProtectedResources.UserClaimTypes")),e.R7$(2),e.Y8G("ngIf",r.displayClaims))},dependencies:[p.bT,y.Y,h.O,n.D9],encapsulation:2})}}return s})();var B=i(1594),T=i(7921),x=i(9196);const u=s=>[s];function k(s,l){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",5),e.k0s()),2&s){const t=e.XpG();e.Y8G("label","Resources.RequireResourceIndicator")("help","Resources.RequireResourceIndicatorHelp"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(4,u,t.protectedResourceDictionary.requireResourceIndicator))}}let Q=(()=>{class s{constructor(t,o){this.protectedResourceService=t,this.configService=o,this.targetIdentityServer4=!1}ngOnInit(){this.configService.getConfig().pipe((0,B.$)()).subscribe(t=>{this.targetIdentityServer4=t.targetIdentityServer4}),this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResourceDictionary=new T.b(t)})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}get ReadOnlyFieldType(){return R.t}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(d.x),e.rXU(x.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-protectedresource-details"]],decls:11,vars:25,consts:[["id","protectedResourceDetails"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help",4,"ngIf"],[3,"label","isLast"],["id","requireResourceIndicatorInput",3,"fieldType","values"]],template:function(o,r){1&o&&(e.j41(0,"div",0)(1,"form")(2,"app-form-row",1),e.nrm(3,"app-readonly",2),e.k0s(),e.j41(4,"app-form-row",1),e.nrm(5,"app-readonly",2),e.k0s(),e.j41(6,"app-form-row",1),e.nrm(7,"app-readonly",2),e.k0s(),e.DNE(8,k,2,6,"app-form-row",3),e.j41(9,"app-form-row",4),e.nrm(10,"app-readonly",2),e.k0s()()()),2&o&&(e.R7$(2),e.Y8G("label","Resources.ResourceID")("help","Resources.UniqueIdentifier"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(17,u,r.protectedResourceDictionary.name)),e.R7$(),e.Y8G("label","Common.DisplayName")("help","Resources.ResourceName"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(19,u,r.protectedResourceDictionary.displayName)),e.R7$(),e.Y8G("label","Common.Description")("help","Resources.ResourceDescription"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(21,u,r.protectedResourceDictionary.description)),e.R7$(),e.Y8G("ngIf",!r.targetIdentityServer4),e.R7$(),e.Y8G("label","Resources.AllowedAccessTokenSigningAlgorithms")("isLast",!0),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.CommaSeparated)("values",e.eq3(23,u,r.protectedResourceDictionary.allowedAccessTokenSigningAlgorithms)))},dependencies:[p.bT,y.Y,h.O],encapsulation:2})}}return s})();var L=i(2109),z=i(9417),H=i(5794),J=i(7156),b=i(632),K=i(526),W=i(4444),f=i(3816);const Z=["tabs"],a=s=>[s];function q(s,l){if(1&s&&(e.j41(0,"app-form-row",10),e.nrm(1,"app-readonly",5),e.k0s()),2&s){const t=e.XpG();e.Y8G("label","Resources.AssignedClaims"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Multi)("values",t.displayClaims)}}let _=(()=>{class s{set scope(t){this._scope=t||new b.H}get scope(){return this._scope}constructor(t,o,r){this.claimsService=t,this.translate=o,this.scopesClaimService=r,this._scope=new b.H,this.displayClaims=[],this.properties=[]}ngOnInit(){this.scopesClaimService.cachedClaimTypes$.subscribe(t=>{const o=this.findAssignedClaims(t);this.displayClaims=o.map(r=>new C.w(r.name))}),this.scopeDictionary=new T.b(this.scope),this.properties=this.scope.properties}findAssignedClaims(t){const o=[];return this.scope.userClaims.forEach(r=>{t.forEach(c=>{c.name===r&&o.push(c)})}),o}get ReadOnlyFieldType(){return R.t}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(K.X),e.rXU(n.c$),e.rXU(W.N))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-api-scope"]],viewQuery:function(o,r){if(1&o&&e.GBs(Z,7),2&o){let c;e.mGM(c=e.lsd())&&(r.tabsComponent=c.first)}},inputs:{scope:"scope"},decls:27,vars:49,consts:[["tabs",""],[3,"heading"],["id","readOnlyBlock"],[1,"tw-pt-5"],[3,"label","help"],[3,"fieldType","values"],[3,"label","help","isLast"],[1,"cms","tw-pt-5"],[3,"label",4,"ngIf"],[3,"modalId","isReadOnly","properties"],[3,"label"]],template:function(o,r){1&o&&(e.j41(0,"tabset",null,0)(2,"tab",1),e.nI1(3,"translate"),e.j41(4,"div",2)(5,"form",3)(6,"app-form-row",4),e.nrm(7,"app-readonly",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"app-readonly",5),e.k0s(),e.j41(10,"app-form-row",4),e.nrm(11,"app-readonly",5),e.k0s(),e.j41(12,"app-form-row",4),e.nrm(13,"app-readonly",5),e.k0s(),e.j41(14,"app-form-row",4),e.nrm(15,"app-readonly",5),e.k0s(),e.j41(16,"app-form-row",6),e.nrm(17,"app-readonly",5),e.k0s()()()(),e.j41(18,"tab",1)(19,"div",7)(20,"p"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.DNE(23,q,2,3,"app-form-row",8),e.k0s(),e.j41(24,"tab",1),e.nrm(25,"div",3)(26,"app-properties-editor",9),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("heading",e.bMT(3,33,"Nav.Details")),e.R7$(4),e.Y8G("label","Resources.Scope.ScopeID")("help","IdentityResources.IDHelp"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(37,a,r.scopeDictionary.name)),e.R7$(),e.Y8G("label","Resources.Scope.DisplayName")("help","Resources.Scope.DisplayName"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(39,a,r.scopeDictionary.displayName)),e.R7$(),e.Y8G("label","Common.Description")("help","Resources.Scope.Description"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(41,a,r.scopeDictionary.description)),e.R7$(),e.Y8G("label","Common.Required")("help","Resources.Scope.Consent"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(43,a,r.scopeDictionary.required)),e.R7$(),e.Y8G("label","IdentityResources.ShowInDiscoveryDocument")("help","Resources.Scope.DiscoveryDocumentDescription"),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(45,a,r.scopeDictionary.showInDiscoveryDocument)),e.R7$(),e.Y8G("label","Common.Emphasize")("help","Resources.Scope.EmphasiseScope")("isLast",!0),e.R7$(),e.Y8G("fieldType",r.ReadOnlyFieldType.Single)("values",e.eq3(47,a,r.scopeDictionary.emphasize)),e.R7$(),e.Y8G("heading","Claims"),e.R7$(3),e.JRh(e.bMT(22,35,"Resources.Scope.UserClaimTypes")),e.R7$(2),e.Y8G("ngIf",r.displayClaims),e.R7$(),e.Y8G("heading","Properties"),e.R7$(2),e.Y8G("modalId",r.scope.id)("isReadOnly",!0)("properties",r.scope.properties))},dependencies:[p.bT,f.V6,f.fw,y.Y,S.C,h.O,n.D9],encapsulation:2,changeDetection:0})}}return s})();function ee(s,l){1&s&&(e.j41(0,"div",5),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.DisplayName")," "))}function te(s,l){if(1&s){const t=e.RV6();e.j41(0,"accordion-group",null,0)(2,"button",6)(3,"b",7),e.EFF(4),e.k0s(),e.j41(5,"div",8),e.nrm(6,"span",9),e.k0s()(),e.j41(7,"div")(8,"app-view-api-scope",10),e.bIt("delete",function(r){e.eBV(t);const c=e.XpG();return e.Njj(c.deleteScopeConfirm(r))})("submit",function(r){e.eBV(t);const c=e.XpG();return e.Njj(c.submitScopeClaims(r))}),e.k0s()()()}if(2&s){const t=l.$implicit;e.R7$(4),e.JRh(t.displayName),e.R7$(4),e.Y8G("scope",t)}}function se(s,l){if(1&s&&e.nrm(0,"app-pager",11),2&s){const t=e.XpG();e.Y8G("totalResults",null==t.protectedResource.scopes?null:t.protectedResource.scopes.length)}}let oe=(()=>{class s{constructor(t,o,r,c){this.protectedResourceService=t,this.fb=o,this.toastr=r,this.translate=c}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(d.x),e.rXU(z.ze),e.rXU(H.tw),e.rXU(n.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-protectedresource-scopes"]],features:[e.Jv_([{provide:m.P0,useFactory:L.r}])],decls:5,vars:3,consts:[["group",""],["id","protectedScopes"],["class","tw-font-semibold tw-text-grey-800 tw-text-xs tw-leading-normal tw-p-3 tw-pt-0","aria-hidden","true",4,"ngIf"],[4,"ngFor","ngForOf"],["hidePager","true",3,"totalResults",4,"ngIf"],["aria-hidden","true",1,"tw-font-semibold","tw-text-grey-800","tw-text-xs","tw-leading-normal","tw-p-3","tw-pt-0"],["accordion-heading","",1,"tw-flex","tw-items-center","tw-bg-white","tw-text-xs","tw-leading-normal","tw-p-3","tw-w-full","group","hover:tw-bg-blue-100","tw-transition-all","tw-ease-in-out"],[1,"tw-text-blue-500","tw-truncate"],["aria-hidden","true",1,"tw-flex-shink-0","tw-btn-link","tw-btn-small","tw-ml-auto","group-hover:tw-text-blue-500"],[1,"fad","fa-pencil"],[3,"delete","submit","scope"],["hidePager","true",3,"totalResults"]],template:function(o,r){1&o&&(e.j41(0,"div",1),e.DNE(1,ee,3,3,"div",2),e.j41(2,"accordion"),e.DNE(3,te,9,2,"accordion-group",3),e.k0s(),e.DNE(4,se,1,1,"app-pager",4),e.k0s()),2&o&&(e.R7$(),e.Y8G("ngIf",r.protectedResource.scopes.length>0),e.R7$(2),e.Y8G("ngForOf",r.protectedResource.scopes),e.R7$(),e.Y8G("ngIf",(null==r.protectedResource.scopes?null:r.protectedResource.scopes.length)>0))},dependencies:[p.Sq,p.bT,J.B,m.Mj,m.kt,_,n.D9],encapsulation:2})}}return s})();var re=i(9764);const ie=["SecretPicker"];let ce=(()=>{class s{constructor(t){this.protectedResourceService=t,this.resourceSecrets=[]}ngOnInit(){this.protectedResourceSubscription=this.protectedResourceService.getCachedProtectedResource().subscribe(t=>{this.protectedResource=t,this.resourceSecrets=this.protectedResource.secrets})}ngOnDestroy(){this.protectedResourceSubscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||s)(e.rXU(d.x))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-protectedresource-secrets"]],viewQuery:function(o,r){if(1&o&&e.GBs(ie,7),2&o){let c;e.mGM(c=e.lsd())&&(r.secretPicker=c.first)}},decls:2,vars:3,consts:[["SecretPicker",""],[3,"isReadOnly","clientSecrets","nonModelCertPicker"]],template:function(o,r){1&o&&e.nrm(0,"app-secret-picker",1,0),2&o&&e.Y8G("isReadOnly",!0)("clientSecrets",r.protectedResource.secrets)("nonModelCertPicker",!1)},dependencies:[re.s],encapsulation:2})}}return s})();var D=i(7677),ne=i(534);let pe=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[p.MD,f.jr,n.h,ne.Ss,g.w,w.l,D.N]})}}return s})();const ae=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Q},{path:"secrets",component:ce},{path:"scopes",component:oe},{path:"claims",component:A},{path:"properties",component:X}];let le=(()=>{class s{static{this.\u0275fac=function(o){return new(o||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[p.MD,n.h.forChild({extend:!0}),G.iI.forChild(ae),I.Y,j.m,O.i,$.XE,g.w,Y.A,V.c,w.l,P.G,F.z,m.h6,D.N,pe]})}}return s})()}}]);